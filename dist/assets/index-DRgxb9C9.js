(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function my(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Bm={exports:{}},Ic={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0;function TC(){if(i0)return Ic;i0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:u,ref:a!==void 0?a:null,props:l}}return Ic.Fragment=e,Ic.jsx=n,Ic.jsxs=n,Ic}var s0;function AC(){return s0||(s0=1,Bm.exports=TC()),Bm.exports}var b=AC(),zm={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0;function wC(){if(a0)return Ne;a0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),E=Symbol.iterator;function w(k){return k===null||typeof k!="object"?null:(k=E&&k[E]||k["@@iterator"],typeof k=="function"?k:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,N={};function G(k,Z,le){this.props=k,this.context=Z,this.refs=N,this.updater=le||x}G.prototype.isReactComponent={},G.prototype.setState=function(k,Z){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Z,"setState")},G.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function B(){}B.prototype=G.prototype;function F(k,Z,le){this.props=k,this.context=Z,this.refs=N,this.updater=le||x}var Q=F.prototype=new B;Q.constructor=F,L(Q,G.prototype),Q.isPureReactComponent=!0;var se=Array.isArray;function ae(){}var C={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function D(k,Z,le){var pe=le.ref;return{$$typeof:t,type:k,key:Z,ref:pe!==void 0?pe:null,props:le}}function U(k,Z){return D(k.type,Z,k.props)}function M(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function j(k){var Z={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(le){return Z[le]})}var O=/\/+/g;function Pe(k,Z){return typeof k=="object"&&k!==null&&k.key!=null?j(""+k.key):Z.toString(36)}function Ve(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(ae,ae):(k.status="pending",k.then(function(Z){k.status==="pending"&&(k.status="fulfilled",k.value=Z)},function(Z){k.status==="pending"&&(k.status="rejected",k.reason=Z)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function q(k,Z,le,pe,Te){var we=typeof k;(we==="undefined"||we==="boolean")&&(k=null);var Le=!1;if(k===null)Le=!0;else switch(we){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(k.$$typeof){case t:case e:Le=!0;break;case y:return Le=k._init,q(Le(k._payload),Z,le,pe,Te)}}if(Le)return Te=Te(k),Le=pe===""?"."+Pe(k,0):pe,se(Te)?(le="",Le!=null&&(le=Le.replace(O,"$&/")+"/"),q(Te,Z,le,"",function(yn){return yn})):Te!=null&&(M(Te)&&(Te=U(Te,le+(Te.key==null||k&&k.key===Te.key?"":(""+Te.key).replace(O,"$&/")+"/")+Le)),Z.push(Te)),1;Le=0;var ht=pe===""?".":pe+":";if(se(k))for(var We=0;We<k.length;We++)pe=k[We],we=ht+Pe(pe,We),Le+=q(pe,Z,le,we,Te);else if(We=w(k),typeof We=="function")for(k=We.call(k),We=0;!(pe=k.next()).done;)pe=pe.value,we=ht+Pe(pe,We++),Le+=q(pe,Z,le,we,Te);else if(we==="object"){if(typeof k.then=="function")return q(Ve(k),Z,le,pe,Te);throw Z=String(k),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Le}function ce(k,Z,le){if(k==null)return k;var pe=[],Te=0;return q(k,pe,"","",function(we){return Z.call(le,we,Te++)}),pe}function ge(k){if(k._status===-1){var Z=k._result;Z=Z(),Z.then(function(le){(k._status===0||k._status===-1)&&(k._status=1,k._result=le)},function(le){(k._status===0||k._status===-1)&&(k._status=2,k._result=le)}),k._status===-1&&(k._status=0,k._result=Z)}if(k._status===1)return k._result.default;throw k._result}var xe=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},oe={map:ce,forEach:function(k,Z,le){ce(k,function(){Z.apply(this,arguments)},le)},count:function(k){var Z=0;return ce(k,function(){Z++}),Z},toArray:function(k){return ce(k,function(Z){return Z})||[]},only:function(k){if(!M(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Ne.Activity=_,Ne.Children=oe,Ne.Component=G,Ne.Fragment=n,Ne.Profiler=a,Ne.PureComponent=F,Ne.StrictMode=i,Ne.Suspense=p,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(k){return C.H.useMemoCache(k)}},Ne.cache=function(k){return function(){return k.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(k,Z,le){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var pe=L({},k.props),Te=k.key;if(Z!=null)for(we in Z.key!==void 0&&(Te=""+Z.key),Z)!R.call(Z,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&Z.ref===void 0||(pe[we]=Z[we]);var we=arguments.length-2;if(we===1)pe.children=le;else if(1<we){for(var Le=Array(we),ht=0;ht<we;ht++)Le[ht]=arguments[ht+2];pe.children=Le}return D(k.type,Te,pe)},Ne.createContext=function(k){return k={$$typeof:u,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:l,_context:k},k},Ne.createElement=function(k,Z,le){var pe,Te={},we=null;if(Z!=null)for(pe in Z.key!==void 0&&(we=""+Z.key),Z)R.call(Z,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(Te[pe]=Z[pe]);var Le=arguments.length-2;if(Le===1)Te.children=le;else if(1<Le){for(var ht=Array(Le),We=0;We<Le;We++)ht[We]=arguments[We+2];Te.children=ht}if(k&&k.defaultProps)for(pe in Le=k.defaultProps,Le)Te[pe]===void 0&&(Te[pe]=Le[pe]);return D(k,we,Te)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(k){return{$$typeof:f,render:k}},Ne.isValidElement=M,Ne.lazy=function(k){return{$$typeof:y,_payload:{_status:-1,_result:k},_init:ge}},Ne.memo=function(k,Z){return{$$typeof:m,type:k,compare:Z===void 0?null:Z}},Ne.startTransition=function(k){var Z=C.T,le={};C.T=le;try{var pe=k(),Te=C.S;Te!==null&&Te(le,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(ae,xe)}catch(we){xe(we)}finally{Z!==null&&le.types!==null&&(Z.types=le.types),C.T=Z}},Ne.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ne.use=function(k){return C.H.use(k)},Ne.useActionState=function(k,Z,le){return C.H.useActionState(k,Z,le)},Ne.useCallback=function(k,Z){return C.H.useCallback(k,Z)},Ne.useContext=function(k){return C.H.useContext(k)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(k,Z){return C.H.useDeferredValue(k,Z)},Ne.useEffect=function(k,Z){return C.H.useEffect(k,Z)},Ne.useEffectEvent=function(k){return C.H.useEffectEvent(k)},Ne.useId=function(){return C.H.useId()},Ne.useImperativeHandle=function(k,Z,le){return C.H.useImperativeHandle(k,Z,le)},Ne.useInsertionEffect=function(k,Z){return C.H.useInsertionEffect(k,Z)},Ne.useLayoutEffect=function(k,Z){return C.H.useLayoutEffect(k,Z)},Ne.useMemo=function(k,Z){return C.H.useMemo(k,Z)},Ne.useOptimistic=function(k,Z){return C.H.useOptimistic(k,Z)},Ne.useReducer=function(k,Z,le){return C.H.useReducer(k,Z,le)},Ne.useRef=function(k){return C.H.useRef(k)},Ne.useState=function(k){return C.H.useState(k)},Ne.useSyncExternalStore=function(k,Z,le){return C.H.useSyncExternalStore(k,Z,le)},Ne.useTransition=function(){return C.H.useTransition()},Ne.version="19.2.3",Ne}var o0;function rh(){return o0||(o0=1,zm.exports=wC()),zm.exports}var $=rh();const ct=my($);var Fm={exports:{}},xc={},Gm={exports:{}},Hm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0;function SC(){return l0||(l0=1,(function(t){function e(q,ce){var ge=q.length;q.push(ce);e:for(;0<ge;){var xe=ge-1>>>1,oe=q[xe];if(0<a(oe,ce))q[xe]=ce,q[ge]=oe,ge=xe;else break e}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var ce=q[0],ge=q.pop();if(ge!==ce){q[0]=ge;e:for(var xe=0,oe=q.length,k=oe>>>1;xe<k;){var Z=2*(xe+1)-1,le=q[Z],pe=Z+1,Te=q[pe];if(0>a(le,ge))pe<oe&&0>a(Te,le)?(q[xe]=Te,q[pe]=ge,xe=pe):(q[xe]=le,q[Z]=ge,xe=Z);else if(pe<oe&&0>a(Te,ge))q[xe]=Te,q[pe]=ge,xe=pe;else break e}}return ce}function a(q,ce){var ge=q.sortIndex-ce.sortIndex;return ge!==0?ge:q.id-ce.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var p=[],m=[],y=1,_=null,E=3,w=!1,x=!1,L=!1,N=!1,G=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function Q(q){for(var ce=n(m);ce!==null;){if(ce.callback===null)i(m);else if(ce.startTime<=q)i(m),ce.sortIndex=ce.expirationTime,e(p,ce);else break;ce=n(m)}}function se(q){if(L=!1,Q(q),!x)if(n(p)!==null)x=!0,ae||(ae=!0,j());else{var ce=n(m);ce!==null&&Ve(se,ce.startTime-q)}}var ae=!1,C=-1,R=5,D=-1;function U(){return N?!0:!(t.unstable_now()-D<R)}function M(){if(N=!1,ae){var q=t.unstable_now();D=q;var ce=!0;try{e:{x=!1,L&&(L=!1,B(C),C=-1),w=!0;var ge=E;try{t:{for(Q(q),_=n(p);_!==null&&!(_.expirationTime>q&&U());){var xe=_.callback;if(typeof xe=="function"){_.callback=null,E=_.priorityLevel;var oe=xe(_.expirationTime<=q);if(q=t.unstable_now(),typeof oe=="function"){_.callback=oe,Q(q),ce=!0;break t}_===n(p)&&i(p),Q(q)}else i(p);_=n(p)}if(_!==null)ce=!0;else{var k=n(m);k!==null&&Ve(se,k.startTime-q),ce=!1}}break e}finally{_=null,E=ge,w=!1}ce=void 0}}finally{ce?j():ae=!1}}}var j;if(typeof F=="function")j=function(){F(M)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,Pe=O.port2;O.port1.onmessage=M,j=function(){Pe.postMessage(null)}}else j=function(){G(M,0)};function Ve(q,ce){C=G(function(){q(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(q){switch(E){case 1:case 2:case 3:var ce=3;break;default:ce=E}var ge=E;E=ce;try{return q()}finally{E=ge}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(q,ce){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ge=E;E=q;try{return ce()}finally{E=ge}},t.unstable_scheduleCallback=function(q,ce,ge){var xe=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?xe+ge:xe):ge=xe,q){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=ge+oe,q={id:y++,callback:ce,priorityLevel:q,startTime:ge,expirationTime:oe,sortIndex:-1},ge>xe?(q.sortIndex=ge,e(m,q),n(p)===null&&q===n(m)&&(L?(B(C),C=-1):L=!0,Ve(se,ge-xe))):(q.sortIndex=oe,e(p,q),x||w||(x=!0,ae||(ae=!0,j()))),q},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(q){var ce=E;return function(){var ge=E;E=ce;try{return q.apply(this,arguments)}finally{E=ge}}}})(Hm)),Hm}var c0;function IC(){return c0||(c0=1,Gm.exports=SC()),Gm.exports}var qm={exports:{}},fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function xC(){if(u0)return fn;u0=1;var t=rh();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,m,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:p,containerInfo:m,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,fn.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(p,m,null,y)},fn.flushSync=function(p){var m=u.T,y=i.p;try{if(u.T=null,i.p=2,p)return p()}finally{u.T=m,i.p=y,i.d.f()}},fn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},fn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},fn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,_=f(y,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:w}):y==="script"&&i.d.X(p,{crossOrigin:_,integrity:E,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},fn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=f(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},fn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,_=f(y,m.crossOrigin);i.d.L(p,y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},fn.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=f(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},fn.requestFormReset=function(p){i.d.r(p)},fn.unstable_batchedUpdates=function(p,m){return p(m)},fn.useFormState=function(p,m,y){return u.H.useFormState(p,m,y)},fn.useFormStatus=function(){return u.H.useHostTransitionStatus()},fn.version="19.2.3",fn}var d0;function eS(){if(d0)return qm.exports;d0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),qm.exports=xC(),qm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function RC(){if(f0)return xc;f0=1;var t=IC(),e=rh(),n=eS();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function p(r){if(l(r)!==r)throw Error(i(188))}function m(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,c=s;;){var h=o.return;if(h===null)break;var g=h.alternate;if(g===null){if(c=h.return,c!==null){o=c;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===o)return p(h),r;if(g===c)return p(h),s;g=g.sibling}throw Error(i(188))}if(o.return!==c.return)o=h,c=g;else{for(var T=!1,S=h.child;S;){if(S===o){T=!0,o=h,c=g;break}if(S===c){T=!0,c=h,o=g;break}S=S.sibling}if(!T){for(S=g.child;S;){if(S===o){T=!0,o=g,c=h;break}if(S===c){T=!0,c=g,o=h;break}S=S.sibling}if(!T)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function y(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=y(r),s!==null)return s;r=r.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),F=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function j(r){return r===null||typeof r!="object"?null:(r=M&&r[M]||r["@@iterator"],typeof r=="function"?r:null)}var O=Symbol.for("react.client.reference");function Pe(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===O?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case L:return"Fragment";case G:return"Profiler";case N:return"StrictMode";case se:return"Suspense";case ae:return"SuspenseList";case D:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case x:return"Portal";case F:return r.displayName||"Context";case B:return(r._context.displayName||"Context")+".Consumer";case Q:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case C:return s=r.displayName||null,s!==null?s:Pe(r.type)||"Memo";case R:s=r._payload,r=r._init;try{return Pe(r(s))}catch{}}return null}var Ve=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},xe=[],oe=-1;function k(r){return{current:r}}function Z(r){0>oe||(r.current=xe[oe],xe[oe]=null,oe--)}function le(r,s){oe++,xe[oe]=r.current,r.current=s}var pe=k(null),Te=k(null),we=k(null),Le=k(null);function ht(r,s){switch(le(we,s),le(Te,r),le(pe,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?xE(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=xE(s),r=RE(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Z(pe),le(pe,r)}function We(){Z(pe),Z(Te),Z(we)}function yn(r){r.memoizedState!==null&&le(Le,r);var s=pe.current,o=RE(s,r.type);s!==o&&(le(Te,r),le(pe,o))}function Un(r){Te.current===r&&(Z(pe),Z(Te)),Le.current===r&&(Z(Le),Tc._currentValue=ge)}var bt,qt;function er(r){if(bt===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);bt=s&&s[1]||"",qt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bt+r+qt}var Zs=!1;function Er(r,s){if(!r||Zs)return"";Zs=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(J){var W=J}Reflect.construct(r,[],re)}else{try{re.call()}catch(J){W=J}r.call(re.prototype)}}else{try{throw Error()}catch(J){W=J}(re=r())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(J){if(J&&W&&typeof J.stack=="string")return[J.stack,W.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],S=g[1];if(T&&S){var P=T.split(`
`),K=S.split(`
`);for(h=c=0;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;for(;h<K.length&&!K[h].includes("DetermineComponentFrameRoot");)h++;if(c===P.length||h===K.length)for(c=P.length-1,h=K.length-1;1<=c&&0<=h&&P[c]!==K[h];)h--;for(;1<=c&&0<=h;c--,h--)if(P[c]!==K[h]){if(c!==1||h!==1)do if(c--,h--,0>h||P[c]!==K[h]){var ee=`
`+P[c].replace(" at new "," at ");return r.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",r.displayName)),ee}while(1<=c&&0<=h);break}}}finally{Zs=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?er(o):""}function Tr(r,s){switch(r.tag){case 26:case 27:case 5:return er(r.type);case 16:return er("Lazy");case 13:return r.child!==s&&s!==null?er("Suspense Fallback"):er("Suspense");case 19:return er("SuspenseList");case 0:case 15:return Er(r.type,!1);case 11:return Er(r.type.render,!1);case 1:return Er(r.type,!0);case 31:return er("Activity");default:return""}}function $i(r){try{var s="",o=null;do s+=Tr(r,o),o=r,r=r.return;while(r);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var vt=Object.prototype.hasOwnProperty,ut=t.unstable_scheduleCallback,Ar=t.unstable_cancelCallback,Qa=t.unstable_shouldYield,Xa=t.unstable_requestPaint,$t=t.unstable_now,Gr=t.unstable_getCurrentPriorityLevel,Wi=t.unstable_ImmediatePriority,ea=t.unstable_UserBlockingPriority,tr=t.unstable_NormalPriority,Ja=t.unstable_LowPriority,ta=t.unstable_IdlePriority,fe=t.log,gt=t.unstable_setDisableYieldValue,xt=null,Rt=null;function nr(r){if(typeof fe=="function"&&gt(r),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(xt,r)}catch{}}var Nt=Math.clz32?Math.clz32:xu,Iu=Math.log,Za=Math.LN2;function xu(r){return r>>>=0,r===0?32:31-(Iu(r)/Za|0)|0}var Hr=256,na=262144,Lt=4194304;function qr(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Yr(r,s,o){var c=r.pendingLanes;if(c===0)return 0;var h=0,g=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var S=c&134217727;return S!==0?(c=S&~g,c!==0?h=qr(c):(T&=S,T!==0?h=qr(T):o||(o=S&~r,o!==0&&(h=qr(o))))):(S=c&~g,S!==0?h=qr(S):T!==0?h=qr(T):o||(o=c&~r,o!==0&&(h=qr(o)))),h===0?0:s!==0&&s!==h&&(s&g)===0&&(g=h&-h,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:h}function wr(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Hh(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ru(){var r=Lt;return Lt<<=1,(Lt&62914560)===0&&(Lt=4194304),r}function Kr(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function ra(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function qh(r,s,o,c,h,g){var T=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var S=r.entanglements,P=r.expirationTimes,K=r.hiddenUpdates;for(o=T&~o;0<o;){var ee=31-Nt(o),re=1<<ee;S[ee]=0,P[ee]=-1;var W=K[ee];if(W!==null)for(K[ee]=null,ee=0;ee<W.length;ee++){var J=W[ee];J!==null&&(J.lane&=-536870913)}o&=~re}c!==0&&ia(r,c,0),g!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=g&~(T&~s))}function ia(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-Nt(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|o&261930}function xl(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-Nt(o),h=1<<c;h&s|r[c]&s&&(r[c]|=s),o&=~h}}function Rl(r,s){var o=s&-s;return o=(o&42)!==0?1:sa(o),(o&(r.suspendedLanes|s))!==0?0:o}function sa(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ei(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Nu(){var r=ce.p;return r!==0?r:(r=window.event,r===void 0?32:XE(r.type))}function Sr(r,s){var o=ce.p;try{return ce.p=r,s()}finally{ce.p=o}}var Ir=Math.random().toString(36).slice(2),Pt="__reactFiber$"+Ir,Wt="__reactProps$"+Ir,$r="__reactContainer$"+Ir,eo="__reactEvents$"+Ir,Yh="__reactListeners$"+Ir,Cu="__reactHandles$"+Ir,Du="__reactResources$"+Ir,Wr="__reactMarker$"+Ir;function to(r){delete r[Pt],delete r[Wt],delete r[eo],delete r[Yh],delete r[Cu]}function Qr(r){var s=r[Pt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[$r]||o[Pt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=PE(r);r!==null;){if(o=r[Pt])return o;r=PE(r)}return s}r=o,o=r.parentNode}return null}function rr(r){if(r=r[Pt]||r[$r]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function Vn(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Xr(r){var s=r[Du];return s||(s=r[Du]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function kt(r){r[Wr]=!0}var Nl=new Set,Cl={};function Jr(r,s){Zr(r,s),Zr(r+"Capture",s)}function Zr(r,s){for(Cl[r]=s,r=0;r<s.length;r++)Nl.add(s[r])}var Dl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ol={},Ml={};function Ou(r){return vt.call(Ml,r)?!0:vt.call(Ol,r)?!1:Dl.test(r)?Ml[r]=!0:(Ol[r]=!0,!1)}function no(r,s,o){if(Ou(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function jn(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Ut(r,s,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+c)}}function Qt(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Qi(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ll(r,s,o){var c=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var h=c.get,g=c.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(r,s,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function tt(r){if(!r._valueTracker){var s=Qi(r)?"checked":"value";r._valueTracker=Ll(r,s,""+r[s])}}function aa(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=Qi(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function ei(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var oa=/[\n"\\]/g;function xn(r){return r.replace(oa,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ro(r,s,o,c,h,g,T,S){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),s!=null?T==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Qt(s)):r.value!==""+Qt(s)&&(r.value=""+Qt(s)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),s!=null?Pl(r,T,Qt(s)):o!=null?Pl(r,T,Qt(o)):c!=null&&r.removeAttribute("value"),h==null&&g!=null&&(r.defaultChecked=!!g),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+Qt(S):r.removeAttribute("name")}function Mu(r,s,o,c,h,g,T,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){tt(r);return}o=o!=null?""+Qt(o):"",s=s!=null?""+Qt(s):o,S||s===r.value||(r.value=s),r.defaultValue=s}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=S?r.checked:!!c,r.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T),tt(r)}function Pl(r,s,o){s==="number"&&ei(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Xi(r,s,o,c){if(r=r.options,s){s={};for(var h=0;h<o.length;h++)s["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=s.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&c&&(r[o].defaultSelected=!0)}else{for(o=""+Qt(o),s=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,c&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function Lu(r,s,o){if(s!=null&&(s=""+Qt(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+Qt(o):""}function Ji(r,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(i(92));if(Ve(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=Qt(s),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c),tt(r)}function Rn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var Pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kl(r,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,o):typeof o!="number"||o===0||Pu.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Ul(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var h in s)c=s[h],s.hasOwnProperty(h)&&o[h]!==c&&kl(r,h,c)}else for(var g in s)s.hasOwnProperty(g)&&kl(r,g,s[g])}function io(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ku=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function so(r){return Zi.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function xr(){}var Vl=null;function ir(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var es=null,ti=null;function la(r){var s=rr(r);if(s&&(r=s.stateNode)){var o=r[Wt]||null;e:switch(r=s.stateNode,s.type){case"input":if(ro(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+xn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var h=c[Wt]||null;if(!h)throw Error(i(90));ro(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===r.form&&aa(c)}break e;case"textarea":Lu(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Xi(r,!!o.multiple,s,!1)}}}var ao=!1;function ts(r,s,o){if(ao)return r(s,o);ao=!0;try{var c=r(s);return c}finally{if(ao=!1,(es!==null||ti!==null)&&(Nd(),es&&(s=es,r=ti,ti=es=null,la(s),r)))for(s=0;s<r.length;s++)la(r[s])}}function Rr(r,s){var o=r.stateNode;if(o===null)return null;var c=o[Wt]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ca=!1;if(sr)try{var it={};Object.defineProperty(it,"passive",{get:function(){ca=!0}}),window.addEventListener("test",it,it),window.removeEventListener("test",it,it)}catch{ca=!1}var ni=null,jl=null,ua=null;function Bl(){if(ua)return ua;var r,s=jl,o=s.length,c,h="value"in ni?ni.value:ni.textContent,g=h.length;for(r=0;r<o&&s[r]===h[r];r++);var T=o-r;for(c=1;c<=T&&s[o-c]===h[g-c];c++);return ua=h.slice(r,1<c?1-c:void 0)}function da(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Ti(){return!0}function Nr(){return!1}function rn(r){function s(o,c,h,g,T){this._reactName=o,this._targetInst=h,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(o=r[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ti:Nr,this.isPropagationStopped=Nr,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ti)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ti)},persist:function(){},isPersistent:Ti}),s}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ri=rn(Ai),ns=_({},Ai,{view:0,detail:0}),zl=rn(ns),rs,oo,ii,lo=_({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:is,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ii&&(ii&&r.type==="mousemove"?(rs=r.screenX-ii.screenX,oo=r.screenY-ii.screenY):oo=rs=0,ii=r),rs)},movementY:function(r){return"movementY"in r?r.movementY:oo}}),Fl=rn(lo),fa=_({},lo,{dataTransfer:0}),Uu=rn(fa),Vu=_({},ns,{relatedTarget:0}),ha=rn(Vu),Gl=_({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),ju=rn(Gl),co=_({},Ai,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Bu=rn(co),zu=_({},Ai,{data:0}),si=rn(zu),Fu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Hu[r])?!!s[r]:!1}function is(){return qu}var _n=_({},ns,{key:function(r){if(r.key){var s=Fu[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=da(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Gu[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:is,charCode:function(r){return r.type==="keypress"?da(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?da(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Yu=rn(_n),Ku=_({},lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wi=rn(Ku),d=_({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:is}),v=rn(d),A=_({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=rn(A),H=_({},lo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),X=rn(H),de=_({},Ai,{newState:0,oldState:0}),De=rn(de),Ct=[9,13,27,32],Qe=sr&&"CompositionEvent"in window,yt=null;sr&&"documentMode"in document&&(yt=document.documentMode);var ar=sr&&"TextEvent"in window&&!yt,ai=sr&&(!Qe||yt&&8<yt&&11>=yt),Cr=" ",Dr=!1;function pa(r,s){switch(r){case"keyup":return Ct.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uo(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var fo=!1;function YN(r,s){switch(r){case"compositionend":return uo(s);case"keypress":return s.which!==32?null:(Dr=!0,Cr);case"textInput":return r=s.data,r===Cr&&Dr?null:r;default:return null}}function KN(r,s){if(fo)return r==="compositionend"||!Qe&&pa(r,s)?(r=Bl(),ua=jl=ni=null,fo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ai&&s.locale!=="ko"?null:s.data;default:return null}}var $N={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function V_(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!$N[r.type]:s==="textarea"}function j_(r,s,o,c){es?ti?ti.push(c):ti=[c]:es=c,s=kd(s,"onChange"),0<s.length&&(o=new ri("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var Hl=null,ql=null;function WN(r){EE(r,0)}function $u(r){var s=Vn(r);if(aa(s))return r}function B_(r,s){if(r==="change")return s}var z_=!1;if(sr){var Kh;if(sr){var $h="oninput"in document;if(!$h){var F_=document.createElement("div");F_.setAttribute("oninput","return;"),$h=typeof F_.oninput=="function"}Kh=$h}else Kh=!1;z_=Kh&&(!document.documentMode||9<document.documentMode)}function G_(){Hl&&(Hl.detachEvent("onpropertychange",H_),ql=Hl=null)}function H_(r){if(r.propertyName==="value"&&$u(ql)){var s=[];j_(s,ql,r,ir(r)),ts(WN,s)}}function QN(r,s,o){r==="focusin"?(G_(),Hl=s,ql=o,Hl.attachEvent("onpropertychange",H_)):r==="focusout"&&G_()}function XN(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return $u(ql)}function JN(r,s){if(r==="click")return $u(s)}function ZN(r,s){if(r==="input"||r==="change")return $u(s)}function e1(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Bn=typeof Object.is=="function"?Object.is:e1;function Yl(r,s){if(Bn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var h=o[c];if(!vt.call(s,h)||!Bn(r[h],s[h]))return!1}return!0}function q_(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Y_(r,s){var o=q_(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=q_(o)}}function K_(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?K_(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function $_(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=ei(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=ei(r.document)}return s}function Wh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var t1=sr&&"documentMode"in document&&11>=document.documentMode,ho=null,Qh=null,Kl=null,Xh=!1;function W_(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Xh||ho==null||ho!==ei(c)||(c=ho,"selectionStart"in c&&Wh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Kl&&Yl(Kl,c)||(Kl=c,c=kd(Qh,"onSelect"),0<c.length&&(s=new ri("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=ho)))}function ma(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var po={animationend:ma("Animation","AnimationEnd"),animationiteration:ma("Animation","AnimationIteration"),animationstart:ma("Animation","AnimationStart"),transitionrun:ma("Transition","TransitionRun"),transitionstart:ma("Transition","TransitionStart"),transitioncancel:ma("Transition","TransitionCancel"),transitionend:ma("Transition","TransitionEnd")},Jh={},Q_={};sr&&(Q_=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function ga(r){if(Jh[r])return Jh[r];if(!po[r])return r;var s=po[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in Q_)return Jh[r]=s[o];return r}var X_=ga("animationend"),J_=ga("animationiteration"),Z_=ga("animationstart"),n1=ga("transitionrun"),r1=ga("transitionstart"),i1=ga("transitioncancel"),eb=ga("transitionend"),tb=new Map,Zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zh.push("scrollEnd");function Or(r,s){tb.set(r,s),Jr(s,[r])}var Wu=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},or=[],mo=0,ep=0;function Qu(){for(var r=mo,s=ep=mo=0;s<r;){var o=or[s];or[s++]=null;var c=or[s];or[s++]=null;var h=or[s];or[s++]=null;var g=or[s];if(or[s++]=null,c!==null&&h!==null){var T=c.pending;T===null?h.next=h:(h.next=T.next,T.next=h),c.pending=h}g!==0&&nb(o,h,g)}}function Xu(r,s,o,c){or[mo++]=r,or[mo++]=s,or[mo++]=o,or[mo++]=c,ep|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function tp(r,s,o,c){return Xu(r,s,o,c),Ju(r)}function ya(r,s){return Xu(r,null,null,s),Ju(r)}function nb(r,s,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var h=!1,g=r.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(h=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,h&&s!==null&&(h=31-Nt(o),r=g.hiddenUpdates,c=r[h],c===null?r[h]=[s]:c.push(s),s.lane=o|536870912),g):null}function Ju(r){if(50<mc)throw mc=0,um=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var go={};function s1(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(r,s,o,c){return new s1(r,s,o,c)}function np(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Si(r,s){var o=r.alternate;return o===null?(o=zn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function rb(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Zu(r,s,o,c,h,g){var T=0;if(c=r,typeof r=="function")np(r)&&(T=1);else if(typeof r=="string")T=uC(r,o,pe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case D:return r=zn(31,o,s,h),r.elementType=D,r.lanes=g,r;case L:return _a(o.children,h,g,s);case N:T=8,h|=24;break;case G:return r=zn(12,o,s,h|2),r.elementType=G,r.lanes=g,r;case se:return r=zn(13,o,s,h),r.elementType=se,r.lanes=g,r;case ae:return r=zn(19,o,s,h),r.elementType=ae,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case F:T=10;break e;case B:T=9;break e;case Q:T=11;break e;case C:T=14;break e;case R:T=16,c=null;break e}T=29,o=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=zn(T,o,s,h),s.elementType=r,s.type=c,s.lanes=g,s}function _a(r,s,o,c){return r=zn(7,r,c,s),r.lanes=o,r}function rp(r,s,o){return r=zn(6,r,null,s),r.lanes=o,r}function ib(r){var s=zn(18,null,null,0);return s.stateNode=r,s}function ip(r,s,o){return s=zn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var sb=new WeakMap;function lr(r,s){if(typeof r=="object"&&r!==null){var o=sb.get(r);return o!==void 0?o:(s={value:r,source:s,stack:$i(s)},sb.set(r,s),s)}return{value:r,source:s,stack:$i(s)}}var yo=[],_o=0,ed=null,$l=0,cr=[],ur=0,ss=null,oi=1,li="";function Ii(r,s){yo[_o++]=$l,yo[_o++]=ed,ed=r,$l=s}function ab(r,s,o){cr[ur++]=oi,cr[ur++]=li,cr[ur++]=ss,ss=r;var c=oi;r=li;var h=32-Nt(c)-1;c&=~(1<<h),o+=1;var g=32-Nt(s)+h;if(30<g){var T=h-h%5;g=(c&(1<<T)-1).toString(32),c>>=T,h-=T,oi=1<<32-Nt(s)+h|o<<h|c,li=g+r}else oi=1<<g|o<<h|c,li=r}function sp(r){r.return!==null&&(Ii(r,1),ab(r,1,0))}function ap(r){for(;r===ed;)ed=yo[--_o],yo[_o]=null,$l=yo[--_o],yo[_o]=null;for(;r===ss;)ss=cr[--ur],cr[ur]=null,li=cr[--ur],cr[ur]=null,oi=cr[--ur],cr[ur]=null}function ob(r,s){cr[ur++]=oi,cr[ur++]=li,cr[ur++]=ss,oi=s.id,li=s.overflow,ss=r}var sn=null,pt=null,He=!1,as=null,dr=!1,op=Error(i(519));function os(r){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wl(lr(s,r)),op}function lb(r){var s=r.stateNode,o=r.type,c=r.memoizedProps;switch(s[Pt]=r,s[Wt]=c,o){case"dialog":Ue("cancel",s),Ue("close",s);break;case"iframe":case"object":case"embed":Ue("load",s);break;case"video":case"audio":for(o=0;o<yc.length;o++)Ue(yc[o],s);break;case"source":Ue("error",s);break;case"img":case"image":case"link":Ue("error",s),Ue("load",s);break;case"details":Ue("toggle",s);break;case"input":Ue("invalid",s),Mu(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ue("invalid",s);break;case"textarea":Ue("invalid",s),Ji(s,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||SE(s.textContent,o)?(c.popover!=null&&(Ue("beforetoggle",s),Ue("toggle",s)),c.onScroll!=null&&Ue("scroll",s),c.onScrollEnd!=null&&Ue("scrollend",s),c.onClick!=null&&(s.onclick=xr),s=!0):s=!1,s||os(r,!0)}function cb(r){for(sn=r.return;sn;)switch(sn.tag){case 5:case 31:case 13:dr=!1;return;case 27:case 3:dr=!0;return;default:sn=sn.return}}function bo(r){if(r!==sn)return!1;if(!He)return cb(r),He=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Sm(r.type,r.memoizedProps)),o=!o),o&&pt&&os(r),cb(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));pt=LE(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));pt=LE(r)}else s===27?(s=pt,Es(r.type)?(r=Cm,Cm=null,pt=r):pt=s):pt=sn?hr(r.stateNode.nextSibling):null;return!0}function ba(){pt=sn=null,He=!1}function lp(){var r=as;return r!==null&&(On===null?On=r:On.push.apply(On,r),as=null),r}function Wl(r){as===null?as=[r]:as.push(r)}var cp=k(null),va=null,xi=null;function ls(r,s,o){le(cp,s._currentValue),s._currentValue=o}function Ri(r){r._currentValue=cp.current,Z(cp)}function up(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function dp(r,s,o,c){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var g=h.dependencies;if(g!==null){var T=h.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=h;for(var P=0;P<s.length;P++)if(S.context===s[P]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),up(g.return,o,r),c||(T=null);break e}g=S.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(i(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),up(T,o,r),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===r){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function vo(r,s,o,c){r=null;for(var h=s,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var S=h.type;Bn(h.pendingProps.value,T.value)||(r!==null?r.push(S):r=[S])}}else if(h===Le.current){if(T=h.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(Tc):r=[Tc])}h=h.return}r!==null&&dp(s,r,o,c),s.flags|=262144}function td(r){for(r=r.firstContext;r!==null;){if(!Bn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ea(r){va=r,xi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function an(r){return ub(va,r)}function nd(r,s){return va===null&&Ea(r),ub(r,s)}function ub(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},xi===null){if(r===null)throw Error(i(308));xi=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else xi=xi.next=s;return o}var a1=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},o1=t.unstable_scheduleCallback,l1=t.unstable_NormalPriority,Vt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fp(){return{controller:new a1,data:new Map,refCount:0}}function Ql(r){r.refCount--,r.refCount===0&&o1(l1,function(){r.controller.abort()})}var Xl=null,hp=0,Eo=0,To=null;function c1(r,s){if(Xl===null){var o=Xl=[];hp=0,Eo=gm(),To={status:"pending",value:void 0,then:function(c){o.push(c)}}}return hp++,s.then(db,db),s}function db(){if(--hp===0&&Xl!==null){To!==null&&(To.status="fulfilled");var r=Xl;Xl=null,Eo=0,To=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function u1(r,s){var o=[],c={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var h=0;h<o.length;h++)(0,o[h])(s)},function(h){for(c.status="rejected",c.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),c}var fb=q.S;q.S=function(r,s){Wv=$t(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&c1(r,s),fb!==null&&fb(r,s)};var Ta=k(null);function pp(){var r=Ta.current;return r!==null?r:lt.pooledCache}function rd(r,s){s===null?le(Ta,Ta.current):le(Ta,s.pool)}function hb(){var r=pp();return r===null?null:{parent:Vt._currentValue,pool:r}}var Ao=Error(i(460)),mp=Error(i(474)),id=Error(i(542)),sd={then:function(){}};function pb(r){return r=r.status,r==="fulfilled"||r==="rejected"}function mb(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(xr,xr),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,yb(r),r;default:if(typeof s.status=="string")s.then(xr,xr);else{if(r=lt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=c}},function(c){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,yb(r),r}throw wa=s,Ao}}function Aa(r){try{var s=r._init;return s(r._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(wa=o,Ao):o}}var wa=null;function gb(){if(wa===null)throw Error(i(459));var r=wa;return wa=null,r}function yb(r){if(r===Ao||r===id)throw Error(i(483))}var wo=null,Jl=0;function ad(r){var s=Jl;return Jl+=1,wo===null&&(wo=[]),mb(wo,r,s)}function Zl(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function od(r,s){throw s.$$typeof===E?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function _b(r){function s(z,V){if(r){var Y=z.deletions;Y===null?(z.deletions=[V],z.flags|=16):Y.push(V)}}function o(z,V){if(!r)return null;for(;V!==null;)s(z,V),V=V.sibling;return null}function c(z){for(var V=new Map;z!==null;)z.key!==null?V.set(z.key,z):V.set(z.index,z),z=z.sibling;return V}function h(z,V){return z=Si(z,V),z.index=0,z.sibling=null,z}function g(z,V,Y){return z.index=Y,r?(Y=z.alternate,Y!==null?(Y=Y.index,Y<V?(z.flags|=67108866,V):Y):(z.flags|=67108866,V)):(z.flags|=1048576,V)}function T(z){return r&&z.alternate===null&&(z.flags|=67108866),z}function S(z,V,Y,te){return V===null||V.tag!==6?(V=rp(Y,z.mode,te),V.return=z,V):(V=h(V,Y),V.return=z,V)}function P(z,V,Y,te){var Ee=Y.type;return Ee===L?ee(z,V,Y.props.children,te,Y.key):V!==null&&(V.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===R&&Aa(Ee)===V.type)?(V=h(V,Y.props),Zl(V,Y),V.return=z,V):(V=Zu(Y.type,Y.key,Y.props,null,z.mode,te),Zl(V,Y),V.return=z,V)}function K(z,V,Y,te){return V===null||V.tag!==4||V.stateNode.containerInfo!==Y.containerInfo||V.stateNode.implementation!==Y.implementation?(V=ip(Y,z.mode,te),V.return=z,V):(V=h(V,Y.children||[]),V.return=z,V)}function ee(z,V,Y,te,Ee){return V===null||V.tag!==7?(V=_a(Y,z.mode,te,Ee),V.return=z,V):(V=h(V,Y),V.return=z,V)}function re(z,V,Y){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=rp(""+V,z.mode,Y),V.return=z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case w:return Y=Zu(V.type,V.key,V.props,null,z.mode,Y),Zl(Y,V),Y.return=z,Y;case x:return V=ip(V,z.mode,Y),V.return=z,V;case R:return V=Aa(V),re(z,V,Y)}if(Ve(V)||j(V))return V=_a(V,z.mode,Y,null),V.return=z,V;if(typeof V.then=="function")return re(z,ad(V),Y);if(V.$$typeof===F)return re(z,nd(z,V),Y);od(z,V)}return null}function W(z,V,Y,te){var Ee=V!==null?V.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Ee!==null?null:S(z,V,""+Y,te);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:return Y.key===Ee?P(z,V,Y,te):null;case x:return Y.key===Ee?K(z,V,Y,te):null;case R:return Y=Aa(Y),W(z,V,Y,te)}if(Ve(Y)||j(Y))return Ee!==null?null:ee(z,V,Y,te,null);if(typeof Y.then=="function")return W(z,V,ad(Y),te);if(Y.$$typeof===F)return W(z,V,nd(z,Y),te);od(z,Y)}return null}function J(z,V,Y,te,Ee){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return z=z.get(Y)||null,S(V,z,""+te,Ee);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case w:return z=z.get(te.key===null?Y:te.key)||null,P(V,z,te,Ee);case x:return z=z.get(te.key===null?Y:te.key)||null,K(V,z,te,Ee);case R:return te=Aa(te),J(z,V,Y,te,Ee)}if(Ve(te)||j(te))return z=z.get(Y)||null,ee(V,z,te,Ee,null);if(typeof te.then=="function")return J(z,V,Y,ad(te),Ee);if(te.$$typeof===F)return J(z,V,Y,nd(V,te),Ee);od(V,te)}return null}function ye(z,V,Y,te){for(var Ee=null,Ke=null,_e=V,Me=V=0,Be=null;_e!==null&&Me<Y.length;Me++){_e.index>Me?(Be=_e,_e=null):Be=_e.sibling;var $e=W(z,_e,Y[Me],te);if($e===null){_e===null&&(_e=Be);break}r&&_e&&$e.alternate===null&&s(z,_e),V=g($e,V,Me),Ke===null?Ee=$e:Ke.sibling=$e,Ke=$e,_e=Be}if(Me===Y.length)return o(z,_e),He&&Ii(z,Me),Ee;if(_e===null){for(;Me<Y.length;Me++)_e=re(z,Y[Me],te),_e!==null&&(V=g(_e,V,Me),Ke===null?Ee=_e:Ke.sibling=_e,Ke=_e);return He&&Ii(z,Me),Ee}for(_e=c(_e);Me<Y.length;Me++)Be=J(_e,z,Me,Y[Me],te),Be!==null&&(r&&Be.alternate!==null&&_e.delete(Be.key===null?Me:Be.key),V=g(Be,V,Me),Ke===null?Ee=Be:Ke.sibling=Be,Ke=Be);return r&&_e.forEach(function(Is){return s(z,Is)}),He&&Ii(z,Me),Ee}function Ae(z,V,Y,te){if(Y==null)throw Error(i(151));for(var Ee=null,Ke=null,_e=V,Me=V=0,Be=null,$e=Y.next();_e!==null&&!$e.done;Me++,$e=Y.next()){_e.index>Me?(Be=_e,_e=null):Be=_e.sibling;var Is=W(z,_e,$e.value,te);if(Is===null){_e===null&&(_e=Be);break}r&&_e&&Is.alternate===null&&s(z,_e),V=g(Is,V,Me),Ke===null?Ee=Is:Ke.sibling=Is,Ke=Is,_e=Be}if($e.done)return o(z,_e),He&&Ii(z,Me),Ee;if(_e===null){for(;!$e.done;Me++,$e=Y.next())$e=re(z,$e.value,te),$e!==null&&(V=g($e,V,Me),Ke===null?Ee=$e:Ke.sibling=$e,Ke=$e);return He&&Ii(z,Me),Ee}for(_e=c(_e);!$e.done;Me++,$e=Y.next())$e=J(_e,z,Me,$e.value,te),$e!==null&&(r&&$e.alternate!==null&&_e.delete($e.key===null?Me:$e.key),V=g($e,V,Me),Ke===null?Ee=$e:Ke.sibling=$e,Ke=$e);return r&&_e.forEach(function(EC){return s(z,EC)}),He&&Ii(z,Me),Ee}function ot(z,V,Y,te){if(typeof Y=="object"&&Y!==null&&Y.type===L&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:e:{for(var Ee=Y.key;V!==null;){if(V.key===Ee){if(Ee=Y.type,Ee===L){if(V.tag===7){o(z,V.sibling),te=h(V,Y.props.children),te.return=z,z=te;break e}}else if(V.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===R&&Aa(Ee)===V.type){o(z,V.sibling),te=h(V,Y.props),Zl(te,Y),te.return=z,z=te;break e}o(z,V);break}else s(z,V);V=V.sibling}Y.type===L?(te=_a(Y.props.children,z.mode,te,Y.key),te.return=z,z=te):(te=Zu(Y.type,Y.key,Y.props,null,z.mode,te),Zl(te,Y),te.return=z,z=te)}return T(z);case x:e:{for(Ee=Y.key;V!==null;){if(V.key===Ee)if(V.tag===4&&V.stateNode.containerInfo===Y.containerInfo&&V.stateNode.implementation===Y.implementation){o(z,V.sibling),te=h(V,Y.children||[]),te.return=z,z=te;break e}else{o(z,V);break}else s(z,V);V=V.sibling}te=ip(Y,z.mode,te),te.return=z,z=te}return T(z);case R:return Y=Aa(Y),ot(z,V,Y,te)}if(Ve(Y))return ye(z,V,Y,te);if(j(Y)){if(Ee=j(Y),typeof Ee!="function")throw Error(i(150));return Y=Ee.call(Y),Ae(z,V,Y,te)}if(typeof Y.then=="function")return ot(z,V,ad(Y),te);if(Y.$$typeof===F)return ot(z,V,nd(z,Y),te);od(z,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,V!==null&&V.tag===6?(o(z,V.sibling),te=h(V,Y),te.return=z,z=te):(o(z,V),te=rp(Y,z.mode,te),te.return=z,z=te),T(z)):o(z,V)}return function(z,V,Y,te){try{Jl=0;var Ee=ot(z,V,Y,te);return wo=null,Ee}catch(_e){if(_e===Ao||_e===id)throw _e;var Ke=zn(29,_e,null,z.mode);return Ke.lanes=te,Ke.return=z,Ke}finally{}}}var Sa=_b(!0),bb=_b(!1),cs=!1;function gp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yp(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function us(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ds(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(Xe&2)!==0){var h=c.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),c.pending=s,s=Ju(r),nb(r,null,o),s}return Xu(r,c,s,o),Ju(r)}function ec(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,xl(r,o)}}function _p(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var h=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?h=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?h=g=s:g=g.next=s}else h=g=s;o={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var bp=!1;function tc(){if(bp){var r=To;if(r!==null)throw r}}function nc(r,s,o,c){bp=!1;var h=r.updateQueue;cs=!1;var g=h.firstBaseUpdate,T=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var P=S,K=P.next;P.next=null,T===null?g=K:T.next=K,T=P;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,S=ee.lastBaseUpdate,S!==T&&(S===null?ee.firstBaseUpdate=K:S.next=K,ee.lastBaseUpdate=P))}if(g!==null){var re=h.baseState;T=0,ee=K=P=null,S=g;do{var W=S.lane&-536870913,J=W!==S.lane;if(J?(je&W)===W:(c&W)===W){W!==0&&W===Eo&&(bp=!0),ee!==null&&(ee=ee.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ye=r,Ae=S;W=s;var ot=o;switch(Ae.tag){case 1:if(ye=Ae.payload,typeof ye=="function"){re=ye.call(ot,re,W);break e}re=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Ae.payload,W=typeof ye=="function"?ye.call(ot,re,W):ye,W==null)break e;re=_({},re,W);break e;case 2:cs=!0}}W=S.callback,W!==null&&(r.flags|=64,J&&(r.flags|=8192),J=h.callbacks,J===null?h.callbacks=[W]:J.push(W))}else J={lane:W,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ee===null?(K=ee=J,P=re):ee=ee.next=J,T|=W;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;J=S,S=J.next,J.next=null,h.lastBaseUpdate=J,h.shared.pending=null}}while(!0);ee===null&&(P=re),h.baseState=P,h.firstBaseUpdate=K,h.lastBaseUpdate=ee,g===null&&(h.shared.lanes=0),gs|=T,r.lanes=T,r.memoizedState=re}}function vb(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function Eb(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)vb(o[r],s)}var So=k(null),ld=k(0);function Tb(r,s){r=Ui,le(ld,r),le(So,s),Ui=r|s.baseLanes}function vp(){le(ld,Ui),le(So,So.current)}function Ep(){Ui=ld.current,Z(So),Z(ld)}var Fn=k(null),fr=null;function fs(r){var s=r.alternate;le(Dt,Dt.current&1),le(Fn,r),fr===null&&(s===null||So.current!==null||s.memoizedState!==null)&&(fr=r)}function Tp(r){le(Dt,Dt.current),le(Fn,r),fr===null&&(fr=r)}function Ab(r){r.tag===22?(le(Dt,Dt.current),le(Fn,r),fr===null&&(fr=r)):hs()}function hs(){le(Dt,Dt.current),le(Fn,Fn.current)}function Gn(r){Z(Fn),fr===r&&(fr=null),Z(Dt)}var Dt=k(0);function cd(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Rm(o)||Nm(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ni=0,Oe=null,st=null,jt=null,ud=!1,Io=!1,Ia=!1,dd=0,rc=0,xo=null,d1=0;function wt(){throw Error(i(321))}function Ap(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Bn(r[o],s[o]))return!1;return!0}function wp(r,s,o,c,h,g){return Ni=g,Oe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,q.H=r===null||r.memoizedState===null?av:jp,Ia=!1,g=o(c,h),Ia=!1,Io&&(g=Sb(s,o,c,h)),wb(r),g}function wb(r){q.H=ac;var s=st!==null&&st.next!==null;if(Ni=0,jt=st=Oe=null,ud=!1,rc=0,xo=null,s)throw Error(i(300));r===null||Bt||(r=r.dependencies,r!==null&&td(r)&&(Bt=!0))}function Sb(r,s,o,c){Oe=r;var h=0;do{if(Io&&(xo=null),rc=0,Io=!1,25<=h)throw Error(i(301));if(h+=1,jt=st=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}q.H=ov,g=s(o,c)}while(Io);return g}function f1(){var r=q.H,s=r.useState()[0];return s=typeof s.then=="function"?ic(s):s,r=r.useState()[0],(st!==null?st.memoizedState:null)!==r&&(Oe.flags|=1024),s}function Sp(){var r=dd!==0;return dd=0,r}function Ip(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function xp(r){if(ud){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ud=!1}Ni=0,jt=st=Oe=null,Io=!1,rc=dd=0,xo=null}function bn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Oe.memoizedState=jt=r:jt=jt.next=r,jt}function Ot(){if(st===null){var r=Oe.alternate;r=r!==null?r.memoizedState:null}else r=st.next;var s=jt===null?Oe.memoizedState:jt.next;if(s!==null)jt=s,st=r;else{if(r===null)throw Oe.alternate===null?Error(i(467)):Error(i(310));st=r,r={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},jt===null?Oe.memoizedState=jt=r:jt=jt.next=r}return jt}function fd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ic(r){var s=rc;return rc+=1,xo===null&&(xo=[]),r=mb(xo,r,s),s=Oe,(jt===null?s.memoizedState:jt.next)===null&&(s=s.alternate,q.H=s===null||s.memoizedState===null?av:jp),r}function hd(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return ic(r);if(r.$$typeof===F)return an(r)}throw Error(i(438,String(r)))}function Rp(r){var s=null,o=Oe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=Oe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=fd(),Oe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),c=0;c<r;c++)o[c]=U;return s.index++,o}function Ci(r,s){return typeof s=="function"?s(r):s}function pd(r){var s=Ot();return Np(s,st,r)}function Np(r,s,o){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var h=r.baseQueue,g=c.pending;if(g!==null){if(h!==null){var T=h.next;h.next=g.next,g.next=T}s.baseQueue=h=g,c.pending=null}if(g=r.baseState,h===null)r.memoizedState=g;else{s=h.next;var S=T=null,P=null,K=s,ee=!1;do{var re=K.lane&-536870913;if(re!==K.lane?(je&re)===re:(Ni&re)===re){var W=K.revertLane;if(W===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),re===Eo&&(ee=!0);else if((Ni&W)===W){K=K.next,W===Eo&&(ee=!0);continue}else re={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},P===null?(S=P=re,T=g):P=P.next=re,Oe.lanes|=W,gs|=W;re=K.action,Ia&&o(g,re),g=K.hasEagerState?K.eagerState:o(g,re)}else W={lane:re,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},P===null?(S=P=W,T=g):P=P.next=W,Oe.lanes|=re,gs|=re;K=K.next}while(K!==null&&K!==s);if(P===null?T=g:P.next=S,!Bn(g,r.memoizedState)&&(Bt=!0,ee&&(o=To,o!==null)))throw o;r.memoizedState=g,r.baseState=T,r.baseQueue=P,c.lastRenderedState=g}return h===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Cp(r){var s=Ot(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var c=o.dispatch,h=o.pending,g=s.memoizedState;if(h!==null){o.pending=null;var T=h=h.next;do g=r(g,T.action),T=T.next;while(T!==h);Bn(g,s.memoizedState)||(Bt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,c]}function Ib(r,s,o){var c=Oe,h=Ot(),g=He;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var T=!Bn((st||h).memoizedState,o);if(T&&(h.memoizedState=o,Bt=!0),h=h.queue,Mp(Nb.bind(null,c,h,r),[r]),h.getSnapshot!==s||T||jt!==null&&jt.memoizedState.tag&1){if(c.flags|=2048,Ro(9,{destroy:void 0},Rb.bind(null,c,h,o,s),null),lt===null)throw Error(i(349));g||(Ni&127)!==0||xb(c,s,o)}return o}function xb(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Oe.updateQueue,s===null?(s=fd(),Oe.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function Rb(r,s,o,c){s.value=o,s.getSnapshot=c,Cb(s)&&Db(r)}function Nb(r,s,o){return o(function(){Cb(s)&&Db(r)})}function Cb(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Bn(r,o)}catch{return!0}}function Db(r){var s=ya(r,2);s!==null&&Mn(s,r,2)}function Dp(r){var s=bn();if(typeof r=="function"){var o=r;if(r=o(),Ia){nr(!0);try{o()}finally{nr(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:r},s}function Ob(r,s,o,c){return r.baseState=o,Np(r,st,typeof c=="function"?c:Ci)}function h1(r,s,o,c,h){if(yd(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};q.T!==null?o(!0):g.isTransition=!1,c(g),o=s.pending,o===null?(g.next=s.pending=g,Mb(s,g)):(g.next=o.next,s.pending=o.next=g)}}function Mb(r,s){var o=s.action,c=s.payload,h=r.state;if(s.isTransition){var g=q.T,T={};q.T=T;try{var S=o(h,c),P=q.S;P!==null&&P(T,S),Lb(r,s,S)}catch(K){Op(r,s,K)}finally{g!==null&&T.types!==null&&(g.types=T.types),q.T=g}}else try{g=o(h,c),Lb(r,s,g)}catch(K){Op(r,s,K)}}function Lb(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Pb(r,s,c)},function(c){return Op(r,s,c)}):Pb(r,s,o)}function Pb(r,s,o){s.status="fulfilled",s.value=o,kb(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,Mb(r,o)))}function Op(r,s,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,kb(s),s=s.next;while(s!==c)}r.action=null}function kb(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function Ub(r,s){return s}function Vb(r,s){if(He){var o=lt.formState;if(o!==null){e:{var c=Oe;if(He){if(pt){t:{for(var h=pt,g=dr;h.nodeType!==8;){if(!g){h=null;break t}if(h=hr(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){pt=hr(h.nextSibling),c=h.data==="F!";break e}}os(c)}c=!1}c&&(s=o[0])}}return o=bn(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ub,lastRenderedState:s},o.queue=c,o=rv.bind(null,Oe,c),c.dispatch=o,c=Dp(!1),g=Vp.bind(null,Oe,!1,c.queue),c=bn(),h={state:s,dispatch:null,action:r,pending:null},c.queue=h,o=h1.bind(null,Oe,h,g,o),h.dispatch=o,c.memoizedState=r,[s,o,!1]}function jb(r){var s=Ot();return Bb(s,st,r)}function Bb(r,s,o){if(s=Np(r,s,Ub)[0],r=pd(Ci)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=ic(s)}catch(T){throw T===Ao?id:T}else c=s;s=Ot();var h=s.queue,g=h.dispatch;return o!==s.memoizedState&&(Oe.flags|=2048,Ro(9,{destroy:void 0},p1.bind(null,h,o),null)),[c,g,r]}function p1(r,s){r.action=s}function zb(r){var s=Ot(),o=st;if(o!==null)return Bb(s,o,r);Ot(),s=s.memoizedState,o=Ot();var c=o.queue.dispatch;return o.memoizedState=r,[s,c,!1]}function Ro(r,s,o,c){return r={tag:r,create:o,deps:c,inst:s,next:null},s=Oe.updateQueue,s===null&&(s=fd(),Oe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r),r}function Fb(){return Ot().memoizedState}function md(r,s,o,c){var h=bn();Oe.flags|=r,h.memoizedState=Ro(1|s,{destroy:void 0},o,c===void 0?null:c)}function gd(r,s,o,c){var h=Ot();c=c===void 0?null:c;var g=h.memoizedState.inst;st!==null&&c!==null&&Ap(c,st.memoizedState.deps)?h.memoizedState=Ro(s,g,o,c):(Oe.flags|=r,h.memoizedState=Ro(1|s,g,o,c))}function Gb(r,s){md(8390656,8,r,s)}function Mp(r,s){gd(2048,8,r,s)}function m1(r){Oe.flags|=4;var s=Oe.updateQueue;if(s===null)s=fd(),Oe.updateQueue=s,s.events=[r];else{var o=s.events;o===null?s.events=[r]:o.push(r)}}function Hb(r){var s=Ot().memoizedState;return m1({ref:s,nextImpl:r}),function(){if((Xe&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function qb(r,s){return gd(4,2,r,s)}function Yb(r,s){return gd(4,4,r,s)}function Kb(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function $b(r,s,o){o=o!=null?o.concat([r]):null,gd(4,4,Kb.bind(null,s,r),o)}function Lp(){}function Wb(r,s){var o=Ot();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&Ap(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function Qb(r,s){var o=Ot();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&Ap(s,c[1]))return c[0];if(c=r(),Ia){nr(!0);try{r()}finally{nr(!1)}}return o.memoizedState=[c,s],c}function Pp(r,s,o){return o===void 0||(Ni&1073741824)!==0&&(je&261930)===0?r.memoizedState=s:(r.memoizedState=o,r=Xv(),Oe.lanes|=r,gs|=r,o)}function Xb(r,s,o,c){return Bn(o,s)?o:So.current!==null?(r=Pp(r,o,c),Bn(r,s)||(Bt=!0),r):(Ni&42)===0||(Ni&1073741824)!==0&&(je&261930)===0?(Bt=!0,r.memoizedState=o):(r=Xv(),Oe.lanes|=r,gs|=r,s)}function Jb(r,s,o,c,h){var g=ce.p;ce.p=g!==0&&8>g?g:8;var T=q.T,S={};q.T=S,Vp(r,!1,s,o);try{var P=h(),K=q.S;if(K!==null&&K(S,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var ee=u1(P,c);sc(r,s,ee,Yn(r))}else sc(r,s,c,Yn(r))}catch(re){sc(r,s,{then:function(){},status:"rejected",reason:re},Yn())}finally{ce.p=g,T!==null&&S.types!==null&&(T.types=S.types),q.T=T}}function g1(){}function kp(r,s,o,c){if(r.tag!==5)throw Error(i(476));var h=Zb(r).queue;Jb(r,h,s,ge,o===null?g1:function(){return ev(r),o(c)})}function Zb(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:ge},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function ev(r){var s=Zb(r);s.next===null&&(s=r.alternate.memoizedState),sc(r,s.next.queue,{},Yn())}function Up(){return an(Tc)}function tv(){return Ot().memoizedState}function nv(){return Ot().memoizedState}function y1(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Yn();r=us(o);var c=ds(s,r,o);c!==null&&(Mn(c,s,o),ec(c,s,o)),s={cache:fp()},r.payload=s;return}s=s.return}}function _1(r,s,o){var c=Yn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},yd(r)?iv(s,o):(o=tp(r,s,o,c),o!==null&&(Mn(o,r,c),sv(o,s,c)))}function rv(r,s,o){var c=Yn();sc(r,s,o,c)}function sc(r,s,o,c){var h={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(yd(r))iv(s,h);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var T=s.lastRenderedState,S=g(T,o);if(h.hasEagerState=!0,h.eagerState=S,Bn(S,T))return Xu(r,s,h,0),lt===null&&Qu(),!1}catch{}finally{}if(o=tp(r,s,h,c),o!==null)return Mn(o,r,c),sv(o,s,c),!0}return!1}function Vp(r,s,o,c){if(c={lane:2,revertLane:gm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},yd(r)){if(s)throw Error(i(479))}else s=tp(r,o,c,2),s!==null&&Mn(s,r,2)}function yd(r){var s=r.alternate;return r===Oe||s!==null&&s===Oe}function iv(r,s){Io=ud=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function sv(r,s,o){if((o&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,xl(r,o)}}var ac={readContext:an,use:hd,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};ac.useEffectEvent=wt;var av={readContext:an,use:hd,useCallback:function(r,s){return bn().memoizedState=[r,s===void 0?null:s],r},useContext:an,useEffect:Gb,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,md(4194308,4,Kb.bind(null,s,r),o)},useLayoutEffect:function(r,s){return md(4194308,4,r,s)},useInsertionEffect:function(r,s){md(4,2,r,s)},useMemo:function(r,s){var o=bn();s=s===void 0?null:s;var c=r();if(Ia){nr(!0);try{r()}finally{nr(!1)}}return o.memoizedState=[c,s],c},useReducer:function(r,s,o){var c=bn();if(o!==void 0){var h=o(s);if(Ia){nr(!0);try{o(s)}finally{nr(!1)}}}else h=s;return c.memoizedState=c.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},c.queue=r,r=r.dispatch=_1.bind(null,Oe,r),[c.memoizedState,r]},useRef:function(r){var s=bn();return r={current:r},s.memoizedState=r},useState:function(r){r=Dp(r);var s=r.queue,o=rv.bind(null,Oe,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Lp,useDeferredValue:function(r,s){var o=bn();return Pp(o,r,s)},useTransition:function(){var r=Dp(!1);return r=Jb.bind(null,Oe,r.queue,!0,!1),bn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var c=Oe,h=bn();if(He){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),lt===null)throw Error(i(349));(je&127)!==0||xb(c,s,o)}h.memoizedState=o;var g={value:o,getSnapshot:s};return h.queue=g,Gb(Nb.bind(null,c,g,r),[r]),c.flags|=2048,Ro(9,{destroy:void 0},Rb.bind(null,c,g,o,s),null),o},useId:function(){var r=bn(),s=lt.identifierPrefix;if(He){var o=li,c=oi;o=(c&~(1<<32-Nt(c)-1)).toString(32)+o,s="_"+s+"R_"+o,o=dd++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=d1++,s="_"+s+"r_"+o.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:Up,useFormState:Vb,useActionState:Vb,useOptimistic:function(r){var s=bn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Vp.bind(null,Oe,!0,o),o.dispatch=s,[r,s]},useMemoCache:Rp,useCacheRefresh:function(){return bn().memoizedState=y1.bind(null,Oe)},useEffectEvent:function(r){var s=bn(),o={impl:r};return s.memoizedState=o,function(){if((Xe&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},jp={readContext:an,use:hd,useCallback:Wb,useContext:an,useEffect:Mp,useImperativeHandle:$b,useInsertionEffect:qb,useLayoutEffect:Yb,useMemo:Qb,useReducer:pd,useRef:Fb,useState:function(){return pd(Ci)},useDebugValue:Lp,useDeferredValue:function(r,s){var o=Ot();return Xb(o,st.memoizedState,r,s)},useTransition:function(){var r=pd(Ci)[0],s=Ot().memoizedState;return[typeof r=="boolean"?r:ic(r),s]},useSyncExternalStore:Ib,useId:tv,useHostTransitionStatus:Up,useFormState:jb,useActionState:jb,useOptimistic:function(r,s){var o=Ot();return Ob(o,st,r,s)},useMemoCache:Rp,useCacheRefresh:nv};jp.useEffectEvent=Hb;var ov={readContext:an,use:hd,useCallback:Wb,useContext:an,useEffect:Mp,useImperativeHandle:$b,useInsertionEffect:qb,useLayoutEffect:Yb,useMemo:Qb,useReducer:Cp,useRef:Fb,useState:function(){return Cp(Ci)},useDebugValue:Lp,useDeferredValue:function(r,s){var o=Ot();return st===null?Pp(o,r,s):Xb(o,st.memoizedState,r,s)},useTransition:function(){var r=Cp(Ci)[0],s=Ot().memoizedState;return[typeof r=="boolean"?r:ic(r),s]},useSyncExternalStore:Ib,useId:tv,useHostTransitionStatus:Up,useFormState:zb,useActionState:zb,useOptimistic:function(r,s){var o=Ot();return st!==null?Ob(o,st,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Rp,useCacheRefresh:nv};ov.useEffectEvent=Hb;function Bp(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:_({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var zp={enqueueSetState:function(r,s,o){r=r._reactInternals;var c=Yn(),h=us(c);h.payload=s,o!=null&&(h.callback=o),s=ds(r,h,c),s!==null&&(Mn(s,r,c),ec(s,r,c))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=Yn(),h=us(c);h.tag=1,h.payload=s,o!=null&&(h.callback=o),s=ds(r,h,c),s!==null&&(Mn(s,r,c),ec(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Yn(),c=us(o);c.tag=2,s!=null&&(c.callback=s),s=ds(r,c,o),s!==null&&(Mn(s,r,o),ec(s,r,o))}};function lv(r,s,o,c,h,g,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,T):s.prototype&&s.prototype.isPureReactComponent?!Yl(o,c)||!Yl(h,g):!0}function cv(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&zp.enqueueReplaceState(s,s.state,null)}function xa(r,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(r=r.defaultProps){o===s&&(o=_({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}function uv(r){Wu(r)}function dv(r){console.error(r)}function fv(r){Wu(r)}function _d(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function hv(r,s,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Fp(r,s,o){return o=us(o),o.tag=3,o.payload={element:null},o.callback=function(){_d(r,s)},o}function pv(r){return r=us(r),r.tag=3,r}function mv(r,s,o,c){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var g=c.value;r.payload=function(){return h(g)},r.callback=function(){hv(s,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){hv(s,o,c),typeof h!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function b1(r,s,o,c,h){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&vo(s,o,h,!0),o=Fn.current,o!==null){switch(o.tag){case 31:case 13:return fr===null?Cd():o.alternate===null&&St===0&&(St=3),o.flags&=-257,o.flags|=65536,o.lanes=h,c===sd?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),hm(r,c,h)),!1;case 22:return o.flags|=65536,c===sd?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),hm(r,c,h)),!1}throw Error(i(435,o.tag))}return hm(r,c,h),Cd(),!1}if(He)return s=Fn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,c!==op&&(r=Error(i(422),{cause:c}),Wl(lr(r,o)))):(c!==op&&(s=Error(i(423),{cause:c}),Wl(lr(s,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,c=lr(c,o),h=Fp(r.stateNode,c,h),_p(r,h),St!==4&&(St=2)),!1;var g=Error(i(520),{cause:c});if(g=lr(g,o),pc===null?pc=[g]:pc.push(g),St!==4&&(St=2),s===null)return!0;c=lr(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=Fp(o.stateNode,c,r),_p(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ys===null||!ys.has(g))))return o.flags|=65536,h&=-h,o.lanes|=h,h=pv(h),mv(h,r,o,c),_p(o,h),!1}o=o.return}while(o!==null);return!1}var Gp=Error(i(461)),Bt=!1;function on(r,s,o,c){s.child=r===null?bb(s,null,o,c):Sa(s,r.child,o,c)}function gv(r,s,o,c,h){o=o.render;var g=s.ref;if("ref"in c){var T={};for(var S in c)S!=="ref"&&(T[S]=c[S])}else T=c;return Ea(s),c=wp(r,s,o,T,g,h),S=Sp(),r!==null&&!Bt?(Ip(r,s,h),Di(r,s,h)):(He&&S&&sp(s),s.flags|=1,on(r,s,c,h),s.child)}function yv(r,s,o,c,h){if(r===null){var g=o.type;return typeof g=="function"&&!np(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,_v(r,s,g,c,h)):(r=Zu(o.type,null,c,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!Xp(r,h)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:Yl,o(T,c)&&r.ref===s.ref)return Di(r,s,h)}return s.flags|=1,r=Si(g,c),r.ref=s.ref,r.return=s,s.child=r}function _v(r,s,o,c,h){if(r!==null){var g=r.memoizedProps;if(Yl(g,c)&&r.ref===s.ref)if(Bt=!1,s.pendingProps=c=g,Xp(r,h))(r.flags&131072)!==0&&(Bt=!0);else return s.lanes=r.lanes,Di(r,s,h)}return Hp(r,s,o,c,h)}function bv(r,s,o,c){var h=c.children,g=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,r!==null){for(c=s.child=r.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;c=h&~g}else c=0,s.child=null;return vv(r,s,g,o,c)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&rd(s,g!==null?g.cachePool:null),g!==null?Tb(s,g):vp(),Ab(s);else return c=s.lanes=536870912,vv(r,s,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(rd(s,g.cachePool),Tb(s,g),hs(),s.memoizedState=null):(r!==null&&rd(s,null),vp(),hs());return on(r,s,h,o),s.child}function oc(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function vv(r,s,o,c,h){var g=pp();return g=g===null?null:{parent:Vt._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},r!==null&&rd(s,null),vp(),Ab(s),r!==null&&vo(r,s,c,!0),s.childLanes=h,null}function bd(r,s){return s=Ed({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function Ev(r,s,o){return Sa(s,r.child,null,o),r=bd(s,s.pendingProps),r.flags|=2,Gn(s),s.memoizedState=null,r}function v1(r,s,o){var c=s.pendingProps,h=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(He){if(c.mode==="hidden")return r=bd(s,c),s.lanes=536870912,oc(null,r);if(Tp(s),(r=pt)?(r=ME(r,dr),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:ss!==null?{id:oi,overflow:li}:null,retryLane:536870912,hydrationErrors:null},o=ib(r),o.return=s,s.child=o,sn=s,pt=null)):r=null,r===null)throw os(s);return s.lanes=536870912,null}return bd(s,c)}var g=r.memoizedState;if(g!==null){var T=g.dehydrated;if(Tp(s),h)if(s.flags&256)s.flags&=-257,s=Ev(r,s,o);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(i(558));else if(Bt||vo(r,s,o,!1),h=(o&r.childLanes)!==0,Bt||h){if(c=lt,c!==null&&(T=Rl(c,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,ya(r,T),Mn(c,r,T),Gp;Cd(),s=Ev(r,s,o)}else r=g.treeContext,pt=hr(T.nextSibling),sn=s,He=!0,as=null,dr=!1,r!==null&&ob(s,r),s=bd(s,c),s.flags|=4096;return s}return r=Si(r.child,{mode:c.mode,children:c.children}),r.ref=s.ref,s.child=r,r.return=s,r}function vd(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function Hp(r,s,o,c,h){return Ea(s),o=wp(r,s,o,c,void 0,h),c=Sp(),r!==null&&!Bt?(Ip(r,s,h),Di(r,s,h)):(He&&c&&sp(s),s.flags|=1,on(r,s,o,h),s.child)}function Tv(r,s,o,c,h,g){return Ea(s),s.updateQueue=null,o=Sb(s,c,o,h),wb(r),c=Sp(),r!==null&&!Bt?(Ip(r,s,g),Di(r,s,g)):(He&&c&&sp(s),s.flags|=1,on(r,s,o,g),s.child)}function Av(r,s,o,c,h){if(Ea(s),s.stateNode===null){var g=go,T=o.contextType;typeof T=="object"&&T!==null&&(g=an(T)),g=new o(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=zp,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},gp(s),T=o.contextType,g.context=typeof T=="object"&&T!==null?an(T):go,g.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Bp(s,o,T,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&zp.enqueueReplaceState(g,g.state,null),nc(s,c,g,h),tc(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){g=s.stateNode;var S=s.memoizedProps,P=xa(o,S);g.props=P;var K=g.context,ee=o.contextType;T=go,typeof ee=="object"&&ee!==null&&(T=an(ee));var re=o.getDerivedStateFromProps;ee=typeof re=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,ee||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||K!==T)&&cv(s,g,c,T),cs=!1;var W=s.memoizedState;g.state=W,nc(s,c,g,h),tc(),K=s.memoizedState,S||W!==K||cs?(typeof re=="function"&&(Bp(s,o,re,c),K=s.memoizedState),(P=cs||lv(s,o,P,c,W,K,T))?(ee||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=K),g.props=c,g.state=K,g.context=T,c=P):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,yp(r,s),T=s.memoizedProps,ee=xa(o,T),g.props=ee,re=s.pendingProps,W=g.context,K=o.contextType,P=go,typeof K=="object"&&K!==null&&(P=an(K)),S=o.getDerivedStateFromProps,(K=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==re||W!==P)&&cv(s,g,c,P),cs=!1,W=s.memoizedState,g.state=W,nc(s,c,g,h),tc();var J=s.memoizedState;T!==re||W!==J||cs||r!==null&&r.dependencies!==null&&td(r.dependencies)?(typeof S=="function"&&(Bp(s,o,S,c),J=s.memoizedState),(ee=cs||lv(s,o,ee,c,W,J,P)||r!==null&&r.dependencies!==null&&td(r.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,J,P),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,J,P)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===r.memoizedProps&&W===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&W===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=J),g.props=c,g.state=J,g.context=P,c=ee):(typeof g.componentDidUpdate!="function"||T===r.memoizedProps&&W===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&W===r.memoizedState||(s.flags|=1024),c=!1)}return g=c,vd(r,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&c?(s.child=Sa(s,r.child,null,h),s.child=Sa(s,null,o,h)):on(r,s,o,h),s.memoizedState=g.state,r=s.child):r=Di(r,s,h),r}function wv(r,s,o,c){return ba(),s.flags|=256,on(r,s,o,c),s.child}var qp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yp(r){return{baseLanes:r,cachePool:hb()}}function Kp(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=qn),r}function Sv(r,s,o){var c=s.pendingProps,h=!1,g=(s.flags&128)!==0,T;if((T=g)||(T=r!==null&&r.memoizedState===null?!1:(Dt.current&2)!==0),T&&(h=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,r===null){if(He){if(h?fs(s):hs(),(r=pt)?(r=ME(r,dr),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:ss!==null?{id:oi,overflow:li}:null,retryLane:536870912,hydrationErrors:null},o=ib(r),o.return=s,s.child=o,sn=s,pt=null)):r=null,r===null)throw os(s);return Nm(r)?s.lanes=32:s.lanes=536870912,null}var S=c.children;return c=c.fallback,h?(hs(),h=s.mode,S=Ed({mode:"hidden",children:S},h),c=_a(c,h,o,null),S.return=s,c.return=s,S.sibling=c,s.child=S,c=s.child,c.memoizedState=Yp(o),c.childLanes=Kp(r,T,o),s.memoizedState=qp,oc(null,c)):(fs(s),$p(s,S))}var P=r.memoizedState;if(P!==null&&(S=P.dehydrated,S!==null)){if(g)s.flags&256?(fs(s),s.flags&=-257,s=Wp(r,s,o)):s.memoizedState!==null?(hs(),s.child=r.child,s.flags|=128,s=null):(hs(),S=c.fallback,h=s.mode,c=Ed({mode:"visible",children:c.children},h),S=_a(S,h,o,null),S.flags|=2,c.return=s,S.return=s,c.sibling=S,s.child=c,Sa(s,r.child,null,o),c=s.child,c.memoizedState=Yp(o),c.childLanes=Kp(r,T,o),s.memoizedState=qp,s=oc(null,c));else if(fs(s),Nm(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var K=T.dgst;T=K,c=Error(i(419)),c.stack="",c.digest=T,Wl({value:c,source:null,stack:null}),s=Wp(r,s,o)}else if(Bt||vo(r,s,o,!1),T=(o&r.childLanes)!==0,Bt||T){if(T=lt,T!==null&&(c=Rl(T,o),c!==0&&c!==P.retryLane))throw P.retryLane=c,ya(r,c),Mn(T,r,c),Gp;Rm(S)||Cd(),s=Wp(r,s,o)}else Rm(S)?(s.flags|=192,s.child=r.child,s=null):(r=P.treeContext,pt=hr(S.nextSibling),sn=s,He=!0,as=null,dr=!1,r!==null&&ob(s,r),s=$p(s,c.children),s.flags|=4096);return s}return h?(hs(),S=c.fallback,h=s.mode,P=r.child,K=P.sibling,c=Si(P,{mode:"hidden",children:c.children}),c.subtreeFlags=P.subtreeFlags&65011712,K!==null?S=Si(K,S):(S=_a(S,h,o,null),S.flags|=2),S.return=s,c.return=s,c.sibling=S,s.child=c,oc(null,c),c=s.child,S=r.child.memoizedState,S===null?S=Yp(o):(h=S.cachePool,h!==null?(P=Vt._currentValue,h=h.parent!==P?{parent:P,pool:P}:h):h=hb(),S={baseLanes:S.baseLanes|o,cachePool:h}),c.memoizedState=S,c.childLanes=Kp(r,T,o),s.memoizedState=qp,oc(r.child,c)):(fs(s),o=r.child,r=o.sibling,o=Si(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,r!==null&&(T=s.deletions,T===null?(s.deletions=[r],s.flags|=16):T.push(r)),s.child=o,s.memoizedState=null,o)}function $p(r,s){return s=Ed({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Ed(r,s){return r=zn(22,r,null,s),r.lanes=0,r}function Wp(r,s,o){return Sa(s,r.child,null,o),r=$p(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Iv(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),up(r.return,s,o)}function Qp(r,s,o,c,h,g){var T=r.memoizedState;T===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:h,treeForkCount:g}:(T.isBackwards=s,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=o,T.tailMode=h,T.treeForkCount=g)}function xv(r,s,o){var c=s.pendingProps,h=c.revealOrder,g=c.tail;c=c.children;var T=Dt.current,S=(T&2)!==0;if(S?(T=T&1|2,s.flags|=128):T&=1,le(Dt,T),on(r,s,c,o),c=He?$l:0,!S&&r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Iv(r,o,s);else if(r.tag===19)Iv(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(h){case"forwards":for(o=s.child,h=null;o!==null;)r=o.alternate,r!==null&&cd(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=s.child,s.child=null):(h=o.sibling,o.sibling=null),Qp(s,!1,h,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&cd(r)===null){s.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}Qp(s,!0,o,null,g,c);break;case"together":Qp(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function Di(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),gs|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(vo(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Si(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Si(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Xp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&td(r)))}function E1(r,s,o){switch(s.tag){case 3:ht(s,s.stateNode.containerInfo),ls(s,Vt,r.memoizedState.cache),ba();break;case 27:case 5:yn(s);break;case 4:ht(s,s.stateNode.containerInfo);break;case 10:ls(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Tp(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(fs(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Sv(r,s,o):(fs(s),r=Di(r,s,o),r!==null?r.sibling:null);fs(s);break;case 19:var h=(r.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(vo(r,s,o,!1),c=(o&s.childLanes)!==0),h){if(c)return xv(r,s,o);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),le(Dt,Dt.current),c)break;return null;case 22:return s.lanes=0,bv(r,s,o,s.pendingProps);case 24:ls(s,Vt,r.memoizedState.cache)}return Di(r,s,o)}function Rv(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Bt=!0;else{if(!Xp(r,o)&&(s.flags&128)===0)return Bt=!1,E1(r,s,o);Bt=(r.flags&131072)!==0}else Bt=!1,He&&(s.flags&1048576)!==0&&ab(s,$l,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(r=Aa(s.elementType),s.type=r,typeof r=="function")np(r)?(c=xa(r,c),s.tag=1,s=Av(null,s,r,c,o)):(s.tag=0,s=Hp(null,s,r,c,o));else{if(r!=null){var h=r.$$typeof;if(h===Q){s.tag=11,s=gv(null,s,r,c,o);break e}else if(h===C){s.tag=14,s=yv(null,s,r,c,o);break e}}throw s=Pe(r)||r,Error(i(306,s,""))}}return s;case 0:return Hp(r,s,s.type,s.pendingProps,o);case 1:return c=s.type,h=xa(c,s.pendingProps),Av(r,s,c,h,o);case 3:e:{if(ht(s,s.stateNode.containerInfo),r===null)throw Error(i(387));c=s.pendingProps;var g=s.memoizedState;h=g.element,yp(r,s),nc(s,c,null,o);var T=s.memoizedState;if(c=T.cache,ls(s,Vt,c),c!==g.cache&&dp(s,[Vt],o,!0),tc(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=wv(r,s,c,o);break e}else if(c!==h){h=lr(Error(i(424)),s),Wl(h),s=wv(r,s,c,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(pt=hr(r.firstChild),sn=s,He=!0,as=null,dr=!0,o=bb(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ba(),c===h){s=Di(r,s,o);break e}on(r,s,c,o)}s=s.child}return s;case 26:return vd(r,s),r===null?(o=jE(s.type,null,s.pendingProps,null))?s.memoizedState=o:He||(o=s.type,r=s.pendingProps,c=Ud(we.current).createElement(o),c[Pt]=s,c[Wt]=r,ln(c,o,r),kt(c),s.stateNode=c):s.memoizedState=jE(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return yn(s),r===null&&He&&(c=s.stateNode=kE(s.type,s.pendingProps,we.current),sn=s,dr=!0,h=pt,Es(s.type)?(Cm=h,pt=hr(c.firstChild)):pt=h),on(r,s,s.pendingProps.children,o),vd(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&He&&((h=c=pt)&&(c=X1(c,s.type,s.pendingProps,dr),c!==null?(s.stateNode=c,sn=s,pt=hr(c.firstChild),dr=!1,h=!0):h=!1),h||os(s)),yn(s),h=s.type,g=s.pendingProps,T=r!==null?r.memoizedProps:null,c=g.children,Sm(h,g)?c=null:T!==null&&Sm(h,T)&&(s.flags|=32),s.memoizedState!==null&&(h=wp(r,s,f1,null,null,o),Tc._currentValue=h),vd(r,s),on(r,s,c,o),s.child;case 6:return r===null&&He&&((r=o=pt)&&(o=J1(o,s.pendingProps,dr),o!==null?(s.stateNode=o,sn=s,pt=null,r=!0):r=!1),r||os(s)),null;case 13:return Sv(r,s,o);case 4:return ht(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Sa(s,null,c,o):on(r,s,c,o),s.child;case 11:return gv(r,s,s.type,s.pendingProps,o);case 7:return on(r,s,s.pendingProps,o),s.child;case 8:return on(r,s,s.pendingProps.children,o),s.child;case 12:return on(r,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,ls(s,s.type,c.value),on(r,s,c.children,o),s.child;case 9:return h=s.type._context,c=s.pendingProps.children,Ea(s),h=an(h),c=c(h),s.flags|=1,on(r,s,c,o),s.child;case 14:return yv(r,s,s.type,s.pendingProps,o);case 15:return _v(r,s,s.type,s.pendingProps,o);case 19:return xv(r,s,o);case 31:return v1(r,s,o);case 22:return bv(r,s,o,s.pendingProps);case 24:return Ea(s),c=an(Vt),r===null?(h=pp(),h===null&&(h=lt,g=fp(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=o),h=g),s.memoizedState={parent:c,cache:h},gp(s),ls(s,Vt,h)):((r.lanes&o)!==0&&(yp(r,s),nc(s,null,null,o),tc()),h=r.memoizedState,g=s.memoizedState,h.parent!==c?(h={parent:c,cache:c},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),ls(s,Vt,c)):(c=g.cache,ls(s,Vt,c),c!==h.cache&&dp(s,[Vt],o,!0))),on(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Oi(r){r.flags|=4}function Jp(r,s,o,c,h){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(h&335544128)===h)if(r.stateNode.complete)r.flags|=8192;else if(tE())r.flags|=8192;else throw wa=sd,mp}else r.flags&=-16777217}function Nv(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!HE(s))if(tE())r.flags|=8192;else throw wa=sd,mp}function Td(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Ru():536870912,r.lanes|=s,Oo|=s)}function lc(r,s){if(!He)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function mt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags&65011712,c|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function T1(r,s,o){var c=s.pendingProps;switch(ap(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(s),null;case 1:return mt(s),null;case 3:return o=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Ri(Vt),We(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(bo(s)?Oi(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,lp())),mt(s),null;case 26:var h=s.type,g=s.memoizedState;return r===null?(Oi(s),g!==null?(mt(s),Nv(s,g)):(mt(s),Jp(s,h,null,c,o))):g?g!==r.memoizedState?(Oi(s),mt(s),Nv(s,g)):(mt(s),s.flags&=-16777217):(r=r.memoizedProps,r!==c&&Oi(s),mt(s),Jp(s,h,r,c,o)),null;case 27:if(Un(s),o=we.current,h=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Oi(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return mt(s),null}r=pe.current,bo(s)?lb(s):(r=kE(h,c,o),s.stateNode=r,Oi(s))}return mt(s),null;case 5:if(Un(s),h=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Oi(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return mt(s),null}if(g=pe.current,bo(s))lb(s);else{var T=Ud(we.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?T.createElement(h,{is:c.is}):T.createElement(h)}}g[Pt]=s,g[Wt]=c;e:for(T=s.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===s)break e;for(;T.sibling===null;){if(T.return===null||T.return===s)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}s.stateNode=g;e:switch(ln(g,h,c),h){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Oi(s)}}return mt(s),Jp(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,o),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&Oi(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=we.current,bo(s)){if(r=s.stateNode,o=s.memoizedProps,c=null,h=sn,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}r[Pt]=s,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||SE(r.nodeValue,o)),r||os(s,!0)}else r=Ud(r).createTextNode(c),r[Pt]=s,s.stateNode=r}return mt(s),null;case 31:if(o=s.memoizedState,r===null||r.memoizedState!==null){if(c=bo(s),o!==null){if(r===null){if(!c)throw Error(i(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Pt]=s}else ba(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;mt(s),r=!1}else o=lp(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=o),r=!0;if(!r)return s.flags&256?(Gn(s),s):(Gn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return mt(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=bo(s),c!==null&&c.dehydrated!==null){if(r===null){if(!h)throw Error(i(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Pt]=s}else ba(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;mt(s),h=!1}else h=lp(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(Gn(s),s):(Gn(s),null)}return Gn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=c!==null,r=r!==null&&r.memoizedState!==null,o&&(c=s.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==h&&(c.flags|=2048)),o!==r&&o&&(s.child.flags|=8192),Td(s,s.updateQueue),mt(s),null);case 4:return We(),r===null&&vm(s.stateNode.containerInfo),mt(s),null;case 10:return Ri(s.type),mt(s),null;case 19:if(Z(Dt),c=s.memoizedState,c===null)return mt(s),null;if(h=(s.flags&128)!==0,g=c.rendering,g===null)if(h)lc(c,!1);else{if(St!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=cd(r),g!==null){for(s.flags|=128,lc(c,!1),r=g.updateQueue,s.updateQueue=r,Td(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)rb(o,r),o=o.sibling;return le(Dt,Dt.current&1|2),He&&Ii(s,c.treeForkCount),s.child}r=r.sibling}c.tail!==null&&$t()>xd&&(s.flags|=128,h=!0,lc(c,!1),s.lanes=4194304)}else{if(!h)if(r=cd(g),r!==null){if(s.flags|=128,h=!0,r=r.updateQueue,s.updateQueue=r,Td(s,r),lc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!He)return mt(s),null}else 2*$t()-c.renderingStartTime>xd&&o!==536870912&&(s.flags|=128,h=!0,lc(c,!1),s.lanes=4194304);c.isBackwards?(g.sibling=s.child,s.child=g):(r=c.last,r!==null?r.sibling=g:s.child=g,c.last=g)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=$t(),r.sibling=null,o=Dt.current,le(Dt,h?o&1|2:o&1),He&&Ii(s,c.treeForkCount),r):(mt(s),null);case 22:case 23:return Gn(s),Ep(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(mt(s),s.subtreeFlags&6&&(s.flags|=8192)):mt(s),o=s.updateQueue,o!==null&&Td(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),r!==null&&Z(Ta),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ri(Vt),mt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function A1(r,s){switch(ap(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ri(Vt),We(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Un(s),null;case 31:if(s.memoizedState!==null){if(Gn(s),s.alternate===null)throw Error(i(340));ba()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if(Gn(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));ba()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Z(Dt),null;case 4:return We(),null;case 10:return Ri(s.type),null;case 22:case 23:return Gn(s),Ep(),r!==null&&Z(Ta),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ri(Vt),null;case 25:return null;default:return null}}function Cv(r,s){switch(ap(s),s.tag){case 3:Ri(Vt),We();break;case 26:case 27:case 5:Un(s);break;case 4:We();break;case 31:s.memoizedState!==null&&Gn(s);break;case 13:Gn(s);break;case 19:Z(Dt);break;case 10:Ri(s.type);break;case 22:case 23:Gn(s),Ep(),r!==null&&Z(Ta);break;case 24:Ri(Vt)}}function cc(r,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var h=c.next;o=h;do{if((o.tag&r)===r){c=void 0;var g=o.create,T=o.inst;c=g(),T.destroy=c}o=o.next}while(o!==h)}}catch(S){rt(s,s.return,S)}}function ps(r,s,o){try{var c=s.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var g=h.next;c=g;do{if((c.tag&r)===r){var T=c.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,h=s;var P=o,K=S;try{K()}catch(ee){rt(h,P,ee)}}}c=c.next}while(c!==g)}}catch(ee){rt(s,s.return,ee)}}function Dv(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{Eb(s,o)}catch(c){rt(r,r.return,c)}}}function Ov(r,s,o){o.props=xa(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){rt(r,s,c)}}function uc(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof o=="function"?r.refCleanup=o(c):o.current=c}}catch(h){rt(r,s,h)}}function ci(r,s){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(h){rt(r,s,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){rt(r,s,h)}else o.current=null}function Mv(r){var s=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(h){rt(r,r.return,h)}}function Zp(r,s,o){try{var c=r.stateNode;q1(c,r.type,o,s),c[Wt]=s}catch(h){rt(r,r.return,h)}}function Lv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Es(r.type)||r.tag===4}function em(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Lv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Es(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function tm(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=xr));else if(c!==4&&(c===27&&Es(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(tm(r,s,o),r=r.sibling;r!==null;)tm(r,s,o),r=r.sibling}function Ad(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&(c===27&&Es(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Ad(r,s,o),r=r.sibling;r!==null;)Ad(r,s,o),r=r.sibling}function Pv(r){var s=r.stateNode,o=r.memoizedProps;try{for(var c=r.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);ln(s,c,o),s[Pt]=r,s[Wt]=o}catch(g){rt(r,r.return,g)}}var Mi=!1,zt=!1,nm=!1,kv=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function w1(r,s){if(r=r.containerInfo,Am=Hd,r=$_(r),Wh(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var h=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var T=0,S=-1,P=-1,K=0,ee=0,re=r,W=null;t:for(;;){for(var J;re!==o||h!==0&&re.nodeType!==3||(S=T+h),re!==g||c!==0&&re.nodeType!==3||(P=T+c),re.nodeType===3&&(T+=re.nodeValue.length),(J=re.firstChild)!==null;)W=re,re=J;for(;;){if(re===r)break t;if(W===o&&++K===h&&(S=T),W===g&&++ee===c&&(P=T),(J=re.nextSibling)!==null)break;re=W,W=re.parentNode}re=J}o=S===-1||P===-1?null:{start:S,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(wm={focusedElem:r,selectionRange:o},Hd=!1,Xt=s;Xt!==null;)if(s=Xt,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Xt=r;else for(;Xt!==null;){switch(s=Xt,g=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(o=0;o<r.length;o++)h=r[o],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=s,h=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var ye=xa(o.type,h);r=c.getSnapshotBeforeUpdate(ye,g),c.__reactInternalSnapshotBeforeUpdate=r}catch(Ae){rt(o,o.return,Ae)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)xm(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":xm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Xt=r;break}Xt=s.return}}function Uv(r,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Pi(r,o),c&4&&cc(5,o);break;case 1:if(Pi(r,o),c&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(T){rt(o,o.return,T)}else{var h=xa(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(h,s,r.__reactInternalSnapshotBeforeUpdate)}catch(T){rt(o,o.return,T)}}c&64&&Dv(o),c&512&&uc(o,o.return);break;case 3:if(Pi(r,o),c&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Eb(r,s)}catch(T){rt(o,o.return,T)}}break;case 27:s===null&&c&4&&Pv(o);case 26:case 5:Pi(r,o),s===null&&c&4&&Mv(o),c&512&&uc(o,o.return);break;case 12:Pi(r,o);break;case 31:Pi(r,o),c&4&&Bv(r,o);break;case 13:Pi(r,o),c&4&&zv(r,o),c&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=M1.bind(null,o),Z1(r,o))));break;case 22:if(c=o.memoizedState!==null||Mi,!c){s=s!==null&&s.memoizedState!==null||zt,h=Mi;var g=zt;Mi=c,(zt=s)&&!g?ki(r,o,(o.subtreeFlags&8772)!==0):Pi(r,o),Mi=h,zt=g}break;case 30:break;default:Pi(r,o)}}function Vv(r){var s=r.alternate;s!==null&&(r.alternate=null,Vv(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&to(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var _t=null,Nn=!1;function Li(r,s,o){for(o=o.child;o!==null;)jv(r,s,o),o=o.sibling}function jv(r,s,o){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(xt,o)}catch{}switch(o.tag){case 26:zt||ci(o,s),Li(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:zt||ci(o,s);var c=_t,h=Nn;Es(o.type)&&(_t=o.stateNode,Nn=!1),Li(r,s,o),bc(o.stateNode),_t=c,Nn=h;break;case 5:zt||ci(o,s);case 6:if(c=_t,h=Nn,_t=null,Li(r,s,o),_t=c,Nn=h,_t!==null)if(Nn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(o.stateNode)}catch(g){rt(o,s,g)}else try{_t.removeChild(o.stateNode)}catch(g){rt(o,s,g)}break;case 18:_t!==null&&(Nn?(r=_t,DE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Bo(r)):DE(_t,o.stateNode));break;case 4:c=_t,h=Nn,_t=o.stateNode.containerInfo,Nn=!0,Li(r,s,o),_t=c,Nn=h;break;case 0:case 11:case 14:case 15:ps(2,o,s),zt||ps(4,o,s),Li(r,s,o);break;case 1:zt||(ci(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Ov(o,s,c)),Li(r,s,o);break;case 21:Li(r,s,o);break;case 22:zt=(c=zt)||o.memoizedState!==null,Li(r,s,o),zt=c;break;default:Li(r,s,o)}}function Bv(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Bo(r)}catch(o){rt(s,s.return,o)}}}function zv(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Bo(r)}catch(o){rt(s,s.return,o)}}function S1(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new kv),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new kv),s;default:throw Error(i(435,r.tag))}}function wd(r,s){var o=S1(r);s.forEach(function(c){if(!o.has(c)){o.add(c);var h=L1.bind(null,r,c);c.then(h,h)}})}function Cn(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var h=o[c],g=r,T=s,S=T;e:for(;S!==null;){switch(S.tag){case 27:if(Es(S.type)){_t=S.stateNode,Nn=!1;break e}break;case 5:_t=S.stateNode,Nn=!1;break e;case 3:case 4:_t=S.stateNode.containerInfo,Nn=!0;break e}S=S.return}if(_t===null)throw Error(i(160));jv(g,T,h),_t=null,Nn=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Fv(s,r),s=s.sibling}var Mr=null;function Fv(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Cn(s,r),Dn(r),c&4&&(ps(3,r,r.return),cc(3,r),ps(5,r,r.return));break;case 1:Cn(s,r),Dn(r),c&512&&(zt||o===null||ci(o,o.return)),c&64&&Mi&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var h=Mr;if(Cn(s,r),Dn(r),c&512&&(zt||o===null||ci(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(c){case"title":g=h.getElementsByTagName("title")[0],(!g||g[Wr]||g[Pt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(c),h.head.insertBefore(g,h.querySelector("head > title"))),ln(g,c,o),g[Pt]=r,kt(g),c=g;break e;case"link":var T=FE("link","href",h).get(c+(o.href||""));if(T){for(var S=0;S<T.length;S++)if(g=T[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(S,1);break t}}g=h.createElement(c),ln(g,c,o),h.head.appendChild(g);break;case"meta":if(T=FE("meta","content",h).get(c+(o.content||""))){for(S=0;S<T.length;S++)if(g=T[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(S,1);break t}}g=h.createElement(c),ln(g,c,o),h.head.appendChild(g);break;default:throw Error(i(468,c))}g[Pt]=r,kt(g),c=g}r.stateNode=c}else GE(h,r.type,r.stateNode);else r.stateNode=zE(h,c,r.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?GE(h,r.type,r.stateNode):zE(h,c,r.memoizedProps)):c===null&&r.stateNode!==null&&Zp(r,r.memoizedProps,o.memoizedProps)}break;case 27:Cn(s,r),Dn(r),c&512&&(zt||o===null||ci(o,o.return)),o!==null&&c&4&&Zp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Cn(s,r),Dn(r),c&512&&(zt||o===null||ci(o,o.return)),r.flags&32){h=r.stateNode;try{Rn(h,"")}catch(ye){rt(r,r.return,ye)}}c&4&&r.stateNode!=null&&(h=r.memoizedProps,Zp(r,h,o!==null?o.memoizedProps:h)),c&1024&&(nm=!0);break;case 6:if(Cn(s,r),Dn(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(ye){rt(r,r.return,ye)}}break;case 3:if(Bd=null,h=Mr,Mr=Vd(s.containerInfo),Cn(s,r),Mr=h,Dn(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Bo(s.containerInfo)}catch(ye){rt(r,r.return,ye)}nm&&(nm=!1,Gv(r));break;case 4:c=Mr,Mr=Vd(r.stateNode.containerInfo),Cn(s,r),Dn(r),Mr=c;break;case 12:Cn(s,r),Dn(r);break;case 31:Cn(s,r),Dn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,wd(r,c)));break;case 13:Cn(s,r),Dn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Id=$t()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,wd(r,c)));break;case 22:h=r.memoizedState!==null;var P=o!==null&&o.memoizedState!==null,K=Mi,ee=zt;if(Mi=K||h,zt=ee||P,Cn(s,r),zt=ee,Mi=K,Dn(r),c&8192)e:for(s=r.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(o===null||P||Mi||zt||Ra(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){P=o=s;try{if(g=P.stateNode,h)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=P.stateNode;var re=P.memoizedProps.style,W=re!=null&&re.hasOwnProperty("display")?re.display:null;S.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(ye){rt(P,P.return,ye)}}}else if(s.tag===6){if(o===null){P=s;try{P.stateNode.nodeValue=h?"":P.memoizedProps}catch(ye){rt(P,P.return,ye)}}}else if(s.tag===18){if(o===null){P=s;try{var J=P.stateNode;h?OE(J,!0):OE(P.stateNode,!1)}catch(ye){rt(P,P.return,ye)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,wd(r,o))));break;case 19:Cn(s,r),Dn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,wd(r,c)));break;case 30:break;case 21:break;default:Cn(s,r),Dn(r)}}function Dn(r){var s=r.flags;if(s&2){try{for(var o,c=r.return;c!==null;){if(Lv(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var h=o.stateNode,g=em(r);Ad(r,g,h);break;case 5:var T=o.stateNode;o.flags&32&&(Rn(T,""),o.flags&=-33);var S=em(r);Ad(r,S,T);break;case 3:case 4:var P=o.stateNode.containerInfo,K=em(r);tm(r,K,P);break;default:throw Error(i(161))}}catch(ee){rt(r,r.return,ee)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Gv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;Gv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Pi(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Uv(r,s.alternate,s),s=s.sibling}function Ra(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:ps(4,s,s.return),Ra(s);break;case 1:ci(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Ov(s,s.return,o),Ra(s);break;case 27:bc(s.stateNode);case 26:case 5:ci(s,s.return),Ra(s);break;case 22:s.memoizedState===null&&Ra(s);break;case 30:Ra(s);break;default:Ra(s)}r=r.sibling}}function ki(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,h=r,g=s,T=g.flags;switch(g.tag){case 0:case 11:case 15:ki(h,g,o),cc(4,g);break;case 1:if(ki(h,g,o),c=g,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(K){rt(c,c.return,K)}if(c=g,h=c.updateQueue,h!==null){var S=c.stateNode;try{var P=h.shared.hiddenCallbacks;if(P!==null)for(h.shared.hiddenCallbacks=null,h=0;h<P.length;h++)vb(P[h],S)}catch(K){rt(c,c.return,K)}}o&&T&64&&Dv(g),uc(g,g.return);break;case 27:Pv(g);case 26:case 5:ki(h,g,o),o&&c===null&&T&4&&Mv(g),uc(g,g.return);break;case 12:ki(h,g,o);break;case 31:ki(h,g,o),o&&T&4&&Bv(h,g);break;case 13:ki(h,g,o),o&&T&4&&zv(h,g);break;case 22:g.memoizedState===null&&ki(h,g,o),uc(g,g.return);break;case 30:break;default:ki(h,g,o)}s=s.sibling}}function rm(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Ql(o))}function im(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Ql(r))}function Lr(r,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Hv(r,s,o,c),s=s.sibling}function Hv(r,s,o,c){var h=s.flags;switch(s.tag){case 0:case 11:case 15:Lr(r,s,o,c),h&2048&&cc(9,s);break;case 1:Lr(r,s,o,c);break;case 3:Lr(r,s,o,c),h&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Ql(r)));break;case 12:if(h&2048){Lr(r,s,o,c),r=s.stateNode;try{var g=s.memoizedProps,T=g.id,S=g.onPostCommit;typeof S=="function"&&S(T,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(P){rt(s,s.return,P)}}else Lr(r,s,o,c);break;case 31:Lr(r,s,o,c);break;case 13:Lr(r,s,o,c);break;case 23:break;case 22:g=s.stateNode,T=s.alternate,s.memoizedState!==null?g._visibility&2?Lr(r,s,o,c):dc(r,s):g._visibility&2?Lr(r,s,o,c):(g._visibility|=2,No(r,s,o,c,(s.subtreeFlags&10256)!==0||!1)),h&2048&&rm(T,s);break;case 24:Lr(r,s,o,c),h&2048&&im(s.alternate,s);break;default:Lr(r,s,o,c)}}function No(r,s,o,c,h){for(h=h&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=r,T=s,S=o,P=c,K=T.flags;switch(T.tag){case 0:case 11:case 15:No(g,T,S,P,h),cc(8,T);break;case 23:break;case 22:var ee=T.stateNode;T.memoizedState!==null?ee._visibility&2?No(g,T,S,P,h):dc(g,T):(ee._visibility|=2,No(g,T,S,P,h)),h&&K&2048&&rm(T.alternate,T);break;case 24:No(g,T,S,P,h),h&&K&2048&&im(T.alternate,T);break;default:No(g,T,S,P,h)}s=s.sibling}}function dc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,c=s,h=c.flags;switch(c.tag){case 22:dc(o,c),h&2048&&rm(c.alternate,c);break;case 24:dc(o,c),h&2048&&im(c.alternate,c);break;default:dc(o,c)}s=s.sibling}}var fc=8192;function Co(r,s,o){if(r.subtreeFlags&fc)for(r=r.child;r!==null;)qv(r,s,o),r=r.sibling}function qv(r,s,o){switch(r.tag){case 26:Co(r,s,o),r.flags&fc&&r.memoizedState!==null&&dC(o,Mr,r.memoizedState,r.memoizedProps);break;case 5:Co(r,s,o);break;case 3:case 4:var c=Mr;Mr=Vd(r.stateNode.containerInfo),Co(r,s,o),Mr=c;break;case 22:r.memoizedState===null&&(c=r.alternate,c!==null&&c.memoizedState!==null?(c=fc,fc=16777216,Co(r,s,o),fc=c):Co(r,s,o));break;default:Co(r,s,o)}}function Yv(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function hc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Xt=c,$v(c,r)}Yv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Kv(r),r=r.sibling}function Kv(r){switch(r.tag){case 0:case 11:case 15:hc(r),r.flags&2048&&ps(9,r,r.return);break;case 3:hc(r);break;case 12:hc(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Sd(r)):hc(r);break;default:hc(r)}}function Sd(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Xt=c,$v(c,r)}Yv(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:ps(8,s,s.return),Sd(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Sd(s));break;default:Sd(s)}r=r.sibling}}function $v(r,s){for(;Xt!==null;){var o=Xt;switch(o.tag){case 0:case 11:case 15:ps(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Ql(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Xt=c;else e:for(o=r;Xt!==null;){c=Xt;var h=c.sibling,g=c.return;if(Vv(c),c===o){Xt=null;break e}if(h!==null){h.return=g,Xt=h;break e}Xt=g}}}var I1={getCacheForType:function(r){var s=an(Vt),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o},cacheSignal:function(){return an(Vt).controller.signal}},x1=typeof WeakMap=="function"?WeakMap:Map,Xe=0,lt=null,ke=null,je=0,nt=0,Hn=null,ms=!1,Do=!1,sm=!1,Ui=0,St=0,gs=0,Na=0,am=0,qn=0,Oo=0,pc=null,On=null,om=!1,Id=0,Wv=0,xd=1/0,Rd=null,ys=null,Yt=0,_s=null,Mo=null,Vi=0,lm=0,cm=null,Qv=null,mc=0,um=null;function Yn(){return(Xe&2)!==0&&je!==0?je&-je:q.T!==null?gm():Nu()}function Xv(){if(qn===0)if((je&536870912)===0||He){var r=na;na<<=1,(na&3932160)===0&&(na=262144),qn=r}else qn=536870912;return r=Fn.current,r!==null&&(r.flags|=32),qn}function Mn(r,s,o){(r===lt&&(nt===2||nt===9)||r.cancelPendingCommit!==null)&&(Lo(r,0),bs(r,je,qn,!1)),ra(r,o),((Xe&2)===0||r!==lt)&&(r===lt&&((Xe&2)===0&&(Na|=o),St===4&&bs(r,je,qn,!1)),ui(r))}function Jv(r,s,o){if((Xe&6)!==0)throw Error(i(327));var c=!o&&(s&127)===0&&(s&r.expiredLanes)===0||wr(r,s),h=c?C1(r,s):fm(r,s,!0),g=c;do{if(h===0){Do&&!c&&bs(r,s,0,!1);break}else{if(o=r.current.alternate,g&&!R1(o)){h=fm(r,s,!1),g=!1;continue}if(h===2){if(g=s,r.errorRecoveryDisabledLanes&g)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var S=r;h=pc;var P=S.current.memoizedState.isDehydrated;if(P&&(Lo(S,T).flags|=256),T=fm(S,T,!1),T!==2){if(sm&&!P){S.errorRecoveryDisabledLanes|=g,Na|=g,h=4;break e}g=On,On=h,g!==null&&(On===null?On=g:On.push.apply(On,g))}h=T}if(g=!1,h!==2)continue}}if(h===1){Lo(r,0),bs(r,s,0,!0);break}e:{switch(c=r,g=h,g){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:bs(c,s,qn,!ms);break e;case 2:On=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(h=Id+300-$t(),10<h)){if(bs(c,s,qn,!ms),Yr(c,0,!0)!==0)break e;Vi=s,c.timeoutHandle=NE(Zv.bind(null,c,o,On,Rd,om,s,qn,Na,Oo,ms,g,"Throttled",-0,0),h);break e}Zv(c,o,On,Rd,om,s,qn,Na,Oo,ms,g,null,-0,0)}}break}while(!0);ui(r)}function Zv(r,s,o,c,h,g,T,S,P,K,ee,re,W,J){if(r.timeoutHandle=-1,re=s.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xr},qv(s,g,re);var ye=(g&62914560)===g?Id-$t():(g&4194048)===g?Wv-$t():0;if(ye=fC(re,ye),ye!==null){Vi=g,r.cancelPendingCommit=ye(oE.bind(null,r,s,g,o,c,h,T,S,P,ee,re,null,W,J)),bs(r,g,T,!K);return}}oE(r,s,g,o,c,h,T,S,P)}function R1(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var h=o[c],g=h.getSnapshot;h=h.value;try{if(!Bn(g(),h))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function bs(r,s,o,c){s&=~am,s&=~Na,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var h=s;0<h;){var g=31-Nt(h),T=1<<g;c[g]=-1,h&=~T}o!==0&&ia(r,o,s)}function Nd(){return(Xe&6)===0?(gc(0),!1):!0}function dm(){if(ke!==null){if(nt===0)var r=ke.return;else r=ke,xi=va=null,xp(r),wo=null,Jl=0,r=ke;for(;r!==null;)Cv(r.alternate,r),r=r.return;ke=null}}function Lo(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,$1(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Vi=0,dm(),lt=r,ke=o=Si(r.current,null),je=s,nt=0,Hn=null,ms=!1,Do=wr(r,s),sm=!1,Oo=qn=am=Na=gs=St=0,On=pc=null,om=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var h=31-Nt(c),g=1<<h;s|=r[h],c&=~g}return Ui=s,Qu(),o}function eE(r,s){Oe=null,q.H=ac,s===Ao||s===id?(s=gb(),nt=3):s===mp?(s=gb(),nt=4):nt=s===Gp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Hn=s,ke===null&&(St=1,_d(r,lr(s,r.current)))}function tE(){var r=Fn.current;return r===null?!0:(je&4194048)===je?fr===null:(je&62914560)===je||(je&536870912)!==0?r===fr:!1}function nE(){var r=q.H;return q.H=ac,r===null?ac:r}function rE(){var r=q.A;return q.A=I1,r}function Cd(){St=4,ms||(je&4194048)!==je&&Fn.current!==null||(Do=!0),(gs&134217727)===0&&(Na&134217727)===0||lt===null||bs(lt,je,qn,!1)}function fm(r,s,o){var c=Xe;Xe|=2;var h=nE(),g=rE();(lt!==r||je!==s)&&(Rd=null,Lo(r,s)),s=!1;var T=St;e:do try{if(nt!==0&&ke!==null){var S=ke,P=Hn;switch(nt){case 8:dm(),T=6;break e;case 3:case 2:case 9:case 6:Fn.current===null&&(s=!0);var K=nt;if(nt=0,Hn=null,Po(r,S,P,K),o&&Do){T=0;break e}break;default:K=nt,nt=0,Hn=null,Po(r,S,P,K)}}N1(),T=St;break}catch(ee){eE(r,ee)}while(!0);return s&&r.shellSuspendCounter++,xi=va=null,Xe=c,q.H=h,q.A=g,ke===null&&(lt=null,je=0,Qu()),T}function N1(){for(;ke!==null;)iE(ke)}function C1(r,s){var o=Xe;Xe|=2;var c=nE(),h=rE();lt!==r||je!==s?(Rd=null,xd=$t()+500,Lo(r,s)):Do=wr(r,s);e:do try{if(nt!==0&&ke!==null){s=ke;var g=Hn;t:switch(nt){case 1:nt=0,Hn=null,Po(r,s,g,1);break;case 2:case 9:if(pb(g)){nt=0,Hn=null,sE(s);break}s=function(){nt!==2&&nt!==9||lt!==r||(nt=7),ui(r)},g.then(s,s);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:pb(g)?(nt=0,Hn=null,sE(s)):(nt=0,Hn=null,Po(r,s,g,7));break;case 5:var T=null;switch(ke.tag){case 26:T=ke.memoizedState;case 5:case 27:var S=ke;if(T?HE(T):S.stateNode.complete){nt=0,Hn=null;var P=S.sibling;if(P!==null)ke=P;else{var K=S.return;K!==null?(ke=K,Dd(K)):ke=null}break t}}nt=0,Hn=null,Po(r,s,g,5);break;case 6:nt=0,Hn=null,Po(r,s,g,6);break;case 8:dm(),St=6;break e;default:throw Error(i(462))}}D1();break}catch(ee){eE(r,ee)}while(!0);return xi=va=null,q.H=c,q.A=h,Xe=o,ke!==null?0:(lt=null,je=0,Qu(),St)}function D1(){for(;ke!==null&&!Qa();)iE(ke)}function iE(r){var s=Rv(r.alternate,r,Ui);r.memoizedProps=r.pendingProps,s===null?Dd(r):ke=s}function sE(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=Tv(o,s,s.pendingProps,s.type,void 0,je);break;case 11:s=Tv(o,s,s.pendingProps,s.type.render,s.ref,je);break;case 5:xp(s);default:Cv(o,s),s=ke=rb(s,Ui),s=Rv(o,s,Ui)}r.memoizedProps=r.pendingProps,s===null?Dd(r):ke=s}function Po(r,s,o,c){xi=va=null,xp(s),wo=null,Jl=0;var h=s.return;try{if(b1(r,h,s,o,je)){St=1,_d(r,lr(o,r.current)),ke=null;return}}catch(g){if(h!==null)throw ke=h,g;St=1,_d(r,lr(o,r.current)),ke=null;return}s.flags&32768?(He||c===1?r=!0:Do||(je&536870912)!==0?r=!1:(ms=r=!0,(c===2||c===9||c===3||c===6)&&(c=Fn.current,c!==null&&c.tag===13&&(c.flags|=16384))),aE(s,r)):Dd(s)}function Dd(r){var s=r;do{if((s.flags&32768)!==0){aE(s,ms);return}r=s.return;var o=T1(s.alternate,s,Ui);if(o!==null){ke=o;return}if(s=s.sibling,s!==null){ke=s;return}ke=s=r}while(s!==null);St===0&&(St=5)}function aE(r,s){do{var o=A1(r.alternate,r);if(o!==null){o.flags&=32767,ke=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){ke=r;return}ke=r=o}while(r!==null);St=6,ke=null}function oE(r,s,o,c,h,g,T,S,P){r.cancelPendingCommit=null;do Od();while(Yt!==0);if((Xe&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(g=s.lanes|s.childLanes,g|=ep,qh(r,o,g,T,S,P),r===lt&&(ke=lt=null,je=0),Mo=s,_s=r,Vi=o,lm=g,cm=h,Qv=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,P1(tr,function(){return fE(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=q.T,q.T=null,h=ce.p,ce.p=2,T=Xe,Xe|=4;try{w1(r,s,o)}finally{Xe=T,ce.p=h,q.T=c}}Yt=1,lE(),cE(),uE()}}function lE(){if(Yt===1){Yt=0;var r=_s,s=Mo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=q.T,q.T=null;var c=ce.p;ce.p=2;var h=Xe;Xe|=4;try{Fv(s,r);var g=wm,T=$_(r.containerInfo),S=g.focusedElem,P=g.selectionRange;if(T!==S&&S&&S.ownerDocument&&K_(S.ownerDocument.documentElement,S)){if(P!==null&&Wh(S)){var K=P.start,ee=P.end;if(ee===void 0&&(ee=K),"selectionStart"in S)S.selectionStart=K,S.selectionEnd=Math.min(ee,S.value.length);else{var re=S.ownerDocument||document,W=re&&re.defaultView||window;if(W.getSelection){var J=W.getSelection(),ye=S.textContent.length,Ae=Math.min(P.start,ye),ot=P.end===void 0?Ae:Math.min(P.end,ye);!J.extend&&Ae>ot&&(T=ot,ot=Ae,Ae=T);var z=Y_(S,Ae),V=Y_(S,ot);if(z&&V&&(J.rangeCount!==1||J.anchorNode!==z.node||J.anchorOffset!==z.offset||J.focusNode!==V.node||J.focusOffset!==V.offset)){var Y=re.createRange();Y.setStart(z.node,z.offset),J.removeAllRanges(),Ae>ot?(J.addRange(Y),J.extend(V.node,V.offset)):(Y.setEnd(V.node,V.offset),J.addRange(Y))}}}}for(re=[],J=S;J=J.parentNode;)J.nodeType===1&&re.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<re.length;S++){var te=re[S];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Hd=!!Am,wm=Am=null}finally{Xe=h,ce.p=c,q.T=o}}r.current=s,Yt=2}}function cE(){if(Yt===2){Yt=0;var r=_s,s=Mo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=q.T,q.T=null;var c=ce.p;ce.p=2;var h=Xe;Xe|=4;try{Uv(r,s.alternate,s)}finally{Xe=h,ce.p=c,q.T=o}}Yt=3}}function uE(){if(Yt===4||Yt===3){Yt=0,Xa();var r=_s,s=Mo,o=Vi,c=Qv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Yt=5:(Yt=0,Mo=_s=null,dE(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(ys=null),Ei(o),s=s.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(xt,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=q.T,h=ce.p,ce.p=2,q.T=null;try{for(var g=r.onRecoverableError,T=0;T<c.length;T++){var S=c[T];g(S.value,{componentStack:S.stack})}}finally{q.T=s,ce.p=h}}(Vi&3)!==0&&Od(),ui(r),h=r.pendingLanes,(o&261930)!==0&&(h&42)!==0?r===um?mc++:(mc=0,um=r):mc=0,gc(0)}}function dE(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Ql(s)))}function Od(){return lE(),cE(),uE(),fE()}function fE(){if(Yt!==5)return!1;var r=_s,s=lm;lm=0;var o=Ei(Vi),c=q.T,h=ce.p;try{ce.p=32>o?32:o,q.T=null,o=cm,cm=null;var g=_s,T=Vi;if(Yt=0,Mo=_s=null,Vi=0,(Xe&6)!==0)throw Error(i(331));var S=Xe;if(Xe|=4,Kv(g.current),Hv(g,g.current,T,o),Xe=S,gc(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(xt,g)}catch{}return!0}finally{ce.p=h,q.T=c,dE(r,s)}}function hE(r,s,o){s=lr(o,s),s=Fp(r.stateNode,s,2),r=ds(r,s,2),r!==null&&(ra(r,2),ui(r))}function rt(r,s,o){if(r.tag===3)hE(r,r,o);else for(;s!==null;){if(s.tag===3){hE(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ys===null||!ys.has(c))){r=lr(o,r),o=pv(2),c=ds(s,o,2),c!==null&&(mv(o,c,s,r),ra(c,2),ui(c));break}}s=s.return}}function hm(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new x1;var h=new Set;c.set(s,h)}else h=c.get(s),h===void 0&&(h=new Set,c.set(s,h));h.has(o)||(sm=!0,h.add(o),r=O1.bind(null,r,s,o),s.then(r,r))}function O1(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,lt===r&&(je&o)===o&&(St===4||St===3&&(je&62914560)===je&&300>$t()-Id?(Xe&2)===0&&Lo(r,0):am|=o,Oo===je&&(Oo=0)),ui(r)}function pE(r,s){s===0&&(s=Ru()),r=ya(r,s),r!==null&&(ra(r,s),ui(r))}function M1(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),pE(r,o)}function L1(r,s){var o=0;switch(r.tag){case 31:case 13:var c=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),pE(r,o)}function P1(r,s){return ut(r,s)}var Md=null,ko=null,pm=!1,Ld=!1,mm=!1,vs=0;function ui(r){r!==ko&&r.next===null&&(ko===null?Md=ko=r:ko=ko.next=r),Ld=!0,pm||(pm=!0,U1())}function gc(r,s){if(!mm&&Ld){mm=!0;do for(var o=!1,c=Md;c!==null;){if(r!==0){var h=c.pendingLanes;if(h===0)var g=0;else{var T=c.suspendedLanes,S=c.pingedLanes;g=(1<<31-Nt(42|r)+1)-1,g&=h&~(T&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,_E(c,g))}else g=je,g=Yr(c,c===lt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||wr(c,g)||(o=!0,_E(c,g));c=c.next}while(o);mm=!1}}function k1(){mE()}function mE(){Ld=pm=!1;var r=0;vs!==0&&K1()&&(r=vs);for(var s=$t(),o=null,c=Md;c!==null;){var h=c.next,g=gE(c,s);g===0?(c.next=null,o===null?Md=h:o.next=h,h===null&&(ko=o)):(o=c,(r!==0||(g&3)!==0)&&(Ld=!0)),c=h}Yt!==0&&Yt!==5||gc(r),vs!==0&&(vs=0)}function gE(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,h=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var T=31-Nt(g),S=1<<T,P=h[T];P===-1?((S&o)===0||(S&c)!==0)&&(h[T]=Hh(S,s)):P<=s&&(r.expiredLanes|=S),g&=~S}if(s=lt,o=je,o=Yr(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,o===0||r===s&&(nt===2||nt===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Ar(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||wr(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(c!==null&&Ar(c),Ei(o)){case 2:case 8:o=ea;break;case 32:o=tr;break;case 268435456:o=ta;break;default:o=tr}return c=yE.bind(null,r),o=ut(o,c),r.callbackPriority=s,r.callbackNode=o,s}return c!==null&&c!==null&&Ar(c),r.callbackPriority=2,r.callbackNode=null,2}function yE(r,s){if(Yt!==0&&Yt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Od()&&r.callbackNode!==o)return null;var c=je;return c=Yr(r,r===lt?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(Jv(r,c,s),gE(r,$t()),r.callbackNode!=null&&r.callbackNode===o?yE.bind(null,r):null)}function _E(r,s){if(Od())return null;Jv(r,s,!0)}function U1(){W1(function(){(Xe&6)!==0?ut(Wi,k1):mE()})}function gm(){if(vs===0){var r=Eo;r===0&&(r=Hr,Hr<<=1,(Hr&261888)===0&&(Hr=256)),vs=r}return vs}function bE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:so(""+r)}function vE(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function V1(r,s,o,c,h){if(s==="submit"&&o&&o.stateNode===h){var g=bE((h[Wt]||null).action),T=c.submitter;T&&(s=(s=T[Wt]||null)?bE(s.formAction):T.getAttribute("formAction"),s!==null&&(g=s,T=null));var S=new ri("action","action",null,c,h);r.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(vs!==0){var P=T?vE(h,T):new FormData(h);kp(o,{pending:!0,data:P,method:h.method,action:g},null,P)}}else typeof g=="function"&&(S.preventDefault(),P=T?vE(h,T):new FormData(h),kp(o,{pending:!0,data:P,method:h.method,action:g},g,P))},currentTarget:h}]})}}for(var ym=0;ym<Zh.length;ym++){var _m=Zh[ym],j1=_m.toLowerCase(),B1=_m[0].toUpperCase()+_m.slice(1);Or(j1,"on"+B1)}Or(X_,"onAnimationEnd"),Or(J_,"onAnimationIteration"),Or(Z_,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(n1,"onTransitionRun"),Or(r1,"onTransitionStart"),Or(i1,"onTransitionCancel"),Or(eb,"onTransitionEnd"),Zr("onMouseEnter",["mouseout","mouseover"]),Zr("onMouseLeave",["mouseout","mouseover"]),Zr("onPointerEnter",["pointerout","pointerover"]),Zr("onPointerLeave",["pointerout","pointerover"]),Jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yc));function EE(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],h=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var T=c.length-1;0<=T;T--){var S=c[T],P=S.instance,K=S.currentTarget;if(S=S.listener,P!==g&&h.isPropagationStopped())break e;g=S,h.currentTarget=K;try{g(h)}catch(ee){Wu(ee)}h.currentTarget=null,g=P}else for(T=0;T<c.length;T++){if(S=c[T],P=S.instance,K=S.currentTarget,S=S.listener,P!==g&&h.isPropagationStopped())break e;g=S,h.currentTarget=K;try{g(h)}catch(ee){Wu(ee)}h.currentTarget=null,g=P}}}}function Ue(r,s){var o=s[eo];o===void 0&&(o=s[eo]=new Set);var c=r+"__bubble";o.has(c)||(TE(s,r,2,!1),o.add(c))}function bm(r,s,o){var c=0;s&&(c|=4),TE(o,r,c,s)}var Pd="_reactListening"+Math.random().toString(36).slice(2);function vm(r){if(!r[Pd]){r[Pd]=!0,Nl.forEach(function(o){o!=="selectionchange"&&(z1.has(o)||bm(o,!1,r),bm(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Pd]||(s[Pd]=!0,bm("selectionchange",!1,s))}}function TE(r,s,o,c){switch(XE(s)){case 2:var h=mC;break;case 8:h=gC;break;default:h=Pm}o=h.bind(null,s,o,r),h=void 0,!ca||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),c?h!==void 0?r.addEventListener(s,o,{capture:!0,passive:h}):r.addEventListener(s,o,!0):h!==void 0?r.addEventListener(s,o,{passive:h}):r.addEventListener(s,o,!1)}function Em(r,s,o,c,h){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var S=c.stateNode.containerInfo;if(S===h)break;if(T===4)for(T=c.return;T!==null;){var P=T.tag;if((P===3||P===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;S!==null;){if(T=Qr(S),T===null)return;if(P=T.tag,P===5||P===6||P===26||P===27){c=g=T;continue e}S=S.parentNode}}c=c.return}ts(function(){var K=g,ee=ir(o),re=[];e:{var W=tb.get(r);if(W!==void 0){var J=ri,ye=r;switch(r){case"keypress":if(da(o)===0)break e;case"keydown":case"keyup":J=Yu;break;case"focusin":ye="focus",J=ha;break;case"focusout":ye="blur",J=ha;break;case"beforeblur":case"afterblur":J=ha;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Fl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=v;break;case X_:case J_:case Z_:J=ju;break;case eb:J=I;break;case"scroll":case"scrollend":J=zl;break;case"wheel":J=X;break;case"copy":case"cut":case"paste":J=Bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=wi;break;case"toggle":case"beforetoggle":J=De}var Ae=(s&4)!==0,ot=!Ae&&(r==="scroll"||r==="scrollend"),z=Ae?W!==null?W+"Capture":null:W;Ae=[];for(var V=K,Y;V!==null;){var te=V;if(Y=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||Y===null||z===null||(te=Rr(V,z),te!=null&&Ae.push(_c(V,te,Y))),ot)break;V=V.return}0<Ae.length&&(W=new J(W,ye,null,o,ee),re.push({event:W,listeners:Ae}))}}if((s&7)===0){e:{if(W=r==="mouseover"||r==="pointerover",J=r==="mouseout"||r==="pointerout",W&&o!==Vl&&(ye=o.relatedTarget||o.fromElement)&&(Qr(ye)||ye[$r]))break e;if((J||W)&&(W=ee.window===ee?ee:(W=ee.ownerDocument)?W.defaultView||W.parentWindow:window,J?(ye=o.relatedTarget||o.toElement,J=K,ye=ye?Qr(ye):null,ye!==null&&(ot=l(ye),Ae=ye.tag,ye!==ot||Ae!==5&&Ae!==27&&Ae!==6)&&(ye=null)):(J=null,ye=K),J!==ye)){if(Ae=Fl,te="onMouseLeave",z="onMouseEnter",V="mouse",(r==="pointerout"||r==="pointerover")&&(Ae=wi,te="onPointerLeave",z="onPointerEnter",V="pointer"),ot=J==null?W:Vn(J),Y=ye==null?W:Vn(ye),W=new Ae(te,V+"leave",J,o,ee),W.target=ot,W.relatedTarget=Y,te=null,Qr(ee)===K&&(Ae=new Ae(z,V+"enter",ye,o,ee),Ae.target=Y,Ae.relatedTarget=ot,te=Ae),ot=te,J&&ye)t:{for(Ae=F1,z=J,V=ye,Y=0,te=z;te;te=Ae(te))Y++;te=0;for(var Ee=V;Ee;Ee=Ae(Ee))te++;for(;0<Y-te;)z=Ae(z),Y--;for(;0<te-Y;)V=Ae(V),te--;for(;Y--;){if(z===V||V!==null&&z===V.alternate){Ae=z;break t}z=Ae(z),V=Ae(V)}Ae=null}else Ae=null;J!==null&&AE(re,W,J,Ae,!1),ye!==null&&ot!==null&&AE(re,ot,ye,Ae,!0)}}e:{if(W=K?Vn(K):window,J=W.nodeName&&W.nodeName.toLowerCase(),J==="select"||J==="input"&&W.type==="file")var Ke=B_;else if(V_(W))if(z_)Ke=ZN;else{Ke=XN;var _e=QN}else J=W.nodeName,!J||J.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?K&&io(K.elementType)&&(Ke=B_):Ke=JN;if(Ke&&(Ke=Ke(r,K))){j_(re,Ke,o,ee);break e}_e&&_e(r,W,K),r==="focusout"&&K&&W.type==="number"&&K.memoizedProps.value!=null&&Pl(W,"number",W.value)}switch(_e=K?Vn(K):window,r){case"focusin":(V_(_e)||_e.contentEditable==="true")&&(ho=_e,Qh=K,Kl=null);break;case"focusout":Kl=Qh=ho=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,W_(re,o,ee);break;case"selectionchange":if(t1)break;case"keydown":case"keyup":W_(re,o,ee)}var Me;if(Qe)e:{switch(r){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else fo?pa(r,o)&&(Be="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Be="onCompositionStart");Be&&(ai&&o.locale!=="ko"&&(fo||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&fo&&(Me=Bl()):(ni=ee,jl="value"in ni?ni.value:ni.textContent,fo=!0)),_e=kd(K,Be),0<_e.length&&(Be=new si(Be,r,null,o,ee),re.push({event:Be,listeners:_e}),Me?Be.data=Me:(Me=uo(o),Me!==null&&(Be.data=Me)))),(Me=ar?YN(r,o):KN(r,o))&&(Be=kd(K,"onBeforeInput"),0<Be.length&&(_e=new si("onBeforeInput","beforeinput",null,o,ee),re.push({event:_e,listeners:Be}),_e.data=Me)),V1(re,r,K,o,ee)}EE(re,s)})}function _c(r,s,o){return{instance:r,listener:s,currentTarget:o}}function kd(r,s){for(var o=s+"Capture",c=[];r!==null;){var h=r,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=Rr(r,o),h!=null&&c.unshift(_c(r,h,g)),h=Rr(r,s),h!=null&&c.push(_c(r,h,g))),r.tag===3)return c;r=r.return}return[]}function F1(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function AE(r,s,o,c,h){for(var g=s._reactName,T=[];o!==null&&o!==c;){var S=o,P=S.alternate,K=S.stateNode;if(S=S.tag,P!==null&&P===c)break;S!==5&&S!==26&&S!==27||K===null||(P=K,h?(K=Rr(o,g),K!=null&&T.unshift(_c(o,K,P))):h||(K=Rr(o,g),K!=null&&T.push(_c(o,K,P)))),o=o.return}T.length!==0&&r.push({event:s,listeners:T})}var G1=/\r\n?/g,H1=/\u0000|\uFFFD/g;function wE(r){return(typeof r=="string"?r:""+r).replace(G1,`
`).replace(H1,"")}function SE(r,s){return s=wE(s),wE(r)===s}function at(r,s,o,c,h,g){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Rn(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Rn(r,""+c);break;case"className":jn(r,"class",c);break;case"tabIndex":jn(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(r,o,c);break;case"style":Ul(r,c,g);break;case"data":if(s!=="object"){jn(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=so(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&at(r,s,"name",h.name,h,null),at(r,s,"formEncType",h.formEncType,h,null),at(r,s,"formMethod",h.formMethod,h,null),at(r,s,"formTarget",h.formTarget,h,null)):(at(r,s,"encType",h.encType,h,null),at(r,s,"method",h.method,h,null),at(r,s,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=so(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=xr);break;case"onScroll":c!=null&&Ue("scroll",r);break;case"onScrollEnd":c!=null&&Ue("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=so(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":Ue("beforetoggle",r),Ue("toggle",r),no(r,"popover",c);break;case"xlinkActuate":Ut(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ut(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ut(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ut(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ut(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ut(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ut(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ut(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ut(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":no(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=ku.get(o)||o,no(r,o,c))}}function Tm(r,s,o,c,h,g){switch(o){case"style":Ul(r,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof c=="string"?Rn(r,c):(typeof c=="number"||typeof c=="bigint")&&Rn(r,""+c);break;case"onScroll":c!=null&&Ue("scroll",r);break;case"onScrollEnd":c!=null&&Ue("scrollend",r);break;case"onClick":c!=null&&(r.onclick=xr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),s=o.slice(2,h?o.length-7:void 0),g=r[Wt]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,h),typeof c=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,c,h);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):no(r,o,c)}}}function ln(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",r),Ue("load",r);var c=!1,h=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:at(r,s,g,T,o,null)}}h&&at(r,s,"srcSet",o.srcSet,o,null),c&&at(r,s,"src",o.src,o,null);return;case"input":Ue("invalid",r);var S=g=T=h=null,P=null,K=null;for(c in o)if(o.hasOwnProperty(c)){var ee=o[c];if(ee!=null)switch(c){case"name":h=ee;break;case"type":T=ee;break;case"checked":P=ee;break;case"defaultChecked":K=ee;break;case"value":g=ee;break;case"defaultValue":S=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,s));break;default:at(r,s,c,ee,o,null)}}Mu(r,g,S,P,K,T,h,!1);return;case"select":Ue("invalid",r),c=T=g=null;for(h in o)if(o.hasOwnProperty(h)&&(S=o[h],S!=null))switch(h){case"value":g=S;break;case"defaultValue":T=S;break;case"multiple":c=S;default:at(r,s,h,S,o,null)}s=g,o=T,r.multiple=!!c,s!=null?Xi(r,!!c,s,!1):o!=null&&Xi(r,!!c,o,!0);return;case"textarea":Ue("invalid",r),g=h=c=null;for(T in o)if(o.hasOwnProperty(T)&&(S=o[T],S!=null))switch(T){case"value":c=S;break;case"defaultValue":h=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:at(r,s,T,S,o,null)}Ji(r,c,h,g);return;case"option":for(P in o)if(o.hasOwnProperty(P)&&(c=o[P],c!=null))switch(P){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:at(r,s,P,c,o,null)}return;case"dialog":Ue("beforetoggle",r),Ue("toggle",r),Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":Ue("load",r);break;case"video":case"audio":for(c=0;c<yc.length;c++)Ue(yc[c],r);break;case"image":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"embed":case"source":case"link":Ue("error",r),Ue("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(c=o[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:at(r,s,K,c,o,null)}return;default:if(io(s)){for(ee in o)o.hasOwnProperty(ee)&&(c=o[ee],c!==void 0&&Tm(r,s,ee,c,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(c=o[S],c!=null&&at(r,s,S,c,o,null))}function q1(r,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,T=null,S=null,P=null,K=null,ee=null;for(J in o){var re=o[J];if(o.hasOwnProperty(J)&&re!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":P=re;default:c.hasOwnProperty(J)||at(r,s,J,null,c,re)}}for(var W in c){var J=c[W];if(re=o[W],c.hasOwnProperty(W)&&(J!=null||re!=null))switch(W){case"type":g=J;break;case"name":h=J;break;case"checked":K=J;break;case"defaultChecked":ee=J;break;case"value":T=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,s));break;default:J!==re&&at(r,s,W,J,c,re)}}ro(r,T,S,P,K,ee,g,h);return;case"select":J=T=S=W=null;for(g in o)if(P=o[g],o.hasOwnProperty(g)&&P!=null)switch(g){case"value":break;case"multiple":J=P;default:c.hasOwnProperty(g)||at(r,s,g,null,c,P)}for(h in c)if(g=c[h],P=o[h],c.hasOwnProperty(h)&&(g!=null||P!=null))switch(h){case"value":W=g;break;case"defaultValue":S=g;break;case"multiple":T=g;default:g!==P&&at(r,s,h,g,c,P)}s=S,o=T,c=J,W!=null?Xi(r,!!o,W,!1):!!c!=!!o&&(s!=null?Xi(r,!!o,s,!0):Xi(r,!!o,o?[]:"",!1));return;case"textarea":J=W=null;for(S in o)if(h=o[S],o.hasOwnProperty(S)&&h!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:at(r,s,S,null,c,h)}for(T in c)if(h=c[T],g=o[T],c.hasOwnProperty(T)&&(h!=null||g!=null))switch(T){case"value":W=h;break;case"defaultValue":J=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==g&&at(r,s,T,h,c,g)}Lu(r,W,J);return;case"option":for(var ye in o)if(W=o[ye],o.hasOwnProperty(ye)&&W!=null&&!c.hasOwnProperty(ye))switch(ye){case"selected":r.selected=!1;break;default:at(r,s,ye,null,c,W)}for(P in c)if(W=c[P],J=o[P],c.hasOwnProperty(P)&&W!==J&&(W!=null||J!=null))switch(P){case"selected":r.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:at(r,s,P,W,c,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in o)W=o[Ae],o.hasOwnProperty(Ae)&&W!=null&&!c.hasOwnProperty(Ae)&&at(r,s,Ae,null,c,W);for(K in c)if(W=c[K],J=o[K],c.hasOwnProperty(K)&&W!==J&&(W!=null||J!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:at(r,s,K,W,c,J)}return;default:if(io(s)){for(var ot in o)W=o[ot],o.hasOwnProperty(ot)&&W!==void 0&&!c.hasOwnProperty(ot)&&Tm(r,s,ot,void 0,c,W);for(ee in c)W=c[ee],J=o[ee],!c.hasOwnProperty(ee)||W===J||W===void 0&&J===void 0||Tm(r,s,ee,W,c,J);return}}for(var z in o)W=o[z],o.hasOwnProperty(z)&&W!=null&&!c.hasOwnProperty(z)&&at(r,s,z,null,c,W);for(re in c)W=c[re],J=o[re],!c.hasOwnProperty(re)||W===J||W==null&&J==null||at(r,s,re,W,c,J)}function IE(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Y1(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var h=o[c],g=h.transferSize,T=h.initiatorType,S=h.duration;if(g&&S&&IE(T)){for(T=0,S=h.responseEnd,c+=1;c<o.length;c++){var P=o[c],K=P.startTime;if(K>S)break;var ee=P.transferSize,re=P.initiatorType;ee&&IE(re)&&(P=P.responseEnd,T+=ee*(P<S?1:(S-K)/(P-K)))}if(--c,s+=8*(g+T)/(h.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Am=null,wm=null;function Ud(r){return r.nodeType===9?r:r.ownerDocument}function xE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function RE(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Sm(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Im=null;function K1(){var r=window.event;return r&&r.type==="popstate"?r===Im?!1:(Im=r,!0):(Im=null,!1)}var NE=typeof setTimeout=="function"?setTimeout:void 0,$1=typeof clearTimeout=="function"?clearTimeout:void 0,CE=typeof Promise=="function"?Promise:void 0,W1=typeof queueMicrotask=="function"?queueMicrotask:typeof CE<"u"?function(r){return CE.resolve(null).then(r).catch(Q1)}:NE;function Q1(r){setTimeout(function(){throw r})}function Es(r){return r==="head"}function DE(r,s){var o=s,c=0;do{var h=o.nextSibling;if(r.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"||o==="/&"){if(c===0){r.removeChild(h),Bo(s);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")bc(r.ownerDocument.documentElement);else if(o==="head"){o=r.ownerDocument.head,bc(o);for(var g=o.firstChild;g;){var T=g.nextSibling,S=g.nodeName;g[Wr]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&bc(r.ownerDocument.body);o=h}while(o);Bo(s)}function OE(r,s){var o=r;r=0;do{var c=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(r===0)break;r--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||r++;o=c}while(o)}function xm(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":xm(o),to(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function X1(r,s,o,c){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Wr])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=hr(r.nextSibling),r===null)break}return null}function J1(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=hr(r.nextSibling),r===null))return null;return r}function ME(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=hr(r.nextSibling),r===null))return null;return r}function Rm(r){return r.data==="$?"||r.data==="$~"}function Nm(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function Z1(r,s){var o=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||o.readyState!=="loading")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function hr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var Cm=null;function LE(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"||o==="/&"){if(s===0)return hr(r.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}r=r.nextSibling}return null}function PE(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return r;s--}else o!=="/$"&&o!=="/&"||s++}r=r.previousSibling}return null}function kE(r,s,o){switch(s=Ud(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function bc(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);to(r)}var pr=new Map,UE=new Set;function Vd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ji=ce.d;ce.d={f:eC,r:tC,D:nC,C:rC,L:iC,m:sC,X:oC,S:aC,M:lC};function eC(){var r=ji.f(),s=Nd();return r||s}function tC(r){var s=rr(r);s!==null&&s.tag===5&&s.type==="form"?ev(s):ji.r(r)}var Uo=typeof document>"u"?null:document;function VE(r,s,o){var c=Uo;if(c&&typeof s=="string"&&s){var h=xn(s);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),UE.has(h)||(UE.add(h),r={rel:r,crossOrigin:o,href:s},c.querySelector(h)===null&&(s=c.createElement("link"),ln(s,"link",r),kt(s),c.head.appendChild(s)))}}function nC(r){ji.D(r),VE("dns-prefetch",r,null)}function rC(r,s){ji.C(r,s),VE("preconnect",r,s)}function iC(r,s,o){ji.L(r,s,o);var c=Uo;if(c&&r&&s){var h='link[rel="preload"][as="'+xn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+xn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+xn(o.imageSizes)+'"]')):h+='[href="'+xn(r)+'"]';var g=h;switch(s){case"style":g=Vo(r);break;case"script":g=jo(r)}pr.has(g)||(r=_({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),pr.set(g,r),c.querySelector(h)!==null||s==="style"&&c.querySelector(vc(g))||s==="script"&&c.querySelector(Ec(g))||(s=c.createElement("link"),ln(s,"link",r),kt(s),c.head.appendChild(s)))}}function sC(r,s){ji.m(r,s);var o=Uo;if(o&&r){var c=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+xn(c)+'"][href="'+xn(r)+'"]',g=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=jo(r)}if(!pr.has(g)&&(r=_({rel:"modulepreload",href:r},s),pr.set(g,r),o.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ec(g)))return}c=o.createElement("link"),ln(c,"link",r),kt(c),o.head.appendChild(c)}}}function aC(r,s,o){ji.S(r,s,o);var c=Uo;if(c&&r){var h=Xr(c).hoistableStyles,g=Vo(r);s=s||"default";var T=h.get(g);if(!T){var S={loading:0,preload:null};if(T=c.querySelector(vc(g)))S.loading=5;else{r=_({rel:"stylesheet",href:r,"data-precedence":s},o),(o=pr.get(g))&&Dm(r,o);var P=T=c.createElement("link");kt(P),ln(P,"link",r),P._p=new Promise(function(K,ee){P.onload=K,P.onerror=ee}),P.addEventListener("load",function(){S.loading|=1}),P.addEventListener("error",function(){S.loading|=2}),S.loading|=4,jd(T,s,c)}T={type:"stylesheet",instance:T,count:1,state:S},h.set(g,T)}}}function oC(r,s){ji.X(r,s);var o=Uo;if(o&&r){var c=Xr(o).hoistableScripts,h=jo(r),g=c.get(h);g||(g=o.querySelector(Ec(h)),g||(r=_({src:r,async:!0},s),(s=pr.get(h))&&Om(r,s),g=o.createElement("script"),kt(g),ln(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(h,g))}}function lC(r,s){ji.M(r,s);var o=Uo;if(o&&r){var c=Xr(o).hoistableScripts,h=jo(r),g=c.get(h);g||(g=o.querySelector(Ec(h)),g||(r=_({src:r,async:!0,type:"module"},s),(s=pr.get(h))&&Om(r,s),g=o.createElement("script"),kt(g),ln(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(h,g))}}function jE(r,s,o,c){var h=(h=we.current)?Vd(h):null;if(!h)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Vo(o.href),o=Xr(h).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Vo(o.href);var g=Xr(h).hoistableStyles,T=g.get(r);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,T),(g=h.querySelector(vc(r)))&&!g._p&&(T.instance=g,T.state.loading=5),pr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},pr.set(r,o),g||cC(h,r,o,T.state))),s&&c===null)throw Error(i(528,""));return T}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=jo(o),o=Xr(h).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Vo(r){return'href="'+xn(r)+'"'}function vc(r){return'link[rel="stylesheet"]['+r+"]"}function BE(r){return _({},r,{"data-precedence":r.precedence,precedence:null})}function cC(r,s,o,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),ln(s,"link",o),kt(s),r.head.appendChild(s))}function jo(r){return'[src="'+xn(r)+'"]'}function Ec(r){return"script[async]"+r}function zE(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+xn(o.href)+'"]');if(c)return s.instance=c,kt(c),c;var h=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),kt(c),ln(c,"style",h),jd(c,o.precedence,r),s.instance=c;case"stylesheet":h=Vo(o.href);var g=r.querySelector(vc(h));if(g)return s.state.loading|=4,s.instance=g,kt(g),g;c=BE(o),(h=pr.get(h))&&Dm(c,h),g=(r.ownerDocument||r).createElement("link"),kt(g);var T=g;return T._p=new Promise(function(S,P){T.onload=S,T.onerror=P}),ln(g,"link",c),s.state.loading|=4,jd(g,o.precedence,r),s.instance=g;case"script":return g=jo(o.src),(h=r.querySelector(Ec(g)))?(s.instance=h,kt(h),h):(c=o,(h=pr.get(g))&&(c=_({},o),Om(c,h)),r=r.ownerDocument||r,h=r.createElement("script"),kt(h),ln(h,"link",c),r.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,jd(c,o.precedence,r));return s.instance}function jd(r,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,g=h,T=0;T<c.length;T++){var S=c[T];if(S.dataset.precedence===s)g=S;else if(g!==h)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Dm(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Om(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Bd=null;function FE(r,s,o){if(Bd===null){var c=new Map,h=Bd=new Map;h.set(o,c)}else h=Bd,c=h.get(o),c||(c=new Map,h.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var g=o[h];if(!(g[Wr]||g[Pt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(s)||"";T=r+T;var S=c.get(T);S?S.push(g):c.set(T,[g])}}return c}function GE(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function uC(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function HE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function dC(r,s,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var h=Vo(c.href),g=s.querySelector(vc(h));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=zd.bind(r),s.then(r,r)),o.state.loading|=4,o.instance=g,kt(g);return}g=s.ownerDocument||s,c=BE(c),(h=pr.get(h))&&Dm(c,h),g=g.createElement("link"),kt(g);var T=g;T._p=new Promise(function(S,P){T.onload=S,T.onerror=P}),ln(g,"link",c),o.instance=g}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(r.count++,o=zd.bind(r),s.addEventListener("load",o),s.addEventListener("error",o))}}var Mm=0;function fC(r,s){return r.stylesheets&&r.count===0&&Gd(r,r.stylesheets),0<r.count||0<r.imgCount?function(o){var c=setTimeout(function(){if(r.stylesheets&&Gd(r,r.stylesheets),r.unsuspend){var g=r.unsuspend;r.unsuspend=null,g()}},6e4+s);0<r.imgBytes&&Mm===0&&(Mm=62500*Y1());var h=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Gd(r,r.stylesheets),r.unsuspend)){var g=r.unsuspend;r.unsuspend=null,g()}},(r.imgBytes>Mm?50:800)+s);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(c),clearTimeout(h)}}:null}function zd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gd(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Fd=null;function Gd(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Fd=new Map,s.forEach(hC,r),Fd=null,zd.call(r))}function hC(r,s){if(!(s.state.loading&4)){var o=Fd.get(r);if(o)var c=o.get(null);else{o=new Map,Fd.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var T=h[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}h=s.instance,T=h.getAttribute("data-precedence"),g=o.get(T)||c,g===c&&o.set(null,h),o.set(T,h),this.count++,c=zd.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),g?g.parentNode.insertBefore(h,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),s.state.loading|=4}}var Tc={$$typeof:F,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function pC(r,s,o,c,h,g,T,S,P){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kr(0),this.hiddenUpdates=Kr(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function qE(r,s,o,c,h,g,T,S,P,K,ee,re){return r=new pC(r,s,o,T,P,K,ee,re,S),s=1,g===!0&&(s|=24),g=zn(3,null,null,s),r.current=g,g.stateNode=r,s=fp(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:s},gp(g),r}function YE(r){return r?(r=go,r):go}function KE(r,s,o,c,h,g){h=YE(h),c.context===null?c.context=h:c.pendingContext=h,c=us(s),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=ds(r,c,s),o!==null&&(Mn(o,r,s),ec(o,r,s))}function $E(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Lm(r,s){$E(r,s),(r=r.alternate)&&$E(r,s)}function WE(r){if(r.tag===13||r.tag===31){var s=ya(r,67108864);s!==null&&Mn(s,r,67108864),Lm(r,67108864)}}function QE(r){if(r.tag===13||r.tag===31){var s=Yn();s=sa(s);var o=ya(r,s);o!==null&&Mn(o,r,s),Lm(r,s)}}var Hd=!0;function mC(r,s,o,c){var h=q.T;q.T=null;var g=ce.p;try{ce.p=2,Pm(r,s,o,c)}finally{ce.p=g,q.T=h}}function gC(r,s,o,c){var h=q.T;q.T=null;var g=ce.p;try{ce.p=8,Pm(r,s,o,c)}finally{ce.p=g,q.T=h}}function Pm(r,s,o,c){if(Hd){var h=km(c);if(h===null)Em(r,s,c,qd,o),JE(r,c);else if(_C(h,r,s,o,c))c.stopPropagation();else if(JE(r,c),s&4&&-1<yC.indexOf(r)){for(;h!==null;){var g=rr(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=qr(g.pendingLanes);if(T!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var P=1<<31-Nt(T);S.entanglements[1]|=P,T&=~P}ui(g),(Xe&6)===0&&(xd=$t()+500,gc(0))}}break;case 31:case 13:S=ya(g,2),S!==null&&Mn(S,g,2),Nd(),Lm(g,2)}if(g=km(c),g===null&&Em(r,s,c,qd,o),g===h)break;h=g}h!==null&&c.stopPropagation()}else Em(r,s,c,null,o)}}function km(r){return r=ir(r),Um(r)}var qd=null;function Um(r){if(qd=null,r=Qr(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=u(s),r!==null)return r;r=null}else if(o===31){if(r=f(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return qd=r,null}function XE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gr()){case Wi:return 2;case ea:return 8;case tr:case Ja:return 32;case ta:return 268435456;default:return 32}default:return 32}}var Vm=!1,Ts=null,As=null,ws=null,Ac=new Map,wc=new Map,Ss=[],yC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function JE(r,s){switch(r){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":Ac.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":wc.delete(s.pointerId)}}function Sc(r,s,o,c,h,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[h]},s!==null&&(s=rr(s),s!==null&&WE(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function _C(r,s,o,c,h){switch(s){case"focusin":return Ts=Sc(Ts,r,s,o,c,h),!0;case"dragenter":return As=Sc(As,r,s,o,c,h),!0;case"mouseover":return ws=Sc(ws,r,s,o,c,h),!0;case"pointerover":var g=h.pointerId;return Ac.set(g,Sc(Ac.get(g)||null,r,s,o,c,h)),!0;case"gotpointercapture":return g=h.pointerId,wc.set(g,Sc(wc.get(g)||null,r,s,o,c,h)),!0}return!1}function ZE(r){var s=Qr(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){r.blockedOn=s,Sr(r.priority,function(){QE(o)});return}}else if(s===31){if(s=f(o),s!==null){r.blockedOn=s,Sr(r.priority,function(){QE(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Yd(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=km(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);Vl=c,o.target.dispatchEvent(c),Vl=null}else return s=rr(o),s!==null&&WE(s),r.blockedOn=o,!1;s.shift()}return!0}function e0(r,s,o){Yd(r)&&o.delete(s)}function bC(){Vm=!1,Ts!==null&&Yd(Ts)&&(Ts=null),As!==null&&Yd(As)&&(As=null),ws!==null&&Yd(ws)&&(ws=null),Ac.forEach(e0),wc.forEach(e0)}function Kd(r,s){r.blockedOn===s&&(r.blockedOn=null,Vm||(Vm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,bC)))}var $d=null;function t0(r){$d!==r&&($d=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){$d===r&&($d=null);for(var s=0;s<r.length;s+=3){var o=r[s],c=r[s+1],h=r[s+2];if(typeof c!="function"){if(Um(c||o)===null)continue;break}var g=rr(o);g!==null&&(r.splice(s,3),s-=3,kp(g,{pending:!0,data:h,method:o.method,action:c},c,h))}}))}function Bo(r){function s(P){return Kd(P,r)}Ts!==null&&Kd(Ts,r),As!==null&&Kd(As,r),ws!==null&&Kd(ws,r),Ac.forEach(s),wc.forEach(s);for(var o=0;o<Ss.length;o++){var c=Ss[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<Ss.length&&(o=Ss[0],o.blockedOn===null);)ZE(o),o.blockedOn===null&&Ss.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var h=o[c],g=o[c+1],T=h[Wt]||null;if(typeof g=="function")T||t0(o);else if(T){var S=null;if(g&&g.hasAttribute("formAction")){if(h=g,T=g[Wt]||null)S=T.formAction;else if(Um(h)!==null)continue}else S=T.action;typeof S=="function"?o[c+1]=S:(o.splice(c,3),c-=3),t0(o)}}}function n0(){function r(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return h=T})},focusReset:"manual",scroll:"manual"})}function s(){h!==null&&(h(),h=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,h=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),h!==null&&(h(),h=null)}}}function jm(r){this._internalRoot=r}Wd.prototype.render=jm.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,c=Yn();KE(o,c,r,s,null,null)},Wd.prototype.unmount=jm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;KE(r.current,2,null,r,null,null),Nd(),s[$r]=null}};function Wd(r){this._internalRoot=r}Wd.prototype.unstable_scheduleHydration=function(r){if(r){var s=Nu();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Ss.length&&s!==0&&s<Ss[o].priority;o++);Ss.splice(o,0,r),o===0&&ZE(r)}};var r0=e.version;if(r0!=="19.2.3")throw Error(i(527,r0,"19.2.3"));ce.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(s),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var vC={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qd.isDisabled&&Qd.supportsFiber)try{xt=Qd.inject(vC),Rt=Qd}catch{}}return xc.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,c="",h=uv,g=dv,T=fv;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),s=qE(r,1,!1,null,null,o,c,null,h,g,T,n0),r[$r]=s.current,vm(r),new jm(s)},xc.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var c=!1,h="",g=uv,T=dv,S=fv,P=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(P=o.formState)),s=qE(r,1,!0,s,o??null,c,h,P,g,T,S,n0),s.context=YE(null),o=s.current,c=Yn(),c=sa(c),h=us(c),h.callback=null,ds(o,h,c),o=c,s.current.lanes=o,ra(s,o),ui(s),r[$r]=s.current,vm(r),new Wd(s)},xc.version="19.2.3",xc}var h0;function NC(){if(h0)return Fm.exports;h0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fm.exports=RC(),Fm.exports}var CC=NC();const DC=my(CC),OC="modulepreload",MC=function(t){return"/"+t},p0={},tS=function(e,n,i){let a=Promise.resolve();if(n&&n.length>0){let u=function(m){return Promise.all(m.map(y=>Promise.resolve(y).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));a=u(n.map(m=>{if(m=MC(m),m in p0)return;p0[m]=!0;const y=m.endsWith(".css"),_=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${_}`))return;const E=document.createElement("link");if(E.rel=y?"stylesheet":OC,y||(E.as="script"),E.crossOrigin="",E.href=m,p&&E.setAttribute("nonce",p),document.head.appendChild(E),y)return new Promise((w,x)=>{E.addEventListener("load",w),E.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return a.then(u=>{for(const f of u||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PC=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),m0=t=>{const e=PC(t);return e.charAt(0).toUpperCase()+e.slice(1)},nS=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),kC=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=$.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:u,...f},p)=>$.createElement("svg",{ref:p,...UC,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:nS("lucide",a),...!l&&!kC(f)&&{"aria-hidden":"true"},...f},[...u.map(([m,y])=>$.createElement(m,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=(t,e)=>{const n=$.forwardRef(({className:i,...a},l)=>$.createElement(VC,{ref:l,iconNode:e,className:nS(`lucide-${LC(m0(t))}`,`lucide-${t}`,i),...a}));return n.displayName=m0(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],BC=Je("calendar",jC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],FC=Je("check",zC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],HC=Je("chevron-right",GC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],YC=Je("circle-question-mark",qC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],gy=Je("external-link",KC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],WC=Je("eye",$C);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],XC=Je("file-text",QC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],rS=Je("film",JC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],iS=Je("image",ZC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M11 19H3",key:"zflm78"}],["path",{d:"M21 16V5",key:"yxg4q8"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],tD=Je("list-music",eD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],rD=Je("loader-circle",nD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],sD=Je("loader",iD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],oD=Je("lock",aD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],cD=Je("mail",lD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],dD=Je("menu",uD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],hD=Je("music",fD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],Sg=Je("newspaper",pD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],gD=Je("plus",mD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],sS=Je("quote",yD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],aS=Je("refresh-cw",_D);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],vD=Je("save",bD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],TD=Je("search",ED);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],wD=Je("send",AD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ID=Je("sparkles",SD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],g0=Je("square-pen",xD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ih=Je("star",RD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],oS=Je("ticket",ND);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ym=Je("trash-2",CD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["path",{d:"m17 2-5 5-5-5",key:"16satq"}],["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",key:"1e6viu"}]],OD=Je("tv",DD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],sh=Je("user",MD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fi=Je("x",LD),yy=({rating:t,maxRating:e=5,onRate:n,readOnly:i=!1,size:a=24})=>{const[l,u]=$.useState(null),f=l!==null?l:t;return b.jsx("div",{className:"flex space-x-1",children:Array.from({length:e}).map((p,m)=>{const y=m+1,_=y<=f;return b.jsx("button",{type:"button",disabled:i,onClick:()=>!i&&n&&n(y),onMouseEnter:()=>!i&&u(y),onMouseLeave:()=>!i&&u(null),className:"focus:outline-none",children:b.jsx(ih,{size:a,className:`${_?"fill-yellow-400 text-yellow-400":"fill-transparent text-neutral-700"}`,strokeWidth:_?0:2})},m)})})},PD=["Aksiyon","Bilim Kurgu","Drama","Komedi","Korku","Macera","Romantik","Gerilim","Animasyon","Belgesel","Fantastik","Suc","Gizem","Savas","Western"],lS=({isOpen:t,onClose:e,onSubmit:n,isSubmitting:i,initialTitle:a="",editMovie:l})=>{const[u,f]=$.useState("watched"),[p,m]=$.useState(""),[y,_]=$.useState(""),[E,w]=$.useState(0),[x,L]=$.useState(""),[N,G]=$.useState(""),[B,F]=$.useState(""),[Q,se]=$.useState([]),[ae,C]=$.useState(""),[R,D]=$.useState(""),[U,M]=$.useState(null),j=$.useRef(null);$.useEffect(()=>{t&&(l?(m(l.title),_(l.imdbUrl||""),M(l.posterBase64||null),f(l.status),w(l.userRating||0),L(l.userReview||""),G(l.year!=="???"?l.year:""),F(l.director!=="Bilinmiyor"?l.director:""),se(l.genre&&l.genre[0]!=="Bilinmiyor"?l.genre:[]),C(l.summary!=="zet bulunamad."?l.summary:"")):(m(a),_(""),M(null),f("watched"),w(0),L(""),G(""),F(""),se([]),C("")),D(""))},[t,a,l]);const O=q=>{var ge;const ce=(ge=q.target.files)==null?void 0:ge[0];if(ce){if(ce.size>5*1024*1024){D("DOSYA COK BUYUK (MAX 5MB)");return}const xe=new FileReader;xe.onloadend=()=>{M(xe.result),D("")},xe.readAsDataURL(ce)}},Pe=()=>{M(null),j.current&&(j.current.value="")};if(!t)return null;const Ve=async q=>{if(q.preventDefault(),!p.trim()){D("FILM ADI GIRINIZ");return}if(u==="watched"&&E===0){D("PUAN VERINIZ");return}await n({rawTitle:p,status:u,userRating:u==="watched"?E:void 0,userReview:u==="watched"?x:void 0,imdbUrl:y.trim()||void 0,manualPosterBase64:U||void 0,manualYear:N.trim()||void 0,manualDirector:B.trim()||void 0,manualGenres:Q.length>0?Q:void 0,manualSummary:ae.trim()||void 0}),!a&&!l&&(m(""),_(""),M(null),w(0),L(""),G(""),F(""),se([]),C("")),D("")};return b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-4",children:b.jsxs("div",{className:"bg-black border-4 border-white w-full max-w-lg shadow-[20px_20px_0px_#222] relative max-h-[90vh] overflow-y-auto",children:[b.jsxs("div",{className:"bg-white text-black px-4 py-2 flex justify-between items-center font-bold text-xl sticky top-0 z-10",children:[b.jsx("span",{children:l?"> KAYIT DUZENLE":a?"> PUANLAMA EKRANI":"> YEN KAYIT EKLE"}),b.jsx("button",{onClick:e,disabled:i,className:"hover:bg-red-600 hover:text-white px-2",children:"[IKI]"})]}),!a&&!l&&b.jsxs("div",{className:"flex border-b-4 border-white",children:[b.jsx("button",{type:"button",onClick:()=>f("watched"),className:`flex-1 py-2 text-xl font-bold ${u==="watched"?"bg-red-600 text-white":"bg-neutral-900 text-neutral-500"}`,children:"ZLEDM [+]"}),b.jsx("button",{type:"button",onClick:()=>f("watchlist"),className:`flex-1 py-2 text-xl font-bold ${u==="watchlist"?"bg-green-600 text-white":"bg-neutral-900 text-neutral-500"}`,children:"ZLEYECEM [+]"})]}),b.jsxs("form",{onSubmit:Ve,className:"p-6 space-y-6",children:[b.jsxs("div",{className:"flex gap-4",children:[b.jsxs("div",{className:"w-1/3",children:[b.jsxs("div",{onClick:()=>{var q;return(q=j.current)==null?void 0:q.click()},className:`aspect-[2/3] border-4 border-dashed ${U?"border-white":"border-neutral-700 hover:border-yellow-400"} flex flex-col items-center justify-center cursor-pointer bg-neutral-900`,children:[U?b.jsx("img",{src:U,alt:"Preview",className:"w-full h-full object-cover grayscale contrast-125"}):b.jsxs("div",{className:"text-center text-neutral-500 p-2",children:[b.jsx(iS,{className:"mx-auto mb-2"}),b.jsx("span",{className:"text-sm font-bold",children:"FOTO YUKLE"})]}),b.jsx("input",{type:"file",ref:j,onChange:O,accept:"image/*",className:"hidden",disabled:i})]}),U&&b.jsx("button",{type:"button",onClick:q=>{q.stopPropagation(),Pe()},className:"w-full bg-red-600 text-white text-sm font-bold mt-2",children:"SIL"})]}),b.jsxs("div",{className:"flex-1 space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-yellow-400 font-bold mb-1",children:"FILM ADI:"}),b.jsx("input",{type:"text",value:p,onChange:q=>m(q.target.value.toUpperCase()),className:"w-full bg-neutral-900 border-b-4 border-white text-white p-2 text-xl font-bold outline-none focus:bg-neutral-800 focus:border-yellow-400",placeholder:"ISIM GIRINIZ...",autoFocus:!0,disabled:i||!!a})]}),u==="watched"&&b.jsxs("div",{children:[b.jsx("label",{className:"block text-orange-400 font-bold mb-1",children:"YONETMEN:"}),b.jsx("input",{type:"text",value:B,onChange:q=>F(q.target.value),className:"w-full bg-neutral-900 border-b-4 border-white text-white p-2 text-lg font-bold outline-none focus:bg-neutral-800 focus:border-orange-400",placeholder:"YONETMEN ADI...",disabled:i||!!a})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-cyan-400 font-bold mb-1",children:"IMDB LINK:"}),b.jsx("input",{type:"url",value:y,onChange:q=>_(q.target.value),className:"w-full bg-neutral-900 border-b-4 border-white text-white p-2 text-lg font-bold outline-none focus:bg-neutral-800 focus:border-cyan-400",placeholder:"HTTPS://...",disabled:i||!!a})]}),u==="watched"&&b.jsxs("div",{children:[b.jsx("label",{className:"block text-pink-500 font-bold mb-1",children:"TUR SEM:"}),b.jsxs("select",{value:Q[0]||"",onChange:q=>se(q.target.value?[q.target.value]:[]),className:"w-full bg-neutral-900 border-b-4 border-white text-white p-2 text-lg font-bold outline-none focus:bg-neutral-800 focus:border-pink-500 appearance-none",children:[b.jsx("option",{value:"",children:"TUR SECINIZ..."}),PD.map(q=>b.jsx("option",{value:q,children:q},q))]})]}),u==="watched"&&b.jsxs("div",{className:"grid grid-cols-2 gap-4 items-end",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-white font-bold mb-1",children:"YIL:"}),b.jsx("input",{type:"text",value:N,onChange:q=>G(q.target.value),className:"w-full bg-neutral-900 border-b-4 border-white text-white p-2 text-lg font-bold outline-none focus:bg-neutral-800 focus:border-white",placeholder:"2024",disabled:i||!!a})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-green-400 font-bold mb-1",children:"PUANLAMA:"}),b.jsx("div",{className:"bg-neutral-900 p-2 border-2 border-green-600 flex justify-center",children:b.jsx(yy,{rating:E,onRate:w,size:18,readOnly:i})})]})]}),u==="watched"&&b.jsxs("div",{children:[b.jsx("label",{className:"block text-purple-400 font-bold mb-1",children:"DETAY / ZET:"}),b.jsx("textarea",{value:ae,onChange:q=>C(q.target.value),rows:3,className:"w-full bg-neutral-900 border-2 border-white text-white p-2 font-bold outline-none focus:border-purple-400 resize-none",placeholder:"AI YERINE MANUEL OZET...",disabled:i||!!a})]}),u==="watched"&&b.jsxs("div",{children:[b.jsx("label",{className:"block text-fuchsia-500 font-bold mb-1",children:"YORUMUNUZ:"}),b.jsx("textarea",{value:x,onChange:q=>L(q.target.value.toUpperCase()),rows:3,className:"w-full bg-neutral-900 border-2 border-white text-white p-2 font-bold outline-none focus:border-fuchsia-500 resize-none",placeholder:"...",disabled:i})]})]})]}),R&&b.jsxs("div",{className:"bg-red-600 text-white p-2 font-bold blink text-center",children:["*** ",R," ***"]}),b.jsxs("div",{className:"flex gap-4 pt-2",children:[b.jsx("button",{type:"button",onClick:e,disabled:i,className:"flex-1 border-2 border-white text-white font-bold py-3 hover:bg-white hover:text-black",children:"PTAL"}),b.jsx("button",{type:"submit",disabled:i,className:`flex-1 font-bold py-3 text-white border-2 border-white ${i?"bg-neutral-700":"bg-yellow-400 text-black hover:bg-yellow-300"}`,children:i?"BEKLEYINIZ...":l?"GUNCELLE":"KAYDET"})]})]})]})})},kD=({movie:t,onDelete:e,onDirectorClick:n,onClick:i,className:a=""})=>{var u;const l=t.status==="watched";return b.jsxs("div",{onClick:()=>i&&i(t),className:`group relative bg-black border-4 ${l?"border-neutral-700 hover:border-yellow-400":"border-neutral-600"} flex flex-col shadow-[8px_8px_0px_#333] transition-all cursor-pointer h-full ${a}`,children:[b.jsxs("div",{className:"w-full aspect-[2/3] relative bg-neutral-900 border-b-4 border-neutral-700 overflow-hidden",children:[t.posterBase64?b.jsx("img",{src:t.posterBase64,alt:t.title,className:"w-full h-full object-cover contrast-125 saturate-150 pixelated group-hover:scale-105 transition-transform duration-500",style:{imageRendering:"pixelated"}}):b.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-blue-800 text-white",children:[b.jsx("span",{className:"text-4xl",children:t.emoji}),b.jsx("span",{className:"text-sm mt-2 text-yellow-400 font-bold",children:"NO IMAGE"})]}),l&&((u=t.genre)==null?void 0:u[0])&&b.jsx("div",{className:"absolute top-2 left-2 bg-yellow-400 text-black text-xs font-bold px-2 py-1 shadow-sm border border-black uppercase",children:t.genre[0]})]}),b.jsxs("div",{className:"p-4 flex flex-col gap-2 bg-black flex-1",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-2xl text-yellow-400 leading-none font-bold uppercase tracking-wide line-clamp-2 mb-1",children:t.title.toLocaleUpperCase("tr-TR")}),b.jsx("div",{className:"text-neutral-500 font-bold text-sm uppercase truncate",children:t.director})]}),b.jsxs("div",{className:"mt-auto pt-3 border-t-2 border-neutral-800 flex items-center justify-between",children:[b.jsx("div",{className:"bg-neutral-800 text-white px-2 py-0.5 text-sm font-bold border border-neutral-600",children:t.year}),l&&t.userRating&&b.jsxs("div",{className:"flex items-center gap-1.5",children:[b.jsx(ih,{size:14,className:"text-yellow-400 fill-yellow-400"}),b.jsx("span",{className:"text-white font-bold text-lg",children:t.userRating})]})]})]})]})},UD=({movie:t})=>b.jsxs("div",{className:"group relative bg-black border-4 border-neutral-700 shadow-[8px_8px_0px_#333] flex flex-col h-full hover:border-yellow-400 transition-colors",children:[b.jsx("div",{className:"w-full aspect-[2/3] relative bg-neutral-900 border-b-4 border-neutral-700 overflow-hidden",children:t.posterBase64?b.jsx("img",{src:t.posterBase64,alt:t.title,className:"w-full h-full object-cover contrast-125 saturate-150 pixelated group-hover:scale-105 transition-transform duration-500",style:{imageRendering:"pixelated"}}):b.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-blue-800 text-white p-4",children:[b.jsx("span",{className:"text-4xl",children:t.emoji||""}),b.jsx("span",{className:"text-xs mt-2 text-yellow-400 text-center font-bold",children:"NO IMAGE"})]})}),b.jsx("div",{className:"p-3 bg-black flex flex-col items-center justify-center flex-1",children:b.jsx("h3",{className:"text-xl text-yellow-400 leading-tight font-bold uppercase tracking-wide text-center line-clamp-2",children:t.title.toLocaleUpperCase("tr-TR")})})]}),VD=["KO","BOA","KZLER","YENGE","ASLAN","BAAK","TERAZ","AKREP","YAY","OLAK","KOVA","BALIK"],jD=({isOpen:t,onClose:e,movies:n})=>{const[i,a]=$.useState(null),[l,u]=$.useState(null),[f,p]=$.useState(!1);if(!t)return null;const m=async y=>{a(y),p(!0),u(null),setTimeout(()=>{const _=n.filter(E=>E.status==="watched"&&E.isApproved!==!1);if(_.length>0){const E=_[Math.floor(Math.random()*_.length)];u(E)}p(!1)},1500)};return b.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/90 p-4",children:b.jsxs("div",{className:"w-full max-w-4xl bg-purple-900 border-4 border-yellow-400 p-1 shadow-[10px_10px_0px_#fff] overflow-y-auto max-h-[90vh]",children:[b.jsxs("div",{className:"bg-yellow-400 text-purple-900 px-4 py-2 flex justify-between items-center font-bold text-lg md:text-2xl mb-4 sticky top-0 z-20",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(ID,{size:20}),b.jsx("span",{children:"ASTRO SNEMA"})]}),b.jsx("button",{onClick:e,className:"hover:bg-purple-900 hover:text-white px-2",children:"[IKI]"})]}),b.jsxs("div",{className:"flex flex-col md:flex-row gap-4 p-2 md:p-4",children:[b.jsx("div",{className:"grid grid-cols-3 gap-2 w-full md:w-1/2 shrink-0",children:VD.map(y=>b.jsx("button",{onClick:()=>m(y),disabled:f,className:`p-2 md:p-3 text-sm md:text-xl font-bold border-2 transition-all text-center
                            ${i===y?"bg-white text-purple-900 border-white blink":"bg-purple-800 text-yellow-400 border-purple-600 hover:border-yellow-400 hover:bg-purple-700"}`,children:y},y))}),b.jsxs("div",{className:"w-full md:w-1/2 bg-black border-2 border-white p-4 md:p-6 flex flex-col items-center justify-center min-h-[250px] md:min-h-[300px] text-center relative overflow-hidden",children:[!i&&b.jsxs("div",{className:"text-neutral-500 animate-pulse",children:[b.jsx("p",{className:"text-xl md:text-2xl mb-2",children:"LTFEN BURCUNUZU SENZ"}),b.jsx("p",{children:"---"})]}),f&&b.jsxs("div",{className:"text-yellow-400 flex flex-col items-center z-10",children:[b.jsx(rD,{className:"animate-spin w-10 h-10 md:w-12 md:h-12 mb-4"}),b.jsx("span",{className:"text-lg md:text-xl blink",children:"YILDIZLAR OKUNUYOR..."})]}),l&&!f&&b.jsxs("div",{className:"animate-in fade-in zoom-in duration-500 flex flex-col items-center w-full h-full justify-between",children:[b.jsxs("h3",{className:"text-lg md:text-2xl text-cyan-400 mb-2 border-b-2 border-cyan-400",children:[i," N NER:"]}),l.posterBase64&&b.jsx("img",{src:l.posterBase64,alt:l.title,className:"w-24 h-36 md:w-32 md:h-48 object-cover border-2 border-white mb-4 shadow-[4px_4px_0px_#333]"}),b.jsx("h2",{className:"text-2xl md:text-3xl text-yellow-400 font-bold mb-2 break-words max-w-full leading-none",children:l.title}),b.jsxs("div",{className:"text-purple-400 text-xs md:text-sm mt-auto font-bold uppercase",children:["YIL: ",l.year," | ",l.director]})]}),i&&!f&&!l&&b.jsx("div",{className:"text-red-500 text-lg md:text-xl font-bold",children:"MALESEF KOLEKSIYONDA FILM BULUNAMADI."})]})]}),b.jsx("div",{className:"text-center text-yellow-400 text-sm md:text-lg mt-2 pb-2 px-2",children:"*** GELECENZ BR FLM SENARYOSU KADAR SRPRZL OLABLR ***"})]})})},BD=({isOpen:t,onClose:e})=>t?b.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/90 p-4",children:b.jsxs("div",{className:"w-full max-w-4xl bg-blue-900 border-4 border-yellow-400 p-1 shadow-[10px_10px_0px_#fff]",children:[b.jsxs("div",{className:"bg-yellow-400 text-blue-900 px-4 py-2 flex justify-between items-center font-bold text-2xl mb-4",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Sg,{}),b.jsx("span",{children:"SNEMA GNL - SAYFA 600"})]}),b.jsx("button",{onClick:e,className:"hover:bg-blue-900 hover:text-white px-2",children:"[IKI]"})]}),b.jsxs("div",{className:"p-8 text-center min-h-[300px] flex flex-col items-center justify-center bg-black border-2 border-white",children:[b.jsx(Sg,{className:"w-16 h-16 text-yellow-400 mb-4 animate-bounce"}),b.jsx("h2",{className:"text-3xl text-white mb-2 blink",children:"BLOG YAKINDA HZMETNZDE"}),b.jsx("p",{className:"text-xl text-neutral-400",children:"FLM ELETRLER, LSTELER VE DAHA FAZLASI N BEKLEMEDE KALIN."}),b.jsx("div",{className:"mt-8 text-cyan-400 text-sm",children:"* * *"})]})]})}):null,zD=({isOpen:t,onClose:e})=>t?b.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center bg-black/90 p-4",children:b.jsxs("div",{className:"w-full max-w-2xl bg-neutral-900 border-4 border-white p-1 shadow-[10px_10px_0px_#000]",children:[b.jsxs("div",{className:"bg-cyan-400 text-black px-4 py-2 flex justify-between items-center font-bold text-2xl mb-1",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(oS,{}),b.jsx("span",{children:"BR FLM ISMARLA"})]}),b.jsx("button",{onClick:e,className:"hover:bg-black hover:text-white px-2 transition-colors",children:"[X]"})]}),b.jsxs("div",{className:"bg-black border-2 border-neutral-700 p-8 text-white flex flex-col items-center text-center gap-6 max-h-[70vh] overflow-y-auto custom-scrollbar font-inter font-normal",children:[b.jsx("h2",{className:"text-2xl font-bold text-cyan-400",children:'"Sradaki Filmim Sizin Ellerinizde: Ynetmen Koltuuna Siz Gein!"'}),b.jsx("p",{className:"text-lg text-neutral-300 leading-relaxed",children:"Bir filmsever iin en byk keyif, 'Acaba ne hissedecek?' diye merak ettii o filmi bir bakasna izletip tepkisini grmektir. imdi bu gc size devrediyorum! Patreon zerinden bana bir 'Bilet' smarlayarak, bir sonraki filmimi seebilir ve beni sinematik bir maceraya (ya da bir felakete!) srkleyebilirsiniz."}),b.jsxs("div",{className:"bg-red-900/20 border border-red-500/50 p-4 rounded-lg w-full",children:[b.jsx("p",{className:"text-red-400 font-bold mb-2",children:" Ancak uyaryorum:"}),b.jsx("p",{className:"text-neutral-300",children:"Bu sadece bir neri deil, bir sinematik dello!"})]}),b.jsxs("div",{className:"w-full text-left space-y-4",children:[b.jsx("h3",{className:"text-xl font-bold text-white border-b border-neutral-700 pb-2",children:"Snrlar Zorlamaya Var Msnz?"}),b.jsxs("div",{children:[b.jsx("span",{className:"text-cyan-400 font-bold block mb-1",children:'"kence Seans"'}),b.jsx("p",{className:"text-neutral-400 text-lg",children:`IMDb puan yerlerde srnen (evet, o 2.4'lk felaketlerden bahsediyorum), mantk hatalaryla dolu, bitmek bilmeyen o korkun filmi izlemem iin bana meydan okuyabilirsiniz. Acm, detayl bir "Neden izlememelisiniz?" yazsyla burada paylaacam.`})]}),b.jsxs("div",{children:[b.jsx("span",{className:"text-cyan-400 font-bold block mb-1",children:'"Sanat Sabr idir"'}),b.jsx("p",{className:"text-neutral-400 text-lg",children:"Siyah-beyaz, tek mekanda geen ve karakterin 45 dakika boyunca sadece duvara bakt 6 saatlik o Macar sanat filmini mi merak ediyorsunuz? Gnderin gelsin! Uykumla olan savam ve filmin derinliklerindeki (varsa) anlam sizin iin deifre edeyim."})]}),b.jsxs("div",{children:[b.jsx("span",{className:"text-cyan-400 font-bold block mb-1",children:'"Gizli Hazineni Payla"'}),b.jsx("p",{className:"text-neutral-400 text-lg",children:'Ya da "Bunu benden baka kimse bilmez ama harikadr" dediiniz o klt yapm gnderin, hakkn beraber teslim edelim.'})]})]}),b.jsxs("div",{className:"w-full text-left space-y-4 pt-4 border-t border-neutral-800",children:[b.jsx("h3",{className:"text-xl font-bold text-white border-b border-neutral-700 pb-2",children:"Sre Nasl liyor?"}),b.jsxs("ul",{className:"space-y-2 text-neutral-300 list-disc list-inside",children:[b.jsxs("li",{children:[b.jsx("strong",{className:"text-white",children:"Biletini Al:"})," Patreon'dan biletini se ve meydan okuman balat."]}),b.jsxs("li",{children:[b.jsx("strong",{className:"text-white",children:"Grevi Ver:"})," zlememi istediin filmi (ne kadar tuhaf veya uzun olduu fark etmez) bana ilet."]}),b.jsxs("li",{children:[b.jsx("strong",{className:"text-white",children:"ncelemeyi Bekle:"})," O filmi bizzat izleyip, tm drstlmle (ve bazen gzyalarmla) hazrladm detayl incelemeyi burada, ismine zel bir teekkrle yaynlayaym."]})]})]}),b.jsx("p",{className:"text-neutral-400 text-lg mt-2",children:"Spend your time watching great movies... Ama bazen de en ktlerini izleyelim ki iyilerin kymetini bilelim, deil mi?"}),b.jsx("p",{className:"text-cyan-400 font-bold",children:'Hadi, msrlar hazrlayn ve bana ne izleyeceimi syleyin. En "absrt" istei sabrszlkla bekliyorum!'}),b.jsxs("a",{href:"https://www.patreon.com/bolvitamin",target:"_blank",rel:"noopener noreferrer",className:"w-full bg-cyan-400 text-black px-8 py-4 text-2xl font-bold hover:bg-white hover:text-cyan-500 transition-colors flex items-center justify-center gap-2 mt-4 font-mono uppercase tracking-wider",children:[b.jsx("span",{children:"PATREON'A GT"}),b.jsx(gy,{size:24})]})]})]})}):null,y0=[{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/7GlsxNI4LVI?si=BhifaelrwxrVQsih" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Dnyann grltsn susturup evrenin sonsuzluunu hissetmek istediinizde bu paray balatn. Sadece bir film mzii deil, bir zaman makinesi."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/f1w4qnfux-o?si=EaiJsH4Soxgb1J27" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Baz aklar kelimelerle deil, bu keman sesindeki o ar admlarla anlatlr. Sinema tarihinin en zarif melankolisi."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/30jrmzzgHLc?si=xVD80KxJDJmCexTD" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Darda neon klar, elinizde direksiyon ve kafanzda binbir dnce... ehri bir film sahnesine dntrmek iin tek ihtiyacnz olan bu ritim."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/07xTvC5a9YQ?si=5c9YmglAB0NQCjp2" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Bugn her ey ok mu gri grnyor? Bu akordeon sesiyle kendinize bir Paris sabah smarlayn. Kk eylerin bysne kaplma vakti."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/D9OhQVuupdY?si=xbdhdV_9xd3xVDMT" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Yamurlu bir cam kenar, lo bir k ve dijital bir huzur. Gelecein yalnzln bu seste bulacaksnz."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/Flb01Ni3p3M?si=KpN0s37OONQatJzJ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Baz melodiler ilk notasndan itibaren size bir hikaye anlatmaya balar. Bu para, sinemann 'dokunulamaz' zirvesinden gelen bir miras gibi."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/aOHmfq2AUaU?si=-itaNVtBJBHmx6z4" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Zamann daraldn, ilerin ciddiye bindiini hissettiiniz o anlarn mzii. Nabznz hzlandrmak istiyorsanz sesi biraz daha an."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/1hLIXrlpRe8?si=cdb3r4Bdh3d8Ke45" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Gne enerjik bir giri yapmak iin daha iyisi yok. Bir restoranda masaya kp dans etme istei uyandrabilir, hazrlkl olun!"},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/ppzoBclWpaA?si=UHYlFlSNgQUZqK6y" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Unutmak istediiniz ama bir yandan da smsk sarldnz o anlara adanm bir para. Kar yaarken camdan bakmalk."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/PYI09PMNazw?si=RNWXitF9Fu_kF13M" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Efsanevi Ennio Morricone'den bir aheser. Adm adm ykselen bu melodiyle kendinizi bir ln ortasnda, byk bir macerann eiinde hissedeceksiniz."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/K61-tK7Xlzg?si=Npodep-wyu6RaETM" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Bir karakterin krln ve yeniden douunu anlatan en hznl ello sesi. Kendi iinizdeki sessiz dansa elik edecek bir bayapt."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/HSW9UPQbeVQ?si=rReYPU7OyjTOmjW1" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"sko yaylalarnn rzgarn yznzde hissettiren, zgrlk ve akn o muazzam karm. Gzlerinizi kapatn ve o usuz bucaksz yeillii hayal edin."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/LF9_9MZyQGo?si=EGowbvmlr0Nc0YV0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Modern klasik mziin dhisi Sakamotodan kalbe dokunan bir piyano melodisi. Sadece bir film mzii deil, ruhu dinlendiren bir terapi seans."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/_DxjFs_dsR8?si=tC6Yhgq57Zx6Mjle" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"En karanlk hikayelerin bile iinde bir zarafet vardr. Bu vals sizi bir yandan dansa davet ederken, dier yandan kalbinize ince bir sz brakacak."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/mqgEYRtWMJU?si=HgrKzbTxWL2eEQA-" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Daft Punkn sinematik evrene brakt en byk miras. Gece kl bir caddede yrrken veya alrken odaklanmak iin birebir."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/yRh-dzrI4Z4?si=J8poy-EJBafh-sMx" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Hayatn rutininden skldnzda bu ritme tutunun. Sizi koltuunuzdan alp usuz bucaksz denizlerde bir maceraya srkleyecek kadar gl."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/057A1RdssoU?si=0XCqLp69bHawuZRq" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Kemann alad o an. nsan ruhunun en karanlk ve en aydnlk yanlarn ayn anda hissettiren, kalbe kaznan bir at."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/-bzWSJG93P8?si=qFmII-Lfe7vLYPaO" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Sadece bir 'kt adam' mzii deil, bir gvde gsterisi. Bu paray dinlerken kendinizi galaksiyi ynetmeye hazr hissetmemeniz imkansz."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/6lRqY7eu0BU?si=KwtY_vevloIYX0Kx" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Bu siteyi ama sebebim olan o sinema tutkusunun bestelenmi hali. Eski bir sinema salonunun tozlu koltuklarn ve film makinelerinin sesini hatrlatr."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/c56t7upa8Bk?si=yORzihYFJnjyudnH" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Ve final... Usulca balayp devasa bir dalgaya dnen bu para, her notasnda zamann akn ve geri gelmeyecek anlarn arln hissettiriyor. Derin bir nefes aln ve kendinizi bu ykselie brakn."}],FD=({isOpen:t,onClose:e})=>{const[n,i]=$.useState(0);$.useEffect(()=>{t&&a()},[t]);const a=()=>{const u=Math.floor(Math.random()*y0.length);i(u)};if(!t)return null;const l=y0[n];return b.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center bg-black/90 p-4",children:b.jsxs("div",{className:"w-full max-w-4xl bg-neutral-900 border-4 border-white p-1 shadow-[10px_10px_0px_#000]",children:[b.jsxs("div",{className:"bg-pink-500 text-black px-4 py-2 flex justify-between items-center font-bold text-2xl mb-1",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(hD,{}),b.jsx("span",{children:"600 MZK KUTUSU"})]}),b.jsx("button",{onClick:e,className:"hover:bg-black hover:text-white px-2 transition-colors",children:"[X]"})]}),b.jsxs("div",{className:"bg-black border-2 border-neutral-700 p-4 sm:p-8 text-white flex flex-col items-center gap-6",children:[b.jsx("div",{className:"w-full aspect-video border-2 border-neutral-800",children:b.jsx("div",{className:"w-full h-full [&>iframe]:w-full [&>iframe]:h-full",dangerouslySetInnerHTML:{__html:l.embed}})}),b.jsxs("p",{className:"text-xl text-center font-medium text-pink-400 max-w-2xl leading-relaxed",children:['"',l.text,'"']}),b.jsxs("div",{className:"flex gap-4",children:[b.jsxs("button",{onClick:a,className:"bg-neutral-800 hover:bg-neutral-700 text-white px-6 py-3 font-bold border-2 border-transparent hover:border-pink-500 transition-colors flex items-center gap-2",children:[b.jsx(aS,{size:20}),b.jsx("span",{children:"KARITIR"})]}),b.jsxs("a",{href:"https://www.youtube.com/watch?v=JuSsvM8B4Jc&list=PLh15T1z9GF_G3CcazBAjoBZeTiOEIAdd7",target:"_blank",rel:"noopener noreferrer",className:"bg-neutral-800 hover:bg-neutral-700 text-white px-6 py-3 font-bold border-2 border-transparent hover:border-pink-500 transition-colors flex items-center gap-2",children:[b.jsx(tD,{size:20}),b.jsx("span",{children:"OYNATMA LSTES"})]})]}),b.jsx("p",{className:"text-neutral-600 text-xs",children:"* Rastgele bir para seildi."})]})]})})},GD=({activeTab:t,setActiveTab:e,onSurpriseMe:n,isSearchVisible:i,toggleSearch:a,searchTerm:l,onSearchChange:u,onHoroscopeClick:f,onBlogClick:p,onMusicClick:m,onPatreonClick:y,onAddMovieClick:_,onLoginClick:E,onSuggestionClick:w,onAboutClick:x,isAdminLoggedIn:L})=>{const N=$.useRef(null),[G,B]=$.useState(!1);$.useEffect(()=>{i&&setTimeout(()=>{var Q;(Q=N.current)==null||Q.focus()},50)},[i]);const F=Q=>{Q(),B(!1)};return b.jsxs("div",{className:"sticky top-0 z-50",children:[b.jsxs("div",{className:"bg-black border-b-2 border-white px-4 py-3 flex flex-wrap justify-between items-center text-xl sm:text-2xl font-bold gap-x-4 gap-y-2 relative",children:[b.jsxs("div",{className:"flex items-center gap-1 mr-auto",children:[b.jsx("span",{className:"bg-white text-black px-2 font-bold",children:"BLVTMN"}),b.jsx("span",{className:"text-yellow-400 font-bold teletext-shadow",children:"TV"}),b.jsx("span",{className:"text-red-500 text-xs border border-red-500 px-1 ml-1 self-start",children:"TEST"})]}),b.jsx("button",{onClick:()=>B(!G),className:"md:hidden text-white hover:text-yellow-400",children:G?b.jsx(fi,{size:32}):b.jsx(dD,{size:32})}),b.jsxs("div",{className:"hidden md:flex flex-wrap gap-2 sm:gap-4",children:[b.jsx("button",{onClick:()=>e("watched"),className:`hover:bg-white hover:text-black px-2 ${t==="watched"?"text-yellow-400":"text-neutral-500"}`,children:"100 KOLEKSYON"}),b.jsx("button",{onClick:()=>e("watchlist"),className:`hover:bg-white hover:text-black px-2 ${t==="watchlist"?"text-green-400":"text-neutral-500"}`,children:"200 LSTE"}),b.jsx("button",{onClick:n,className:"text-cyan-400 hover:bg-white hover:text-black px-2",children:"300 ANS"}),b.jsx("button",{onClick:f,className:"text-purple-400 hover:bg-white hover:text-black px-2",children:"400 HOROSCOPE"}),b.jsx("button",{onClick:p,className:"text-blue-400 hover:bg-white hover:text-black px-2",children:"500 BLOG"}),b.jsx("button",{onClick:m,className:"text-pink-400 hover:bg-white hover:text-black px-2",children:"600 MZK"})]})]}),G&&b.jsx("div",{className:"fixed inset-0 top-[60px] bg-black/95 z-40 flex flex-col p-4 gap-4 overflow-y-auto pb-20 border-t-2 border-white md:hidden",children:b.jsxs("div",{className:"grid grid-cols-1 gap-4 text-center text-2xl",children:[b.jsx("button",{onClick:()=>F(()=>e("watched")),className:"text-yellow-400 border-2 border-white py-3 hover:bg-white hover:text-black",children:"100 KOLEKSYON"}),b.jsx("button",{onClick:()=>F(()=>e("watchlist")),className:"text-green-400 border-2 border-white py-3 hover:bg-white hover:text-black",children:"200 LSTE"}),b.jsx("button",{onClick:()=>F(n),className:"text-cyan-400 border-2 border-white py-3 hover:bg-white hover:text-black",children:"300 ANS"}),b.jsx("button",{onClick:()=>F(f),className:"text-purple-400 border-2 border-white py-3 hover:bg-white hover:text-black",children:"400 HOROSCOPE"}),b.jsx("button",{onClick:()=>F(p),className:"text-blue-400 border-2 border-white py-3 hover:bg-white hover:text-black",children:"500 BLOG"}),b.jsx("button",{onClick:()=>F(m),className:"text-pink-400 border-2 border-white py-3 hover:bg-white hover:text-black",children:"600 MZK"}),b.jsx("div",{className:"h-px bg-white/30 my-2"}),b.jsx("button",{onClick:()=>F(y),className:"border-2 border-cyan-400 text-cyan-400 py-3 hover:bg-cyan-400 hover:text-black font-bold",children:"[ BR FLM ISMARLA ]"}),b.jsx("button",{onClick:()=>F(_),className:"border-2 border-yellow-400 text-yellow-400 py-3 hover:bg-yellow-400 hover:text-black font-bold",children:"[ + YEN KAYIT ]"}),b.jsx("button",{onClick:()=>F(a),className:"border-2 border-white text-white py-3 hover:bg-white hover:text-black",children:"ARAMA"}),b.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[b.jsx("button",{onClick:()=>F(w),className:"border-2 border-white text-white py-3 hover:bg-white hover:text-black",children:"F"}),b.jsx("button",{onClick:()=>F(E),className:`border-2 border-white text-white py-3 hover:bg-white hover:text-black ${L?"text-red-500 border-red-500":""}`,children:L?"IKI":"GR"}),b.jsx("button",{onClick:()=>F(x),className:"border-2 border-white text-white py-3 hover:bg-white hover:text-black",children:"?"})]})]})})]})},HD=({activeTab:t,selectedGenre:e,setSelectedGenre:n,selectedDirector:i,setSelectedDirector:a,selectedYear:l,setSelectedYear:u,selectedRating:f,setSelectedRating:p,availableGenres:m,availableDirectors:y,availableYears:_,sortOption:E,setSortOption:w})=>b.jsxs("div",{className:"mb-8 space-y-4",children:[t!=="watchlist"&&b.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[b.jsxs("div",{className:"relative",children:[b.jsxs("select",{value:e,onChange:x=>n(x.target.value),className:`w-full bg-black border-2 p-2 text-lg font-bold outline-none cursor-pointer rounded-none appearance-none text-center ${e?"text-orange-400 border-orange-400":"text-cyan-400 border-cyan-400 hover:bg-cyan-900"}`,children:[b.jsx("option",{value:"",children:"TM TRLER"}),m.map(x=>b.jsx("option",{value:x,children:x},x))]}),e&&b.jsx("button",{onClick:()=>n(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-red-500 hover:text-white bg-black/50 rounded-full",title:"FLTREY TEMZLE",children:b.jsx(fi,{size:20})})]}),b.jsxs("div",{className:"relative",children:[b.jsxs("select",{value:i,onChange:x=>a(x.target.value),className:`w-full bg-black border-2 p-2 text-lg font-bold outline-none cursor-pointer rounded-none appearance-none text-center ${i?"text-orange-400 border-orange-400":"text-cyan-400 border-cyan-400 hover:bg-cyan-900"}`,children:[b.jsx("option",{value:"",children:"YNETMENLER"}),y.map(x=>b.jsx("option",{value:x,children:x},x))]}),i&&b.jsx("button",{onClick:()=>a(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-red-500 hover:text-white bg-black/50 rounded-full",title:"FLTREY TEMZLE",children:b.jsx(fi,{size:20})})]}),b.jsxs("div",{className:"relative",children:[b.jsxs("select",{value:l,onChange:x=>u(x.target.value),className:`w-full bg-black border-2 p-2 text-lg font-bold outline-none cursor-pointer rounded-none appearance-none text-center ${l?"text-orange-400 border-orange-400":"text-cyan-400 border-cyan-400 hover:bg-cyan-900"}`,children:[b.jsx("option",{value:"",children:"YILLAR"}),_.map(x=>b.jsx("option",{value:x,children:x},x))]}),l&&b.jsx("button",{onClick:()=>u(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-red-500 hover:text-white bg-black/50 rounded-full",title:"FLTREY TEMZLE",children:b.jsx(fi,{size:20})})]}),t==="watched"&&b.jsxs("div",{className:"relative",children:[b.jsxs("select",{value:f,onChange:x=>p(x.target.value===""?"":Number(x.target.value)),className:`w-full bg-black border-2 p-2 text-lg font-bold outline-none cursor-pointer rounded-none appearance-none text-center ${f!==""?"text-orange-400 border-orange-400":"text-cyan-400 border-cyan-400 hover:bg-cyan-900"}`,children:[b.jsx("option",{value:"",children:"PUANLAR"}),[5,4,3,2,1].map(x=>b.jsxs("option",{value:x,children:[x," YILDIZ"]},x))]}),f!==""&&b.jsx("button",{onClick:()=>p(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-red-500 hover:text-white bg-black/50 rounded-full",title:"FLTREY TEMZLE",children:b.jsx(fi,{size:20})})]})]}),b.jsxs("div",{className:"flex justify-center gap-4 border-t border-neutral-800 pt-4",children:[t!=="watchlist"&&b.jsxs("button",{onClick:()=>w(E==="year_desc"?"year_asc":"year_desc"),className:`flex items-center gap-2 px-4 py-2 font-bold transition-colors ${E.startsWith("year")?"text-yellow-400 bg-neutral-800":"text-neutral-500 hover:text-white"}`,children:[b.jsx("span",{children:"YIL"}),b.jsx("span",{className:"text-xl",children:E==="year_desc"?"":E==="year_asc"?"":""})]}),b.jsxs("button",{onClick:()=>w(E==="title_asc"?"title_desc":"title_asc"),className:`flex items-center gap-2 px-4 py-2 font-bold transition-colors ${E.startsWith("title")?"text-yellow-400 bg-neutral-800":"text-neutral-500 hover:text-white"}`,children:[b.jsx("span",{children:"SM"}),b.jsx("span",{className:"text-xl",children:E==="title_asc"?"":E==="title_desc"?"":""})]}),b.jsxs("button",{onClick:()=>w(E==="date_desc"?"date_asc":"date_desc"),className:`flex items-center gap-2 px-4 py-2 font-bold transition-colors ${E.startsWith("date")?"text-yellow-400 bg-neutral-800":"text-neutral-500 hover:text-white"}`,children:[b.jsx("span",{children:"YKLENME"}),b.jsx("span",{className:"text-xl",children:E==="date_desc"?"":E==="date_asc"?"":""})]})]})]}),qD=({movie:t,onClose:e,onTryAgain:n})=>($.useEffect(()=>{const i=a=>{a.key==="Escape"&&e()};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[e]),t?b.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",children:b.jsxs("div",{className:"relative w-full max-w-4xl bg-neutral-900 border-4 border-white shadow-[0_0_50px_rgba(255,255,255,0.1)] flex flex-col md:flex-row overflow-hidden max-h-[90vh] md:max-h-[800px]",onClick:i=>i.stopPropagation(),children:[b.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 bg-black text-white hover:text-red-500 border-2 border-white p-2 transition-colors",children:b.jsx(fi,{size:24})}),b.jsxs("div",{className:"hidden md:block w-[400px] shrink-0 bg-black relative border-r-4 border-white",children:[t.posterBase64?b.jsx("img",{src:t.posterBase64,alt:t.title,className:"w-full h-full object-cover contrast-125 saturate-150 pixelated"}):b.jsx("div",{className:"w-full h-full flex flex-col items-center justify-center text-6xl text-neutral-700",children:t.emoji}),b.jsx("div",{className:"absolute top-4 left-4 bg-cyan-400 text-black font-bold px-4 py-1 border-2 border-black shadow-[4px_4px_0px_#000] z-10",children:"300 SRPRZ"})]}),b.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-neutral-900",children:b.jsxs("div",{className:"p-4 md:p-8 flex flex-col gap-6",children:[b.jsxs("div",{className:"flex gap-4 md:hidden items-start pr-12",children:[b.jsxs("div",{className:"w-1/3 shrink-0 border-2 border-white relative",children:[t.posterBase64?b.jsx("img",{src:t.posterBase64,alt:t.title,className:"w-full h-auto object-cover aspect-[2/3] contrast-125 saturate-150 pixelated"}):b.jsx("div",{className:"w-full aspect-[2/3] bg-neutral-800 flex items-center justify-center text-4xl",children:t.emoji}),b.jsx("div",{className:"absolute top-1 left-1 bg-cyan-400 text-black text-[10px] font-bold px-2 py-0 border border-black shadow-[2px_2px_0px_#000] z-10",children:"300"})]}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("h2",{className:"text-3xl font-bold text-yellow-400 leading-none uppercase mb-2 text-shadow-sm break-words",children:t.title.toLocaleUpperCase("tr-TR")}),b.jsxs("div",{className:"flex flex-wrap gap-2 text-xs font-bold",children:[b.jsx("div",{className:"bg-yellow-400 text-black px-2 py-0.5 border border-transparent",children:t.year}),t.genre.slice(0,2).map(i=>b.jsx("div",{className:"bg-cyan-900 text-cyan-200 px-2 py-0.5 border border-cyan-700 uppercase",children:i},i))]})]})]}),b.jsxs("div",{className:"hidden md:block",children:[b.jsx("div",{className:"flex items-start justify-between gap-4",children:b.jsx("div",{children:b.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-yellow-400 leading-none uppercase mb-2 text-shadow-sm",children:t.title.toLocaleUpperCase("tr-TR")})})}),b.jsxs("div",{className:"flex flex-wrap gap-2 text-sm md:text-base font-bold",children:[b.jsx("div",{className:"bg-yellow-400 text-black px-3 py-1 border-2 border-transparent",children:t.year}),t.genre.map(i=>b.jsx("div",{className:"bg-cyan-900 text-cyan-200 px-3 py-1 border-2 border-cyan-700 uppercase",children:i},i))]})]}),b.jsx("div",{className:"h-px bg-neutral-700 w-full"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 text-base md:text-lg",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center gap-2 text-neutral-500 mb-1 uppercase text-sm font-bold",children:[b.jsx(sh,{size:16})," Ynetmen"]}),b.jsx("div",{className:"text-white text-lg md:text-xl",children:t.director})]}),t.userRating&&b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center gap-2 text-neutral-500 mb-1 uppercase text-sm font-bold",children:[b.jsx(ih,{size:16})," Puanm"]}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(yy,{rating:t.userRating,readOnly:!0,size:20}),b.jsxs("span",{className:"text-yellow-400 font-bold text-xl md:text-2xl",children:[t.userRating,"/5"]})]})]})]}),b.jsxs("div",{className:"bg-black/30 p-4 md:p-6 border-l-4 border-yellow-400",children:[b.jsxs("div",{className:"flex items-center gap-2 text-yellow-400 mb-2 md:mb-3 uppercase font-bold tracking-widest text-sm",children:[b.jsx(rS,{size:16})," zet"]}),b.jsx("p",{className:"text-lg md:text-xl leading-relaxed text-neutral-200 font-serif",children:t.summary})]}),t.userReview&&b.jsxs("div",{className:"bg-neutral-800 p-4 md:p-6 border border-neutral-700 relative group",children:[b.jsx(sS,{className:"absolute top-4 right-4 text-neutral-700 w-8 h-8 md:w-12 md:h-12 rotate-180"}),b.jsxs("div",{className:"relative z-10",children:[b.jsx("div",{className:"text-magenta-500 font-bold mb-2 uppercase text-sm",children:"ncelemem"}),b.jsxs("p",{className:"text-xl md:text-2xl text-white italic font-serif leading-relaxed",children:['"',t.userReview,'"']})]})]}),b.jsx("div",{className:"mt-4 md:mt-8 flex flex-col gap-4 pt-6 border-t border-neutral-700",children:b.jsxs("button",{onClick:n,className:"w-full bg-cyan-500 hover:bg-cyan-400 text-black font-bold text-xl py-4 flex items-center justify-center gap-3 transition-colors border-2 border-transparent hover:border-white shadow-lg",children:[b.jsx(aS,{size:24,className:"animate-spin-slow"}),b.jsx("span",{children:"BAKA FLM SE"})]})})]})})]})}):null),YD=({isOpen:t,onClose:e,onSubmit:n,isSubmitting:i,editPost:a})=>{if(!t)return null;const[l,u]=$.useState((a==null?void 0:a.title)||""),[f,p]=$.useState((a==null?void 0:a.summary)||""),[m,y]=$.useState((a==null?void 0:a.content)||""),[_,E]=$.useState((a==null?void 0:a.author)||"BOLVITAMIN"),[w,x]=$.useState((a==null?void 0:a.date)||new Date().toLocaleDateString("tr-TR",{month:"long",year:"numeric"}).toUpperCase()),[L,N]=$.useState((a==null?void 0:a.readTime)||"3 dk"),[G,B]=$.useState((a==null?void 0:a.coverImage)||""),F=async Q=>{Q.preventDefault(),await n({title:l,summary:f,content:m,author:_,date:w,readTime:L,coverImage:G})};return b.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/95 p-4 overflow-y-auto",children:b.jsxs("div",{className:"relative w-full max-w-4xl bg-neutral-900 border-4 border-white p-6 shadow-[0_0_50px_rgba(255,255,255,0.1)]",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6 border-b-2 border-neutral-700 pb-4",children:[b.jsx("h2",{className:"text-3xl font-black text-yellow-400 uppercase",children:a?"Yazy Dzenle":"Yeni Blog Yazs"}),b.jsx("button",{onClick:e,className:"p-2 hover:bg-neutral-800 rounded-full transition-colors text-white",children:b.jsx(fi,{size:32})})]}),b.jsxs("form",{onSubmit:F,className:"space-y-6",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-neutral-400 mb-1",children:"BALIK"}),b.jsx("input",{type:"text",value:l,onChange:Q=>u(Q.target.value),className:"w-full bg-black border-2 border-neutral-700 p-3 text-white font-bold focus:border-yellow-400 outline-none transition-colors",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-neutral-400 mb-1",children:"ZET (Kartta grnecek)"}),b.jsx("textarea",{value:f,onChange:Q=>p(Q.target.value),className:"w-full bg-black border-2 border-neutral-700 p-3 text-white h-24 focus:border-yellow-400 outline-none transition-colors resize-none",required:!0})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-neutral-400 mb-1",children:"YAZAR"}),b.jsx("input",{type:"text",value:_,onChange:Q=>E(Q.target.value),className:"w-full bg-black border-2 border-neutral-700 p-3 text-white font-mono focus:border-yellow-400 outline-none transition-colors",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-neutral-400 mb-1",children:"TARH"}),b.jsx("input",{type:"text",value:w,onChange:Q=>x(Q.target.value),className:"w-full bg-black border-2 border-neutral-700 p-3 text-white font-mono focus:border-yellow-400 outline-none transition-colors",required:!0})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-neutral-400 mb-1",children:"OKUMA SRES"}),b.jsx("input",{type:"text",value:L,onChange:Q=>N(Q.target.value),className:"w-full bg-black border-2 border-neutral-700 p-3 text-white font-mono focus:border-yellow-400 outline-none transition-colors",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-neutral-400 mb-1",children:"KAPAK GRSEL (URL)"}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:"text",value:G,onChange:Q=>B(Q.target.value),className:"w-full bg-black border-2 border-neutral-700 p-3 pl-10 text-white font-mono focus:border-yellow-400 outline-none transition-colors"}),b.jsx(iS,{size:18,className:"absolute left-3 top-3.5 text-neutral-500"})]})]})]})]}),b.jsxs("div",{className:"space-y-4 h-full flex flex-col",children:[b.jsx("label",{className:"block text-sm font-bold text-neutral-400 mb-1",children:"ERK (HTML)"}),b.jsx("textarea",{value:m,onChange:Q=>y(Q.target.value),className:"w-full flex-1 bg-black border-2 border-neutral-700 p-3 text-white font-mono text-sm focus:border-yellow-400 outline-none transition-colors resize-none leading-relaxed",placeholder:"<p>Paragraf...</p>",required:!0}),b.jsx("p",{className:"text-xs text-neutral-500",children:'pucu: Paragraflar <p class="mb-4"> iine aln. Balklar iin <h3 class="text-xl font-bold text-yellow-400"> kullann.'})]})]}),b.jsx("div",{className:"flex justify-end pt-6 border-t border-neutral-800",children:b.jsxs("button",{type:"submit",disabled:i,className:`
                                flex items-center gap-2 px-8 py-4 text-xl font-bold uppercase tracking-wider
                                transition-all transform active:scale-95
                                ${i?"bg-neutral-700 text-neutral-400 cursor-not-allowed":"bg-yellow-400 text-black hover:bg-white"}
                            `,children:[b.jsx(vD,{size:24}),i?"KAYDEDLYOR...":"KAYDET VE YAYINLA"]})})]})]})})},KD=()=>{};var _0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},$D=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],f=t[n++],p=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],u=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},uS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,f=u?t[a+1]:0,p=a+2<t.length,m=p?t[a+2]:0,y=l>>2,_=(l&3)<<4|f>>4;let E=(f&15)<<2|m>>6,w=m&63;p||(w=64,u||(E=64)),i.push(n[y],n[_],n[E],n[w])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$D(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||m==null||_==null)throw new WD;const E=l<<2|f>>4;if(i.push(E),m!==64){const w=f<<4&240|m>>2;if(i.push(w),_!==64){const x=m<<6&192|_;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class WD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QD=function(t){const e=cS(t);return uS.encodeByteArray(e,!0)},Tf=function(t){return QD(t).replace(/\./g,"")},dS=function(t){try{return uS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=()=>XD().__FIREBASE_DEFAULTS__,ZD=()=>{if(typeof process>"u"||typeof _0>"u")return;const t=_0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},eO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dS(t[1]);return e&&JSON.parse(e)},ah=()=>{try{return KD()||JD()||ZD()||eO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fS=t=>{var e,n;return(n=(e=ah())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},tO=t=>{const e=fS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},hS=()=>{var t;return(t=ah())==null?void 0:t.config},pS=t=>{var e;return(e=ah())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Tf(JSON.stringify(n)),Tf(JSON.stringify(u)),""].join(".")}const jc={};function iO(){const t={prod:[],emulator:[]};for(const e of Object.keys(jc))jc[e]?t.emulator.push(e):t.prod.push(e);return t}function sO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let b0=!1;function gS(t,e){if(typeof window>"u"||typeof document>"u"||!pl(window.location.host)||jc[t]===e||jc[t]||b0)return;jc[t]=e;function n(E){return`__firebase__banner__${E}`}const i="__firebase__banner",l=iO().prod.length>0;function u(){const E=document.getElementById(i);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function p(E,w){E.setAttribute("width","24"),E.setAttribute("id",w),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{b0=!0,u()},E}function y(E,w){E.setAttribute("id",w),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=sO(i),w=n("text"),x=document.getElementById(w)||document.createElement("span"),L=n("learnmore"),N=document.getElementById(L)||document.createElement("a"),G=n("preprendIcon"),B=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const F=E.element;f(F),y(N,L);const Q=m();p(B,G),F.append(B,x,N,Q),document.body.appendChild(F)}l?(x.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function oO(){var e;const t=(e=ah())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uO(){const t=gn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dO(){return!oO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _S(){try{return typeof indexedDB=="object"}catch{return!1}}function bS(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)==null?void 0:l.message)||"")}}catch(n){e(n)}})}function fO(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO="FirebaseError";class Fr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=hO,Object.setPrototypeOf(this,Fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qa.prototype.create)}}class qa{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?pO(l,i):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new Fr(a,f,i)}}function pO(t,e){return t.replace(mO,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const mO=/\{\$([^}]+)}/g;function gO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fs(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],u=e[a];if(v0(l)&&v0(u)){if(!Fs(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function v0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Mc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Lc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function yO(t,e){const n=new _O(t,e);return n.subscribe.bind(n)}class _O{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");bO(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=Km),a.error===void 0&&(a.error=Km),a.complete===void 0&&(a.complete=Km);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Km(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=1e3,EO=2,TO=14400*1e3,AO=.5;function E0(t,e=vO,n=EO){const i=e*Math.pow(n,t),a=Math.round(AO*i*(Math.random()-.5)*2);return Math.min(TO,i+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(t){return t&&t._delegate?t._delegate:t}class jr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wO=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new nO;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IO(e))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Da){return this.instances.has(e)}getOptions(e=Da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&u.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:SO(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Da){return this.component?this.component.multipleInstances?e:Da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function SO(t){return t===Da?void 0:t}function IO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ze||(ze={}));const RO={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},NO=ze.INFO,CO={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},DO=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=CO[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class oh{constructor(e){this.name=e,this._logLevel=NO,this._logHandler=DO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const OO=(t,e)=>e.some(n=>t instanceof n);let T0,A0;function MO(){return T0||(T0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LO(){return A0||(A0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vS=new WeakMap,Ig=new WeakMap,ES=new WeakMap,$m=new WeakMap,_y=new WeakMap;function PO(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Ms(t.result)),a()},u=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&vS.set(n,t)}).catch(()=>{}),_y.set(e,t),e}function kO(t){if(Ig.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});Ig.set(t,e)}let xg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ig.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ES.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ms(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function UO(t){xg=t(xg)}function VO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Wm(this),e,...n);return ES.set(i,e.sort?e.sort():[e]),Ms(i)}:LO().includes(t)?function(...e){return t.apply(Wm(this),e),Ms(vS.get(this))}:function(...e){return Ms(t.apply(Wm(this),e))}}function jO(t){return typeof t=="function"?VO(t):(t instanceof IDBTransaction&&kO(t),OO(t,MO())?new Proxy(t,xg):t)}function Ms(t){if(t instanceof IDBRequest)return PO(t);if($m.has(t))return $m.get(t);const e=jO(t);return e!==t&&($m.set(t,e),_y.set(e,t)),e}const Wm=t=>_y.get(t);function TS(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),f=Ms(u);return i&&u.addEventListener("upgradeneeded",p=>{i(Ms(u.result),p.oldVersion,p.newVersion,Ms(u.transaction),p)}),n&&u.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const BO=["get","getKey","getAll","getAllKeys","count"],zO=["put","add","delete","clear"],Qm=new Map;function w0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qm.get(e))return Qm.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=zO.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||BO.includes(n)))return;const l=async function(u,...f){const p=this.transaction(u,a?"readwrite":"readonly");let m=p.store;return i&&(m=m.index(f.shift())),(await Promise.all([m[n](...f),a&&p.done]))[0]};return Qm.set(e,l),l}UO(t=>({...t,get:(e,n,i)=>w0(e,n)||t.get(e,n,i),has:(e,n)=>!!w0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GO(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function GO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rg="@firebase/app",S0="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new oh("@firebase/app"),HO="@firebase/app-compat",qO="@firebase/analytics-compat",YO="@firebase/analytics",KO="@firebase/app-check-compat",$O="@firebase/app-check",WO="@firebase/auth",QO="@firebase/auth-compat",XO="@firebase/database",JO="@firebase/data-connect",ZO="@firebase/database-compat",e2="@firebase/functions",t2="@firebase/functions-compat",n2="@firebase/installations",r2="@firebase/installations-compat",i2="@firebase/messaging",s2="@firebase/messaging-compat",a2="@firebase/performance",o2="@firebase/performance-compat",l2="@firebase/remote-config",c2="@firebase/remote-config-compat",u2="@firebase/storage",d2="@firebase/storage-compat",f2="@firebase/firestore",h2="@firebase/ai",p2="@firebase/firestore-compat",m2="firebase",g2="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="[DEFAULT]",y2={[Rg]:"fire-core",[HO]:"fire-core-compat",[YO]:"fire-analytics",[qO]:"fire-analytics-compat",[$O]:"fire-app-check",[KO]:"fire-app-check-compat",[WO]:"fire-auth",[QO]:"fire-auth-compat",[XO]:"fire-rtdb",[JO]:"fire-data-connect",[ZO]:"fire-rtdb-compat",[e2]:"fire-fn",[t2]:"fire-fn-compat",[n2]:"fire-iid",[r2]:"fire-iid-compat",[i2]:"fire-fcm",[s2]:"fire-fcm-compat",[a2]:"fire-perf",[o2]:"fire-perf-compat",[l2]:"fire-rc",[c2]:"fire-rc-compat",[u2]:"fire-gcs",[d2]:"fire-gcs-compat",[f2]:"fire-fst",[p2]:"fire-fst-compat",[h2]:"fire-vertex","fire-js":"fire-js",[m2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=new Map,_2=new Map,Cg=new Map;function I0(t,e){try{t.container.addComponent(e)}catch(n){Gi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _i(t){const e=t.name;if(Cg.has(e))return Gi.debug(`There were multiple attempts to register component ${e}.`),!1;Cg.set(e,t);for(const n of Af.values())I0(n,t);for(const n of _2.values())I0(n,t);return!0}function Ya(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Pr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ls=new qa("app","Firebase",b2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml=g2;function AS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Ng,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Ls.create("bad-app-name",{appName:String(a)});if(n||(n=hS()),!n)throw Ls.create("no-options");const l=Af.get(a);if(l){if(Fs(n,l.options)&&Fs(i,l.config))return l;throw Ls.create("duplicate-app",{appName:a})}const u=new xO(a);for(const p of Cg.values())u.addComponent(p);const f=new v2(n,i,u);return Af.set(a,f),f}function by(t=Ng){const e=Af.get(t);if(!e&&t===Ng&&hS())return AS();if(!e)throw Ls.create("no-app",{appName:t});return e}function yr(t,e,n){let i=y2[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gi.warn(u.join(" "));return}_i(new jr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="firebase-heartbeat-database",T2=1,Wc="firebase-heartbeat-store";let Xm=null;function wS(){return Xm||(Xm=TS(E2,T2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ls.create("idb-open",{originalErrorMessage:t.message})})),Xm}async function A2(t){try{const n=(await wS()).transaction(Wc),i=await n.objectStore(Wc).get(SS(t));return await n.done,i}catch(e){if(e instanceof Fr)Gi.warn(e.message);else{const n=Ls.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gi.warn(n.message)}}}async function x0(t,e){try{const i=(await wS()).transaction(Wc,"readwrite");await i.objectStore(Wc).put(e,SS(t)),await i.done}catch(n){if(n instanceof Fr)Gi.warn(n.message);else{const i=Ls.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gi.warn(i.message)}}}function SS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=1024,S2=30;class I2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new R2(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=R0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>S2){const u=N2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Gi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=R0(),{heartbeatsToSend:i,unsentEntries:a}=x2(this._heartbeatsCache.heartbeats),l=Tf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Gi.warn(n),""}}}function R0(){return new Date().toISOString().substring(0,10)}function x2(t,e=w2){const n=[];let i=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),N0(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),N0(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class R2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _S()?bS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await A2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return x0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return x0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function N0(t){return Tf(JSON.stringify({version:2,heartbeats:t})).length}function N2(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(t){_i(new jr("platform-logger",e=>new FO(e),"PRIVATE")),_i(new jr("heartbeat",e=>new I2(e),"PRIVATE")),yr(Rg,S0,t),yr(Rg,S0,"esm2020"),yr("fire-js","")}C2("");var D2="firebase",O2="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yr(D2,O2,"app");const IS="@firebase/installations",vy="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=1e4,RS=`w:${vy}`,NS="FIS_v2",M2="https://firebaseinstallations.googleapis.com/v1",L2=3600*1e3,P2="installations",k2="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Va=new qa(P2,k2,U2);function CS(t){return t instanceof Fr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS({projectId:t}){return`${M2}/projects/${t}/installations`}function OS(t){return{token:t.token,requestStatus:2,expiresIn:j2(t.expiresIn),creationTime:Date.now()}}async function MS(t,e){const i=(await e.json()).error;return Va.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function LS({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function V2(t,{refreshToken:e}){const n=LS(t);return n.append("Authorization",B2(e)),n}async function PS(t){const e=await t();return e.status>=500&&e.status<600?t():e}function j2(t){return Number(t.replace("s","000"))}function B2(t){return`${NS} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=DS(t),a=LS(t),l=e.getImmediate({optional:!0});if(l){const m=await l.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}const u={fid:n,authVersion:NS,appId:t.appId,sdkVersion:RS},f={method:"POST",headers:a,body:JSON.stringify(u)},p=await PS(()=>fetch(i,f));if(p.ok){const m=await p.json();return{fid:m.fid||n,registrationStatus:2,refreshToken:m.refreshToken,authToken:OS(m.authToken)}}else throw await MS("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=/^[cdef][\w-]{21}$/,Dg="";function H2(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=q2(t);return G2.test(n)?n:Dg}catch{return Dg}}function q2(t){return F2(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US=new Map;function VS(t,e){const n=lh(t);jS(n,e),Y2(n,e)}function jS(t,e){const n=US.get(t);if(n)for(const i of n)i(e)}function Y2(t,e){const n=K2();n&&n.postMessage({key:t,fid:e}),$2()}let La=null;function K2(){return!La&&"BroadcastChannel"in self&&(La=new BroadcastChannel("[Firebase] FID Change"),La.onmessage=t=>{jS(t.data.key,t.data.fid)}),La}function $2(){US.size===0&&La&&(La.close(),La=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="firebase-installations-database",Q2=1,ja="firebase-installations-store";let Jm=null;function Ey(){return Jm||(Jm=TS(W2,Q2,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ja)}}})),Jm}async function wf(t,e){const n=lh(t),a=(await Ey()).transaction(ja,"readwrite"),l=a.objectStore(ja),u=await l.get(n);return await l.put(e,n),await a.done,(!u||u.fid!==e.fid)&&VS(t,e.fid),e}async function BS(t){const e=lh(t),i=(await Ey()).transaction(ja,"readwrite");await i.objectStore(ja).delete(e),await i.done}async function ch(t,e){const n=lh(t),a=(await Ey()).transaction(ja,"readwrite"),l=a.objectStore(ja),u=await l.get(n),f=e(u);return f===void 0?await l.delete(n):await l.put(f,n),await a.done,f&&(!u||u.fid!==f.fid)&&VS(t,f.fid),f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ty(t){let e;const n=await ch(t.appConfig,i=>{const a=X2(i),l=J2(t,a);return e=l.registrationPromise,l.installationEntry});return n.fid===Dg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function X2(t){const e=t||{fid:H2(),registrationStatus:0};return zS(e)}function J2(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Va.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=Z2(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:eM(t)}:{installationEntry:e}}async function Z2(t,e){try{const n=await z2(t,e);return wf(t.appConfig,n)}catch(n){throw CS(n)&&n.customData.serverCode===409?await BS(t.appConfig):await wf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function eM(t){let e=await C0(t.appConfig);for(;e.registrationStatus===1;)await kS(100),e=await C0(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Ty(t);return i||n}return e}function C0(t){return ch(t,e=>{if(!e)throw Va.create("installation-not-found");return zS(e)})}function zS(t){return tM(t)?{fid:t.fid,registrationStatus:0}:t}function tM(t){return t.registrationStatus===1&&t.registrationTime+xS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nM({appConfig:t,heartbeatServiceProvider:e},n){const i=rM(t,n),a=V2(t,n),l=e.getImmediate({optional:!0});if(l){const m=await l.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}const u={installation:{sdkVersion:RS,appId:t.appId}},f={method:"POST",headers:a,body:JSON.stringify(u)},p=await PS(()=>fetch(i,f));if(p.ok){const m=await p.json();return OS(m)}else throw await MS("Generate Auth Token",p)}function rM(t,{fid:e}){return`${DS(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ay(t,e=!1){let n;const i=await ch(t.appConfig,l=>{if(!FS(l))throw Va.create("not-registered");const u=l.authToken;if(!e&&aM(u))return l;if(u.requestStatus===1)return n=iM(t,e),l;{if(!navigator.onLine)throw Va.create("app-offline");const f=lM(l);return n=sM(t,f),f}});return n?await n:i.authToken}async function iM(t,e){let n=await D0(t.appConfig);for(;n.authToken.requestStatus===1;)await kS(100),n=await D0(t.appConfig);const i=n.authToken;return i.requestStatus===0?Ay(t,e):i}function D0(t){return ch(t,e=>{if(!FS(e))throw Va.create("not-registered");const n=e.authToken;return cM(n)?{...e,authToken:{requestStatus:0}}:e})}async function sM(t,e){try{const n=await nM(t,e),i={...e,authToken:n};return await wf(t.appConfig,i),n}catch(n){if(CS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await BS(t.appConfig);else{const i={...e,authToken:{requestStatus:0}};await wf(t.appConfig,i)}throw n}}function FS(t){return t!==void 0&&t.registrationStatus===2}function aM(t){return t.requestStatus===2&&!oM(t)}function oM(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+L2}function lM(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function cM(t){return t.requestStatus===1&&t.requestTime+xS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uM(t){const e=t,{installationEntry:n,registrationPromise:i}=await Ty(e);return i?i.catch(console.error):Ay(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dM(t,e=!1){const n=t;return await fM(n),(await Ay(n,e)).token}async function fM(t){const{registrationPromise:e}=await Ty(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(t){if(!t||!t.options)throw Zm("App Configuration");if(!t.name)throw Zm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Zm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Zm(t){return Va.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="installations",pM="installations-internal",mM=t=>{const e=t.getProvider("app").getImmediate(),n=hM(e),i=Ya(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},gM=t=>{const e=t.getProvider("app").getImmediate(),n=Ya(e,GS).getImmediate();return{getId:()=>uM(n),getToken:a=>dM(n,a)}};function yM(){_i(new jr(GS,mM,"PUBLIC")),_i(new jr(pM,gM,"PRIVATE"))}yM();yr(IS,vy);yr(IS,vy,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf="analytics",_M="firebase_id",bM="origin",vM=60*1e3,EM="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn=new oh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Xn=new qa("analytics","Analytics",TM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(t){if(!t.startsWith(wy)){const e=Xn.create("invalid-gtag-resource",{gtagURL:t});return wn.warn(e.message),""}return t}function HS(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function wM(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function SM(t,e){const n=wM("firebase-js-sdk-policy",{createScriptURL:AM}),i=document.createElement("script"),a=`${wy}?l=${t}&id=${e}`;i.src=n?n==null?void 0:n.createScriptURL(a):a,i.async=!0,document.head.appendChild(i)}function IM(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function xM(t,e,n,i,a,l){const u=i[a];try{if(u)await e[u];else{const p=(await HS(n)).find(m=>m.measurementId===a);p&&await e[p.appId]}}catch(f){wn.error(f)}t("config",a,l)}async function RM(t,e,n,i,a){try{let l=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const f=await HS(n);for(const p of u){const m=f.find(_=>_.measurementId===p),y=m&&e[m.appId];if(y)l.push(y);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",i,a||{})}catch(l){wn.error(l)}}function NM(t,e,n,i){async function a(l,...u){try{if(l==="event"){const[f,p]=u;await RM(t,e,n,f,p)}else if(l==="config"){const[f,p]=u;await xM(t,e,n,i,f,p)}else if(l==="consent"){const[f,p]=u;t("consent",f,p)}else if(l==="get"){const[f,p,m]=u;t("get",f,p,m)}else if(l==="set"){const[f]=u;t("set",f)}else t(l,...u)}catch(f){wn.error(f)}}return a}function CM(t,e,n,i,a){let l=function(...u){window[i].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=NM(l,t,e,n),{gtagCore:l,wrappedGtag:window[a]}}function DM(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(wy)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=30,MM=1e3;class LM{constructor(e={},n=MM){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const qS=new LM;function PM(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function kM(t){var u;const{appId:e,apiKey:n}=t,i={method:"GET",headers:PM(n)},a=EM.replace("{app-id}",e),l=await fetch(a,i);if(l.status!==200&&l.status!==304){let f="";try{const p=await l.json();(u=p.error)!=null&&u.message&&(f=p.error.message)}catch{}throw Xn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:f})}return l.json()}async function UM(t,e=qS,n){const{appId:i,apiKey:a,measurementId:l}=t.options;if(!i)throw Xn.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:i};throw Xn.create("no-api-key")}const u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new BM;return setTimeout(async()=>{f.abort()},vM),YS({appId:i,apiKey:a,measurementId:l},u,f,e)}async function YS(t,{throttleEndTimeMillis:e,backoffCount:n},i,a=qS){var f;const{appId:l,measurementId:u}=t;try{await VM(i,e)}catch(p){if(u)return wn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:l,measurementId:u};throw p}try{const p=await kM(t);return a.deleteThrottleMetadata(l),p}catch(p){const m=p;if(!jM(m)){if(a.deleteThrottleMetadata(l),u)return wn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:l,measurementId:u};throw p}const y=Number((f=m==null?void 0:m.customData)==null?void 0:f.httpStatus)===503?E0(n,a.intervalMillis,OM):E0(n,a.intervalMillis),_={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return a.setThrottleMetadata(l,_),wn.debug(`Calling attemptFetch again in ${y} millis`),YS(t,_,i,a)}}function VM(t,e){return new Promise((n,i)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(l),i(Xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function jM(t){if(!(t instanceof Fr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class BM{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function zM(t,e,n,i,a){if(a&&a.global){t("event",n,i);return}else{const l=await e,u={...i,send_to:l};t("event",n,u)}}async function FM(t,e,n,i){if(i&&i.global){const a={};for(const l of Object.keys(n))a[`user_properties.${l}`]=n[l];return t("set",a),Promise.resolve()}else{const a=await e;t("config",a,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GM(){if(_S())try{await bS()}catch(t){return wn.warn(Xn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return wn.warn(Xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function HM(t,e,n,i,a,l,u){const f=UM(t);f.then(E=>{n[E.measurementId]=E.appId,t.options.measurementId&&E.measurementId!==t.options.measurementId&&wn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>wn.error(E)),e.push(f);const p=GM().then(E=>{if(E)return i.getId()}),[m,y]=await Promise.all([f,p]);DM(l)||SM(l,m.measurementId),a("js",new Date);const _=(u==null?void 0:u.config)??{};return _[bM]="firebase",_.update=!0,y!=null&&(_[_M]=y),a("config",m.measurementId,_),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e){this.app=e}_delete(){return delete Qo[this.app.options.appId],Promise.resolve()}}let Qo={},O0=[];const M0={};let eg="dataLayer",YM="gtag",L0,Sy,P0=!1;function KM(){const t=[];if(yS()&&t.push("This is a browser extension environment."),fO()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,a)=>`(${a+1}) ${i}`).join(" "),n=Xn.create("invalid-analytics-context",{errorInfo:e});wn.warn(n.message)}}function $M(t,e,n){KM();const i=t.options.appId;if(!i)throw Xn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)wn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Xn.create("no-api-key");if(Qo[i]!=null)throw Xn.create("already-exists",{id:i});if(!P0){IM(eg);const{wrappedGtag:l,gtagCore:u}=CM(Qo,O0,M0,eg,YM);Sy=l,L0=u,P0=!0}return Qo[i]=HM(t,O0,M0,e,L0,eg,n),new qM(t)}function WM(t=by()){t=Tt(t);const e=Ya(t,Sf);return e.isInitialized()?e.getImmediate():QM(t)}function QM(t,e={}){const n=Ya(t,Sf);if(n.isInitialized()){const a=n.getImmediate();if(Fs(e,n.getOptions()))return a;throw Xn.create("already-initialized")}return n.initialize({options:e})}function XM(t,e,n){t=Tt(t),FM(Sy,Qo[t.app.options.appId],e,n).catch(i=>wn.error(i))}function JM(t,e,n,i){t=Tt(t),zM(Sy,Qo[t.app.options.appId],e,n,i).catch(a=>wn.error(a))}const k0="@firebase/analytics",U0="0.10.19";function ZM(){_i(new jr(Sf,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return $M(i,a,n)},"PUBLIC")),_i(new jr("analytics-internal",t,"PRIVATE")),yr(k0,U0),yr(k0,U0,"esm2020");function t(e){try{const n=e.getProvider(Sf).getImmediate();return{logEvent:(i,a,l)=>JM(n,i,a,l),setUserProperties:(i,a)=>XM(n,i,a)}}catch(n){throw Xn.create("interop-component-reg-failed",{reason:n})}}}ZM();var V0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ps,KS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,R){function D(){}D.prototype=R.prototype,C.F=R.prototype,C.prototype=new D,C.prototype.constructor=C,C.D=function(U,M,j){for(var O=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)O[Pe-2]=arguments[Pe];return R.prototype[M].apply(U,O)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,R,D){D||(D=0);const U=Array(16);if(typeof R=="string")for(var M=0;M<16;++M)U[M]=R.charCodeAt(D++)|R.charCodeAt(D++)<<8|R.charCodeAt(D++)<<16|R.charCodeAt(D++)<<24;else for(M=0;M<16;++M)U[M]=R[D++]|R[D++]<<8|R[D++]<<16|R[D++]<<24;R=C.g[0],D=C.g[1],M=C.g[2];let j=C.g[3],O;O=R+(j^D&(M^j))+U[0]+3614090360&4294967295,R=D+(O<<7&4294967295|O>>>25),O=j+(M^R&(D^M))+U[1]+3905402710&4294967295,j=R+(O<<12&4294967295|O>>>20),O=M+(D^j&(R^D))+U[2]+606105819&4294967295,M=j+(O<<17&4294967295|O>>>15),O=D+(R^M&(j^R))+U[3]+3250441966&4294967295,D=M+(O<<22&4294967295|O>>>10),O=R+(j^D&(M^j))+U[4]+4118548399&4294967295,R=D+(O<<7&4294967295|O>>>25),O=j+(M^R&(D^M))+U[5]+1200080426&4294967295,j=R+(O<<12&4294967295|O>>>20),O=M+(D^j&(R^D))+U[6]+2821735955&4294967295,M=j+(O<<17&4294967295|O>>>15),O=D+(R^M&(j^R))+U[7]+4249261313&4294967295,D=M+(O<<22&4294967295|O>>>10),O=R+(j^D&(M^j))+U[8]+1770035416&4294967295,R=D+(O<<7&4294967295|O>>>25),O=j+(M^R&(D^M))+U[9]+2336552879&4294967295,j=R+(O<<12&4294967295|O>>>20),O=M+(D^j&(R^D))+U[10]+4294925233&4294967295,M=j+(O<<17&4294967295|O>>>15),O=D+(R^M&(j^R))+U[11]+2304563134&4294967295,D=M+(O<<22&4294967295|O>>>10),O=R+(j^D&(M^j))+U[12]+1804603682&4294967295,R=D+(O<<7&4294967295|O>>>25),O=j+(M^R&(D^M))+U[13]+4254626195&4294967295,j=R+(O<<12&4294967295|O>>>20),O=M+(D^j&(R^D))+U[14]+2792965006&4294967295,M=j+(O<<17&4294967295|O>>>15),O=D+(R^M&(j^R))+U[15]+1236535329&4294967295,D=M+(O<<22&4294967295|O>>>10),O=R+(M^j&(D^M))+U[1]+4129170786&4294967295,R=D+(O<<5&4294967295|O>>>27),O=j+(D^M&(R^D))+U[6]+3225465664&4294967295,j=R+(O<<9&4294967295|O>>>23),O=M+(R^D&(j^R))+U[11]+643717713&4294967295,M=j+(O<<14&4294967295|O>>>18),O=D+(j^R&(M^j))+U[0]+3921069994&4294967295,D=M+(O<<20&4294967295|O>>>12),O=R+(M^j&(D^M))+U[5]+3593408605&4294967295,R=D+(O<<5&4294967295|O>>>27),O=j+(D^M&(R^D))+U[10]+38016083&4294967295,j=R+(O<<9&4294967295|O>>>23),O=M+(R^D&(j^R))+U[15]+3634488961&4294967295,M=j+(O<<14&4294967295|O>>>18),O=D+(j^R&(M^j))+U[4]+3889429448&4294967295,D=M+(O<<20&4294967295|O>>>12),O=R+(M^j&(D^M))+U[9]+568446438&4294967295,R=D+(O<<5&4294967295|O>>>27),O=j+(D^M&(R^D))+U[14]+3275163606&4294967295,j=R+(O<<9&4294967295|O>>>23),O=M+(R^D&(j^R))+U[3]+4107603335&4294967295,M=j+(O<<14&4294967295|O>>>18),O=D+(j^R&(M^j))+U[8]+1163531501&4294967295,D=M+(O<<20&4294967295|O>>>12),O=R+(M^j&(D^M))+U[13]+2850285829&4294967295,R=D+(O<<5&4294967295|O>>>27),O=j+(D^M&(R^D))+U[2]+4243563512&4294967295,j=R+(O<<9&4294967295|O>>>23),O=M+(R^D&(j^R))+U[7]+1735328473&4294967295,M=j+(O<<14&4294967295|O>>>18),O=D+(j^R&(M^j))+U[12]+2368359562&4294967295,D=M+(O<<20&4294967295|O>>>12),O=R+(D^M^j)+U[5]+4294588738&4294967295,R=D+(O<<4&4294967295|O>>>28),O=j+(R^D^M)+U[8]+2272392833&4294967295,j=R+(O<<11&4294967295|O>>>21),O=M+(j^R^D)+U[11]+1839030562&4294967295,M=j+(O<<16&4294967295|O>>>16),O=D+(M^j^R)+U[14]+4259657740&4294967295,D=M+(O<<23&4294967295|O>>>9),O=R+(D^M^j)+U[1]+2763975236&4294967295,R=D+(O<<4&4294967295|O>>>28),O=j+(R^D^M)+U[4]+1272893353&4294967295,j=R+(O<<11&4294967295|O>>>21),O=M+(j^R^D)+U[7]+4139469664&4294967295,M=j+(O<<16&4294967295|O>>>16),O=D+(M^j^R)+U[10]+3200236656&4294967295,D=M+(O<<23&4294967295|O>>>9),O=R+(D^M^j)+U[13]+681279174&4294967295,R=D+(O<<4&4294967295|O>>>28),O=j+(R^D^M)+U[0]+3936430074&4294967295,j=R+(O<<11&4294967295|O>>>21),O=M+(j^R^D)+U[3]+3572445317&4294967295,M=j+(O<<16&4294967295|O>>>16),O=D+(M^j^R)+U[6]+76029189&4294967295,D=M+(O<<23&4294967295|O>>>9),O=R+(D^M^j)+U[9]+3654602809&4294967295,R=D+(O<<4&4294967295|O>>>28),O=j+(R^D^M)+U[12]+3873151461&4294967295,j=R+(O<<11&4294967295|O>>>21),O=M+(j^R^D)+U[15]+530742520&4294967295,M=j+(O<<16&4294967295|O>>>16),O=D+(M^j^R)+U[2]+3299628645&4294967295,D=M+(O<<23&4294967295|O>>>9),O=R+(M^(D|~j))+U[0]+4096336452&4294967295,R=D+(O<<6&4294967295|O>>>26),O=j+(D^(R|~M))+U[7]+1126891415&4294967295,j=R+(O<<10&4294967295|O>>>22),O=M+(R^(j|~D))+U[14]+2878612391&4294967295,M=j+(O<<15&4294967295|O>>>17),O=D+(j^(M|~R))+U[5]+4237533241&4294967295,D=M+(O<<21&4294967295|O>>>11),O=R+(M^(D|~j))+U[12]+1700485571&4294967295,R=D+(O<<6&4294967295|O>>>26),O=j+(D^(R|~M))+U[3]+2399980690&4294967295,j=R+(O<<10&4294967295|O>>>22),O=M+(R^(j|~D))+U[10]+4293915773&4294967295,M=j+(O<<15&4294967295|O>>>17),O=D+(j^(M|~R))+U[1]+2240044497&4294967295,D=M+(O<<21&4294967295|O>>>11),O=R+(M^(D|~j))+U[8]+1873313359&4294967295,R=D+(O<<6&4294967295|O>>>26),O=j+(D^(R|~M))+U[15]+4264355552&4294967295,j=R+(O<<10&4294967295|O>>>22),O=M+(R^(j|~D))+U[6]+2734768916&4294967295,M=j+(O<<15&4294967295|O>>>17),O=D+(j^(M|~R))+U[13]+1309151649&4294967295,D=M+(O<<21&4294967295|O>>>11),O=R+(M^(D|~j))+U[4]+4149444226&4294967295,R=D+(O<<6&4294967295|O>>>26),O=j+(D^(R|~M))+U[11]+3174756917&4294967295,j=R+(O<<10&4294967295|O>>>22),O=M+(R^(j|~D))+U[2]+718787259&4294967295,M=j+(O<<15&4294967295|O>>>17),O=D+(j^(M|~R))+U[9]+3951481745&4294967295,C.g[0]=C.g[0]+R&4294967295,C.g[1]=C.g[1]+(M+(O<<21&4294967295|O>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+j&4294967295}i.prototype.v=function(C,R){R===void 0&&(R=C.length);const D=R-this.blockSize,U=this.C;let M=this.h,j=0;for(;j<R;){if(M==0)for(;j<=D;)a(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<R;)if(U[M++]=C.charCodeAt(j++),M==this.blockSize){a(this,U),M=0;break}}else for(;j<R;)if(U[M++]=C[j++],M==this.blockSize){a(this,U),M=0;break}}this.h=M,this.o+=R},i.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var R=1;R<C.length-8;++R)C[R]=0;R=this.o*8;for(var D=C.length-8;D<C.length;++D)C[D]=R&255,R/=256;for(this.v(C),C=Array(16),R=0,D=0;D<4;++D)for(let U=0;U<32;U+=8)C[R++]=this.g[D]>>>U&255;return C};function l(C,R){var D=f;return Object.prototype.hasOwnProperty.call(D,C)?D[C]:D[C]=R(C)}function u(C,R){this.h=R;const D=[];let U=!0;for(let M=C.length-1;M>=0;M--){const j=C[M]|0;U&&j==R||(D[M]=j,U=!1)}this.g=D}var f={};function p(C){return-128<=C&&C<128?l(C,function(R){return new u([R|0],R<0?-1:0)}):new u([C|0],C<0?-1:0)}function m(C){if(isNaN(C)||!isFinite(C))return _;if(C<0)return N(m(-C));const R=[];let D=1;for(let U=0;C>=D;U++)R[U]=C/D|0,D*=4294967296;return new u(R,0)}function y(C,R){if(C.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(C.charAt(0)=="-")return N(y(C.substring(1),R));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=m(Math.pow(R,8));let U=_;for(let j=0;j<C.length;j+=8){var M=Math.min(8,C.length-j);const O=parseInt(C.substring(j,j+M),R);M<8?(M=m(Math.pow(R,M)),U=U.j(M).add(m(O))):(U=U.j(D),U=U.add(m(O)))}return U}var _=p(0),E=p(1),w=p(16777216);t=u.prototype,t.m=function(){if(L(this))return-N(this).m();let C=0,R=1;for(let D=0;D<this.g.length;D++){const U=this.i(D);C+=(U>=0?U:4294967296+U)*R,R*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(x(this))return"0";if(L(this))return"-"+N(this).toString(C);const R=m(Math.pow(C,6));var D=this;let U="";for(;;){const M=Q(D,R).g;D=G(D,M.j(R));let j=((D.g.length>0?D.g[0]:D.h)>>>0).toString(C);if(D=M,x(D))return j+U;for(;j.length<6;)j="0"+j;U=j+U}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function x(C){if(C.h!=0)return!1;for(let R=0;R<C.g.length;R++)if(C.g[R]!=0)return!1;return!0}function L(C){return C.h==-1}t.l=function(C){return C=G(this,C),L(C)?-1:x(C)?0:1};function N(C){const R=C.g.length,D=[];for(let U=0;U<R;U++)D[U]=~C.g[U];return new u(D,~C.h).add(E)}t.abs=function(){return L(this)?N(this):this},t.add=function(C){const R=Math.max(this.g.length,C.g.length),D=[];let U=0;for(let M=0;M<=R;M++){let j=U+(this.i(M)&65535)+(C.i(M)&65535),O=(j>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);U=O>>>16,j&=65535,O&=65535,D[M]=O<<16|j}return new u(D,D[D.length-1]&-2147483648?-1:0)};function G(C,R){return C.add(N(R))}t.j=function(C){if(x(this)||x(C))return _;if(L(this))return L(C)?N(this).j(N(C)):N(N(this).j(C));if(L(C))return N(this.j(N(C)));if(this.l(w)<0&&C.l(w)<0)return m(this.m()*C.m());const R=this.g.length+C.g.length,D=[];for(var U=0;U<2*R;U++)D[U]=0;for(U=0;U<this.g.length;U++)for(let M=0;M<C.g.length;M++){const j=this.i(U)>>>16,O=this.i(U)&65535,Pe=C.i(M)>>>16,Ve=C.i(M)&65535;D[2*U+2*M]+=O*Ve,B(D,2*U+2*M),D[2*U+2*M+1]+=j*Ve,B(D,2*U+2*M+1),D[2*U+2*M+1]+=O*Pe,B(D,2*U+2*M+1),D[2*U+2*M+2]+=j*Pe,B(D,2*U+2*M+2)}for(C=0;C<R;C++)D[C]=D[2*C+1]<<16|D[2*C];for(C=R;C<2*R;C++)D[C]=0;return new u(D,0)};function B(C,R){for(;(C[R]&65535)!=C[R];)C[R+1]+=C[R]>>>16,C[R]&=65535,R++}function F(C,R){this.g=C,this.h=R}function Q(C,R){if(x(R))throw Error("division by zero");if(x(C))return new F(_,_);if(L(C))return R=Q(N(C),R),new F(N(R.g),N(R.h));if(L(R))return R=Q(C,N(R)),new F(N(R.g),R.h);if(C.g.length>30){if(L(C)||L(R))throw Error("slowDivide_ only works with positive integers.");for(var D=E,U=R;U.l(C)<=0;)D=se(D),U=se(U);var M=ae(D,1),j=ae(U,1);for(U=ae(U,2),D=ae(D,2);!x(U);){var O=j.add(U);O.l(C)<=0&&(M=M.add(D),j=O),U=ae(U,1),D=ae(D,1)}return R=G(C,M.j(R)),new F(M,R)}for(M=_;C.l(R)>=0;){for(D=Math.max(1,Math.floor(C.m()/R.m())),U=Math.ceil(Math.log(D)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),j=m(D),O=j.j(R);L(O)||O.l(C)>0;)D-=U,j=m(D),O=j.j(R);x(j)&&(j=E),M=M.add(j),C=G(C,O)}return new F(M,C)}t.B=function(C){return Q(this,C).h},t.and=function(C){const R=Math.max(this.g.length,C.g.length),D=[];for(let U=0;U<R;U++)D[U]=this.i(U)&C.i(U);return new u(D,this.h&C.h)},t.or=function(C){const R=Math.max(this.g.length,C.g.length),D=[];for(let U=0;U<R;U++)D[U]=this.i(U)|C.i(U);return new u(D,this.h|C.h)},t.xor=function(C){const R=Math.max(this.g.length,C.g.length),D=[];for(let U=0;U<R;U++)D[U]=this.i(U)^C.i(U);return new u(D,this.h^C.h)};function se(C){const R=C.g.length+1,D=[];for(let U=0;U<R;U++)D[U]=C.i(U)<<1|C.i(U-1)>>>31;return new u(D,C.h)}function ae(C,R){const D=R>>5;R%=32;const U=C.g.length-D,M=[];for(let j=0;j<U;j++)M[j]=R>0?C.i(j+D)>>>R|C.i(j+D+1)<<32-R:C.i(j+D);return new u(M,C.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,KS=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=y,Ps=u}).apply(typeof V0<"u"?V0:typeof self<"u"?self:typeof window<"u"?window:{});var Xd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $S,Pc,WS,ff,Og,QS,XS,JS;(function(){var t,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xd=="object"&&Xd];for(var v=0;v<d.length;++v){var A=d[v];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var i=n(this);function a(d,v){if(v)e:{var A=i;d=d.split(".");for(var I=0;I<d.length-1;I++){var H=d[I];if(!(H in A))break e;A=A[H]}d=d[d.length-1],I=A[d],v=v(I),v!=I&&v!=null&&e(A,d,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(d){return d||function(v){var A=[],I;for(I in v)Object.prototype.hasOwnProperty.call(v,I)&&A.push([I,v[I]]);return A}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function f(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function p(d,v,A){return d.call.apply(d.bind,arguments)}function m(d,v,A){return m=p,m.apply(null,arguments)}function y(d,v){var A=Array.prototype.slice.call(arguments,1);return function(){var I=A.slice();return I.push.apply(I,arguments),d.apply(this,I)}}function _(d,v){function A(){}A.prototype=v.prototype,d.Z=v.prototype,d.prototype=new A,d.prototype.constructor=d,d.Ob=function(I,H,X){for(var de=Array(arguments.length-2),De=2;De<arguments.length;De++)de[De-2]=arguments[De];return v.prototype[H].apply(I,de)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function w(d){const v=d.length;if(v>0){const A=Array(v);for(let I=0;I<v;I++)A[I]=d[I];return A}return[]}function x(d,v){for(let I=1;I<arguments.length;I++){const H=arguments[I];var A=typeof H;if(A=A!="object"?A:H?Array.isArray(H)?"array":A:"null",A=="array"||A=="object"&&typeof H.length=="number"){A=d.length||0;const X=H.length||0;d.length=A+X;for(let de=0;de<X;de++)d[A+de]=H[de]}else d.push(H)}}class L{constructor(v,A){this.i=v,this.j=A,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function N(d){u.setTimeout(()=>{throw d},0)}function G(){var d=C;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class B{constructor(){this.h=this.g=null}add(v,A){const I=F.get();I.set(v,A),this.h?this.h.next=I:this.g=I,this.h=I}}var F=new L(()=>new Q,d=>d.reset());class Q{constructor(){this.next=this.g=this.h=null}set(v,A){this.h=v,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ae=!1,C=new B,R=()=>{const d=Promise.resolve(void 0);se=()=>{d.then(D)}};function D(){for(var d;d=G();){try{d.h.call(d.g)}catch(A){N(A)}var v=F;v.j(d),v.h<100&&(v.h++,d.next=v.g,v.g=d)}ae=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const A=()=>{};u.addEventListener("test",A,v),u.removeEventListener("test",A,v)}catch{}return d})();function O(d){return/^[\s\xa0]*$/.test(d)}function Pe(d,v){M.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,v)}_(Pe,M),Pe.prototype.init=function(d,v){const A=this.type=d.type,I=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget,v||(A=="mouseover"?v=d.fromElement:A=="mouseout"&&(v=d.toElement)),this.relatedTarget=v,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Pe.Z.h.call(this)},Pe.prototype.h=function(){Pe.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ve="closure_listenable_"+(Math.random()*1e6|0),q=0;function ce(d,v,A,I,H){this.listener=d,this.proxy=null,this.src=v,this.type=A,this.capture=!!I,this.ha=H,this.key=++q,this.da=this.fa=!1}function ge(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function xe(d,v,A){for(const I in d)v.call(A,d[I],I,d)}function oe(d,v){for(const A in d)v.call(void 0,d[A],A,d)}function k(d){const v={};for(const A in d)v[A]=d[A];return v}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(d,v){let A,I;for(let H=1;H<arguments.length;H++){I=arguments[H];for(A in I)d[A]=I[A];for(let X=0;X<Z.length;X++)A=Z[X],Object.prototype.hasOwnProperty.call(I,A)&&(d[A]=I[A])}}function pe(d){this.src=d,this.g={},this.h=0}pe.prototype.add=function(d,v,A,I,H){const X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);const de=we(d,v,I,H);return de>-1?(v=d[de],A||(v.fa=!1)):(v=new ce(v,this.src,X,!!I,H),v.fa=A,d.push(v)),v};function Te(d,v){const A=v.type;if(A in d.g){var I=d.g[A],H=Array.prototype.indexOf.call(I,v,void 0),X;(X=H>=0)&&Array.prototype.splice.call(I,H,1),X&&(ge(v),d.g[A].length==0&&(delete d.g[A],d.h--))}}function we(d,v,A,I){for(let H=0;H<d.length;++H){const X=d[H];if(!X.da&&X.listener==v&&X.capture==!!A&&X.ha==I)return H}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),ht={};function We(d,v,A,I,H){if(Array.isArray(v)){for(let X=0;X<v.length;X++)We(d,v[X],A,I,H);return null}return A=$i(A),d&&d[Ve]?d.J(v,A,f(I)?!!I.capture:!1,H):yn(d,v,A,!1,I,H)}function yn(d,v,A,I,H,X){if(!v)throw Error("Invalid event type");const de=f(H)?!!H.capture:!!H;let De=Er(d);if(De||(d[Le]=De=new pe(d)),A=De.add(v,A,I,de,X),A.proxy)return A;if(I=Un(),A.proxy=I,I.src=d,I.listener=A,d.addEventListener)j||(H=de),H===void 0&&(H=!1),d.addEventListener(v.toString(),I,H);else if(d.attachEvent)d.attachEvent(er(v.toString()),I);else if(d.addListener&&d.removeListener)d.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Un(){function d(A){return v.call(d.src,d.listener,A)}const v=Zs;return d}function bt(d,v,A,I,H){if(Array.isArray(v))for(var X=0;X<v.length;X++)bt(d,v[X],A,I,H);else I=f(I)?!!I.capture:!!I,A=$i(A),d&&d[Ve]?(d=d.i,X=String(v).toString(),X in d.g&&(v=d.g[X],A=we(v,A,I,H),A>-1&&(ge(v[A]),Array.prototype.splice.call(v,A,1),v.length==0&&(delete d.g[X],d.h--)))):d&&(d=Er(d))&&(v=d.g[v.toString()],d=-1,v&&(d=we(v,A,I,H)),(A=d>-1?v[d]:null)&&qt(A))}function qt(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[Ve])Te(v.i,d);else{var A=d.type,I=d.proxy;v.removeEventListener?v.removeEventListener(A,I,d.capture):v.detachEvent?v.detachEvent(er(A),I):v.addListener&&v.removeListener&&v.removeListener(I),(A=Er(v))?(Te(A,d),A.h==0&&(A.src=null,v[Le]=null)):ge(d)}}}function er(d){return d in ht?ht[d]:ht[d]="on"+d}function Zs(d,v){if(d.da)d=!0;else{v=new Pe(v,this);const A=d.listener,I=d.ha||d.src;d.fa&&qt(d),d=A.call(I,v)}return d}function Er(d){return d=d[Le],d instanceof pe?d:null}var Tr="__closure_events_fn_"+(Math.random()*1e9>>>0);function $i(d){return typeof d=="function"?d:(d[Tr]||(d[Tr]=function(v){return d.handleEvent(v)}),d[Tr])}function vt(){U.call(this),this.i=new pe(this),this.M=this,this.G=null}_(vt,U),vt.prototype[Ve]=!0,vt.prototype.removeEventListener=function(d,v,A,I){bt(this,d,v,A,I)};function ut(d,v){var A,I=d.G;if(I)for(A=[];I;I=I.G)A.push(I);if(d=d.M,I=v.type||v,typeof v=="string")v=new M(v,d);else if(v instanceof M)v.target=v.target||d;else{var H=v;v=new M(I,d),le(v,H)}H=!0;let X,de;if(A)for(de=A.length-1;de>=0;de--)X=v.g=A[de],H=Ar(X,I,!0,v)&&H;if(X=v.g=d,H=Ar(X,I,!0,v)&&H,H=Ar(X,I,!1,v)&&H,A)for(de=0;de<A.length;de++)X=v.g=A[de],H=Ar(X,I,!1,v)&&H}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var d=this.i;for(const v in d.g){const A=d.g[v];for(let I=0;I<A.length;I++)ge(A[I]);delete d.g[v],d.h--}}this.G=null},vt.prototype.J=function(d,v,A,I){return this.i.add(String(d),v,!1,A,I)},vt.prototype.K=function(d,v,A,I){return this.i.add(String(d),v,!0,A,I)};function Ar(d,v,A,I){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();let H=!0;for(let X=0;X<v.length;++X){const de=v[X];if(de&&!de.da&&de.capture==A){const De=de.listener,Ct=de.ha||de.src;de.fa&&Te(d.i,de),H=De.call(Ct,I)!==!1&&H}}return H&&!I.defaultPrevented}function Qa(d,v){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(d,v||0)}function Xa(d){d.g=Qa(()=>{d.g=null,d.i&&(d.i=!1,Xa(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class $t extends U{constructor(v,A){super(),this.m=v,this.l=A,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Xa(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gr(d){U.call(this),this.h=d,this.g={}}_(Gr,U);var Wi=[];function ea(d){xe(d.g,function(v,A){this.g.hasOwnProperty(A)&&qt(v)},d),d.g={}}Gr.prototype.N=function(){Gr.Z.N.call(this),ea(this)},Gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tr=u.JSON.stringify,Ja=u.JSON.parse,ta=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function fe(){}function gt(){}var xt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Rt(){M.call(this,"d")}_(Rt,M);function nr(){M.call(this,"c")}_(nr,M);var Nt={},Iu=null;function Za(){return Iu=Iu||new vt}Nt.Ia="serverreachability";function xu(d){M.call(this,Nt.Ia,d)}_(xu,M);function Hr(d){const v=Za();ut(v,new xu(v))}Nt.STAT_EVENT="statevent";function na(d,v){M.call(this,Nt.STAT_EVENT,d),this.stat=v}_(na,M);function Lt(d){const v=Za();ut(v,new na(v,d))}Nt.Ja="timingevent";function qr(d,v){M.call(this,Nt.Ja,d),this.size=v}_(qr,M);function Yr(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},v)}function wr(){this.g=!0}wr.prototype.ua=function(){this.g=!1};function Hh(d,v,A,I,H,X){d.info(function(){if(d.g)if(X){var de="",De=X.split("&");for(let Qe=0;Qe<De.length;Qe++){var Ct=De[Qe].split("=");if(Ct.length>1){const yt=Ct[0];Ct=Ct[1];const ar=yt.split("_");de=ar.length>=2&&ar[1]=="type"?de+(yt+"="+Ct+"&"):de+(yt+"=redacted&")}}}else de=null;else de=X;return"XMLHTTP REQ ("+I+") [attempt "+H+"]: "+v+`
`+A+`
`+de})}function Ru(d,v,A,I,H,X,de){d.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+H+"]: "+v+`
`+A+`
`+X+" "+de})}function Kr(d,v,A,I){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+qh(d,A)+(I?" "+I:"")})}function ra(d,v){d.info(function(){return"TIMEOUT: "+v})}wr.prototype.info=function(){};function qh(d,v){if(!d.g)return v;if(!v)return null;try{const X=JSON.parse(v);if(X){for(d=0;d<X.length;d++)if(Array.isArray(X[d])){var A=X[d];if(!(A.length<2)){var I=A[1];if(Array.isArray(I)&&!(I.length<1)){var H=I[0];if(H!="noop"&&H!="stop"&&H!="close")for(let de=1;de<I.length;de++)I[de]=""}}}}return tr(X)}catch{return v}}var ia={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Rl;function sa(){}_(sa,fe),sa.prototype.g=function(){return new XMLHttpRequest},Rl=new sa;function Ei(d){return encodeURIComponent(String(d))}function Nu(d){var v=1;d=d.split(":");const A=[];for(;v>0&&d.length;)A.push(d.shift()),v--;return d.length&&A.push(d.join(":")),A}function Sr(d,v,A,I){this.j=d,this.i=v,this.l=A,this.S=I||1,this.V=new Gr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ir}function Ir(){this.i=null,this.g="",this.h=!1}var Pt={},Wt={};function $r(d,v,A){d.M=1,d.A=aa(Ut(v)),d.u=A,d.R=!0,eo(d,null)}function eo(d,v){d.F=Date.now(),Wr(d),d.B=Ut(d.A);var A=d.B,I=d.S;Array.isArray(I)||(I=[String(I)]),io(A.i,"t",I),d.C=0,A=d.j.L,d.h=new Ir,d.g=Hu(d.j,A?v:null,!d.u),d.P>0&&(d.O=new $t(m(d.Y,d,d.g),d.P)),v=d.V,A=d.g,I=d.ba;var H="readystatechange";Array.isArray(H)||(H&&(Wi[0]=H.toString()),H=Wi);for(let X=0;X<H.length;X++){const de=We(A,H[X],I||v.handleEvent,!1,v.h||v);if(!de)break;v.g[de.key]=de}v=d.J?k(d.J):{},d.u?(d.v||(d.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,v)):(d.v="GET",d.g.ea(d.B,d.v,null,v)),Hr(),Hh(d.i,d.v,d.B,d.l,d.S,d.u)}Sr.prototype.ba=function(d){d=d.target;const v=this.O;v&&Nr(d)==3?v.j():this.Y(d)},Sr.prototype.Y=function(d){try{if(d==this.g)e:{const De=Nr(this.g),Ct=this.g.ya(),Qe=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||rn(this.g)))){this.K||De!=4||Ct==7||(Ct==8||Qe<=0?Hr(3):Hr(2)),Qr(this);var v=this.g.ca();this.X=v;var A=Yh(this);if(this.o=v==200,Ru(this.i,this.v,this.B,this.l,this.S,De,v),this.o){if(this.U&&!this.L){t:{if(this.g){var I,H=this.g;if((I=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(I)){var X=I;break t}}X=null}if(d=X)Kr(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xr(this,d);else{this.o=!1,this.m=3,Lt(12),Vn(this),rr(this);break e}}if(this.R){d=!0;let yt;for(;!this.K&&this.C<A.length;)if(yt=Du(this,A),yt==Wt){De==4&&(this.m=4,Lt(14),d=!1),Kr(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==Pt){this.m=4,Lt(15),Kr(this.i,this.l,A,"[Invalid Chunk]"),d=!1;break}else Kr(this.i,this.l,yt,null),Xr(this,yt);if(Cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||A.length!=0||this.h.h||(this.m=1,Lt(16),d=!1),this.o=this.o&&d,!d)Kr(this.i,this.l,A,"[Invalid Chunked Response]"),Vn(this),rr(this);else if(A.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),Gl(de),de.P=!0,Lt(11))}}else Kr(this.i,this.l,A,null),Xr(this,A);De==4&&Vn(this),this.o&&!this.K&&(De==4?Bu(this.j,this):(this.o=!1,Wr(this)))}else Ai(this.g),v==400&&A.indexOf("Unknown SID")>0?(this.m=3,Lt(12)):(this.m=0,Lt(13)),Vn(this),rr(this)}}}catch{}finally{}};function Yh(d){if(!Cu(d))return d.g.la();const v=rn(d.g);if(v==="")return"";let A="";const I=v.length,H=Nr(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Vn(d),rr(d),"";d.h.i=new u.TextDecoder}for(let X=0;X<I;X++)d.h.h=!0,A+=d.h.i.decode(v[X],{stream:!(H&&X==I-1)});return v.length=0,d.h.g+=A,d.C=0,d.h.g}function Cu(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Du(d,v){var A=d.C,I=v.indexOf(`
`,A);return I==-1?Wt:(A=Number(v.substring(A,I)),isNaN(A)?Pt:(I+=1,I+A>v.length?Wt:(v=v.slice(I,I+A),d.C=I+A,v)))}Sr.prototype.cancel=function(){this.K=!0,Vn(this)};function Wr(d){d.T=Date.now()+d.H,to(d,d.H)}function to(d,v){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Yr(m(d.aa,d),v)}function Qr(d){d.D&&(u.clearTimeout(d.D),d.D=null)}Sr.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(ra(this.i,this.B),this.M!=2&&(Hr(),Lt(17)),Vn(this),this.m=2,rr(this)):to(this,this.T-d)};function rr(d){d.j.I==0||d.K||Bu(d.j,d)}function Vn(d){Qr(d);var v=d.O;v&&typeof v.dispose=="function"&&v.dispose(),d.O=null,ea(d.V),d.g&&(v=d.g,d.g=null,v.abort(),v.dispose())}function Xr(d,v){try{var A=d.j;if(A.I!=0&&(A.g==d||Zr(A.h,d))){if(!d.L&&Zr(A.h,d)&&A.I==3){try{var I=A.Ba.g.parse(v)}catch{I=null}if(Array.isArray(I)&&I.length==3){var H=I;if(H[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<d.F)co(A),rs(A);else break e;ha(A),Lt(18)}}else A.xa=H[1],0<A.xa-A.K&&H[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=Yr(m(A.Va,A),6e3));Jr(A.h)<=1&&A.ta&&(A.ta=void 0)}else si(A,11)}else if((d.L||A.g==d)&&co(A),!O(v))for(H=A.Ba.g.parse(v),v=0;v<H.length;v++){let Qe=H[v];const yt=Qe[0];if(!(yt<=A.K))if(A.K=yt,Qe=Qe[1],A.I==2)if(Qe[0]=="c"){A.M=Qe[1],A.ba=Qe[2];const ar=Qe[3];ar!=null&&(A.ka=ar,A.j.info("VER="+A.ka));const ai=Qe[4];ai!=null&&(A.za=ai,A.j.info("SVER="+A.za));const Cr=Qe[5];Cr!=null&&typeof Cr=="number"&&Cr>0&&(I=1.5*Cr,A.O=I,A.j.info("backChannelRequestTimeoutMs_="+I)),I=A;const Dr=d.g;if(Dr){const pa=Dr.g?Dr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pa){var X=I.h;X.g||pa.indexOf("spdy")==-1&&pa.indexOf("quic")==-1&&pa.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Dl(X,X.h),X.h=null))}if(I.G){const uo=Dr.g?Dr.g.getResponseHeader("X-HTTP-Session-Id"):null;uo&&(I.wa=uo,tt(I.J,I.G,uo))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-d.F,A.j.info("Handshake RTT: "+A.T+"ms")),I=A;var de=d;if(I.na=Gu(I,I.L?I.ba:null,I.W),de.L){Ol(I.h,de);var De=de,Ct=I.O;Ct&&(De.H=Ct),De.D&&(Qr(De),Wr(De)),I.g=de}else Vu(I);A.i.length>0&&ii(A)}else Qe[0]!="stop"&&Qe[0]!="close"||si(A,7);else A.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?si(A,7):zl(A):Qe[0]!="noop"&&A.l&&A.l.qa(Qe),A.A=0)}}Hr(4)}catch{}}var kt=class{constructor(d,v){this.g=d,this.map=v}};function Nl(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Cl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Jr(d){return d.h?1:d.g?d.g.size:0}function Zr(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Dl(d,v){d.g?d.g.add(v):d.h=v}function Ol(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Nl.prototype.cancel=function(){if(this.i=Ml(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Ml(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const A of d.g.values())v=v.concat(A.G);return v}return w(d.i)}var Ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function no(d,v){if(d){d=d.split("&");for(let A=0;A<d.length;A++){const I=d[A].indexOf("=");let H,X=null;I>=0?(H=d[A].substring(0,I),X=d[A].substring(I+1)):H=d[A],v(H,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function jn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;d instanceof jn?(this.l=d.l,Qt(this,d.j),this.o=d.o,this.g=d.g,Qi(this,d.u),this.h=d.h,Ll(this,ku(d.i)),this.m=d.m):d&&(v=String(d).match(Ou))?(this.l=!1,Qt(this,v[1]||"",!0),this.o=ei(v[2]||""),this.g=ei(v[3]||"",!0),Qi(this,v[4]),this.h=ei(v[5]||"",!0),Ll(this,v[6]||"",!0),this.m=ei(v[7]||"")):(this.l=!1,this.i=new Ji(null,this.l))}jn.prototype.toString=function(){const d=[];var v=this.j;v&&d.push(oa(v,ro,!0),":");var A=this.g;return(A||v=="file")&&(d.push("//"),(v=this.o)&&d.push(oa(v,ro,!0),"@"),d.push(Ei(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&d.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&d.push("/"),d.push(oa(A,A.charAt(0)=="/"?Pl:Mu,!0))),(A=this.i.toString())&&d.push("?",A),(A=this.m)&&d.push("#",oa(A,Lu)),d.join("")},jn.prototype.resolve=function(d){const v=Ut(this);let A=!!d.j;A?Qt(v,d.j):A=!!d.o,A?v.o=d.o:A=!!d.g,A?v.g=d.g:A=d.u!=null;var I=d.h;if(A)Qi(v,d.u);else if(A=!!d.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var H=v.h.lastIndexOf("/");H!=-1&&(I=v.h.slice(0,H+1)+I)}if(H=I,H==".."||H==".")I="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){I=H.lastIndexOf("/",0)==0,H=H.split("/");const X=[];for(let de=0;de<H.length;){const De=H[de++];De=="."?I&&de==H.length&&X.push(""):De==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),I&&de==H.length&&X.push("")):(X.push(De),I=!0)}I=X.join("/")}else I=H}return A?v.h=I:A=d.i.toString()!=="",A?Ll(v,ku(d.i)):A=!!d.m,A&&(v.m=d.m),v};function Ut(d){return new jn(d)}function Qt(d,v,A){d.j=A?ei(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Qi(d,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);d.u=v}else d.u=null}function Ll(d,v,A){v instanceof Ji?(d.i=v,so(d.i,d.l)):(A||(v=oa(v,Xi)),d.i=new Ji(v,d.l))}function tt(d,v,A){d.i.set(v,A)}function aa(d){return tt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function ei(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function oa(d,v,A){return typeof d=="string"?(d=encodeURI(d).replace(v,xn),A&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function xn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ro=/[#\/\?@]/g,Mu=/[#\?:]/g,Pl=/[#\?]/g,Xi=/[#\?@]/g,Lu=/#/g;function Ji(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Rn(d){d.g||(d.g=new Map,d.h=0,d.i&&no(d.i,function(v,A){d.add(decodeURIComponent(v.replace(/\+/g," ")),A)}))}t=Ji.prototype,t.add=function(d,v){Rn(this),this.i=null,d=Zi(this,d);let A=this.g.get(d);return A||this.g.set(d,A=[]),A.push(v),this.h+=1,this};function Pu(d,v){Rn(d),v=Zi(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function kl(d,v){return Rn(d),v=Zi(d,v),d.g.has(v)}t.forEach=function(d,v){Rn(this),this.g.forEach(function(A,I){A.forEach(function(H){d.call(v,H,I,this)},this)},this)};function Ul(d,v){Rn(d);let A=[];if(typeof v=="string")kl(d,v)&&(A=A.concat(d.g.get(Zi(d,v))));else for(d=Array.from(d.g.values()),v=0;v<d.length;v++)A=A.concat(d[v]);return A}t.set=function(d,v){return Rn(this),this.i=null,d=Zi(this,d),kl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},t.get=function(d,v){return d?(d=Ul(this,d),d.length>0?String(d[0]):v):v};function io(d,v,A){Pu(d,v),A.length>0&&(d.i=null,d.g.set(Zi(d,v),w(A)),d.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(let I=0;I<v.length;I++){var A=v[I];const H=Ei(A);A=Ul(this,A);for(let X=0;X<A.length;X++){let de=H;A[X]!==""&&(de+="="+Ei(A[X])),d.push(de)}}return this.i=d.join("&")};function ku(d){const v=new Ji;return v.i=d.i,d.g&&(v.g=new Map(d.g),v.h=d.h),v}function Zi(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function so(d,v){v&&!d.j&&(Rn(d),d.i=null,d.g.forEach(function(A,I){const H=I.toLowerCase();I!=H&&(Pu(this,I),io(this,H,A))},d)),d.j=v}function xr(d,v){const A=new wr;if(u.Image){const I=new Image;I.onload=y(ir,A,"TestLoadImage: loaded",!0,v,I),I.onerror=y(ir,A,"TestLoadImage: error",!1,v,I),I.onabort=y(ir,A,"TestLoadImage: abort",!1,v,I),I.ontimeout=y(ir,A,"TestLoadImage: timeout",!1,v,I),u.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=d}else v(!1)}function Vl(d,v){const A=new wr,I=new AbortController,H=setTimeout(()=>{I.abort(),ir(A,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:I.signal}).then(X=>{clearTimeout(H),X.ok?ir(A,"TestPingServer: ok",!0,v):ir(A,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),ir(A,"TestPingServer: error",!1,v)})}function ir(d,v,A,I,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),I(A)}catch{}}function es(){this.g=new ta}function ti(d){this.i=d.Sb||null,this.h=d.ab||!1}_(ti,fe),ti.prototype.g=function(){return new la(this.i,this.h)};function la(d,v){vt.call(this),this.H=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(la,vt),t=la.prototype,t.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=v,this.readyState=1,Rr(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(v.body=d),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ts(this)),this.readyState=0},t.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Rr(this)),this.g&&(this.readyState=3,Rr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ao(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function ao(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}t.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?ts(this):Rr(this),this.readyState==3&&ao(this)}},t.Oa=function(d){this.g&&(this.response=this.responseText=d,ts(this))},t.Na=function(d){this.g&&(this.response=d,ts(this))},t.ga=function(){this.g&&ts(this)};function ts(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Rr(d)}t.setRequestHeader=function(d,v){this.A.append(d,v)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var A=v.next();!A.done;)A=A.value,d.push(A[0]+": "+A[1]),A=v.next();return d.join(`\r
`)};function Rr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(la.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function sr(d){let v="";return xe(d,function(A,I){v+=I,v+=":",v+=A,v+=`\r
`}),v}function ca(d,v,A){e:{for(I in A){var I=!1;break e}I=!0}I||(A=sr(A),typeof d=="string"?A!=null&&Ei(A):tt(d,v,A))}function it(d){vt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(it,vt);var ni=/^https?$/i,jl=["POST","PUT"];t=it.prototype,t.Fa=function(d){this.H=d},t.ea=function(d,v,A,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Rl.g(),this.g.onreadystatechange=E(m(this.Ca,this));try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(X){ua(this,X);return}if(d=A||"",A=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var H in I)A.set(H,I[H]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const X of I.keys())A.set(X,I.get(X));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(A.keys()).find(X=>X.toLowerCase()=="content-type"),H=u.FormData&&d instanceof u.FormData,!(Array.prototype.indexOf.call(jl,v,void 0)>=0)||I||H||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,de]of A)this.g.setRequestHeader(X,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(X){ua(this,X)}};function ua(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.o=5,Bl(d),Ti(d)}function Bl(d){d.A||(d.A=!0,ut(d,"complete"),ut(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,ut(this,"complete"),ut(this,"abort"),Ti(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ti(this,!0)),it.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?da(this):this.Xa())},t.Xa=function(){da(this)};function da(d){if(d.h&&typeof l<"u"){if(d.v&&Nr(d)==4)setTimeout(d.Ca.bind(d),0);else if(ut(d,"readystatechange"),Nr(d)==4){d.h=!1;try{const X=d.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var A;if(!(A=v)){var I;if(I=X===0){let de=String(d.D).match(Ou)[1]||null;!de&&u.self&&u.self.location&&(de=u.self.location.protocol.slice(0,-1)),I=!ni.test(de?de.toLowerCase():"")}A=I}if(A)ut(d,"complete"),ut(d,"success");else{d.o=6;try{var H=Nr(d)>2?d.g.statusText:""}catch{H=""}d.l=H+" ["+d.ca()+"]",Bl(d)}}finally{Ti(d)}}}}function Ti(d,v){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const A=d.g;d.g=null,v||ut(d,"ready");try{A.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Nr(d){return d.g?d.g.readyState:0}t.ca=function(){try{return Nr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Ja(v)}};function rn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Ai(d){const v={};d=(d.g&&Nr(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<d.length;I++){if(O(d[I]))continue;var A=Nu(d[I]);const H=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const X=v[H]||[];v[H]=X,X.push(A)}oe(v,function(I){return I.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ri(d,v,A){return A&&A.internalChannelParams&&A.internalChannelParams[d]||v}function ns(d){this.za=0,this.i=[],this.j=new wr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ri("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ri("baseRetryDelayMs",5e3,d),this.Za=ri("retryDelaySeedMs",1e4,d),this.Ta=ri("forwardChannelMaxRetries",2,d),this.va=ri("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Nl(d&&d.concurrentRequestLimit),this.Ba=new es,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ns.prototype,t.ka=8,t.I=1,t.connect=function(d,v,A,I){Lt(0),this.W=d,this.H=v||{},A&&I!==void 0&&(this.H.OSID=A,this.H.OAID=I),this.F=this.X,this.J=Gu(this,null,this.W),ii(this)};function zl(d){if(oo(d),d.I==3){var v=d.V++,A=Ut(d.J);if(tt(A,"SID",d.M),tt(A,"RID",v),tt(A,"TYPE","terminate"),fa(d,A),v=new Sr(d,d.j,v),v.M=2,v.A=aa(Ut(A)),A=!1,u.navigator&&u.navigator.sendBeacon)try{A=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!A&&u.Image&&(new Image().src=v.A,A=!0),A||(v.g=Hu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Wr(v)}Fu(d)}function rs(d){d.g&&(Gl(d),d.g.cancel(),d.g=null)}function oo(d){rs(d),d.v&&(u.clearTimeout(d.v),d.v=null),co(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&u.clearTimeout(d.m),d.m=null)}function ii(d){if(!Cl(d.h)&&!d.m){d.m=!0;var v=d.Ea;se||R(),ae||(se(),ae=!0),C.add(v,d),d.D=0}}function lo(d,v){return Jr(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=v.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Yr(m(d.Ea,d,v),zu(d,d.D)),d.D++,!0)}t.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const H=new Sr(this,this.j,d);let X=this.o;if(this.U&&(X?(X=k(X),le(X,this.U)):X=this.U),this.u!==null||this.R||(H.J=X,X=null),this.S)e:{for(var v=0,A=0;A<this.i.length;A++){t:{var I=this.i[A];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(v+=I,v>4096){v=A;break e}if(v===4096||A===this.i.length-1){v=A+1;break e}}v=1e3}else v=1e3;v=Uu(this,H,v),A=Ut(this.J),tt(A,"RID",d),tt(A,"CVER",22),this.G&&tt(A,"X-HTTP-Session-Id",this.G),fa(this,A),X&&(this.R?v="headers="+Ei(sr(X))+"&"+v:this.u&&ca(A,this.u,X)),Dl(this.h,H),this.Ra&&tt(A,"TYPE","init"),this.S?(tt(A,"$req",v),tt(A,"SID","null"),H.U=!0,$r(H,A,null)):$r(H,A,v),this.I=2}}else this.I==3&&(d?Fl(this,d):this.i.length==0||Cl(this.h)||Fl(this))};function Fl(d,v){var A;v?A=v.l:A=d.V++;const I=Ut(d.J);tt(I,"SID",d.M),tt(I,"RID",A),tt(I,"AID",d.K),fa(d,I),d.u&&d.o&&ca(I,d.u,d.o),A=new Sr(d,d.j,A,d.D+1),d.u===null&&(A.J=d.o),v&&(d.i=v.G.concat(d.i)),v=Uu(d,A,1e3),A.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Dl(d.h,A),$r(A,I,v)}function fa(d,v){d.H&&xe(d.H,function(A,I){tt(v,I,A)}),d.l&&xe({},function(A,I){tt(v,I,A)})}function Uu(d,v,A){A=Math.min(d.i.length,A);const I=d.l?m(d.l.Ka,d.l,d):null;e:{var H=d.i;let De=-1;for(;;){const Ct=["count="+A];De==-1?A>0?(De=H[0].g,Ct.push("ofs="+De)):De=0:Ct.push("ofs="+De);let Qe=!0;for(let yt=0;yt<A;yt++){var X=H[yt].g;const ar=H[yt].map;if(X-=De,X<0)De=Math.max(0,H[yt].g-100),Qe=!1;else try{X="req"+X+"_"||"";try{var de=ar instanceof Map?ar:Object.entries(ar);for(const[ai,Cr]of de){let Dr=Cr;f(Cr)&&(Dr=tr(Cr)),Ct.push(X+ai+"="+encodeURIComponent(Dr))}}catch(ai){throw Ct.push(X+"type="+encodeURIComponent("_badmap")),ai}}catch{I&&I(ar)}}if(Qe){de=Ct.join("&");break e}}de=void 0}return d=d.i.splice(0,A),v.G=d,de}function Vu(d){if(!d.g&&!d.v){d.Y=1;var v=d.Da;se||R(),ae||(se(),ae=!0),C.add(v,d),d.A=0}}function ha(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Yr(m(d.Da,d),zu(d,d.A)),d.A++,!0)}t.Da=function(){if(this.v=null,ju(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Yr(m(this.Wa,this),d)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Lt(10),rs(this),ju(this))};function Gl(d){d.B!=null&&(u.clearTimeout(d.B),d.B=null)}function ju(d){d.g=new Sr(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var v=Ut(d.na);tt(v,"RID","rpc"),tt(v,"SID",d.M),tt(v,"AID",d.K),tt(v,"CI",d.F?"0":"1"),!d.F&&d.ia&&tt(v,"TO",d.ia),tt(v,"TYPE","xmlhttp"),fa(d,v),d.u&&d.o&&ca(v,d.u,d.o),d.O&&(d.g.H=d.O);var A=d.g;d=d.ba,A.M=1,A.A=aa(Ut(v)),A.u=null,A.R=!0,eo(A,d)}t.Va=function(){this.C!=null&&(this.C=null,rs(this),ha(this),Lt(19))};function co(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function Bu(d,v){var A=null;if(d.g==v){co(d),Gl(d),d.g=null;var I=2}else if(Zr(d.h,v))A=v.G,Ol(d.h,v),I=1;else return;if(d.I!=0){if(v.o)if(I==1){A=v.u?v.u.length:0,v=Date.now()-v.F;var H=d.D;I=Za(),ut(I,new qr(I,A)),ii(d)}else Vu(d);else if(H=v.m,H==3||H==0&&v.X>0||!(I==1&&lo(d,v)||I==2&&ha(d)))switch(A&&A.length>0&&(v=d.h,v.i=v.i.concat(A)),H){case 1:si(d,5);break;case 4:si(d,10);break;case 3:si(d,6);break;default:si(d,2)}}}function zu(d,v){let A=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(A*=2),A*v}function si(d,v){if(d.j.info("Error code "+v),v==2){var A=m(d.bb,d),I=d.Ua;const H=!I;I=new jn(I||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Qt(I,"https"),aa(I),H?xr(I.toString(),A):Vl(I.toString(),A)}else Lt(2);d.I=0,d.l&&d.l.pa(v),Fu(d),oo(d)}t.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function Fu(d){if(d.I=0,d.ja=[],d.l){const v=Ml(d.h);(v.length!=0||d.i.length!=0)&&(x(d.ja,v),x(d.ja,d.i),d.h.i.length=0,w(d.i),d.i.length=0),d.l.oa()}}function Gu(d,v,A){var I=A instanceof jn?Ut(A):new jn(A);if(I.g!="")v&&(I.g=v+"."+I.g),Qi(I,I.u);else{var H=u.location;I=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;const X=new jn(null);I&&Qt(X,I),v&&(X.g=v),H&&Qi(X,H),A&&(X.h=A),I=X}return A=d.G,v=d.wa,A&&v&&tt(I,A,v),tt(I,"VER",d.ka),fa(d,I),I}function Hu(d,v,A){if(v&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Aa&&!d.ma?new it(new ti({ab:A})):new it(d.ma),v.Fa(d.L),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function qu(){}t=qu.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function is(){}is.prototype.g=function(d,v){return new _n(d,v)};function _n(d,v){vt.call(this),this.g=new ns(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(d?d["X-WebChannel-Client-Profile"]=v.sa:d={"X-WebChannel-Client-Profile":v.sa}),this.g.U=d,(d=v&&v.Qb)&&!O(d)&&(this.g.u=d),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!O(v)&&(this.g.G=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new wi(this)}_(_n,vt),_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){zl(this.g)},_n.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var A={};A.__data__=d,d=A}else this.v&&(A={},A.__data__=tr(d),d=A);v.i.push(new kt(v.Ya++,d)),v.I==3&&ii(v)},_n.prototype.N=function(){this.g.l=null,delete this.j,zl(this.g),delete this.g,_n.Z.N.call(this)};function Yu(d){Rt.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const A in v){d=A;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}_(Yu,Rt);function Ku(){nr.call(this),this.status=1}_(Ku,nr);function wi(d){this.g=d}_(wi,qu),wi.prototype.ra=function(){ut(this.g,"a")},wi.prototype.qa=function(d){ut(this.g,new Yu(d))},wi.prototype.pa=function(d){ut(this.g,new Ku)},wi.prototype.oa=function(){ut(this.g,"b")},is.prototype.createWebChannel=is.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,JS=function(){return new is},XS=function(){return Za()},QS=Nt,Og={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ia.NO_ERROR=0,ia.TIMEOUT=8,ia.HTTP_ERROR=6,ff=ia,xl.COMPLETE="complete",WS=xl,gt.EventType=xt,xt.OPEN="a",xt.CLOSE="b",xt.ERROR="c",xt.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Pc=gt,it.prototype.listenOnce=it.prototype.K,it.prototype.getLastError=it.prototype.Ha,it.prototype.getLastErrorCode=it.prototype.ya,it.prototype.getStatus=it.prototype.ca,it.prototype.getResponseJson=it.prototype.La,it.prototype.getResponseText=it.prototype.la,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Fa,$S=it}).apply(typeof Xd<"u"?Xd:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gl="12.8.0";function eL(t){gl=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=new oh("@firebase/firestore");function Fo(){return Ba.logLevel}function me(t,...e){if(Ba.logLevel<=ze.DEBUG){const n=e.map(Iy);Ba.debug(`Firestore (${gl}): ${t}`,...n)}}function Hi(t,...e){if(Ba.logLevel<=ze.ERROR){const n=e.map(Iy);Ba.error(`Firestore (${gl}): ${t}`,...n)}}function za(t,...e){if(Ba.logLevel<=ze.WARN){const n=e.map(Iy);Ba.warn(`Firestore (${gl}): ${t}`,...n)}}function Iy(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,ZS(t,i,n)}function ZS(t,e,n){let i=`FIRESTORE (${gl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Hi(i),new Error(i)}function et(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||ZS(e,a,i)}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Fr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(pn.UNAUTHENTICATED)))}shutdown(){}}class tL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class nL{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){et(this.o===void 0,42304);let i=this.i;const a=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let l=new ks;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ks,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},f=p=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ks)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(et(typeof i.accessToken=="string",31837,{l:i}),new eI(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new pn(e)}}class rL{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class iL{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new rL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class j0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){et(this.o===void 0,3512);const i=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new j0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(et(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new j0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=aL(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function Fe(t,e){return t<e?-1:t>e?1:0}function Mg(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return tg(a)===tg(l)?Fe(a,l):tg(a)?1:-1}return Fe(t.length,e.length)}const oL=55296,lL=57343;function tg(t){const e=t.charCodeAt(0);return e>=oL&&e<=lL}function rl(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="__name__";class di{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ie(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ie(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return di.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof di?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=di.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Fe(e.length,n.length)}static compareSegments(e,n){const i=di.isNumericId(e),a=di.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?di.extractNumericId(e).compare(di.extractNumericId(n)):Mg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ps.fromString(e.substring(4,e.length-2))}}class dt extends di{construct(e,n,i){return new dt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new he(ne.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new dt(n)}static emptyPath(){return new dt([])}}const cL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends di{construct(e,n,i){return new Zt(e,n,i)}static isValidIdentifier(e){return cL.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===B0}static keyField(){return new Zt([B0])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new he(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(i+=f,a++):(l(),a++)}if(l(),u)throw new he(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(dt.fromString(e))}static fromName(e){return new ve(dt.fromString(e).popFirst(5))}static empty(){return new ve(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new dt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(t,e,n){if(!n)throw new he(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rI(t,e,n,i){if(e===!0&&i===!0)throw new he(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function z0(t){if(!ve.isDocumentKey(t))throw new he(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function F0(t){if(ve.isDocumentKey(t))throw new he(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function iI(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function dh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie(12329,{type:typeof t})}function kn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dh(t);throw new he(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(t,e){const n={typeString:t};return e&&(n.value=e),n}function fu(t,e){if(!iI(t))throw new he(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(a&&typeof u!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new he(ne.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=-62135596800,H0=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*H0);return new ft(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<G0)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/H0}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fu(e,ft._jsonSchema))return new ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-G0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:Ht("string",ft._jsonSchemaVersion),seconds:Ht("number"),nanoseconds:Ht("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new ft(0,0))}static max(){return new Re(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=-1;function uL(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Re.fromTimestamp(i===1e9?new ft(n+1,0):new ft(n,i));return new Gs(a,ve.empty(),e)}function dL(t){return new Gs(t.readTime,t.key,Qc)}class Gs{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Gs(Re.min(),ve.empty(),Qc)}static max(){return new Gs(Re.max(),ve.empty(),Qc)}}function fL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==hL)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,i)=>{n(e)}))}static reject(e){return new ie(((n,i)=>{i(e)}))}static waitFor(e){return new ie(((n,i)=>{let a=0,l=0,u=!1;e.forEach((f=>{++a,f.next((()=>{++l,u&&l===a&&n()}),(p=>i(p)))})),u=!0,l===a&&n()}))}static or(e){let n=ie.resolve(!1);for(const i of e)n=n.next((a=>a?ie.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new ie(((i,a)=>{const l=e.length,u=new Array(l);let f=0;for(let p=0;p<l;p++){const m=p;n(e[m]).next((y=>{u[m]=y,++f,f===l&&i(u)}),(y=>a(y)))}}))}static doWhile(e,n){return new ie(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function mL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _l(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}fh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy=-1;function hh(t){return t==null}function If(t){return t===0&&1/t==-1/0}function gL(t){return typeof t=="number"&&Number.isInteger(t)&&!If(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="";function yL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=q0(e)),e=_L(t.get(n),e);return q0(e)}function _L(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case sI:n+="";break;default:n+=l}}return n}function q0(t){return t+sI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function aI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n){this.comparator=e,this.root=n||cn.EMPTY}insert(e,n){return new At(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jd(this.root,e,this.comparator,!0)}}class Jd{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??cn.RED,this.left=a??cn.EMPTY,this.right=l??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new cn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return cn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new K0(this.data.getIterator())}getIteratorFrom(e){return new K0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Kt(this.comparator);return n.data=e,n}}class K0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new Wn([])}unionWith(e){let n=new Kt(Zt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return rl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new oI("Invalid base64 string: "+l):l}})(e);return new tn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const bL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hs(t){if(et(!!t,39018),typeof t=="string"){let e=0;const n=bL.exec(t);if(et(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Mt(t.seconds),nanos:Mt(t.nanos)}}function Mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qs(t){return typeof t=="string"?tn.fromBase64String(t):tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="server_timestamp",cI="__type__",uI="__previous_value__",dI="__local_write_time__";function Ry(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[cI])==null?void 0:i.stringValue)===lI}function ph(t){const e=t.mapValue.fields[uI];return Ry(e)?ph(e):e}function Xc(t){const e=Hs(t.mapValue.fields[dI].timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e,n,i,a,l,u,f,p,m,y,_){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=y,this.apiKey=_}}const xf="(default)";class il{constructor(e,n){this.projectId=e,this.database=n||xf}static empty(){return new il("","")}get isDefaultDatabase(){return this.database===xf}isEqual(e){return e instanceof il&&e.projectId===this.projectId&&e.database===this.database}}function EL(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new he(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new il(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="__type__",TL="__max__",Zd={mapValue:{}},hI="__vector__",Rf="value";function Ys(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ry(t)?4:wL(t)?9007199254740991:AL(t)?10:11:Ie(28295,{value:t})}function bi(t,e){if(t===e)return!0;const n=Ys(t);if(n!==Ys(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xc(t).isEqual(Xc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Hs(a.timestampValue),f=Hs(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return qs(a.bytesValue).isEqual(qs(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Mt(a.geoPointValue.latitude)===Mt(l.geoPointValue.latitude)&&Mt(a.geoPointValue.longitude)===Mt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Mt(a.integerValue)===Mt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Mt(a.doubleValue),f=Mt(l.doubleValue);return u===f?If(u)===If(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return rl(t.arrayValue.values||[],e.arrayValue.values||[],bi);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(Y0(u)!==Y0(f))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(f[p]===void 0||!bi(u[p],f[p])))return!1;return!0})(t,e);default:return Ie(52216,{left:t})}}function Jc(t,e){return(t.values||[]).find((n=>bi(n,e)))!==void 0}function sl(t,e){if(t===e)return 0;const n=Ys(t),i=Ys(e);if(n!==i)return Fe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const f=Mt(l.integerValue||l.doubleValue),p=Mt(u.integerValue||u.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(t,e);case 3:return $0(t.timestampValue,e.timestampValue);case 4:return $0(Xc(t),Xc(e));case 5:return Mg(t.stringValue,e.stringValue);case 6:return(function(l,u){const f=qs(l),p=qs(u);return f.compareTo(p)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const f=l.split("/"),p=u.split("/");for(let m=0;m<f.length&&m<p.length;m++){const y=Fe(f[m],p[m]);if(y!==0)return y}return Fe(f.length,p.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const f=Fe(Mt(l.latitude),Mt(u.latitude));return f!==0?f:Fe(Mt(l.longitude),Mt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return W0(t.arrayValue,e.arrayValue);case 10:return(function(l,u){var E,w,x,L;const f=l.fields||{},p=u.fields||{},m=(E=f[Rf])==null?void 0:E.arrayValue,y=(w=p[Rf])==null?void 0:w.arrayValue,_=Fe(((x=m==null?void 0:m.values)==null?void 0:x.length)||0,((L=y==null?void 0:y.values)==null?void 0:L.length)||0);return _!==0?_:W0(m,y)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Zd.mapValue&&u===Zd.mapValue)return 0;if(l===Zd.mapValue)return 1;if(u===Zd.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),m=u.fields||{},y=Object.keys(m);p.sort(),y.sort();for(let _=0;_<p.length&&_<y.length;++_){const E=Mg(p[_],y[_]);if(E!==0)return E;const w=sl(f[p[_]],m[y[_]]);if(w!==0)return w}return Fe(p.length,y.length)})(t.mapValue,e.mapValue);default:throw Ie(23264,{he:n})}}function $0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=Hs(t),i=Hs(e),a=Fe(n.seconds,i.seconds);return a!==0?a:Fe(n.nanos,i.nanos)}function W0(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=sl(n[a],i[a]);if(l)return l}return Fe(n.length,i.length)}function al(t){return Lg(t)}function Lg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Hs(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return qs(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ve.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=Lg(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${Lg(n.fields[u])}`;return a+"}"})(t.mapValue):Ie(61005,{value:t})}function hf(t){switch(Ys(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ph(t);return e?16+hf(e):16;case 5:return 2*t.stringValue.length;case 6:return qs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+hf(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return Qs(i.fields,((l,u)=>{a+=l.length+hf(u)})),a})(t.mapValue);default:throw Ie(13486,{value:t})}}function Q0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Pg(t){return!!t&&"integerValue"in t}function Ny(t){return!!t&&"arrayValue"in t}function X0(t){return!!t&&"nullValue"in t}function J0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pf(t){return!!t&&"mapValue"in t}function AL(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[fI])==null?void 0:i.stringValue)===hI}function Bc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Qs(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Bc(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bc(t.arrayValue.values[n]);return e}return{...t}}function wL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===TL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!pf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bc(n)}setAll(e){let n=Zt.emptyPath(),i={},a=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const p=this.getFieldsMap(n);this.applyChanges(p,i,a),i={},a=[],n=f.popLast()}u?i[f.lastSegment()]=Bc(u):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());pf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];pf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){Qs(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new Pn(Bc(this.value))}}function pI(t){const e=[];return Qs(t.fields,((n,i)=>{const a=new Zt([n]);if(pf(i)){const l=pI(i.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new Wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n,i,a,l,u,f){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new mn(e,0,Re.min(),Re.min(),Re.min(),Pn.empty(),0)}static newFoundDocument(e,n,i,a){return new mn(e,1,n,Re.min(),i,a,0)}static newNoDocument(e,n){return new mn(e,2,n,Re.min(),Re.min(),Pn.empty(),0)}static newUnknownDocument(e,n){return new mn(e,3,n,Re.min(),Re.min(),Pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n){this.position=e,this.inclusive=n}}function Z0(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?i=ve.comparator(ve.fromName(u.referenceValue),n.key):i=sl(u,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function eT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!bi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n="asc"){this.field=e,this.dir=n}}function SL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{}class Gt extends mI{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new xL(e,n,i):n==="array-contains"?new CL(e,i):n==="in"?new DL(e,i):n==="not-in"?new OL(e,i):n==="array-contains-any"?new ML(e,i):new Gt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new RL(e,i):new NL(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(sl(n,this.value)):n!==null&&Ys(this.value)===Ys(n)&&this.matchesComparison(sl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Br extends mI{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Br(e,n)}matches(e){return gI(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gI(t){return t.op==="and"}function yI(t){return IL(t)&&gI(t)}function IL(t){for(const e of t.filters)if(e instanceof Br)return!1;return!0}function kg(t){if(t instanceof Gt)return t.field.canonicalString()+t.op.toString()+al(t.value);if(yI(t))return t.filters.map((e=>kg(e))).join(",");{const e=t.filters.map((n=>kg(n))).join(",");return`${t.op}(${e})`}}function _I(t,e){return t instanceof Gt?(function(i,a){return a instanceof Gt&&i.op===a.op&&i.field.isEqual(a.field)&&bi(i.value,a.value)})(t,e):t instanceof Br?(function(i,a){return a instanceof Br&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,u,f)=>l&&_I(u,a.filters[f])),!0):!1})(t,e):void Ie(19439)}function bI(t){return t instanceof Gt?(function(n){return`${n.field.canonicalString()} ${n.op} ${al(n.value)}`})(t):t instanceof Br?(function(n){return n.op.toString()+" {"+n.getFilters().map(bI).join(" ,")+"}"})(t):"Filter"}class xL extends Gt{constructor(e,n,i){super(e,n,i),this.key=ve.fromName(i.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class RL extends Gt{constructor(e,n){super(e,"in",n),this.keys=vI("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class NL extends Gt{constructor(e,n){super(e,"not-in",n),this.keys=vI("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function vI(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((i=>ve.fromName(i.referenceValue)))}class CL extends Gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ny(n)&&Jc(n.arrayValue,this.value)}}class DL extends Gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jc(this.value.arrayValue,n)}}class OL extends Gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jc(this.value.arrayValue,n)}}class ML extends Gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ny(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Jc(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e,n=null,i=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function tT(t,e=null,n=[],i=[],a=null,l=null,u=null){return new LL(t,e,n,i,a,l,u)}function Cy(t){const e=Ce(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>kg(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),hh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>al(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>al(i))).join(",")),e.Te=n}return e.Te}function Dy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!SL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!_I(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!eT(t.startAt,e.startAt)&&eT(t.endAt,e.endAt)}function Ug(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,n=null,i=[],a=[],l=null,u="F",f=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function PL(t,e,n,i,a,l,u,f){return new bl(t,e,n,i,a,l,u,f)}function Oy(t){return new bl(t)}function nT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function kL(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function EI(t){return t.collectionGroup!==null}function zc(t){const e=Ce(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Kt(Zt.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((m=>{m.isInequality()&&(f=f.add(m.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Zc(l,i))})),n.has(Zt.keyField().canonicalString())||e.Ie.push(new Zc(Zt.keyField(),i))}return e.Ie}function pi(t){const e=Ce(t);return e.Ee||(e.Ee=UL(e,zc(t))),e.Ee}function UL(t,e){if(t.limitType==="F")return tT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Zc(a.field,l)}));const n=t.endAt?new Nf(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Nf(t.startAt.position,t.startAt.inclusive):null;return tT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Vg(t,e){const n=t.filters.concat([e]);return new bl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function VL(t,e){const n=t.explicitOrderBy.concat([e]);return new bl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function jg(t,e,n){return new bl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mh(t,e){return Dy(pi(t),pi(e))&&t.limitType===e.limitType}function TI(t){return`${Cy(pi(t))}|lt:${t.limitType}`}function Go(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>bI(a))).join(", ")}]`),hh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>al(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>al(a))).join(",")),`Target(${i})`})(pi(t))}; limitType=${t.limitType})`}function gh(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ve.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of zc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(u,f,p){const m=Z0(u,f,p);return u.inclusive?m<=0:m<0})(i.startAt,zc(i),a)||i.endAt&&!(function(u,f,p){const m=Z0(u,f,p);return u.inclusive?m>=0:m>0})(i.endAt,zc(i),a))})(t,e)}function jL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function AI(t){return(e,n)=>{let i=!1;for(const a of zc(t)){const l=BL(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function BL(t,e,n){const i=t.field.isKeyField()?ve.comparator(e.key,n.key):(function(l,u,f){const p=u.data.field(l),m=f.data.field(l);return p!==null&&m!==null?sl(p,m):Ie(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ie(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Qs(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return aI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL=new At(ve.comparator);function qi(){return zL}const wI=new At(ve.comparator);function kc(...t){let e=wI;for(const n of t)e=e.insert(n.key,n);return e}function SI(t){let e=wI;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Pa(){return Fc()}function II(){return Fc()}function Fc(){return new Ka((t=>t.toString()),((t,e)=>t.isEqual(e)))}const FL=new At(ve.comparator),GL=new Kt(ve.comparator);function Ge(...t){let e=GL;for(const n of t)e=e.add(n);return e}const HL=new Kt(Fe);function qL(){return HL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:If(e)?"-0":e}}function xI(t){return{integerValue:""+t}}function YL(t,e){return gL(e)?xI(e):My(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(){this._=void 0}}function KL(t,e,n){return t instanceof Cf?(function(a,l){const u={fields:{[cI]:{stringValue:lI},[dI]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Ry(l)&&(l=ph(l)),l&&(u.fields[uI]=l),{mapValue:u}})(n,e):t instanceof eu?NI(t,e):t instanceof tu?CI(t,e):(function(a,l){const u=RI(a,l),f=rT(u)+rT(a.Ae);return Pg(u)&&Pg(a.Ae)?xI(f):My(a.serializer,f)})(t,e)}function $L(t,e,n){return t instanceof eu?NI(t,e):t instanceof tu?CI(t,e):n}function RI(t,e){return t instanceof Df?(function(i){return Pg(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Cf extends yh{}class eu extends yh{constructor(e){super(),this.elements=e}}function NI(t,e){const n=DI(e);for(const i of t.elements)n.some((a=>bi(a,i)))||n.push(i);return{arrayValue:{values:n}}}class tu extends yh{constructor(e){super(),this.elements=e}}function CI(t,e){let n=DI(e);for(const i of t.elements)n=n.filter((a=>!bi(a,i)));return{arrayValue:{values:n}}}class Df extends yh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function rT(t){return Mt(t.integerValue||t.doubleValue)}function DI(t){return Ny(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function WL(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof eu&&a instanceof eu||i instanceof tu&&a instanceof tu?rl(i.elements,a.elements,bi):i instanceof Df&&a instanceof Df?bi(i.Ae,a.Ae):i instanceof Cf&&a instanceof Cf})(t.transform,e.transform)}class QL{constructor(e,n){this.version=e,this.transformResults=n}}class Sn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Sn}static exists(e){return new Sn(void 0,e)}static updateTime(e){return new Sn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _h{}function OI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new bh(t.key,Sn.none()):new hu(t.key,t.data,Sn.none());{const n=t.data,i=Pn.empty();let a=new Kt(Zt.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new Xs(t.key,i,new Wn(a.toArray()),Sn.none())}}function XL(t,e,n){t instanceof hu?(function(a,l,u){const f=a.value.clone(),p=sT(a.fieldTransforms,l,u.transformResults);f.setAll(p),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof Xs?(function(a,l,u){if(!mf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=sT(a.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(MI(a)),p.setAll(f),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Gc(t,e,n,i){return t instanceof hu?(function(l,u,f,p){if(!mf(l.precondition,u))return f;const m=l.value.clone(),y=aT(l.fieldTransforms,p,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(t,e,n,i):t instanceof Xs?(function(l,u,f,p){if(!mf(l.precondition,u))return f;const m=aT(l.fieldTransforms,p,u),y=u.data;return y.setAll(MI(l)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(t,e,n,i):(function(l,u,f){return mf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function JL(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=RI(i.transform,a||null);l!=null&&(n===null&&(n=Pn.empty()),n.set(i.field,l))}return n||null}function iT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&rl(i,a,((l,u)=>WL(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hu extends _h{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Xs extends _h{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function MI(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function sT(t,e,n){const i=new Map;et(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,f=e.data.field(l.field);i.set(l.field,$L(u,f,n[a]))}return i}function aT(t,e,n){const i=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);i.set(a.field,KL(l,u,e))}return i}class bh extends _h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZL extends _h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&XL(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Gc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Gc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=II();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=n.has(a.key)?null:f;const p=OI(u,f);p!==null&&i.set(a.key,p),u.isValidDocument()||u.convertToNoDocument(Re.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&rl(this.mutations,e.mutations,((n,i)=>iT(n,i)))&&rl(this.baseMutations,e.baseMutations,((n,i)=>iT(n,i)))}}class Ly{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){et(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return FL})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new Ly(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft,qe;function r4(t){switch(t){case ne.OK:return Ie(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ie(15467,{code:t})}}function LI(t){if(t===void 0)return Hi("GRPC error has no .code"),ne.UNKNOWN;switch(t){case Ft.OK:return ne.OK;case Ft.CANCELLED:return ne.CANCELLED;case Ft.UNKNOWN:return ne.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return ne.INTERNAL;case Ft.UNAVAILABLE:return ne.UNAVAILABLE;case Ft.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Ft.NOT_FOUND:return ne.NOT_FOUND;case Ft.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Ft.ABORTED:return ne.ABORTED;case Ft.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Ft.DATA_LOSS:return ne.DATA_LOSS;default:return Ie(39323,{code:t})}}(qe=Ft||(Ft={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=new Ps([4294967295,4294967295],0);function oT(t){const e=i4().encode(t),n=new KS;return n.update(e),new Uint8Array(n.digest())}function lT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ps([n,i],0),new Ps([a,l],0)]}class Py{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Uc(`Invalid padding: ${n}`);if(i<0)throw new Uc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Uc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Uc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ps.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(Ps.fromNumber(i)));return a.compare(s4)===1&&(a=new Ps([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=oT(e),[i,a]=lT(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);if(!this.we(u))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Py(l,a,n);return i.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=oT(e),[i,a]=lT(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);this.be(u)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Uc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,pu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new vh(Re.min(),a,new At(Fe),qi(),Ge())}}class pu{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new pu(i,n,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n,i,a){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=a}}class PI{constructor(e,n){this.targetId=e,this.Ce=n}}class kI{constructor(e,n,i=tn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class cT{constructor(){this.ve=0,this.Fe=uT(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),n=Ge(),i=Ge();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Ie(38017,{changeType:l})}})),new pu(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=uT()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class a4{constructor(e){this.Ge=e,this.ze=new Map,this.je=qi(),this.He=ef(),this.Je=ef(),this.Ze=new At(Fe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Ug(l))if(i===0){const u=new ve(l.path);this.et(n,u,mn.newNoDocument(u,Re.min()))}else et(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const f=this.ut(e),p=f?this.ct(f,e,u):1;if(p!==0){this.it(n);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let u,f;try{u=qs(i).toUint8Array()}catch(p){if(p instanceof oI)return za("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Py(u,a,l)}catch(p){return za(p instanceof Uc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&Ug(f.target)){const p=new ve(f.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,mn.newNoDocument(p,e))}l.Be&&(n.set(u,l.ke()),l.Ke())}}));let i=Ge();this.Je.forEach(((l,u)=>{let f=!0;u.forEachWhile((p=>{const m=this.ot(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new vh(e,n,this.Ze,this.je,i);return this.je=qi(),this.He=ef(),this.Je=ef(),this.Ze=new At(Fe),a}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new cT,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Kt(Fe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Kt(Fe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new cT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ef(){return new At(ve.comparator)}function uT(){return new At(ve.comparator)}const o4={asc:"ASCENDING",desc:"DESCENDING"},l4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},c4={and:"AND",or:"OR"};class u4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Bg(t,e){return t.useProto3Json||hh(e)?e:{value:e}}function Of(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function d4(t,e){return Of(t,e.toTimestamp())}function mi(t){return et(!!t,49232),Re.fromTimestamp((function(n){const i=Hs(n);return new ft(i.seconds,i.nanos)})(t))}function ky(t,e){return zg(t,e).canonicalString()}function zg(t,e){const n=(function(a){return new dt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function VI(t){const e=dt.fromString(t);return et(GI(e),10190,{key:e.toString()}),e}function Fg(t,e){return ky(t.databaseId,e.path)}function ng(t,e){const n=VI(e);if(n.get(1)!==t.databaseId.projectId)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(BI(n))}function jI(t,e){return ky(t.databaseId,e)}function f4(t){const e=VI(t);return e.length===4?dt.emptyPath():BI(e)}function Gg(t){return new dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BI(t){return et(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function dT(t,e,n){return{name:Fg(t,e),fields:n.value.mapValue.fields}}function h4(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ie(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(m,y){return m.useProto3Json?(et(y===void 0||typeof y=="string",58123),tn.fromBase64String(y||"")):(et(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),tn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(m){const y=m.code===void 0?ne.UNKNOWN:LI(m.code);return new he(y,m.message||"")})(u);n=new kI(i,a,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=ng(t,i.document.name),l=mi(i.document.updateTime),u=i.document.createTime?mi(i.document.createTime):Re.min(),f=new Pn({mapValue:{fields:i.document.fields}}),p=mn.newFoundDocument(a,l,u,f),m=i.targetIds||[],y=i.removedTargetIds||[];n=new gf(m,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=ng(t,i.document),l=i.readTime?mi(i.readTime):Re.min(),u=mn.newNoDocument(a,l),f=i.removedTargetIds||[];n=new gf([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=ng(t,i.document),l=i.removedTargetIds||[];n=new gf([],l,a,null)}else{if(!("filter"in e))return Ie(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new n4(a,l),f=i.targetId;n=new PI(f,u)}}return n}function p4(t,e){let n;if(e instanceof hu)n={update:dT(t,e.key,e.value)};else if(e instanceof bh)n={delete:Fg(t,e.key)};else if(e instanceof Xs)n={update:dT(t,e.key,e.data),updateMask:A4(e.fieldMask)};else{if(!(e instanceof ZL))return Ie(16599,{dt:e.type});n={verify:Fg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,u){const f=u.transform;if(f instanceof Cf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof eu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof tu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Df)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw Ie(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:d4(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ie(27497)})(t,e.precondition)),n}function m4(t,e){return t&&t.length>0?(et(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?mi(a.updateTime):mi(l);return u.isEqual(Re.min())&&(u=mi(l)),new QL(u,a.transformResults||[])})(n,e)))):[]}function g4(t,e){return{documents:[jI(t,e.path)]}}function y4(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=jI(t,a);const l=(function(m){if(m.length!==0)return FI(Br.create(m,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(m){if(m.length!==0)return m.map((y=>(function(E){return{field:Ho(E.field),direction:v4(E.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=Bg(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:a}}function _4(t){let e=f4(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){et(i===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(_){const E=zI(_);return E instanceof Br&&yI(E)?E.getFilters():[E]})(n.where));let u=[];n.orderBy&&(u=(function(_){return _.map((E=>(function(x){return new Zc(qo(x.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(E)))})(n.orderBy));let f=null;n.limit&&(f=(function(_){let E;return E=typeof _=="object"?_.value:_,hh(E)?null:E})(n.limit));let p=null;n.startAt&&(p=(function(_){const E=!!_.before,w=_.values||[];return new Nf(w,E)})(n.startAt));let m=null;return n.endAt&&(m=(function(_){const E=!_.before,w=_.values||[];return new Nf(w,E)})(n.endAt)),PL(e,a,u,l,f,"F",p,m)}function b4(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zI(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=qo(n.unaryFilter.field);return Gt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=qo(n.unaryFilter.field);return Gt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=qo(n.unaryFilter.field);return Gt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=qo(n.unaryFilter.field);return Gt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Gt.create(qo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Br.create(n.compositeFilter.filters.map((i=>zI(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(n.compositeFilter.op))})(t):Ie(30097,{filter:t})}function v4(t){return o4[t]}function E4(t){return l4[t]}function T4(t){return c4[t]}function Ho(t){return{fieldPath:t.canonicalString()}}function qo(t){return Zt.fromServerFormat(t.fieldPath)}function FI(t){return t instanceof Gt?(function(n){if(n.op==="=="){if(J0(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NAN"}};if(X0(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(J0(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NOT_NAN"}};if(X0(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ho(n.field),op:E4(n.op),value:n.value}}})(t):t instanceof Br?(function(n){const i=n.getFilters().map((a=>FI(a)));return i.length===1?i[0]:{compositeFilter:{op:T4(n.op),filters:i}}})(t):Ie(54877,{filter:t})}function A4(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function GI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function HI(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n,i,a,l=Re.min(),u=Re.min(),f=tn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e){this.yt=e}}function S4(t){const e=_4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(){this.Sn=new x4}addToCollectionParentIndex(e,n){return this.Sn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Gs.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Gs.min())}updateCollectionGroup(e,n,i){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class x4{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new Kt(dt.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Kt(dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qI=41943040;class Ln{static withCacheSize(e){return new Ln(e,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(qI,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new ol(0)}static ar(){return new ol(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="LruGarbageCollector",R4=1048576;function pT([t,e],[n,i]){const a=Fe(t,n);return a===0?Fe(e,i):a}class N4{constructor(e){this.Pr=e,this.buffer=new Kt(pT),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();pT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class C4{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){me(hT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_l(n)?me(hT,"Ignoring IndexedDB error during garbage collection: ",n):await yl(n)}await this.Ar(3e5)}))}}class D4{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(fh.ce);const i=new N4(n);return this.Vr.forEachTarget(e,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(fT)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fT):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,a,l,u,f,p,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(i=_,f=Date.now(),this.removeTargets(e,i,n)))).next((_=>(l=_,p=Date.now(),this.removeOrphanedDocuments(e,i)))).next((_=>(m=Date.now(),Fo()<=ze.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${_} documents in `+(m-p)+`ms
Total Duration: ${m-y}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function O4(t,e){return new D4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(){this.changes=new Ka((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ie.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&Gc(i.mutation,a,Wn.empty(),ft.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Ge()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Ge()){const a=Pa();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let u=kc();return l.forEach(((f,p)=>{u=u.insert(f,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=Pa();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Ge())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,i,a){let l=qi();const u=Fc(),f=(function(){return Fc()})();return n.forEach(((p,m)=>{const y=i.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof Xs)?l=l.insert(m.key,m):y!==void 0?(u.set(m.key,y.mutation.getFieldMask()),Gc(y.mutation,m,y.mutation.getFieldMask(),ft.now())):u.set(m.key,Wn.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((m,y)=>u.set(m,y))),n.forEach(((m,y)=>f.set(m,new L4(y,u.get(m)??null)))),f)))}recalculateAndSaveOverlays(e,n){const i=Fc();let a=new At(((u,f)=>u-f)),l=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((p=>{const m=n.get(p);if(m===null)return;let y=i.get(p)||Wn.empty();y=f.applyToLocalView(m,y),i.set(p,y);const _=(a.get(f.batchId)||Ge()).add(p);a=a.insert(f.batchId,_)}))})).next((()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),m=p.key,y=p.value,_=II();y.forEach((E=>{if(!l.has(E)){const w=OI(n.get(E),i.get(E));w!==null&&_.set(E,w),l=l.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,_))}return ie.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return kL(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):EI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):ie.resolve(Pa());let f=Qc,p=l;return u.next((m=>ie.forEach(m,((y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(y)?ie.resolve():this.remoteDocumentCache.getEntry(e,y).next((E=>{p=p.insert(y,E)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,p,m,Ge()))).next((y=>({batchId:f,changes:SI(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((i=>{let a=kc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let u=kc();return this.indexManager.getCollectionParents(e,l).next((f=>ie.forEach(f,(p=>{const m=(function(_,E){return new bl(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,i,a).next((y=>{y.forEach(((_,E)=>{u=u.insert(_,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((u=>{l.forEach(((p,m)=>{const y=m.getKey();u.get(y)===null&&(u=u.insert(y,mn.newInvalidDocument(y)))}));let f=kc();return u.forEach(((p,m)=>{const y=l.get(p);y!==void 0&&Gc(y.mutation,m,Wn.empty(),ft.now()),gh(n,m)&&(f=f.insert(p,m))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ie.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:mi(a.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:S4(a.bundledQuery),readTime:mi(a.readTime)}})(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(){this.overlays=new At(ve.comparator),this.Lr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Pa();return ie.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.bt(e,n,l)})),ie.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),ie.resolve()}getOverlaysForCollection(e,n,i){const a=Pa(),l=n.length+1,u=new ve(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const p=f.getNext().value,m=p.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return ie.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new At(((m,y)=>m-y));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let y=l.get(m.largestBatchId);y===null&&(y=Pa(),l=l.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const f=Pa(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((m,y)=>f.set(m,y))),!(f.size()>=a)););return ie.resolve(f)}bt(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new t4(n,i));let l=this.Lr.get(n);l===void 0&&(l=Ge(),this.Lr.set(n,l)),this.Lr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(){this.kr=new Kt(Jt.Kr),this.qr=new Kt(Jt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new Jt(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new Jt(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new ve(new dt([])),i=new Jt(n,e),a=new Jt(n,e+1),l=[];return this.qr.forEachInRange([i,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ve(new dt([])),i=new Jt(n,e),a=new Jt(n,e+1);let l=Ge();return this.qr.forEachInRange([i,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new Jt(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Jt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ve.comparator(e.key,n.key)||Fe(e.Hr,n.Hr)}static Ur(e,n){return Fe(e.Hr,n.Hr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Kt(Jt.Kr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new e4(l,n,i,a);this.mutationQueue.push(u);for(const f of a)this.Jr=this.Jr.add(new Jt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ie.resolve(u)}lookupMutationBatch(e,n){return ie.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Xr(i),l=a<0?0:a;return ie.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?xy:this.Yn-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Jt(n,0),a=new Jt(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,a],(u=>{const f=this.Zr(u.Hr);l.push(f)})),ie.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Kt(Fe);return n.forEach((a=>{const l=new Jt(a,0),u=new Jt(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(f=>{i=i.add(f.Hr)}))})),ie.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;ve.isDocumentKey(l)||(l=l.child(""));const u=new Jt(new ve(l),0);let f=new Kt(Fe);return this.Jr.forEachWhile((p=>{const m=p.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(f=f.add(p.Hr)),!0)}),u),ie.resolve(this.Yr(f))}Yr(e){const n=[];return e.forEach((i=>{const a=this.Zr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){et(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return ie.forEach(n.mutations,(a=>{const l=new Jt(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new Jt(n,0),a=this.Jr.firstAfterOrEqual(i);return ie.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e){this.ti=e,this.docs=(function(){return new At(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,u=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ie.resolve(i?i.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(e,n){let i=qi();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():mn.newInvalidDocument(a))})),ie.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=qi();const u=n.path,f=new ve(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:m,value:{document:y}}=p.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||fL(dL(y),i)<=0||(a.has(y.key)||gh(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ie.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Ie(9500)}ni(e,n){return ie.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new z4(this)}getSize(e){return ie.resolve(this.size)}}class z4 extends M4{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(i)})),ie.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e){this.persistence=e,this.ri=new Ka((n=>Cy(n)),Dy),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.ii=0,this.si=new Uy,this.targetCount=0,this.oi=ol._r()}forEachTarget(e,n){return this.ri.forEach(((i,a)=>n(a))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),ie.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new ol(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.lr(n),ie.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.ri.forEach(((u,f)=>{f.sequenceNumber<=n&&i.get(f.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),ie.waitFor(l).next((()=>a))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return ie.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),ie.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),ie.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return ie.resolve(i)}containsKey(e,n){return ie.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,n){this._i={},this.overlays={},this.ai=new fh(0),this.ui=!1,this.ui=!0,this.ci=new V4,this.referenceDelegate=e(this),this.li=new F4(this),this.indexManager=new I4,this.remoteDocumentCache=(function(a){return new B4(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new w4(n),this.Pi=new k4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new U4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new j4(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){me("MemoryPersistence","Starting transaction:",e);const a=new G4(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return ie.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class G4 extends pL{constructor(e){super(),this.currentSequenceNumber=e}}class Vy{constructor(e){this.persistence=e,this.Ri=new Uy,this.Ai=null}static Vi(e){return new Vy(e)}get di(){if(this.Ai)return this.Ai;throw Ie(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),ie.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.di,(i=>{const a=ve.fromPath(i);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Re.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Mf{constructor(e,n){this.persistence=e,this.fi=new Ka((i=>yL(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=O4(this,n)}static Vi(e,n){return new Mf(e,n)}Ti(){}Ii(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return ie.forEach(this.fi,((i,a)=>this.wr(e,i,a).next((l=>l?ie.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(u=>this.wr(e,u,n).next((f=>{f||(i++,l.removeEntry(u,Re.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=hf(e.data.value)),n}wr(e,n,i){return ie.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return ie.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=a}static Es(e,n){let i=Ge(),a=Ge();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new jy(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return dO()?8:mL(gn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.gs(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(e,n,a,i).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new H4;return this.ys(e,n,u).next((f=>{if(l.result=f,this.As)return this.ws(e,n,u,f.size)}))})).next((()=>l.result))}ws(e,n,i,a){return i.documentReadCount<this.Vs?(Fo()<=ze.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Go(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ie.resolve()):(Fo()<=ze.DEBUG&&me("QueryEngine","Query:",Go(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(Fo()<=ze.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Go(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pi(n))):ie.resolve())}gs(e,n){if(nT(n))return ie.resolve(null);let i=pi(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=jg(n,null,"F"),i=pi(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const u=Ge(...l);return this.fs.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,i).next((p=>{const m=this.bs(n,f);return this.Ss(n,m,u,p.readTime)?this.gs(e,jg(n,null,"F")):this.Ds(e,m,n,p)}))))})))))}ps(e,n,i,a){return nT(n)||a.isEqual(Re.min())?ie.resolve(null):this.fs.getDocuments(e,i).next((l=>{const u=this.bs(n,l);return this.Ss(n,u,i,a)?ie.resolve(null):(Fo()<=ze.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Go(n)),this.Ds(e,u,n,uL(a,Qc)).next((f=>f)))}))}bs(e,n){let i=new Kt(AI(e));return n.forEach(((a,l)=>{gh(e,l)&&(i=i.add(l))})),i}Ss(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,i){return Fo()<=ze.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Go(n)),this.fs.getDocumentsMatchingQuery(e,n,Gs.min(),i)}Ds(e,n,i,a){return this.fs.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="LocalStore",Y4=3e8;class K4{constructor(e,n,i,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new At(Fe),this.Fs=new Ka((l=>Cy(l)),Dy),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new P4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function $4(t,e,n,i){return new K4(t,e,n,i)}async function KI(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const u=[],f=[];let p=Ge();for(const m of a){u.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}for(const m of l){f.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}return n.localDocuments.getDocuments(i,p).next((m=>({Ns:m,removedBatchIds:u,addedBatchIds:f})))}))}))}function W4(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(f,p,m,y){const _=m.batch,E=_.keys();let w=ie.resolve();return E.forEach((x=>{w=w.next((()=>y.getEntry(p,x))).next((L=>{const N=m.docVersions.get(x);et(N!==null,48541),L.version.compareTo(N)<0&&(_.applyToRemoteDocument(L,m),L.isValidDocument()&&(L.setReadTime(m.commitVersion),y.addEntry(L)))}))})),w.next((()=>f.mutationQueue.removeMutationBatch(p,_)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let p=Ge();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(p=p.add(f.batch.mutations[m].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function $I(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function Q4(t,e){const n=Ce(t),i=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const f=[];e.targetChanges.forEach(((y,_)=>{const E=a.get(_);if(!E)return;f.push(n.li.removeMatchingKeys(l,y.removedDocuments,_).next((()=>n.li.addMatchingKeys(l,y.addedDocuments,_))));let w=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?w=w.withResumeToken(tn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,i)),a=a.insert(_,w),(function(L,N,G){return L.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=Y4?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0})(E,w,y)&&f.push(n.li.updateTargetData(l,w))}));let p=qi(),m=Ge();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(X4(l,u,e.documentUpdates).next((y=>{p=y.Bs,m=y.Ls}))),!i.isEqual(Re.min())){const y=n.li.getLastRemoteSnapshotVersion(l).next((_=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(y)}return ie.waitFor(f).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,p,m))).next((()=>p))})).then((l=>(n.vs=a,l)))}function X4(t,e,n){let i=Ge(),a=Ge();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let u=qi();return n.forEach(((f,p)=>{const m=l.get(f);p.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(f)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(f,p.readTime),u=u.insert(f,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),u=u.insert(f,p)):me(By,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",p.version)})),{Bs:u,Ls:a}}))}function J4(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=xy),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function Z4(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.li.getTargetData(i,e).next((l=>l?(a=l,ie.resolve(a)):n.li.allocateTargetId(i).next((u=>(a=new Os(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function Hg(t,e,n){const i=Ce(t),a=i.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!_l(u))throw u;me(By,`Failed to update sequence numbers for target ${e}: ${u}`)}i.vs=i.vs.remove(e),i.Fs.delete(a.target)}function mT(t,e,n){const i=Ce(t);let a=Re.min(),l=Ge();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,m,y){const _=Ce(p),E=_.Fs.get(y);return E!==void 0?ie.resolve(_.vs.get(E)):_.li.getTargetData(m,y)})(i,u,pi(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(u,f.targetId).next((p=>{l=p}))})).next((()=>i.Cs.getDocumentsMatchingQuery(u,e,n?a:Re.min(),n?l:Ge()))).next((f=>(eP(i,jL(e),f),{documents:f,ks:l})))))}function eP(t,e,n){let i=t.Ms.get(e)||Re.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Ms.set(e,i)}class gT{constructor(){this.activeTargetIds=qL()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tP{constructor(){this.vo=new gT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new gT,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="ConnectivityMonitor";class _T{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){me(yT,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){me(yT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tf=null;function qg(){return tf===null?tf=(function(){return 268435456+Math.round(2147483648*Math.random())})():tf++,"0x"+tf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="RestConnection",rP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class iP{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===xf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,n,i,a,l){const u=qg(),f=this.Qo(e,n.toUriEncodedString());me(rg,`Sending RPC '${e}' ${u}:`,f,i);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,a,l);const{host:m}=new URL(f),y=pl(m);return this.zo(e,f,p,i,y).then((_=>(me(rg,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw za(rg,`RPC '${e}' ${u} failed with error: `,_,"url: ",f,"request:",i),_}))}jo(e,n,i,a,l,u){return this.Wo(e,n,i,a,l)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+gl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const i=rP[e];let a=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="WebChannelConnection",Rc=(t,e,n)=>{t.listen(e,(i=>{try{n(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Xo extends iP{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Xo.c_){const e=XS();Rc(e,QS.STAT_EVENT,(n=>{n.stat===Og.PROXY?me(hn,"STAT_EVENT: detected buffering proxy"):n.stat===Og.NOPROXY&&me(hn,"STAT_EVENT: detected no buffering proxy")})),Xo.c_=!0}}zo(e,n,i,a,l){const u=qg();return new Promise(((f,p)=>{const m=new $S;m.setWithCredentials(!0),m.listenOnce(WS.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case ff.NO_ERROR:const _=m.getResponseJson();me(hn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),f(_);break;case ff.TIMEOUT:me(hn,`RPC '${e}' ${u} timed out`),p(new he(ne.DEADLINE_EXCEEDED,"Request time out"));break;case ff.HTTP_ERROR:const E=m.getStatus();if(me(hn,`RPC '${e}' ${u} failed with status:`,E,"response text:",m.getResponseText()),E>0){let w=m.getResponseJson();Array.isArray(w)&&(w=w[0]);const x=w==null?void 0:w.error;if(x&&x.status&&x.message){const L=(function(G){const B=G.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(B)>=0?B:ne.UNKNOWN})(x.status);p(new he(L,x.message))}else p(new he(ne.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new he(ne.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{me(hn,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);me(hn,`RPC '${e}' ${u} sending request:`,a),m.send(n,"POST",y,i,15)}))}T_(e,n,i){const a=qg(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Go(f.initMessageHeaders,n,i),f.encodeInitMessageHeaders=!0;const m=l.join("");me(hn,`Creating RPC '${e}' stream ${a}: ${m}`,f);const y=u.createWebChannel(m,f);this.I_(y);let _=!1,E=!1;const w=new sP({Ho:x=>{E?me(hn,`Not sending because RPC '${e}' stream ${a} is closed:`,x):(_||(me(hn,`Opening RPC '${e}' stream ${a} transport.`),y.open(),_=!0),me(hn,`RPC '${e}' stream ${a} sending:`,x),y.send(x))},Jo:()=>y.close()});return Rc(y,Pc.EventType.OPEN,(()=>{E||(me(hn,`RPC '${e}' stream ${a} transport opened.`),w.i_())})),Rc(y,Pc.EventType.CLOSE,(()=>{E||(E=!0,me(hn,`RPC '${e}' stream ${a} transport closed`),w.o_(),this.E_(y))})),Rc(y,Pc.EventType.ERROR,(x=>{E||(E=!0,za(hn,`RPC '${e}' stream ${a} transport errored. Name:`,x.name,"Message:",x.message),w.o_(new he(ne.UNAVAILABLE,"The operation could not be completed")))})),Rc(y,Pc.EventType.MESSAGE,(x=>{var L;if(!E){const N=x.data[0];et(!!N,16349);const G=N,B=(G==null?void 0:G.error)||((L=G[0])==null?void 0:L.error);if(B){me(hn,`RPC '${e}' stream ${a} received error:`,B);const F=B.status;let Q=(function(C){const R=Ft[C];if(R!==void 0)return LI(R)})(F),se=B.message;Q===void 0&&(Q=ne.INTERNAL,se="Unknown error status: "+F+" with message "+B.message),E=!0,w.o_(new he(Q,se)),y.close()}else me(hn,`RPC '${e}' stream ${a} received:`,N),w.__(N)}})),Xo.u_(),setTimeout((()=>{w.s_()}),0),w}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return JS()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(t){return new Xo(t)}function ig(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(t){return new u4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xo.c_=!1;class WI{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="PersistentStream";class QI{constructor(e,n,i,a,l,u,f,p){this.Ci=e,this.b_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new WI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Hi(n.toString()),Hi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new he(ne.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(bT,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(me(bT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class oP extends QI{constructor(e,n,i,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=h4(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Re.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Re.min():u.readTime?mi(u.readTime):Re.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=Gg(this.serializer),n.addTarget=(function(l,u){let f;const p=u.target;if(f=Ug(p)?{documents:g4(l,p)}:{query:y4(l,p).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=UI(l,u.resumeToken);const m=Bg(l,u.expectedCount);m!==null&&(f.expectedCount=m)}else if(u.snapshotVersion.compareTo(Re.min())>0){f.readTime=Of(l,u.snapshotVersion.toTimestamp());const m=Bg(l,u.expectedCount);m!==null&&(f.expectedCount=m)}return f})(this.serializer,e);const i=b4(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=Gg(this.serializer),n.removeTarget=e,this.K_(n)}}class lP extends QI{constructor(e,n,i,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=m4(e.writeResults,e.commitTime),i=mi(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Gg(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>p4(this.serializer,i)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{}class uP extends cP{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(e,zg(n,i),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(ne.UNKNOWN,l.toString())}))}jo(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.jo(e,zg(n,i),a,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ne.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function dP(t,e,n,i){return new uP(t,e,n,i)}class fP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Hi(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="RemoteStore";class hP{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{i.enqueueAndForget((async()=>{$a(this)&&(me(Fa,"Restarting streams for network reachability change."),await(async function(p){const m=Ce(p);m.Ea.add(4),await mu(m),m.Va.set("Unknown"),m.Ea.delete(4),await Th(m)})(this))}))})),this.Va=new fP(i,a)}}async function Th(t){if($a(t))for(const e of t.Ra)await e(!0)}async function mu(t){for(const e of t.Ra)await e(!1)}function XI(t,e){const n=Ce(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Hy(n)?Gy(n):vl(n).O_()&&Fy(n,e))}function zy(t,e){const n=Ce(t),i=vl(n);n.Ia.delete(e),i.O_()&&JI(n,e),n.Ia.size===0&&(i.O_()?i.L_():$a(n)&&n.Va.set("Unknown"))}function Fy(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vl(t).Z_(e)}function JI(t,e){t.da.$e(e),vl(t).X_(e)}function Gy(t){t.da=new a4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),vl(t).start(),t.Va.ua()}function Hy(t){return $a(t)&&!vl(t).x_()&&t.Ia.size>0}function $a(t){return Ce(t).Ea.size===0}function ZI(t){t.da=void 0}async function pP(t){t.Va.set("Online")}async function mP(t){t.Ia.forEach(((e,n)=>{Fy(t,e)}))}async function gP(t,e){ZI(t),Hy(t)?(t.Va.ha(e),Gy(t)):t.Va.set("Unknown")}async function yP(t,e,n){if(t.Va.set("Online"),e instanceof kI&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ia.delete(f),a.da.removeTarget(f))})(t,e)}catch(i){me(Fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Lf(t,i)}else if(e instanceof gf?t.da.Xe(e):e instanceof PI?t.da.st(e):t.da.tt(e),!n.isEqual(Re.min()))try{const i=await $I(t.localStore);n.compareTo(i)>=0&&await(function(l,u){const f=l.da.Tt(u);return f.targetChanges.forEach(((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const y=l.Ia.get(m);y&&l.Ia.set(m,y.withResumeToken(p.resumeToken,u))}})),f.targetMismatches.forEach(((p,m)=>{const y=l.Ia.get(p);if(!y)return;l.Ia.set(p,y.withResumeToken(tn.EMPTY_BYTE_STRING,y.snapshotVersion)),JI(l,p);const _=new Os(y.target,p,m,y.sequenceNumber);Fy(l,_)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(i){me(Fa,"Failed to raise snapshot:",i),await Lf(t,i)}}async function Lf(t,e,n){if(!_l(e))throw e;t.Ea.add(1),await mu(t),t.Va.set("Offline"),n||(n=()=>$I(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{me(Fa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Th(t)}))}function ex(t,e){return e().catch((n=>Lf(t,n,e)))}async function Ah(t){const e=Ce(t),n=Ks(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:xy;for(;_P(e);)try{const a=await J4(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,bP(e,a)}catch(a){await Lf(e,a)}tx(e)&&nx(e)}function _P(t){return $a(t)&&t.Ta.length<10}function bP(t,e){t.Ta.push(e);const n=Ks(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function tx(t){return $a(t)&&!Ks(t).x_()&&t.Ta.length>0}function nx(t){Ks(t).start()}async function vP(t){Ks(t).ra()}async function EP(t){const e=Ks(t);for(const n of t.Ta)e.ea(n.mutations)}async function TP(t,e,n){const i=t.Ta.shift(),a=Ly.from(i,e,n);await ex(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Ah(t)}async function AP(t,e){e&&Ks(t).Y_&&await(async function(i,a){if((function(u){return r4(u)&&u!==ne.ABORTED})(a.code)){const l=i.Ta.shift();Ks(i).B_(),await ex(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Ah(i)}})(t,e),tx(t)&&nx(t)}async function vT(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),me(Fa,"RemoteStore received new credentials");const i=$a(n);n.Ea.add(3),await mu(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Th(n)}async function wP(t,e){const n=Ce(t);e?(n.Ea.delete(2),await Th(n)):e||(n.Ea.add(2),await mu(n),n.Va.set("Unknown"))}function vl(t){return t.ma||(t.ma=(function(n,i,a){const l=Ce(n);return l.sa(),new oP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:pP.bind(null,t),Yo:mP.bind(null,t),t_:gP.bind(null,t),J_:yP.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),Hy(t)?Gy(t):t.Va.set("Unknown")):(await t.ma.stop(),ZI(t))}))),t.ma}function Ks(t){return t.fa||(t.fa=(function(n,i,a){const l=Ce(n);return l.sa(),new lP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:vP.bind(null,t),t_:AP.bind(null,t),ta:EP.bind(null,t),na:TP.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Ah(t)):(await t.fa.stop(),t.Ta.length>0&&(me(Fa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const u=Date.now()+i,f=new qy(e,n,u,a,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yy(t,e){if(Hi("AsyncQueue",`${e}: ${t}`),_l(t))return new he(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{static emptySet(e){return new Jo(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||ve.comparator(n.key,i.key):(n,i)=>ve.comparator(n.key,i.key),this.keyedMap=kc(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Jo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Jo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this.ga=new At(ve.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ie(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class ll{constructor(e,n,i,a,l,u,f,p,m){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,n,i,a,l){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new ll(e,n,Jo.emptySet(n),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class IP{constructor(){this.queries=TT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Ce(n),l=a.queries;a.queries=TT(),l.forEach(((u,f)=>{for(const p of f.ba)p.onError(i)}))})(this,new he(ne.ABORTED,"Firestore shutting down"))}}function TT(){return new Ka((t=>TI(t)),mh)}async function rx(t,e){const n=Ce(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(i=2):(l=new SP,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const f=Yy(u,`Initialization of query '${Go(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Ky(n)}async function ix(t,e){const n=Ce(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const u=l.ba.indexOf(e);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function xP(t,e){const n=Ce(t);let i=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const f of u.ba)f.Fa(a)&&(i=!0);u.wa=a}}i&&Ky(n)}function RP(t,e,n){const i=Ce(t),a=i.queries.get(e);if(a)for(const l of a.ba)l.onError(n);i.queries.delete(e)}function Ky(t){t.Ca.forEach((e=>{e.next()}))}var Yg,AT;(AT=Yg||(Yg={})).Ma="default",AT.Cache="cache";class sx{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new ll(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Yg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e){this.key=e}}class ox{constructor(e){this.key=e}}class NP{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ge(),this.mutatedKeys=Ge(),this.eu=AI(e),this.tu=new Jo(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new ET,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,f=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,_)=>{const E=a.get(y),w=gh(this.query,_)?_:null,x=!!E&&this.mutatedKeys.has(E.key),L=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let N=!1;E&&w?E.data.isEqual(w.data)?x!==L&&(i.track({type:3,doc:w}),N=!0):this.su(E,w)||(i.track({type:2,doc:w}),N=!0,(p&&this.eu(w,p)>0||m&&this.eu(w,m)<0)&&(f=!0)):!E&&w?(i.track({type:0,doc:w}),N=!0):E&&!w&&(i.track({type:1,doc:E}),N=!0,(p||m)&&(f=!0)),N&&(w?(u=u.add(w),l=L?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{tu:u,iu:i,Ss:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,_)=>(function(w,x){const L=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Vt:N})}};return L(w)-L(x)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(i),a=a??!1;const f=n&&!a?this._u():[],p=this.Ya.size===0&&this.current&&!a?1:0,m=p!==this.Xa;return this.Xa=p,u.length!==0||m?{snapshot:new ll(this.query,e.tu,l,u,e.mutatedKeys,p===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ET,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ge(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new ox(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new ax(i))})),n}cu(e){this.Za=e.ks,this.Ya=Ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ll.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const $y="SyncEngine";class CP{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class DP{constructor(e){this.key=e,this.hu=!1}}class OP{constructor(e,n,i,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ka((f=>TI(f)),mh),this.Iu=new Map,this.Eu=new Set,this.Ru=new At(ve.comparator),this.Au=new Map,this.Vu=new Uy,this.du={},this.mu=new Map,this.fu=ol.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function MP(t,e,n=!0){const i=hx(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await lx(i,e,n,!0),a}async function LP(t,e){const n=hx(t);await lx(n,e,!0,!1)}async function lx(t,e,n,i){const a=await Z4(t.localStore,pi(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let f;return i&&(f=await PP(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&XI(t.remoteStore,a),f}async function PP(t,e,n,i,a){t.pu=(_,E,w)=>(async function(L,N,G,B){let F=N.view.ru(G);F.Ss&&(F=await mT(L.localStore,N.query,!1).then((({documents:C})=>N.view.ru(C,F))));const Q=B&&B.targetChanges.get(N.targetId),se=B&&B.targetMismatches.get(N.targetId)!=null,ae=N.view.applyChanges(F,L.isPrimaryClient,Q,se);return ST(L,N.targetId,ae.au),ae.snapshot})(t,_,E,w);const l=await mT(t.localStore,e,!0),u=new NP(e,l.ks),f=u.ru(l.documents),p=pu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),m=u.applyChanges(f,t.isPrimaryClient,p);ST(t,n,m.au);const y=new CP(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function kP(t,e,n){const i=Ce(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((u=>!mh(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Hg(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&zy(i.remoteStore,a.targetId),Kg(i,a.targetId)})).catch(yl)):(Kg(i,a.targetId),await Hg(i.localStore,a.targetId,!0))}async function UP(t,e){const n=Ce(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),zy(n.remoteStore,i.targetId))}async function VP(t,e,n){const i=qP(t);try{const a=await(function(u,f){const p=Ce(u),m=ft.now(),y=f.reduce(((w,x)=>w.add(x.key)),Ge());let _,E;return p.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let x=qi(),L=Ge();return p.xs.getEntries(w,y).next((N=>{x=N,x.forEach(((G,B)=>{B.isValidDocument()||(L=L.add(G))}))})).next((()=>p.localDocuments.getOverlayedDocuments(w,x))).next((N=>{_=N;const G=[];for(const B of f){const F=JL(B,_.get(B.key).overlayedDocument);F!=null&&G.push(new Xs(B.key,F,pI(F.value.mapValue),Sn.exists(!0)))}return p.mutationQueue.addMutationBatch(w,m,G,f)})).next((N=>{E=N;const G=N.applyToLocalDocumentSet(_,L);return p.documentOverlayCache.saveOverlays(w,N.batchId,G)}))})).then((()=>({batchId:E.batchId,changes:SI(_)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(u,f,p){let m=u.du[u.currentUser.toKey()];m||(m=new At(Fe)),m=m.insert(f,p),u.du[u.currentUser.toKey()]=m})(i,a.batchId,n),await gu(i,a.changes),await Ah(i.remoteStore)}catch(a){const l=Yy(a,"Failed to persist write");n.reject(l)}}async function cx(t,e){const n=Ce(t);try{const i=await Q4(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(et(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?et(u.hu,14607):a.removedDocuments.size>0&&(et(u.hu,42227),u.hu=!1))})),await gu(n,i,e)}catch(i){await yl(i)}}function wT(t,e,n){const i=Ce(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,u)=>{const f=u.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(u,f){const p=Ce(u);p.onlineState=f;let m=!1;p.queries.forEach(((y,_)=>{for(const E of _.ba)E.va(f)&&(m=!0)})),m&&Ky(p)})(i.eventManager,e),a.length&&i.Pu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function jP(t,e,n){const i=Ce(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let u=new At(ve.comparator);u=u.insert(l,mn.newNoDocument(l,Re.min()));const f=Ge().add(l),p=new vh(Re.min(),new Map,new At(Fe),u,f);await cx(i,p),i.Ru=i.Ru.remove(l),i.Au.delete(e),Wy(i)}else await Hg(i.localStore,e,!1).then((()=>Kg(i,e,n))).catch(yl)}async function BP(t,e){const n=Ce(t),i=e.batch.batchId;try{const a=await W4(n.localStore,e);dx(n,i,null),ux(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await gu(n,a)}catch(a){await yl(a)}}async function zP(t,e,n){const i=Ce(t);try{const a=await(function(u,f){const p=Ce(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return p.mutationQueue.lookupMutationBatch(m,f).next((_=>(et(_!==null,37113),y=_.keys(),p.mutationQueue.removeMutationBatch(m,_)))).next((()=>p.mutationQueue.performConsistencyCheck(m))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(m,y,f))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>p.localDocuments.getDocuments(m,y)))}))})(i.localStore,e);dx(i,e,n),ux(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await gu(i,a)}catch(a){await yl(a)}}function ux(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function dx(t,e,n){const i=Ce(t);let a=i.du[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.du[i.currentUser.toKey()]=a}}function Kg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((i=>{t.Vu.containsKey(i)||fx(t,i)}))}function fx(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(zy(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Wy(t))}function ST(t,e,n){for(const i of n)i instanceof ax?(t.Vu.addReference(i.key,e),FP(t,i)):i instanceof ox?(me($y,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||fx(t,i.key)):Ie(19791,{wu:i})}function FP(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(me($y,"New document in limbo: "+n),t.Eu.add(i),Wy(t))}function Wy(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ve(dt.fromString(e)),i=t.fu.next();t.Au.set(i,new DP(n)),t.Ru=t.Ru.insert(n,i),XI(t.remoteStore,new Os(pi(Oy(n.path)),i,"TargetPurposeLimboResolution",fh.ce))}}async function gu(t,e,n){const i=Ce(t),a=[],l=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,p)=>{u.push(i.pu(p,e,n).then((m=>{var y;if((m||n)&&i.isPrimaryClient){const _=m?!m.fromCache:(y=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:y.current;i.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(m){a.push(m);const _=jy.Es(p.targetId,m);l.push(_)}})))})),await Promise.all(u),i.Pu.J_(a),await(async function(p,m){const y=Ce(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>ie.forEach(m,(E=>ie.forEach(E.Ts,(w=>y.persistence.referenceDelegate.addReference(_,E.targetId,w))).next((()=>ie.forEach(E.Is,(w=>y.persistence.referenceDelegate.removeReference(_,E.targetId,w)))))))))}catch(_){if(!_l(_))throw _;me(By,"Failed to update sequence numbers: "+_)}for(const _ of m){const E=_.targetId;if(!_.fromCache){const w=y.vs.get(E),x=w.snapshotVersion,L=w.withLastLimboFreeSnapshotVersion(x);y.vs=y.vs.insert(E,L)}}})(i.localStore,l))}async function GP(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){me($y,"User change. New user:",e.toKey());const i=await KI(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((f=>{f.forEach((p=>{p.reject(new he(ne.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await gu(n,i.Ns)}}function HP(t,e){const n=Ce(t),i=n.Au.get(e);if(i&&i.hu)return Ge().add(i.key);{let a=Ge();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const f=n.Tu.get(u);a=a.unionWith(f.view.nu)}return a}}function hx(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jP.bind(null,e),e.Pu.J_=xP.bind(null,e.eventManager),e.Pu.yu=RP.bind(null,e.eventManager),e}function qP(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zP.bind(null,e),e}class Pf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Eh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return $4(this.persistence,new q4,e.initialUser,this.serializer)}Cu(e){return new YI(Vy.Vi,this.serializer)}Du(e){return new tP}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pf.provider={build:()=>new Pf};class YP extends Pf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){et(this.persistence.referenceDelegate instanceof Mf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new C4(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new YI((i=>Mf.Vi(i,n)),this.serializer)}}class $g{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>wT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=GP.bind(null,this.syncEngine),await wP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new IP})()}createDatastore(e){const n=Eh(e.databaseInfo.databaseId),i=aP(e.databaseInfo);return dP(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,u,f){return new hP(i,a,l,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>wT(this.syncEngine,n,0)),(function(){return _T.v()?new _T:new nP})())}createSyncEngine(e,n){return(function(a,l,u,f,p,m,y){const _=new OP(a,l,u,f,p,m);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const l=Ce(a);me(Fa,"RemoteStore shutting down."),l.Ea.add(5),await mu(l),l.Aa.shutdown(),l.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}$g.provider={build:()=>new $g};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Hi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="FirestoreClient";class KP{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=a,this.user=pn.UNAUTHENTICATED,this.clientId=uh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async u=>{me($s,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(me($s,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Yy(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function sg(t,e){t.asyncQueue.verifyOperationInProgress(),me($s,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await KI(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function IT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $P(t);me($s,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>vT(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>vT(e.remoteStore,a))),t._onlineComponents=e}async function $P(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me($s,"Using user provided OfflineComponentProvider");try{await sg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ne.FAILED_PRECONDITION||a.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;za("Error using user provided cache. Falling back to memory cache: "+n),await sg(t,new Pf)}}else me($s,"Using default OfflineComponentProvider"),await sg(t,new YP(void 0));return t._offlineComponents}async function mx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me($s,"Using user provided OnlineComponentProvider"),await IT(t,t._uninitializedComponentsProvider._online)):(me($s,"Using default OnlineComponentProvider"),await IT(t,new $g))),t._onlineComponents}function WP(t){return mx(t).then((e=>e.syncEngine))}async function Wg(t){const e=await mx(t),n=e.eventManager;return n.onListen=MP.bind(null,e.syncEngine),n.onUnlisten=kP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=LP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=UP.bind(null,e.syncEngine),n}function QP(t,e,n,i){const a=new px(i),l=new sx(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>rx(await Wg(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>ix(await Wg(t),l)))}}function XP(t,e,n={}){const i=new ks;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,p,m){const y=new px({next:E=>{y.Nu(),u.enqueueAndForget((()=>ix(l,_))),E.fromCache&&p.source==="server"?m.reject(new he(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),_=new sx(f,y,{includeMetadataChanges:!0,Ka:!0});return rx(l,_)})(await Wg(t),t.asyncQueue,e,n,i))),i.promise}function JP(t,e){const n=new ks;return t.asyncQueue.enqueueAndForget((async()=>VP(await WP(t),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP="ComponentProvider",xT=new Map;function ek(t,e,n,i,a){return new vL(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,gx(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx="firestore.googleapis.com",RT=!0;class NT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yx,this.ssl=RT}else this.host=e.host,this.ssl=e.ssl??RT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<R4)throw new he(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gx(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wh{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new tI;switch(i.type){case"firstParty":return new iL(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new he(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=xT.get(n);i&&(me(ZP,"Removing Datastore"),xT.delete(n),i.terminate())})(this),Promise.resolve()}}function _x(t,e,n,i={}){var m;t=kn(t,wh);const a=pl(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(mS(`https://${f}`),gS("Firestore",!0)),l.host!==yx&&l.host!==f&&za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:f,ssl:a,emulatorOptions:i};if(!Fs(p,u)&&(t._setSettings(p),i.mockUserToken)){let y,_;if(typeof i.mockUserToken=="string")y=i.mockUserToken,_=pn.MOCK_USER;else{y=rO(i.mockUserToken,(m=t._app)==null?void 0:m.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new he(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new pn(E)}t._authCredentials=new tL(new eI(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ki(this.firestore,e,this._query)}}class It{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}toJSON(){return{type:It._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(fu(n,It._jsonSchema))return new It(e,i||null,new ve(dt.fromString(n.referencePath)))}}It._jsonSchemaVersion="firestore/documentReference/1.0",It._jsonSchema={type:Ht("string",It._jsonSchemaVersion),referencePath:Ht("string")};class Fi extends Ki{constructor(e,n,i){super(e,n,Oy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new ve(e))}withConverter(e){return new Fi(this.firestore,e,this._path)}}function ka(t,e,...n){if(t=Tt(t),nI("collection","path",e),t instanceof wh){const i=dt.fromString(e,...n);return F0(i),new Fi(t,null,i)}{if(!(t instanceof It||t instanceof Fi))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(dt.fromString(e,...n));return F0(i),new Fi(t.firestore,null,i)}}function hi(t,e,...n){if(t=Tt(t),arguments.length===1&&(e=uh.newId()),nI("doc","path",e),t instanceof wh){const i=dt.fromString(e,...n);return z0(i),new It(t,null,new ve(i))}{if(!(t instanceof It||t instanceof Fi))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(dt.fromString(e,...n));return z0(i),new It(t.firestore,t instanceof Fi?t.converter:null,new ve(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="AsyncQueue";class DT{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new WI(this,"async_queue_retry"),this._c=()=>{const i=ig();i&&me(CT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=ig();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ig();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ks;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!_l(e))throw e;me(CT,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Hi("INTERNAL UNHANDLED ERROR: ",OT(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=qy.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ie(47125,{Pc:OT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function OT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class vi extends wh{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new DT,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new DT(e),this._firestoreClient=void 0,await e}}}function bx(t,e){const n=typeof t=="object"?t:by(),i=typeof t=="string"?t:xf,a=Ya(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=tO("firestore");l&&_x(a,...l)}return a}function yu(t){if(t._terminated)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||tk(t),t._firestoreClient}function tk(t){var i,a,l,u;const e=t._freezeSettings(),n=ek(t._databaseId,((i=t._app)==null?void 0:i.options.appId)||"",t._persistenceKey,(a=t._app)==null?void 0:a.options.apiKey,e);t._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new KP(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(p){const m=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(m),_online:m}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $n(tn.fromBase64String(e))}catch(n){throw new he(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $n(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fu(e,$n._jsonSchema))return $n.fromBase64String(e.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:Ht("string",$n._jsonSchemaVersion),bytes:Ht("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vr._jsonSchemaVersion}}static fromJSON(e){if(fu(e,Vr._jsonSchema))return new Vr(e.latitude,e.longitude)}}Vr._jsonSchemaVersion="firestore/geoPoint/1.0",Vr._jsonSchema={type:Ht("string",Vr._jsonSchemaVersion),latitude:Ht("number"),longitude:Ht("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:_r._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fu(e,_r._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new _r(e.vectorValues);throw new he(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_r._jsonSchemaVersion="firestore/vectorValue/1.0",_r._jsonSchema={type:Ht("string",_r._jsonSchemaVersion),vectorValues:Ht("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=/^__.*__$/;class rk{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms):new hu(e,this.data,n,this.fieldTransforms)}}class vx{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ex(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{dataSource:t})}}class Qy{constructor(e,n,i,a,l,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Qy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var a;const n=(a=this.path)==null?void 0:a.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){var a;const n=(a=this.path)==null?void 0:a.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return kf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Ex(this.dataSource)&&nk.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class ik{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Eh(e)}createContext(e,n,i,a=!1){return new Qy({dataSource:e,methodName:n,targetDoc:i,path:Zt.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bu(t){const e=t._freezeSettings(),n=Eh(t._databaseId);return new ik(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Xy(t,e,n,i,a,l={}){const u=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);Jy("Data must be an object, but it was:",u,i);const f=wx(i,u);let p,m;if(l.merge)p=new Wn(u.fieldMask),m=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const E=cl(e,_,n);if(!u.contains(E))throw new he(ne.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);xx(y,E)||y.push(E)}p=new Wn(y),m=u.fieldTransforms.filter((_=>p.covers(_.field)))}else p=null,m=u.fieldTransforms;return new rk(new Pn(f),p,m)}class Ih extends Sh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ih}}function Tx(t,e,n,i){const a=t.createContext(1,e,n);Jy("Data must be an object, but it was:",a,i);const l=[],u=Pn.empty();Qs(i,((p,m)=>{const y=Ix(e,p,n);m=Tt(m);const _=a.childContextForFieldPath(y);if(m instanceof Ih)l.push(y);else{const E=vu(m,_);E!=null&&(l.push(y),u.set(y,E))}}));const f=new Wn(l);return new vx(u,f,a.fieldTransforms)}function Ax(t,e,n,i,a,l){const u=t.createContext(1,e,n),f=[cl(e,i,n)],p=[a];if(l.length%2!=0)throw new he(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)f.push(cl(e,l[E])),p.push(l[E+1]);const m=[],y=Pn.empty();for(let E=f.length-1;E>=0;--E)if(!xx(m,f[E])){const w=f[E];let x=p[E];x=Tt(x);const L=u.childContextForFieldPath(w);if(x instanceof Ih)m.push(w);else{const N=vu(x,L);N!=null&&(m.push(w),y.set(w,N))}}const _=new Wn(m);return new vx(y,_,u.fieldTransforms)}function sk(t,e,n,i=!1){return vu(n,t.createContext(i?4:3,e))}function vu(t,e){if(Sx(t=Tt(t)))return Jy("Unsupported field value:",e,t),wx(t,e);if(t instanceof Sh)return(function(i,a){if(!Ex(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,a){const l=[];let u=0;for(const f of i){let p=vu(f,a.childContextForArray(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=Tt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return YL(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=ft.fromDate(i);return{timestampValue:Of(a.serializer,l)}}if(i instanceof ft){const l=new ft(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Of(a.serializer,l)}}if(i instanceof Vr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof $n)return{bytesValue:UI(a.serializer,i._byteString)};if(i instanceof It){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ky(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof _r)return(function(u,f){const p=u instanceof _r?u.toArray():u;return{mapValue:{fields:{[fI]:{stringValue:hI},[Rf]:{arrayValue:{values:p.map((y=>{if(typeof y!="number")throw f.createError("VectorValues must only contain numeric values.");return My(f.serializer,y)}))}}}}}})(i,a);if(HI(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${dh(i)}`)})(t,e)}function wx(t,e){const n={};return aI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qs(t,((i,a)=>{const l=vu(a,e.childContextForField(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function Sx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ft||t instanceof Vr||t instanceof $n||t instanceof It||t instanceof Sh||t instanceof _r||HI(t))}function Jy(t,e,n){if(!Sx(n)||!iI(n)){const i=dh(n);throw i==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function cl(t,e,n){if((e=Tt(e))instanceof _u)return e._internalPath;if(typeof e=="string")return Ix(t,e);throw kf("Field path arguments must be of type string or ",t,!1,void 0,n)}const ak=new RegExp("[~\\*/\\[\\]]");function Ix(t,e,n){if(e.search(ak)>=0)throw kf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _u(...e.split("."))._internalPath}catch{throw kf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function kf(t,e,n,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${i}`),u&&(p+=` in document ${a}`),p+=")"),new he(ne.INVALID_ARGUMENT,f+t+p)}function xx(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{convertValue(e,n="none"){switch(Ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Qs(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){var i,a,l;const n=(l=(a=(i=e.fields)==null?void 0:i[Rf].arrayValue)==null?void 0:a.values)==null?void 0:l.map((u=>Mt(u.doubleValue)));return new _r(n)}convertGeoPoint(e){return new Vr(Mt(e.latitude),Mt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=ph(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Xc(e));default:return null}}convertTimestamp(e){const n=Hs(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=dt.fromString(e);et(GI(i),9688,{name:e});const a=new il(i.get(1),i.get(3)),l=new ve(i.popFirst(5));return a.isEqual(n)||Hi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy extends Rx{constructor(e){super(),this.firestore=e}convertBytes(e){return new $n(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,n)}}const MT="@firebase/firestore",LT="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ok(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(cl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ok extends Nx{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class e_{}class t_ extends e_{}function Qg(t,e,...n){let i=[];e instanceof e_&&i.push(e),i=i.concat(n),(function(l){const u=l.filter((p=>p instanceof Rh)).length,f=l.filter((p=>p instanceof xh)).length;if(u>1||u>0&&f>0)throw new he(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class xh extends t_{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new xh(e,n,i)}_apply(e){const n=this._parse(e);return Dx(e._query,n),new Ki(e.firestore,e.converter,Vg(e._query,n))}_parse(e){const n=bu(e.firestore);return(function(l,u,f,p,m,y,_){let E;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new he(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){UT(_,y);const x=[];for(const L of _)x.push(kT(p,l,L));E={arrayValue:{values:x}}}else E=kT(p,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||UT(_,y),E=sk(f,u,_,y==="in"||y==="not-in");return Gt.create(m,y,E)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Rh extends e_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Rh(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Br.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const f=l.getFlattenedFilters();for(const p of f)Dx(u,p),u=Vg(u,p)})(e._query,n),new Ki(e.firestore,e.converter,Vg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Nh extends t_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Nh(e,n)}_apply(e){const n=(function(a,l,u){if(a.startAt!==null)throw new he(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new he(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zc(l,u)})(e._query,this._field,this._direction);return new Ki(e.firestore,e.converter,VL(e._query,n))}}function Xg(t,e="asc"){const n=e,i=cl("orderBy",t);return Nh._create(i,n)}function kT(t,e,n){if(typeof(n=Tt(n))=="string"){if(n==="")throw new he(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!EI(e)&&n.indexOf("/")!==-1)throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(dt.fromString(n));if(!ve.isDocumentKey(i))throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Q0(t,new ve(i))}if(n instanceof It)return Q0(t,n._key);throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dh(n)}.`)}function UT(t,e){if(!Array.isArray(t)||t.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Dx(t,e){const n=(function(a,l){for(const u of a)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function n_(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class Ko{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Us extends Nx{constructor(e,n,i,a,l,u){super(e,n,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(cl("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Us._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Us._jsonSchemaVersion="firestore/documentSnapshot/1.0",Us._jsonSchema={type:Ht("string",Us._jsonSchemaVersion),bundleSource:Ht("string","DocumentSnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class Hc extends Us{data(e={}){return super.data(e)}}class Vs{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Ko(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Hc(this._firestore,this._userDataWriter,i.key,i,new Ko(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((f=>{const p=new Hc(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Ko(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const p=new Hc(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Ko(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return f.type!==0&&(m=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),y=u.indexOf(f.doc.key)),{type:lk(f.type),doc:p,oldIndex:m,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Vs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=uh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function lk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vs._jsonSchemaVersion="firestore/querySnapshot/1.0",Vs._jsonSchema={type:Ht("string",Vs._jsonSchemaVersion),bundleSource:Ht("string","QuerySnapshot"),bundleName:Ht("string"),bundle:Ht("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=bu(e)}set(e,n,i){this._verifyNotCommitted();const a=ag(e,this._firestore),l=n_(a.converter,n,i),u=Xy(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,i);return this._mutations.push(u.toMutation(a._key,Sn.none())),this}update(e,n,i,...a){this._verifyNotCommitted();const l=ag(e,this._firestore);let u;return u=typeof(n=Tt(n))=="string"||n instanceof _u?Ax(this._dataReader,"WriteBatch.update",l._key,n,i,a):Tx(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(u.toMutation(l._key,Sn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ag(e,this._firestore);return this._mutations=this._mutations.concat(new bh(n._key,Sn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new he(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ag(t,e){if((t=Tt(t)).firestore!==e)throw new he(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Mx(t){t=kn(t,Ki);const e=kn(t.firestore,vi),n=yu(e),i=new Zy(e);return Cx(t._query),XP(n,t._query).then((a=>new Vs(e,i,t,a)))}function Lx(t,e,n){t=kn(t,It);const i=kn(t.firestore,vi),a=n_(t.converter,e,n),l=bu(i);return El(i,[Xy(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Sn.none())])}function Uf(t,e,n,...i){t=kn(t,It);const a=kn(t.firestore,vi),l=bu(a);let u;return u=typeof(e=Tt(e))=="string"||e instanceof _u?Ax(l,"updateDoc",t._key,e,n,i):Tx(l,"updateDoc",t._key,e),El(a,[u.toMutation(t._key,Sn.exists(!0))])}function Vf(t){return El(kn(t.firestore,vi),[new bh(t._key,Sn.none())])}function jf(t,e){const n=kn(t.firestore,vi),i=hi(t),a=n_(t.converter,e),l=bu(t.firestore);return El(n,[Xy(l,"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,Sn.exists(!1))]).then((()=>i))}function Jg(t,...e){var m,y,_;t=Tt(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||PT(e[i])||(n=e[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(PT(e[i])){const E=e[i];e[i]=(m=E.next)==null?void 0:m.bind(E),e[i+1]=(y=E.error)==null?void 0:y.bind(E),e[i+2]=(_=E.complete)==null?void 0:_.bind(E)}let l,u,f;if(t instanceof It)u=kn(t.firestore,vi),f=Oy(t._key.path),l={next:E=>{e[i]&&e[i](ck(u,t,E))},error:e[i+1],complete:e[i+2]};else{const E=kn(t,Ki);u=kn(E.firestore,vi),f=E._query;const w=new Zy(u);l={next:x=>{e[i]&&e[i](new Vs(u,w,E,x))},error:e[i+1],complete:e[i+2]},Cx(t._query)}const p=yu(u);return QP(p,f,a,l)}function El(t,e){const n=yu(t);return JP(n,e)}function ck(t,e,n){const i=n.docs.get(e._key),a=new Zy(t);return new Us(t,a,e._key,i,new Ko(n.hasPendingWrites,n.fromCache),e.converter)}function uk(t){return t=kn(t,vi),yu(t),new Ox(t,(e=>El(t,e)))}(function(e,n=!0){eL(ml),_i(new jr("firestore",((i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),f=new vi(new nL(i.getProvider("auth-internal")),new sL(u,i.getProvider("app-check-internal")),EL(u,a),u);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),yr(MT,LT,e),yr(MT,LT,"esm2020")})();const dk=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:Rx,Bytes:$n,CollectionReference:Fi,DocumentReference:It,DocumentSnapshot:Us,FieldPath:_u,FieldValue:Sh,Firestore:vi,FirestoreError:he,GeoPoint:Vr,Query:Ki,QueryCompositeFilterConstraint:Rh,QueryConstraint:t_,QueryDocumentSnapshot:Hc,QueryFieldFilterConstraint:xh,QueryOrderByConstraint:Nh,QuerySnapshot:Vs,SnapshotMetadata:Ko,Timestamp:ft,VectorValue:_r,WriteBatch:Ox,_AutoId:uh,_ByteString:tn,_DatabaseId:il,_DocumentKey:ve,_EmptyAuthCredentialsProvider:tI,_FieldPath:Zt,_cast:kn,_logWarn:za,_validateIsNotUsedTogether:rI,addDoc:jf,collection:ka,connectFirestoreEmulator:_x,deleteDoc:Vf,doc:hi,ensureFirestoreConfigured:yu,executeWrite:El,getDocs:Mx,getFirestore:bx,onSnapshot:Jg,orderBy:Xg,query:Qg,setDoc:Lx,updateDoc:Uf,writeBatch:uk},Symbol.toStringTag,{value:"Module"}));function Px(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fk=Px,kx=new qa("auth","Firebase",Px());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf=new oh("@firebase/auth");function hk(t,...e){Bf.logLevel<=ze.WARN&&Bf.warn(`Auth (${ml}): ${t}`,...e)}function yf(t,...e){Bf.logLevel<=ze.ERROR&&Bf.error(`Auth (${ml}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(t,...e){throw r_(t,...e)}function gi(t,...e){return r_(t,...e)}function Ux(t,e,n){const i={...fk(),[e]:n};return new qa("auth","Firebase",i).create(e,{appName:t.name})}function js(t){return Ux(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function r_(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return kx.create(t,...e)}function Se(t,e,...n){if(!t)throw r_(e,...n)}function Bi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yf(e),new Error(e)}function Yi(t,e){t||Bi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function pk(){return VT()==="http:"||VT()==="https:"}function VT(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pk()||yS()||"connection"in navigator)?navigator.onLine:!0}function gk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yi(n>e,"Short delay should be less than long delay!"),this.isMobile=aO()||cO()}get(){return mk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(t,e){Yi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bk=new Eu(3e4,6e4);function Wa(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Js(t,e,n,i,a={}){return jx(t,a,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const f=du({key:t.config.apiKey,...u}).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:p,...l};return lO()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&pl(t.emulatorConfig.host)&&(m.credentials="include"),Vx.fetch()(await Bx(t,t.config.apiHost,n,f),m)})}async function jx(t,e,n){t._canInitEmulator=!1;const i={...yk,...e};try{const a=new Ek(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw nf(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[p,m]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw nf(t,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw nf(t,"email-already-in-use",u);if(p==="USER_DISABLED")throw nf(t,"user-disabled",u);const y=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Ux(t,y,m);zr(t,y)}}catch(a){if(a instanceof Fr)throw a;zr(t,"network-request-failed",{message:String(a)})}}async function Ch(t,e,n,i,a={}){const l=await Js(t,e,n,i,a);return"mfaPendingCredential"in l&&zr(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function Bx(t,e,n,i){const a=`${e}${n}?${i}`,l=t,u=l.config.emulator?i_(t.config,a):`${t.config.apiScheme}://${a}`;return _k.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function vk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ek{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(gi(this.auth,"network-request-failed")),bk.get())})}}function nf(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=gi(t,e,i);return a.customData._tokenResponse=n,a}function jT(t){return t!==void 0&&t.enterprise!==void 0}class Tk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return vk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Ak(t,e){return Js(t,"GET","/v2/recaptchaConfig",Wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wk(t,e){return Js(t,"POST","/v1/accounts:delete",e)}async function zf(t,e){return Js(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Sk(t,e=!1){const n=Tt(t),i=await n.getIdToken(e),a=s_(i);Se(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:qc(og(a.auth_time)),issuedAtTime:qc(og(a.iat)),expirationTime:qc(og(a.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function og(t){return Number(t)*1e3}function s_(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return yf("JWT malformed, contained fewer than 3 sections"),null;try{const a=dS(n);return a?JSON.parse(a):(yf("Failed to decode base64 JWT payload"),null)}catch(a){return yf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function BT(t){const e=s_(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nu(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Fr&&Ik(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function Ik({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qc(this.lastLoginAt),this.creationTime=qc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ff(t){var _;const e=t.auth,n=await t.getIdToken(),i=await nu(t,zf(e,{idToken:n}));Se(i==null?void 0:i.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=(_=a.providerUserInfo)!=null&&_.length?zx(a.providerUserInfo):[],u=Nk(t.providerData,l),f=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!(u!=null&&u.length),m=f?p:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new ey(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,y)}async function Rk(t){const e=Tt(t);await Ff(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Nk(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function zx(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ck(t,e){const n=await jx(t,{},async()=>{const i=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await Bx(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:i};return t.emulatorConfig&&pl(t.emulatorConfig.host)&&(p.credentials="include"),Vx.fetch()(u,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Dk(t,e){return Js(t,"POST","/v2/accounts:revokeToken",Wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=BT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await Ck(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,u=new Zo;return i&&(Se(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(Se(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Se(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zo,this.toJSON())}_performRefresh(){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class kr{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new xk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ey(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await nu(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Sk(this,e)}reload(){return Rk(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new kr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Ff(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pr(this.auth.app))return Promise.reject(js(this.auth));const e=await this.getIdToken();return await nu(this,wk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,f=n.tenantId??void 0,p=n._redirectEventId??void 0,m=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:w,providerData:x,stsTokenManager:L}=n;Se(_&&L,e,"internal-error");const N=Zo.fromJSON(this.name,L);Se(typeof _=="string",e,"internal-error"),xs(i,e.name),xs(a,e.name),Se(typeof E=="boolean",e,"internal-error"),Se(typeof w=="boolean",e,"internal-error"),xs(l,e.name),xs(u,e.name),xs(f,e.name),xs(p,e.name),xs(m,e.name),xs(y,e.name);const G=new kr({uid:_,auth:e,email:a,emailVerified:E,displayName:i,isAnonymous:w,photoURL:u,phoneNumber:l,tenantId:f,stsTokenManager:N,createdAt:m,lastLoginAt:y});return x&&Array.isArray(x)&&(G.providerData=x.map(B=>({...B}))),p&&(G._redirectEventId=p),G}static async _fromIdTokenResponse(e,n,i=!1){const a=new Zo;a.updateFromServerResponse(n);const l=new kr({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Ff(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Se(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?zx(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new Zo;f.updateFromIdToken(i);const p=new kr({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new ey(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=new Map;function zi(t){Yi(t instanceof Function,"Expected a class definition");let e=zT.get(t);return e?(Yi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Fx.type="NONE";const FT=Fx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(t,e,n){return`firebase:${t}:${e}:${n}`}class el{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=_f(this.userKey,a.apiKey,l),this.fullPersistenceKey=_f("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await zf(this.auth,{idToken:e}).catch(()=>{});return n?kr._fromGetAccountInfoResponse(this.auth,n,e):null}return kr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new el(zi(FT),e,i);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||zi(FT);const u=_f(i,e.config.apiKey,e.name);let f=null;for(const m of n)try{const y=await m._get(u);if(y){let _;if(typeof y=="string"){const E=await zf(e,{idToken:y}).catch(()=>{});if(!E)break;_=await kr._fromGetAccountInfoResponse(e,E,y)}else _=kr._fromJSON(e,y);m!==l&&(f=_),l=m;break}}catch{}const p=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new el(l,e,i):(l=p[0],f&&await l._set(u,f.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(u)}catch{}})),new el(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Yx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Gx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($x(e))return"Blackberry";if(Wx(e))return"Webos";if(Hx(e))return"Safari";if((e.includes("chrome/")||qx(e))&&!e.includes("edge/"))return"Chrome";if(Kx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Gx(t=gn()){return/firefox\//i.test(t)}function Hx(t=gn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qx(t=gn()){return/crios\//i.test(t)}function Yx(t=gn()){return/iemobile/i.test(t)}function Kx(t=gn()){return/android/i.test(t)}function $x(t=gn()){return/blackberry/i.test(t)}function Wx(t=gn()){return/webos/i.test(t)}function a_(t=gn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ok(t=gn()){var e;return a_(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Mk(){return uO()&&document.documentMode===10}function Qx(t=gn()){return a_(t)||Kx(t)||Wx(t)||$x(t)||/windows phone/i.test(t)||Yx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(t,e=[]){let n;switch(t){case"Browser":n=GT(gn());break;case"Worker":n=`${GT(gn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ml}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((u,f)=>{try{const p=e(l);u(p)}catch(p){f(p)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pk(t,e={}){return Js(t,"GET","/v2/passwordPolicy",Wa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk=6;class Uk{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??kk,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new HT(this),this.idTokenSubscription=new HT(this),this.beforeStateQueue=new Lk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zi(n)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await el.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await zf(this,{idToken:e}),i=await kr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(Pr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(l=this.redirectUser)==null?void 0:l._redirectEventId,f=i==null?void 0:i._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===f)&&(p!=null&&p.user)&&(i=p.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ff(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pr(this.app))return Promise.reject(js(this));const n=e?Tt(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pr(this.app)?Promise.reject(js(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pr(this.app)?Promise.reject(js(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Pk(this),n=new Uk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qa("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await Dk(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zi(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await el.create(this,[zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,i,a);return()=>{u=!0,p()}}else{const p=e.addObserver(n);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Xx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(Pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&hk(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Tl(t){return Tt(t)}class HT{constructor(e){this.auth=e,this.observer=null,this.addObserver=yO(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jk(t){Dh=t}function Jx(t){return Dh.loadJS(t)}function Bk(){return Dh.recaptchaEnterpriseScript}function zk(){return Dh.gapiScript}function Fk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Gk{constructor(){this.enterprise=new Hk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Hk{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const qk="recaptcha-enterprise",Zx="NO_RECAPTCHA";class Yk{constructor(e){this.type=qk,this.auth=Tl(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{Ak(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const m=new Tk(p);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,u(m.siteKey)}}).catch(p=>{f(p)})})}function a(l,u,f){const p=window.grecaptcha;jT(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(m=>{u(m)}).catch(()=>{u(Zx)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Gk().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{i(this.auth).then(f=>{if(!n&&jT(window.grecaptcha))a(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Bk();p.length!==0&&(p+=f),Jx(p).then(()=>{a(f,l,u)}).catch(m=>{u(m)})}}).catch(f=>{u(f)})})}}async function qT(t,e,n,i=!1,a=!1){const l=new Yk(t);let u;if(a)u=Zx;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const f={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,m=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function YT(t,e,n,i,a){var l;if((l=t._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await qT(t,e,n,n==="getOobCode");return i(t,u)}else return i(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await qT(t,e,n,n==="getOobCode");return i(t,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(t,e){const n=Ya(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Fs(l,e??{}))return a;zr(a,"already-initialized")}return n.initialize({options:e})}function $k(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(zi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function Wk(t,e,n){const i=Tl(t);Se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=eR(e),{host:u,port:f}=Qk(e),p=f===null?"":`:${f}`,m={url:`${l}//${u}${p}/`},y=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Se(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Se(Fs(m,i.config.emulator)&&Fs(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,pl(u)?(mS(`${l}//${u}${p}`),gS("Auth",!0)):Xk()}function eR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Qk(t){const e=eR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:KT(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:KT(u)}}}function KT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Xk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Bi("not implemented")}_getIdTokenResponse(e){return Bi("not implemented")}_linkToIdToken(e,n){return Bi("not implemented")}_getReauthenticationResolver(e){return Bi("not implemented")}}async function Jk(t,e){return Js(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zk(t,e){return Ch(t,"POST","/v1/accounts:signInWithPassword",Wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eU(t,e){return Ch(t,"POST","/v1/accounts:signInWithEmailLink",Wa(t,e))}async function tU(t,e){return Ch(t,"POST","/v1/accounts:signInWithEmailLink",Wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends o_{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new ru(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new ru(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return YT(e,n,"signInWithPassword",Zk);case"emailLink":return eU(e,{email:this._email,oobCode:this._password});default:zr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return YT(e,i,"signUpPassword",Jk);case"emailLink":return tU(e,{idToken:n,email:this._email,oobCode:this._password});default:zr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(t,e){return Ch(t,"POST","/v1/accounts:signInWithIdp",Wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nU="http://localhost";class Ga extends o_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ga(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const u=new Ga(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return tl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,tl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,tl(e,n)}buildRequest(){const e={requestUri:nU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=du(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function iU(t){const e=Mc(Lc(t)).link,n=e?Mc(Lc(e)).deep_link_id:null,i=Mc(Lc(t)).deep_link_id;return(i?Mc(Lc(i)).link:null)||i||n||e||t}class l_{constructor(e){const n=Mc(Lc(e)),i=n.apiKey??null,a=n.oobCode??null,l=rU(n.mode??null);Se(i&&a&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=iU(e);try{return new l_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this.providerId=Al.PROVIDER_ID}static credential(e,n){return ru._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=l_.parseLink(n);return Se(i,"argument-error"),ru._fromEmailAndCode(e,i.code,i.tenantId)}}Al.PROVIDER_ID="password";Al.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Al.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends tR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Tu{constructor(){super("facebook.com")}static credential(e){return Ga._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends Tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ga._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Ns.credential(n,i)}catch{return null}}}Ns.GOOGLE_SIGN_IN_METHOD="google.com";Ns.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends Tu{constructor(){super("github.com")}static credential(e){return Ga._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.GITHUB_SIGN_IN_METHOD="github.com";Cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends Tu{constructor(){super("twitter.com")}static credential(e,n){return Ga._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ds.credential(n,i)}catch{return null}}}Ds.TWITTER_SIGN_IN_METHOD="twitter.com";Ds.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await kr._fromIdTokenResponse(e,i,a),u=$T(i);return new ul({user:l,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=$T(i);return new ul({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function $T(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf extends Fr{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Gf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new Gf(e,n,i,a)}}function nR(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Gf._fromErrorAndOperation(t,l,e,i):l})}async function sU(t,e,n=!1){const i=await nu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ul._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aU(t,e,n=!1){const{auth:i}=t;if(Pr(i.app))return Promise.reject(js(i));const a="reauthenticate";try{const l=await nu(t,nR(i,a,e,t),n);Se(l.idToken,i,"internal-error");const u=s_(l.idToken);Se(u,i,"internal-error");const{sub:f}=u;return Se(t.uid===f,i,"user-mismatch"),ul._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&zr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rR(t,e,n=!1){if(Pr(t.app))return Promise.reject(js(t));const i="signIn",a=await nR(t,i,e),l=await ul._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}async function oU(t,e){return rR(Tl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lU(t){const e=Tl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function cU(t,e,n){return Pr(t.app)?Promise.reject(js(t)):oU(Tt(t),Al.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&lU(t),i})}function uU(t,e,n,i){return Tt(t).onIdTokenChanged(e,n,i)}function dU(t,e,n){return Tt(t).beforeAuthStateChanged(e,n)}function iR(t,e,n,i){return Tt(t).onAuthStateChanged(e,n,i)}const Hf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hf,"1"),this.storage.removeItem(Hf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU=1e3,hU=10;class aR extends sR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Qx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,p)=>{this.notifyListeners(u,p)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);Mk()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,hU):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},fU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}aR.type="LOCAL";const pU=aR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR extends sR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}oR.type="SESSION";const lR=oR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Oh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(u).map(async m=>m(n.origin,l)),p=await mU(f);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,p)=>{const m=c_("",20);a.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(E.data.response);break;default:clearTimeout(y),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(){return window}function yU(t){yi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(){return typeof yi().WorkerGlobalScope<"u"&&typeof yi().importScripts=="function"}async function _U(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function vU(){return cR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="firebaseLocalStorageDb",EU=1,qf="firebaseLocalStorage",dR="fbase_key";class Au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mh(t,e){return t.transaction([qf],e?"readwrite":"readonly").objectStore(qf)}function TU(){const t=indexedDB.deleteDatabase(uR);return new Au(t).toPromise()}function ty(){const t=indexedDB.open(uR,EU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(qf,{keyPath:dR})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(qf)?e(i):(i.close(),await TU(),e(await ty()))})})}async function WT(t,e,n){const i=Mh(t,!0).put({[dR]:e,value:n});return new Au(i).toPromise()}async function AU(t,e){const n=Mh(t,!1).get(e),i=await new Au(n).toPromise();return i===void 0?null:i.value}function QT(t,e){const n=Mh(t,!0).delete(e);return new Au(n).toPromise()}const wU=800,SU=3;class fR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ty(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>SU)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oh._getInstance(vU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await _U(),!this.activeServiceWorker)return;this.sender=new gU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ty();return await WT(e,Hf,"1"),await QT(e,Hf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>WT(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>AU(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>QT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Mh(a,!1).getAll();return new Au(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fR.type="LOCAL";const IU=fR;new Eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xU(t,e){return e?zi(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_ extends o_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return tl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return tl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function RU(t){return rR(t.auth,new u_(t),t.bypassAuthState)}function NU(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),aU(n,new u_(t),t.bypassAuthState)}async function CU(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),sU(n,new u_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RU;case"linkViaPopup":case"linkViaRedirect":return CU;case"reauthViaPopup":case"reauthViaRedirect":return NU;default:zr(this.auth,"internal-error")}}resolve(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU=new Eu(2e3,1e4);class $o extends hR{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,$o.currentPopupAction&&$o.currentPopupAction.cancel(),$o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Yi(this.filter.length===1,"Popup operations only handle one event");const e=c_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$o.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DU.get())};e()}}$o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU="pendingRedirect",bf=new Map;class MU extends hR{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=bf.get(this.auth._key());if(!e){try{const i=await LU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}bf.set(this.auth._key(),e)}return this.bypassAuthState||bf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LU(t,e){const n=UU(e),i=kU(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function PU(t,e){bf.set(t._key(),e)}function kU(t){return zi(t._redirectPersistence)}function UU(t){return _f(OU,t.config.apiKey,t.name)}async function VU(t,e,n=!1){if(Pr(t.app))return Promise.reject(js(t));const i=Tl(t),a=xU(i,e),u=await new MU(i,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU=600*1e3;class BU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!pR(e)){const a=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(gi(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jU&&this.cachedEventUids.clear(),this.cachedEventUids.has(XT(e))}saveEventToCache(e){this.cachedEventUids.add(XT(e)),this.lastProcessedEventTime=Date.now()}}function XT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function pR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FU(t,e={}){return Js(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HU=/^https?/;async function qU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await FU(t);for(const n of e)try{if(YU(n))return}catch{}zr(t,"unauthorized-domain")}function YU(t){const e=Zg(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!HU.test(n))return!1;if(GU.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU=new Eu(3e4,6e4);function JT(){const t=yi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $U(t){return new Promise((e,n)=>{var a,l,u;function i(){JT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{JT(),n(gi(t,"network-request-failed"))},timeout:KU.get()})}if((l=(a=yi().gapi)==null?void 0:a.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((u=yi().gapi)!=null&&u.load)i();else{const f=Fk("iframefcb");return yi()[f]=()=>{gapi.load?i():n(gi(t,"network-request-failed"))},Jx(`${zk()}?onload=${f}`).catch(p=>n(p))}}).catch(e=>{throw vf=null,e})}let vf=null;function WU(t){return vf=vf||$U(t),vf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU=new Eu(5e3,15e3),XU="__/auth/iframe",JU="emulator/auth/iframe",ZU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tV(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?i_(e,JU):`https://${t.config.authDomain}/${XU}`,i={apiKey:e.apiKey,appName:t.name,v:ml},a=eV.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${du(i).slice(1)}`}async function nV(t){const e=await WU(t),n=yi().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:tV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZU,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=gi(t,"network-request-failed"),f=yi().setTimeout(()=>{l(u)},QU.get());function p(){yi().clearTimeout(f),a(i)}i.ping(p).then(p,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iV=500,sV=600,aV="_blank",oV="http://localhost";class ZT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lV(t,e,n,i=iV,a=sV){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p={...rV,width:i.toString(),height:a.toString(),top:l,left:u},m=gn().toLowerCase();n&&(f=qx(m)?aV:n),Gx(m)&&(e=e||oV,p.scrollbars="yes");const y=Object.entries(p).reduce((E,[w,x])=>`${E}${w}=${x},`,"");if(Ok(m)&&f!=="_self")return cV(e||"",f),new ZT(null);const _=window.open(e||"",f,y);Se(_,t,"popup-blocked");try{_.focus()}catch{}return new ZT(_)}function cV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV="__/auth/handler",dV="emulator/auth/handler",fV=encodeURIComponent("fac");async function eA(t,e,n,i,a,l){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ml,eventId:a};if(e instanceof tR){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",gO(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))u[y]=_}if(e instanceof Tu){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const p=await t._getAppCheckToken(),m=p?`#${fV}=${encodeURIComponent(p)}`:"";return`${hV(t)}?${du(f).slice(1)}${m}`}function hV({config:t}){return t.emulator?i_(t,dV):`https://${t.authDomain}/${uV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="webStorageSupport";class pV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lR,this._completeRedirectFn=VU,this._overrideRedirectResult=PU}async _openPopup(e,n,i,a){var u;Yi((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const l=await eA(e,n,i,Zg(),a);return lV(e,l,c_())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await eA(e,n,i,Zg(),a);return yU(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Yi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await nV(e),i=new BU(e);return n.register("authEvent",a=>(Se(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lg,{type:lg},a=>{var u;const l=(u=a==null?void 0:a[0])==null?void 0:u[lg];l!==void 0&&n(!!l),zr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Qx()||Hx()||a_()}}const mV=pV;var tA="@firebase/auth",nA="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _V(t){_i(new jr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=i.options;Se(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xx(t)},m=new Vk(i,a,l,p);return $k(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),_i(new jr("auth-internal",e=>{const n=Tl(e.getProvider("auth").getImmediate());return(i=>new gV(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),yr(tA,nA,yV(t)),yr(tA,nA,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV=300,vV=pS("authIdTokenMaxAge")||bV;let rA=null;const EV=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>vV)return;const a=n==null?void 0:n.token;rA!==a&&(rA=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function TV(t=by()){const e=Ya(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Kk(t,{popupRedirectResolver:mV,persistence:[IU,pU,lR]}),i=pS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=EV(l.toString());dU(n,u,()=>u(n.currentUser)),uU(n,f=>u(f))}}const a=fS("auth");return a&&Wk(n,`http://${a}`),n}function AV(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}jk({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=gi("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",AV().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_V("Browser");const wV={apiKey:"AIzaSyAPC-PciJOrOYTMt9fFLQup1SQ7n31QCro",authDomain:"benim-televizyonum-6791f.firebaseapp.com",projectId:"benim-televizyonum-6791f",storageBucket:"benim-televizyonum-6791f.firebasestorage.app",messagingSenderId:"360775517129",appId:"1:360775517129:web:a9db393cc0bca6058c5e18",measurementId:"G-4XP0D3C927"},d_=AS(wV);WM(d_);const An=bx(d_),f_=TV(d_),zo="blog_posts",Ua={getBlogPosts:async()=>(await Mx(ka(An,zo))).docs.map(n=>({id:n.id,...n.data()})).sort((n,i)=>{const a=n.order??999999,l=i.order??999999;return a-l}),addBlogPost:async t=>({id:(await jf(ka(An,zo),{...t,order:0})).id,...t,order:0}),updateBlogPost:async(t,e)=>{const n=hi(An,zo,t);await Uf(n,e)},deleteBlogPost:async t=>{const e=hi(An,zo,t);await Vf(e)},reorderBlogPosts:async t=>{const{writeBatch:e}=await tS(async()=>{const{writeBatch:i}=await Promise.resolve().then(()=>dk);return{writeBatch:i}},void 0),n=e(An);t.forEach((i,a)=>{const l=hi(An,zo,i.id);n.update(l,{order:a})}),await n.commit()},migrateStaticPosts:async t=>{for(const[e,n]of t.entries()){const i=hi(An,zo,n.id),{id:a,...l}=n;await Lx(i,{...l,order:e},{merge:!0})}}};var h_=eS();const SV=my(h_);function En(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var IV=typeof Symbol=="function"&&Symbol.observable||"@@observable",iA=IV,sA=()=>Math.random().toString(36).substring(7).split("").join("."),xV={INIT:`@@redux/INIT${sA()}`,REPLACE:`@@redux/REPLACE${sA()}`},aA=xV;function RV(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function mR(t,e,n){if(typeof t!="function")throw new Error(En(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(En(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(En(1));return n(mR)(t,e)}let i=t,a=e,l=new Map,u=l,f=0,p=!1;function m(){u===l&&(u=new Map,l.forEach((N,G)=>{u.set(G,N)}))}function y(){if(p)throw new Error(En(3));return a}function _(N){if(typeof N!="function")throw new Error(En(4));if(p)throw new Error(En(5));let G=!0;m();const B=f++;return u.set(B,N),function(){if(G){if(p)throw new Error(En(6));G=!1,m(),u.delete(B),l=null}}}function E(N){if(!RV(N))throw new Error(En(7));if(typeof N.type>"u")throw new Error(En(8));if(typeof N.type!="string")throw new Error(En(17));if(p)throw new Error(En(9));try{p=!0,a=i(a,N)}finally{p=!1}return(l=u).forEach(B=>{B()}),N}function w(N){if(typeof N!="function")throw new Error(En(10));i=N,E({type:aA.REPLACE})}function x(){const N=_;return{subscribe(G){if(typeof G!="object"||G===null)throw new Error(En(11));function B(){const Q=G;Q.next&&Q.next(y())}return B(),{unsubscribe:N(B)}},[iA](){return this}}}return E({type:aA.INIT}),{dispatch:E,subscribe:_,getState:y,replaceReducer:w,[iA]:x}}function oA(t,e){return function(...n){return e(t.apply(this,n))}}function lA(t,e){if(typeof t=="function")return oA(t,e);if(typeof t!="object"||t===null)throw new Error(En(16));const n={};for(const i in t){const a=t[i];typeof a=="function"&&(n[i]=oA(a,e))}return n}function gR(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function NV(...t){return e=>(n,i)=>{const a=e(n,i);let l=()=>{throw new Error(En(15))};const u={getState:a.getState,dispatch:(p,...m)=>l(p,...m)},f=t.map(p=>p(u));return l=gR(...f)(a.dispatch),{...a,dispatch:l}}}var cg={exports:{}},ug={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cA;function CV(){if(cA)return ug;cA=1;var t=rh();function e(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var n=typeof Object.is=="function"?Object.is:e,i=t.useSyncExternalStore,a=t.useRef,l=t.useEffect,u=t.useMemo,f=t.useDebugValue;return ug.useSyncExternalStoreWithSelector=function(p,m,y,_,E){var w=a(null);if(w.current===null){var x={hasValue:!1,value:null};w.current=x}else x=w.current;w=u(function(){function N(se){if(!G){if(G=!0,B=se,se=_(se),E!==void 0&&x.hasValue){var ae=x.value;if(E(ae,se))return F=ae}return F=se}if(ae=F,n(B,se))return ae;var C=_(se);return E!==void 0&&E(ae,C)?(B=se,ae):(B=se,F=C)}var G=!1,B,F,Q=y===void 0?null:y;return[function(){return N(m())},Q===null?void 0:function(){return N(Q())}]},[m,y,_,E]);var L=i(p,w[0],w[1]);return l(function(){x.hasValue=!0,x.value=L},[L]),f(L),L},ug}var uA;function DV(){return uA||(uA=1,cg.exports=CV()),cg.exports}DV();var OV=$.version.startsWith("19"),MV=Symbol.for(OV?"react.transitional.element":"react.element"),LV=Symbol.for("react.portal"),PV=Symbol.for("react.fragment"),kV=Symbol.for("react.strict_mode"),UV=Symbol.for("react.profiler"),VV=Symbol.for("react.consumer"),jV=Symbol.for("react.context"),yR=Symbol.for("react.forward_ref"),BV=Symbol.for("react.suspense"),zV=Symbol.for("react.suspense_list"),p_=Symbol.for("react.memo"),FV=Symbol.for("react.lazy"),GV=yR,HV=p_;function qV(t){if(typeof t=="object"&&t!==null){const{$$typeof:e}=t;switch(e){case MV:switch(t=t.type,t){case PV:case UV:case kV:case BV:case zV:return t;default:switch(t=t&&t.$$typeof,t){case jV:case yR:case FV:case p_:return t;case VV:return t;default:return e}}case LV:return e}}}function YV(t){return qV(t)===p_}function KV(t,e,n,i,{areStatesEqual:a,areOwnPropsEqual:l,areStatePropsEqual:u}){let f=!1,p,m,y,_,E;function w(B,F){return p=B,m=F,y=t(p,m),_=e(i,m),E=n(y,_,m),f=!0,E}function x(){return y=t(p,m),e.dependsOnOwnProps&&(_=e(i,m)),E=n(y,_,m),E}function L(){return t.dependsOnOwnProps&&(y=t(p,m)),e.dependsOnOwnProps&&(_=e(i,m)),E=n(y,_,m),E}function N(){const B=t(p,m),F=!u(B,y);return y=B,F&&(E=n(y,_,m)),E}function G(B,F){const Q=!l(F,m),se=!a(B,p,F,m);return p=B,m=F,Q&&se?x():Q?L():se?N():E}return function(F,Q){return f?G(F,Q):w(F,Q)}}function $V(t,{initMapStateToProps:e,initMapDispatchToProps:n,initMergeProps:i,...a}){const l=e(t,a),u=n(t,a),f=i(t,a);return KV(l,u,f,t,a)}function WV(t,e){const n={};for(const i in t){const a=t[i];typeof a=="function"&&(n[i]=(...l)=>e(a(...l)))}return n}function ny(t){return function(n){const i=t(n);function a(){return i}return a.dependsOnOwnProps=!1,a}}function dA(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function _R(t,e){return function(i,{displayName:a}){const l=function(f,p){return l.dependsOnOwnProps?l.mapToProps(f,p):l.mapToProps(f,void 0)};return l.dependsOnOwnProps=!0,l.mapToProps=function(f,p){l.mapToProps=t,l.dependsOnOwnProps=dA(t);let m=l(f,p);return typeof m=="function"&&(l.mapToProps=m,l.dependsOnOwnProps=dA(m),m=l(f,p)),m},l}}function m_(t,e){return(n,i)=>{throw new Error(`Invalid value of type ${typeof t} for ${e} argument when connecting component ${i.wrappedComponentName}.`)}}function QV(t){return t&&typeof t=="object"?ny(e=>WV(t,e)):t?typeof t=="function"?_R(t):m_(t,"mapDispatchToProps"):ny(e=>({dispatch:e}))}function XV(t){return t?typeof t=="function"?_R(t):m_(t,"mapStateToProps"):ny(()=>({}))}function JV(t,e,n){return{...n,...t,...e}}function ZV(t){return function(n,{displayName:i,areMergedPropsEqual:a}){let l=!1,u;return function(p,m,y){const _=t(p,m,y);return l?a(_,u)||(u=_):(l=!0,u=_),u}}}function ej(t){return t?typeof t=="function"?ZV(t):m_(t,"mergeProps"):()=>JV}function tj(t){t()}function nj(){let t=null,e=null;return{clear(){t=null,e=null},notify(){tj(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!i||t===null||(i=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var fA={notify(){},get:()=>[]};function bR(t,e){let n,i=fA,a=0,l=!1;function u(L){y();const N=i.subscribe(L);let G=!1;return()=>{G||(G=!0,N(),_())}}function f(){i.notify()}function p(){x.onStateChange&&x.onStateChange()}function m(){return l}function y(){a++,n||(n=e?e.addNestedSub(p):t.subscribe(p),i=nj())}function _(){a--,n&&a===0&&(n(),n=void 0,i.clear(),i=fA)}function E(){l||(l=!0,y())}function w(){l&&(l=!1,_())}const x={addNestedSub:u,notifyNestedSubs:f,handleChangeWrapper:p,isSubscribed:m,trySubscribe:E,tryUnsubscribe:w,getListeners:()=>i};return x}var rj=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ij=rj(),sj=()=>typeof navigator<"u"&&navigator.product==="ReactNative",aj=sj(),oj=()=>ij||aj?$.useLayoutEffect:$.useEffect,Yf=oj();function hA(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function dg(t,e){if(hA(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(e,n[a])||!hA(t[n[a]],e[n[a]]))return!1;return!0}var lj={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},cj={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},uj={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},vR={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},dj={[GV]:uj,[HV]:vR};function pA(t){return YV(t)?vR:dj[t.$$typeof]||lj}var fj=Object.defineProperty,hj=Object.getOwnPropertyNames,mA=Object.getOwnPropertySymbols,pj=Object.getOwnPropertyDescriptor,mj=Object.getPrototypeOf,gA=Object.prototype;function ry(t,e){if(typeof e!="string"){if(gA){const l=mj(e);l&&l!==gA&&ry(t,l)}let n=hj(e);mA&&(n=n.concat(mA(e)));const i=pA(t),a=pA(e);for(let l=0;l<n.length;++l){const u=n[l];if(!cj[u]&&!(a&&a[u])&&!(i&&i[u])){const f=pj(e,u);try{fj(t,u,f)}catch{}}}}return t}var fg=Symbol.for("react-redux-context"),hg=typeof globalThis<"u"?globalThis:{};function gj(){if(!$.createContext)return{};const t=hg[fg]??(hg[fg]=new Map);let e=t.get($.createContext);return e||(e=$.createContext(null),t.set($.createContext,e)),e}var ER=gj(),yj=[null,null];function _j(t,e,n){Yf(()=>t(...e),n)}function bj(t,e,n,i,a,l){t.current=i,n.current=!1,a.current&&(a.current=null,l())}function vj(t,e,n,i,a,l,u,f,p,m,y){if(!t)return()=>{};let _=!1,E=null;const w=()=>{if(_||!f.current)return;const L=e.getState();let N,G;try{N=i(L,a.current)}catch(B){G=B,E=B}G||(E=null),N===l.current?u.current||m():(l.current=N,p.current=N,u.current=!0,y())};return n.onStateChange=w,n.trySubscribe(),w(),()=>{if(_=!0,n.tryUnsubscribe(),n.onStateChange=null,E)throw E}}function Ej(t,e){return t===e}function Tj(t,e,n,{pure:i,areStatesEqual:a=Ej,areOwnPropsEqual:l=dg,areStatePropsEqual:u=dg,areMergedPropsEqual:f=dg,forwardRef:p=!1,context:m=ER}={}){const y=m,_=XV(t),E=QV(e),w=ej(n),x=!!t;return N=>{const G=N.displayName||N.name||"Component",B=`Connect(${G})`,F={shouldHandleStateChanges:x,displayName:B,wrappedComponentName:G,WrappedComponent:N,initMapStateToProps:_,initMapDispatchToProps:E,initMergeProps:w,areStatesEqual:a,areStatePropsEqual:u,areOwnPropsEqual:l,areMergedPropsEqual:f};function Q(C){const[R,D,U]=$.useMemo(()=>{const{reactReduxForwardedRef:bt,...qt}=C;return[C.context,bt,qt]},[C]),M=$.useMemo(()=>{let bt=y;return R!=null&&R.Consumer,bt},[R,y]),j=$.useContext(M),O=!!C.store&&!!C.store.getState&&!!C.store.dispatch,Pe=!!j&&!!j.store,Ve=O?C.store:j.store,q=Pe?j.getServerState:Ve.getState,ce=$.useMemo(()=>$V(Ve.dispatch,F),[Ve]),[ge,xe]=$.useMemo(()=>{if(!x)return yj;const bt=bR(Ve,O?void 0:j.subscription),qt=bt.notifyNestedSubs.bind(bt);return[bt,qt]},[Ve,O,j]),oe=$.useMemo(()=>O?j:{...j,subscription:ge},[O,j,ge]),k=$.useRef(void 0),Z=$.useRef(U),le=$.useRef(void 0),pe=$.useRef(!1),Te=$.useRef(!1),we=$.useRef(void 0);Yf(()=>(Te.current=!0,()=>{Te.current=!1}),[]);const Le=$.useMemo(()=>()=>le.current&&U===Z.current?le.current:ce(Ve.getState(),U),[Ve,U]),ht=$.useMemo(()=>qt=>ge?vj(x,Ve,ge,ce,Z,k,pe,Te,le,xe,qt):()=>{},[ge]);_j(bj,[Z,k,pe,U,le,xe]);let We;try{We=$.useSyncExternalStore(ht,Le,q?()=>ce(q(),U):Le)}catch(bt){throw we.current&&(bt.message+=`
The error may be correlated with this previous error:
${we.current.stack}

`),bt}Yf(()=>{we.current=void 0,le.current=void 0,k.current=We});const yn=$.useMemo(()=>$.createElement(N,{...We,ref:D}),[D,N,We]);return $.useMemo(()=>x?$.createElement(M.Provider,{value:oe},yn):yn,[M,yn,oe])}const ae=$.memo(Q);if(ae.WrappedComponent=N,ae.displayName=Q.displayName=B,p){const R=$.forwardRef(function(U,M){return $.createElement(ae,{...U,reactReduxForwardedRef:M})});return R.displayName=B,R.WrappedComponent=N,ry(R,N)}return ry(ae,N)}}var TR=Tj;function Aj(t){const{children:e,context:n,serverState:i,store:a}=t,l=$.useMemo(()=>{const p=bR(a);return{store:a,subscription:p,getServerState:i?()=>i:void 0}},[a,i]),u=$.useMemo(()=>a.getState(),[a]);Yf(()=>{const{subscription:p}=l;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),u!==a.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[l,u]);const f=n||ER;return $.createElement(f.Provider,{value:l},e)}var wj=Aj,Sj="Invariant failed";function Ij(t,e){throw new Error(Sj)}var Ur=function(e){var n=e.top,i=e.right,a=e.bottom,l=e.left,u=i-l,f=a-n,p={top:n,right:i,bottom:a,left:l,width:u,height:f,x:l,y:n,center:{x:(i+l)/2,y:(a+n)/2}};return p},g_=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},yA=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},xj=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},pg={top:0,right:0,bottom:0,left:0},y_=function(e){var n=e.borderBox,i=e.margin,a=i===void 0?pg:i,l=e.border,u=l===void 0?pg:l,f=e.padding,p=f===void 0?pg:f,m=Ur(g_(n,a)),y=Ur(yA(n,u)),_=Ur(yA(y,p));return{marginBox:m,borderBox:Ur(n),paddingBox:y,contentBox:_,margin:a,border:u,padding:p}},mr=function(e){var n=e.slice(0,-2),i=e.slice(-2);if(i!=="px")return 0;var a=Number(n);return isNaN(a)&&Ij(),a},Rj=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Kf=function(e,n){var i=e.borderBox,a=e.border,l=e.margin,u=e.padding,f=xj(i,n);return y_({borderBox:f,border:a,margin:l,padding:u})},$f=function(e,n){return n===void 0&&(n=Rj()),Kf(e,n)},AR=function(e,n){var i={top:mr(n.marginTop),right:mr(n.marginRight),bottom:mr(n.marginBottom),left:mr(n.marginLeft)},a={top:mr(n.paddingTop),right:mr(n.paddingRight),bottom:mr(n.paddingBottom),left:mr(n.paddingLeft)},l={top:mr(n.borderTopWidth),right:mr(n.borderRightWidth),bottom:mr(n.borderBottomWidth),left:mr(n.borderLeftWidth)};return y_({borderBox:e,margin:i,padding:a,border:l})},wR=function(e){var n=e.getBoundingClientRect(),i=window.getComputedStyle(e);return AR(n,i)},iu=function(e){var n=[],i=null,a=function(){for(var u=arguments.length,f=new Array(u),p=0;p<u;p++)f[p]=arguments[p];n=f,!i&&(i=requestAnimationFrame(function(){i=null,e.apply(void 0,n)}))};return a.cancel=function(){i&&(cancelAnimationFrame(i),i=null)},a};function Wf(){return Wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Wf.apply(null,arguments)}function SR(t,e){}SR.bind(null,"warn");SR.bind(null,"error");function Bs(){}function Nj(t,e){return{...t,...e}}function gr(t,e,n){const i=e.map(a=>{const l=Nj(n,a.options);return t.addEventListener(a.eventName,a.fn,l),function(){t.removeEventListener(a.eventName,a.fn,l)}});return function(){i.forEach(l=>{l()})}}const Cj="Invariant failed";class Qf extends Error{}Qf.prototype.toString=function(){return this.message};function ue(t,e){throw new Qf(Cj)}class Dj extends ct.Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=Bs,this.onWindowError=n=>{const i=this.getCallbacks();i.isDragging()&&i.tryAbort(),n.error instanceof Qf&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=gr(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(e instanceof Qf){this.setState({});return}throw e}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const Oj=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Xf=t=>t+1,Mj=t=>`
  You have lifted an item in position ${Xf(t.source.index)}
`,IR=(t,e)=>{const n=t.droppableId===e.droppableId,i=Xf(t.index),a=Xf(e.index);return n?`
      You have moved the item from position ${i}
      to position ${a}
    `:`
    You have moved the item from position ${i}
    in list ${t.droppableId}
    to list ${e.droppableId}
    in position ${a}
  `},xR=(t,e,n)=>e.droppableId===n.droppableId?`
      The item ${t}
      has been combined with ${n.draggableId}`:`
      The item ${t}
      in list ${e.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,Lj=t=>{const e=t.destination;if(e)return IR(t.source,e);const n=t.combine;return n?xR(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},_A=t=>`
  The item has returned to its starting position
  of ${Xf(t.index)}
`,Pj=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${_A(t.source)}
    `;const e=t.destination,n=t.combine;return e?`
      You have dropped the item.
      ${IR(t.source,e)}
    `:n?`
      You have dropped the item.
      ${xR(t.draggableId,t.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${_A(t.source)}
  `},Ef={dragHandleUsageInstructions:Oj,onDragStart:Mj,onDragUpdate:Lj,onDragEnd:Pj};function kj(t,e){return!!(t===e||Number.isNaN(t)&&Number.isNaN(e))}function RR(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!kj(t[n],e[n]))return!1;return!0}function Ye(t,e){const n=$.useState(()=>({inputs:e,result:t()}))[0],i=$.useRef(!0),a=$.useRef(n),u=i.current||!!(e&&a.current.inputs&&RR(e,a.current.inputs))?a.current:{inputs:e,result:t()};return $.useEffect(()=>{i.current=!1,a.current=u},[u]),u.result}function be(t,e){return Ye(()=>t,e)}const nn={x:0,y:0},un=(t,e)=>({x:t.x+e.x,y:t.y+e.y}),Qn=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),zs=(t,e)=>t.x===e.x&&t.y===e.y,wl=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),Ha=(t,e,n=0)=>t==="x"?{x:e,y:n}:{x:n,y:e},su=(t,e)=>Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2),bA=(t,e)=>Math.min(...e.map(n=>su(t,n))),NR=t=>e=>({x:t(e.x),y:t(e.y)});var Uj=(t,e)=>{const n=Ur({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n};const wu=(t,e)=>({top:t.top+e.y,left:t.left+e.x,bottom:t.bottom+e.y,right:t.right+e.x}),vA=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],Vj={top:0,right:0,bottom:0,left:0},jj=(t,e)=>e?wu(t,e.scroll.diff.displacement):t,Bj=(t,e,n)=>n&&n.increasedBy?{...t,[e.end]:t[e.end]+n.increasedBy[e.line]}:t,zj=(t,e)=>e&&e.shouldClipSubject?Uj(e.pageMarginBox,t):Ur(t);var dl=({page:t,withPlaceholder:e,axis:n,frame:i})=>{const a=jj(t.marginBox,i),l=Bj(a,n,e),u=zj(l,i);return{page:t,withPlaceholder:e,active:u}},__=(t,e)=>{t.frame||ue();const n=t.frame,i=Qn(e,n.scroll.initial),a=wl(i),l={...n,scroll:{initial:n.scroll.initial,current:e,diff:{value:i,displacement:a},max:n.scroll.max}},u=dl({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:l});return{...t,frame:l,subject:u}};function en(t,e=RR){let n=null;function i(...a){if(n&&n.lastThis===this&&e(a,n.lastArgs))return n.lastResult;const l=t.apply(this,a);return n={lastResult:l,lastArgs:a,lastThis:this},l}return i.clear=function(){n=null},i}const CR=en(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),DR=en(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),Lh=en(t=>Object.values(t)),Fj=en(t=>Object.values(t));var Sl=en((t,e)=>Fj(e).filter(i=>t===i.descriptor.droppableId).sort((i,a)=>i.descriptor.index-a.descriptor.index));function b_(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function Ph(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var kh=en((t,e)=>e.filter(n=>n.descriptor.id!==t.descriptor.id)),Gj=({isMovingForward:t,draggable:e,destination:n,insideDestination:i,previousImpact:a})=>{if(!n.isCombineEnabled||!b_(a))return null;function u(w){const x={type:"COMBINE",combine:{draggableId:w,droppableId:n.descriptor.id}};return{...a,at:x}}const f=a.displaced.all,p=f.length?f[0]:null;if(t)return p?u(p):null;const m=kh(e,i);if(!p){if(!m.length)return null;const w=m[m.length-1];return u(w.descriptor.id)}const y=m.findIndex(w=>w.descriptor.id===p);y===-1&&ue();const _=y-1;if(_<0)return null;const E=m[_];return u(E.descriptor.id)},Il=(t,e)=>t.descriptor.droppableId===e.descriptor.id;const OR={point:nn,value:0},au={invisible:{},visible:{},all:[]},Hj={displaced:au,displacedBy:OR,at:null};var br=(t,e)=>n=>t<=n&&n<=e,MR=t=>{const e=br(t.top,t.bottom),n=br(t.left,t.right);return i=>{if(e(i.top)&&e(i.bottom)&&n(i.left)&&n(i.right))return!0;const l=e(i.top)||e(i.bottom),u=n(i.left)||n(i.right);if(l&&u)return!0;const p=i.top<t.top&&i.bottom>t.bottom,m=i.left<t.left&&i.right>t.right;return p&&m?!0:p&&u||m&&l}},qj=t=>{const e=br(t.top,t.bottom),n=br(t.left,t.right);return i=>e(i.top)&&e(i.bottom)&&n(i.left)&&n(i.right)};const v_={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},LR={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var Yj=t=>e=>{const n=br(e.top,e.bottom),i=br(e.left,e.right);return a=>t===v_?n(a.top)&&n(a.bottom):i(a.left)&&i(a.right)};const Kj=(t,e)=>{const n=e.frame?e.frame.scroll.diff.displacement:nn;return wu(t,n)},$j=(t,e,n)=>e.subject.active?n(e.subject.active)(t):!1,Wj=(t,e,n)=>n(e)(t),E_=({target:t,destination:e,viewport:n,withDroppableDisplacement:i,isVisibleThroughFrameFn:a})=>{const l=i?Kj(t,e):t;return $j(l,e,a)&&Wj(l,n,a)},Qj=t=>E_({...t,isVisibleThroughFrameFn:MR}),PR=t=>E_({...t,isVisibleThroughFrameFn:qj}),Xj=t=>E_({...t,isVisibleThroughFrameFn:Yj(t.destination.axis)}),Jj=(t,e,n)=>{if(typeof n=="boolean")return n;if(!e)return!0;const{invisible:i,visible:a}=e;if(i[t])return!1;const l=a[t];return l?l.shouldAnimate:!0};function Zj(t,e){const n=t.page.marginBox,i={top:e.point.y,right:0,bottom:0,left:e.point.x};return Ur(g_(n,i))}function ou({afterDragging:t,destination:e,displacedBy:n,viewport:i,forceShouldAnimate:a,last:l}){return t.reduce(function(f,p){const m=Zj(p,n),y=p.descriptor.id;if(f.all.push(y),!Qj({target:m,destination:e,viewport:i,withDroppableDisplacement:!0}))return f.invisible[p.descriptor.id]=!0,f;const E=Jj(y,l,a),w={draggableId:y,shouldAnimate:E};return f.visible[y]=w,f},{all:[],visible:{},invisible:{}})}function e3(t,e){if(!t.length)return 0;const n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function EA({insideDestination:t,inHomeList:e,displacedBy:n,destination:i}){const a=e3(t,{inHomeList:e});return{displaced:au,displacedBy:n,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:a}}}}function Jf({draggable:t,insideDestination:e,destination:n,viewport:i,displacedBy:a,last:l,index:u,forceShouldAnimate:f}){const p=Il(t,n);if(u==null)return EA({insideDestination:e,inHomeList:p,displacedBy:a,destination:n});const m=e.find(x=>x.descriptor.index===u);if(!m)return EA({insideDestination:e,inHomeList:p,displacedBy:a,destination:n});const y=kh(t,e),_=e.indexOf(m),E=y.slice(_);return{displaced:ou({afterDragging:E,destination:n,displacedBy:a,last:l,viewport:i.frame,forceShouldAnimate:f}),displacedBy:a,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:u}}}}function Ws(t,e){return!!e.effected[t]}var t3=({isMovingForward:t,destination:e,draggables:n,combine:i,afterCritical:a})=>{if(!e.isCombineEnabled)return null;const l=i.draggableId,f=n[l].descriptor.index;return Ws(l,a)?t?f:f-1:t?f+1:f},n3=({isMovingForward:t,isInHomeList:e,insideDestination:n,location:i})=>{if(!n.length)return null;const a=i.index,l=t?a+1:a-1,u=n[0].descriptor.index,f=n[n.length-1].descriptor.index,p=e?f:f+1;return l<u||l>p?null:l},r3=({isMovingForward:t,isInHomeList:e,draggable:n,draggables:i,destination:a,insideDestination:l,previousImpact:u,viewport:f,afterCritical:p})=>{const m=u.at;if(m||ue(),m.type==="REORDER"){const _=n3({isMovingForward:t,isInHomeList:e,location:m.destination,insideDestination:l});return _==null?null:Jf({draggable:n,insideDestination:l,destination:a,viewport:f,last:u.displaced,displacedBy:u.displacedBy,index:_})}const y=t3({isMovingForward:t,destination:a,displaced:u.displaced,draggables:i,combine:m.combine,afterCritical:p});return y==null?null:Jf({draggable:n,insideDestination:l,destination:a,viewport:f,last:u.displaced,displacedBy:u.displacedBy,index:y})},i3=({displaced:t,afterCritical:e,combineWith:n,displacedBy:i})=>{const a=!!(t.visible[n]||t.invisible[n]);return Ws(n,e)?a?nn:wl(i.point):a?i.point:nn},s3=({afterCritical:t,impact:e,draggables:n})=>{const i=Ph(e);i||ue();const a=i.draggableId,l=n[a].page.borderBox.center,u=i3({displaced:e.displaced,afterCritical:t,combineWith:a,displacedBy:e.displacedBy});return un(l,u)};const kR=(t,e)=>e.margin[t.start]+e.borderBox[t.size]/2,a3=(t,e)=>e.margin[t.end]+e.borderBox[t.size]/2,T_=(t,e,n)=>e[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2,TA=({axis:t,moveRelativeTo:e,isMoving:n})=>Ha(t.line,e.marginBox[t.end]+kR(t,n),T_(t,e.marginBox,n)),AA=({axis:t,moveRelativeTo:e,isMoving:n})=>Ha(t.line,e.marginBox[t.start]-a3(t,n),T_(t,e.marginBox,n)),o3=({axis:t,moveInto:e,isMoving:n})=>Ha(t.line,e.contentBox[t.start]+kR(t,n),T_(t,e.contentBox,n));var l3=({impact:t,draggable:e,draggables:n,droppable:i,afterCritical:a})=>{const l=Sl(i.descriptor.id,n),u=e.page,f=i.axis;if(!l.length)return o3({axis:f,moveInto:i.page,isMoving:u});const{displaced:p,displacedBy:m}=t,y=p.all[0];if(y){const E=n[y];if(Ws(y,a))return AA({axis:f,moveRelativeTo:E.page,isMoving:u});const w=Kf(E.page,m.point);return AA({axis:f,moveRelativeTo:w,isMoving:u})}const _=l[l.length-1];if(_.descriptor.id===e.descriptor.id)return u.borderBox.center;if(Ws(_.descriptor.id,a)){const E=Kf(_.page,wl(a.displacedBy.point));return TA({axis:f,moveRelativeTo:E,isMoving:u})}return TA({axis:f,moveRelativeTo:_.page,isMoving:u})},iy=(t,e)=>{const n=t.frame;return n?un(e,n.scroll.diff.displacement):e};const c3=({impact:t,draggable:e,droppable:n,draggables:i,afterCritical:a})=>{const l=e.page.borderBox.center,u=t.at;return!n||!u?l:u.type==="REORDER"?l3({impact:t,draggable:e,draggables:i,droppable:n,afterCritical:a}):s3({impact:t,draggables:i,afterCritical:a})};var Uh=t=>{const e=c3(t),n=t.droppable;return n?iy(n,e):e},UR=(t,e)=>{const n=Qn(e,t.scroll.initial),i=wl(n);return{frame:Ur({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:i}}}};function wA(t,e){return t.map(n=>e[n])}function u3(t,e){for(let n=0;n<e.length;n++){const i=e[n].visible[t];if(i)return i}return null}var d3=({impact:t,viewport:e,destination:n,draggables:i,maxScrollChange:a})=>{const l=UR(e,un(e.scroll.current,a)),u=n.frame?__(n,un(n.frame.scroll.current,a)):n,f=t.displaced,p=ou({afterDragging:wA(f.all,i),destination:n,displacedBy:t.displacedBy,viewport:l.frame,last:f,forceShouldAnimate:!1}),m=ou({afterDragging:wA(f.all,i),destination:u,displacedBy:t.displacedBy,viewport:e.frame,last:f,forceShouldAnimate:!1}),y={},_={},E=[f,p,m];return f.all.forEach(x=>{const L=u3(x,E);if(L){_[x]=L;return}y[x]=!0}),{...t,displaced:{all:f.all,invisible:y,visible:_}}},f3=(t,e)=>un(t.scroll.diff.displacement,e),A_=({pageBorderBoxCenter:t,draggable:e,viewport:n})=>{const i=f3(n,t),a=Qn(i,e.page.borderBox.center);return un(e.client.borderBox.center,a)},VR=({draggable:t,destination:e,newPageBorderBoxCenter:n,viewport:i,withDroppableDisplacement:a,onlyOnMainAxis:l=!1})=>{const u=Qn(n,t.page.borderBox.center),p={target:wu(t.page.borderBox,u),destination:e,withDroppableDisplacement:a,viewport:i};return l?Xj(p):PR(p)},h3=({isMovingForward:t,draggable:e,destination:n,draggables:i,previousImpact:a,viewport:l,previousPageBorderBoxCenter:u,previousClientSelection:f,afterCritical:p})=>{if(!n.isEnabled)return null;const m=Sl(n.descriptor.id,i),y=Il(e,n),_=Gj({isMovingForward:t,draggable:e,destination:n,insideDestination:m,previousImpact:a})||r3({isMovingForward:t,isInHomeList:y,draggable:e,draggables:i,destination:n,insideDestination:m,previousImpact:a,viewport:l,afterCritical:p});if(!_)return null;const E=Uh({impact:_,draggable:e,droppable:n,draggables:i,afterCritical:p});if(VR({draggable:e,destination:n,newPageBorderBoxCenter:E,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:A_({pageBorderBoxCenter:E,draggable:e,viewport:l}),impact:_,scrollJumpRequest:null};const x=Qn(E,u),L=d3({impact:_,viewport:l,destination:n,draggables:i,maxScrollChange:x});return{clientSelection:f,impact:L,scrollJumpRequest:x}};const vn=t=>{const e=t.subject.active;return e||ue(),e};var p3=({isMovingForward:t,pageBorderBoxCenter:e,source:n,droppables:i,viewport:a})=>{const l=n.subject.active;if(!l)return null;const u=n.axis,f=br(l[u.start],l[u.end]),p=Lh(i).filter(y=>y!==n).filter(y=>y.isEnabled).filter(y=>!!y.subject.active).filter(y=>MR(a.frame)(vn(y))).filter(y=>{const _=vn(y);return t?l[u.crossAxisEnd]<_[u.crossAxisEnd]:_[u.crossAxisStart]<l[u.crossAxisStart]}).filter(y=>{const _=vn(y),E=br(_[u.start],_[u.end]);return f(_[u.start])||f(_[u.end])||E(l[u.start])||E(l[u.end])}).sort((y,_)=>{const E=vn(y)[u.crossAxisStart],w=vn(_)[u.crossAxisStart];return t?E-w:w-E}).filter((y,_,E)=>vn(y)[u.crossAxisStart]===vn(E[0])[u.crossAxisStart]);if(!p.length)return null;if(p.length===1)return p[0];const m=p.filter(y=>br(vn(y)[u.start],vn(y)[u.end])(e[u.line]));return m.length===1?m[0]:m.length>1?m.sort((y,_)=>vn(y)[u.start]-vn(_)[u.start])[0]:p.sort((y,_)=>{const E=bA(e,vA(vn(y))),w=bA(e,vA(vn(_)));return E!==w?E-w:vn(y)[u.start]-vn(_)[u.start]})[0]};const SA=(t,e)=>{const n=t.page.borderBox.center;return Ws(t.descriptor.id,e)?Qn(n,e.displacedBy.point):n},m3=(t,e)=>{const n=t.page.borderBox;return Ws(t.descriptor.id,e)?wu(n,wl(e.displacedBy.point)):n};var g3=({pageBorderBoxCenter:t,viewport:e,destination:n,insideDestination:i,afterCritical:a})=>i.filter(u=>PR({target:m3(u,a),destination:n,viewport:e.frame,withDroppableDisplacement:!0})).sort((u,f)=>{const p=su(t,iy(n,SA(u,a))),m=su(t,iy(n,SA(f,a)));return p<m?-1:m<p?1:u.descriptor.index-f.descriptor.index})[0]||null,Su=en(function(e,n){const i=n[e.line];return{value:i,point:Ha(e.line,i)}});const y3=(t,e,n)=>{const i=t.axis;if(t.descriptor.mode==="virtual")return Ha(i.line,e[i.line]);const a=t.subject.page.contentBox[i.size],p=Sl(t.descriptor.id,n).reduce((m,y)=>m+y.client.marginBox[i.size],0)+e[i.line]-a;return p<=0?null:Ha(i.line,p)},jR=(t,e)=>({...t,scroll:{...t.scroll,max:e}}),BR=(t,e,n)=>{const i=t.frame;Il(e,t)&&ue(),t.subject.withPlaceholder&&ue();const a=Su(t.axis,e.displaceBy).point,l=y3(t,a,n),u={placeholderSize:a,increasedBy:l,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!i){const y=dl({page:t.subject.page,withPlaceholder:u,axis:t.axis,frame:t.frame});return{...t,subject:y}}const f=l?un(i.scroll.max,l):i.scroll.max,p=jR(i,f),m=dl({page:t.subject.page,withPlaceholder:u,axis:t.axis,frame:p});return{...t,subject:m,frame:p}},_3=t=>{const e=t.subject.withPlaceholder;e||ue();const n=t.frame;if(!n){const u=dl({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:u}}const i=e.oldFrameMaxScroll;i||ue();const a=jR(n,i),l=dl({page:t.subject.page,axis:t.axis,frame:a,withPlaceholder:null});return{...t,subject:l,frame:a}};var b3=({previousPageBorderBoxCenter:t,moveRelativeTo:e,insideDestination:n,draggable:i,draggables:a,destination:l,viewport:u,afterCritical:f})=>{if(!e){if(n.length)return null;const _={displaced:au,displacedBy:OR,at:{type:"REORDER",destination:{droppableId:l.descriptor.id,index:0}}},E=Uh({impact:_,draggable:i,droppable:l,draggables:a,afterCritical:f}),w=Il(i,l)?l:BR(l,i,a);return VR({draggable:i,destination:w,newPageBorderBoxCenter:E,viewport:u.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?_:null}const p=t[l.axis.line]<=e.page.borderBox.center[l.axis.line],m=(()=>{const _=e.descriptor.index;return e.descriptor.id===i.descriptor.id||p?_:_+1})(),y=Su(l.axis,i.displaceBy);return Jf({draggable:i,insideDestination:n,destination:l,viewport:u,displacedBy:y,last:au,index:m})},v3=({isMovingForward:t,previousPageBorderBoxCenter:e,draggable:n,isOver:i,draggables:a,droppables:l,viewport:u,afterCritical:f})=>{const p=p3({isMovingForward:t,pageBorderBoxCenter:e,source:i,droppables:l,viewport:u});if(!p)return null;const m=Sl(p.descriptor.id,a),y=g3({pageBorderBoxCenter:e,viewport:u,destination:p,insideDestination:m,afterCritical:f}),_=b3({previousPageBorderBoxCenter:e,destination:p,draggable:n,draggables:a,moveRelativeTo:y,insideDestination:m,viewport:u,afterCritical:f});if(!_)return null;const E=Uh({impact:_,draggable:n,droppable:p,draggables:a,afterCritical:f});return{clientSelection:A_({pageBorderBoxCenter:E,draggable:n,viewport:u}),impact:_,scrollJumpRequest:null}},Jn=t=>{const e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null};const E3=(t,e)=>{const n=Jn(t);return n?e[n]:null};var T3=({state:t,type:e})=>{const n=E3(t.impact,t.dimensions.droppables),i=!!n,a=t.dimensions.droppables[t.critical.droppable.id],l=n||a,u=l.axis.direction,f=u==="vertical"&&(e==="MOVE_UP"||e==="MOVE_DOWN")||u==="horizontal"&&(e==="MOVE_LEFT"||e==="MOVE_RIGHT");if(f&&!i)return null;const p=e==="MOVE_DOWN"||e==="MOVE_RIGHT",m=t.dimensions.draggables[t.critical.draggable.id],y=t.current.page.borderBoxCenter,{draggables:_,droppables:E}=t.dimensions;return f?h3({isMovingForward:p,previousPageBorderBoxCenter:y,draggable:m,destination:l,draggables:_,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):v3({isMovingForward:p,previousPageBorderBoxCenter:y,draggable:m,isOver:l,draggables:_,droppables:E,viewport:t.viewport,afterCritical:t.afterCritical})};function Oa(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function zR(t){const e=br(t.top,t.bottom),n=br(t.left,t.right);return function(a){return e(a.y)&&n(a.x)}}function A3(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function w3({pageBorderBox:t,draggable:e,candidates:n}){const i=e.page.borderBox.center,a=n.map(l=>{const u=l.axis,f=Ha(l.axis.line,t.center[u.line],l.page.borderBox.center[u.crossAxisLine]);return{id:l.descriptor.id,distance:su(i,f)}}).sort((l,u)=>u.distance-l.distance);return a[0]?a[0].id:null}function S3({pageBorderBox:t,draggable:e,droppables:n}){const i=Lh(n).filter(a=>{if(!a.isEnabled)return!1;const l=a.subject.active;if(!l||!A3(t,l))return!1;if(zR(l)(t.center))return!0;const u=a.axis,f=l.center[u.crossAxisLine],p=t[u.crossAxisStart],m=t[u.crossAxisEnd],y=br(l[u.crossAxisStart],l[u.crossAxisEnd]),_=y(p),E=y(m);return!_&&!E?!0:_?p<f:m>f});return i.length?i.length===1?i[0].descriptor.id:w3({pageBorderBox:t,draggable:e,candidates:i}):null}const FR=(t,e)=>Ur(wu(t,e));var I3=(t,e)=>{const n=t.frame;return n?FR(e,n.scroll.diff.value):e};function GR({displaced:t,id:e}){return!!(t.visible[e]||t.invisible[e])}function x3({draggable:t,closest:e,inHomeList:n}){return e?n&&e.descriptor.index>t.descriptor.index?e.descriptor.index-1:e.descriptor.index:null}var R3=({pageBorderBoxWithDroppableScroll:t,draggable:e,destination:n,insideDestination:i,last:a,viewport:l,afterCritical:u})=>{const f=n.axis,p=Su(n.axis,e.displaceBy),m=p.value,y=t[f.start],_=t[f.end],w=kh(e,i).find(L=>{const N=L.descriptor.id,G=L.page.borderBox.center[f.line],B=Ws(N,u),F=GR({displaced:a,id:N});return B?F?_<=G:y<G-m:F?_<=G+m:y<G})||null,x=x3({draggable:e,closest:w,inHomeList:Il(e,n)});return Jf({draggable:e,insideDestination:i,destination:n,viewport:l,last:a,displacedBy:p,index:x})};const N3=4;var C3=({draggable:t,pageBorderBoxWithDroppableScroll:e,previousImpact:n,destination:i,insideDestination:a,afterCritical:l})=>{if(!i.isCombineEnabled)return null;const u=i.axis,f=Su(i.axis,t.displaceBy),p=f.value,m=e[u.start],y=e[u.end],E=kh(t,a).find(x=>{const L=x.descriptor.id,N=x.page.borderBox,B=N[u.size]/N3,F=Ws(L,l),Q=GR({displaced:n.displaced,id:L});return F?Q?y>N[u.start]+B&&y<N[u.end]-B:m>N[u.start]-p+B&&m<N[u.end]-p-B:Q?y>N[u.start]+p+B&&y<N[u.end]+p-B:m>N[u.start]+B&&m<N[u.end]-B});return E?{displacedBy:f,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:E.descriptor.id,droppableId:i.descriptor.id}}}:null},HR=({pageOffset:t,draggable:e,draggables:n,droppables:i,previousImpact:a,viewport:l,afterCritical:u})=>{const f=FR(e.page.borderBox,t),p=S3({pageBorderBox:f,draggable:e,droppables:i});if(!p)return Hj;const m=i[p],y=Sl(m.descriptor.id,n),_=I3(m,f);return C3({pageBorderBoxWithDroppableScroll:_,draggable:e,previousImpact:a,destination:m,insideDestination:y,afterCritical:u})||R3({pageBorderBoxWithDroppableScroll:_,draggable:e,destination:m,insideDestination:y,last:a.displaced,viewport:l,afterCritical:u})},w_=(t,e)=>({...t,[e.descriptor.id]:e});const D3=({previousImpact:t,impact:e,droppables:n})=>{const i=Jn(t),a=Jn(e);if(!i||i===a)return n;const l=n[i];if(!l.subject.withPlaceholder)return n;const u=_3(l);return w_(n,u)};var O3=({draggable:t,draggables:e,droppables:n,previousImpact:i,impact:a})=>{const l=D3({previousImpact:i,impact:a,droppables:n}),u=Jn(a);if(!u)return l;const f=n[u];if(Il(t,f)||f.subject.withPlaceholder)return l;const p=BR(f,t,e);return w_(l,p)},Yc=({state:t,clientSelection:e,dimensions:n,viewport:i,impact:a,scrollJumpRequest:l})=>{const u=i||t.viewport,f=n||t.dimensions,p=e||t.current.client.selection,m=Qn(p,t.initial.client.selection),y={offset:m,selection:p,borderBoxCenter:un(t.initial.client.borderBoxCenter,m)},_={selection:un(y.selection,u.scroll.current),borderBoxCenter:un(y.borderBoxCenter,u.scroll.current),offset:un(y.offset,u.scroll.diff.value)},E={client:y,page:_};if(t.phase==="COLLECTING")return{...t,dimensions:f,viewport:u,current:E};const w=f.draggables[t.critical.draggable.id],x=a||HR({pageOffset:_.offset,draggable:w,draggables:f.draggables,droppables:f.droppables,previousImpact:t.impact,viewport:u,afterCritical:t.afterCritical}),L=O3({draggable:w,impact:x,previousImpact:t.impact,draggables:f.draggables,droppables:f.droppables});return{...t,current:E,dimensions:{draggables:f.draggables,droppables:L},impact:x,viewport:u,scrollJumpRequest:l||null,forceShouldAnimate:l?!1:null}};function M3(t,e){return t.map(n=>e[n])}var qR=({impact:t,viewport:e,draggables:n,destination:i,forceShouldAnimate:a})=>{const l=t.displaced,u=M3(l.all,n),f=ou({afterDragging:u,destination:i,displacedBy:t.displacedBy,viewport:e.frame,forceShouldAnimate:a,last:l});return{...t,displaced:f}},YR=({impact:t,draggable:e,droppable:n,draggables:i,viewport:a,afterCritical:l})=>{const u=Uh({impact:t,draggable:e,draggables:i,droppable:n,afterCritical:l});return A_({pageBorderBoxCenter:u,draggable:e,viewport:a})},KR=({state:t,dimensions:e,viewport:n})=>{t.movementMode!=="SNAP"&&ue();const i=t.impact,a=n||t.viewport,l=e||t.dimensions,{draggables:u,droppables:f}=l,p=u[t.critical.draggable.id],m=Jn(i);m||ue();const y=f[m],_=qR({impact:i,viewport:a,destination:y,draggables:u}),E=YR({impact:_,draggable:p,droppable:y,draggables:u,viewport:a,afterCritical:t.afterCritical});return Yc({impact:_,clientSelection:E,state:t,dimensions:l,viewport:a})},L3=t=>({index:t.index,droppableId:t.droppableId}),$R=({draggable:t,home:e,draggables:n,viewport:i})=>{const a=Su(e.axis,t.displaceBy),l=Sl(e.descriptor.id,n),u=l.indexOf(t);u===-1&&ue();const f=l.slice(u+1),p=f.reduce((E,w)=>(E[w.descriptor.id]=!0,E),{}),m={inVirtualList:e.descriptor.mode==="virtual",displacedBy:a,effected:p};return{impact:{displaced:ou({afterDragging:f,destination:e,displacedBy:a,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:a,at:{type:"REORDER",destination:L3(t.descriptor)}},afterCritical:m}},P3=(t,e)=>({draggables:t.draggables,droppables:w_(t.droppables,e)}),k3=({draggable:t,offset:e,initialWindowScroll:n})=>{const i=Kf(t.client,e),a=$f(i,n);return{...t,placeholder:{...t.placeholder,client:i},client:i,page:a}},U3=t=>{const e=t.frame;return e||ue(),e},V3=({additions:t,updatedDroppables:e,viewport:n})=>{const i=n.scroll.diff.value;return t.map(a=>{const l=a.descriptor.droppableId,u=e[l],p=U3(u).scroll.diff.value,m=un(i,p);return k3({draggable:a,offset:m,initialWindowScroll:n.scroll.initial})})},j3=({state:t,published:e})=>{const n=e.modified.map(G=>{const B=t.dimensions.droppables[G.droppableId];return __(B,G.scroll)}),i={...t.dimensions.droppables,...CR(n)},a=DR(V3({additions:e.additions,updatedDroppables:i,viewport:t.viewport})),l={...t.dimensions.draggables,...a};e.removals.forEach(G=>{delete l[G]});const u={droppables:i,draggables:l},f=Jn(t.impact),p=f?u.droppables[f]:null,m=u.draggables[t.critical.draggable.id],y=u.droppables[t.critical.droppable.id],{impact:_,afterCritical:E}=$R({draggable:m,home:y,draggables:l,viewport:t.viewport}),w=p&&p.isCombineEnabled?t.impact:_,x=HR({pageOffset:t.current.page.offset,draggable:u.draggables[t.critical.draggable.id],draggables:u.draggables,droppables:u.droppables,previousImpact:w,viewport:t.viewport,afterCritical:E}),L={...t,phase:"DRAGGING",impact:x,onLiftImpact:_,dimensions:u,afterCritical:E,forceShouldAnimate:!1};return t.phase==="COLLECTING"?L:{...L,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const sy=t=>t.movementMode==="SNAP",mg=(t,e,n)=>{const i=P3(t.dimensions,e);return!sy(t)||n?Yc({state:t,dimensions:i}):KR({state:t,dimensions:i})};function gg(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const IA={phase:"IDLE",completed:null,shouldFlush:!1};var B3=(t=IA,e)=>{if(e.type==="FLUSH")return{...IA,shouldFlush:!0};if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&ue();const{critical:n,clientSelection:i,viewport:a,dimensions:l,movementMode:u}=e.payload,f=l.draggables[n.draggable.id],p=l.droppables[n.droppable.id],m={selection:i,borderBoxCenter:f.client.borderBox.center,offset:nn},y={client:m,page:{selection:un(m.selection,a.scroll.initial),borderBoxCenter:un(m.selection,a.scroll.initial),offset:un(m.selection,a.scroll.diff.value)}},_=Lh(l.droppables).every(L=>!L.isFixedOnPage),{impact:E,afterCritical:w}=$R({draggable:f,home:p,draggables:l.draggables,viewport:a});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:u,dimensions:l,initial:y,current:y,isWindowScrollAllowed:_,impact:E,afterCritical:w,onLiftImpact:E,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null}}if(e.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&ue(),{...t,phase:"COLLECTING"});if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||ue(),j3({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;Oa(t)||ue();const{client:n}=e.payload;return zs(n,t.current.client.selection)?t:Yc({state:t,clientSelection:n,impact:sy(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return gg(t);Oa(t)||ue();const{id:n,newScroll:i}=e.payload,a=t.dimensions.droppables[n];if(!a)return t;const l=__(a,i);return mg(t,l,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;Oa(t)||ue();const{id:n,isEnabled:i}=e.payload,a=t.dimensions.droppables[n];a||ue(),a.isEnabled===i&&ue();const l={...a,isEnabled:i};return mg(t,l,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;Oa(t)||ue();const{id:n,isCombineEnabled:i}=e.payload,a=t.dimensions.droppables[n];a||ue(),a.isCombineEnabled===i&&ue();const l={...a,isCombineEnabled:i};return mg(t,l,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;Oa(t)||ue(),t.isWindowScrollAllowed||ue();const n=e.payload.newScroll;if(zs(t.viewport.scroll.current,n))return gg(t);const i=UR(t.viewport,n);return sy(t)?KR({state:t,viewport:i}):Yc({state:t,viewport:i})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Oa(t))return t;const n=e.payload.maxScroll;if(zs(n,t.viewport.scroll.max))return t;const i={...t.viewport,scroll:{...t.viewport.scroll,max:n}};return{...t,viewport:i}}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&ue();const n=T3({state:t,type:e.type});return n?Yc({state:t,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){const n=e.payload.reason;return t.phase!=="COLLECTING"&&ue(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(e.type==="DROP_ANIMATE"){const{completed:n,dropDuration:i,newHomeClientOffset:a}=e.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||ue(),{phase:"DROP_ANIMATING",completed:n,dropDuration:i,newHomeClientOffset:a,dimensions:t.dimensions}}if(e.type==="DROP_COMPLETE"){const{completed:n}=e.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return t};function Ze(t,e){return t instanceof Object&&"type"in t&&t.type===e}const z3=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),F3=t=>({type:"LIFT",payload:t}),G3=t=>({type:"INITIAL_PUBLISH",payload:t}),H3=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),q3=()=>({type:"COLLECTION_STARTING",payload:null}),Y3=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),K3=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),$3=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),WR=t=>({type:"MOVE",payload:t}),W3=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),Q3=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),X3=()=>({type:"MOVE_UP",payload:null}),J3=()=>({type:"MOVE_DOWN",payload:null}),Z3=()=>({type:"MOVE_RIGHT",payload:null}),e6=()=>({type:"MOVE_LEFT",payload:null}),S_=()=>({type:"FLUSH",payload:null}),t6=t=>({type:"DROP_ANIMATE",payload:t}),I_=t=>({type:"DROP_COMPLETE",payload:t}),QR=t=>({type:"DROP",payload:t}),n6=t=>({type:"DROP_PENDING",payload:t}),XR=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var r6=t=>({getState:e,dispatch:n})=>i=>a=>{if(!Ze(a,"LIFT")){i(a);return}const{id:l,clientSelection:u,movementMode:f}=a.payload,p=e();p.phase==="DROP_ANIMATING"&&n(I_({completed:p.completed})),e().phase!=="IDLE"&&ue(),n(S_()),n(z3({draggableId:l,movementMode:f}));const y={draggableId:l,scrollOptions:{shouldPublishImmediately:f==="SNAP"}},{critical:_,dimensions:E,viewport:w}=t.startPublishing(y);n(G3({critical:_,dimensions:E,clientSelection:u,movementMode:f,viewport:w}))},i6=t=>()=>e=>n=>{Ze(n,"INITIAL_PUBLISH")&&t.dragging(),Ze(n,"DROP_ANIMATE")&&t.dropping(n.payload.completed.result.reason),(Ze(n,"FLUSH")||Ze(n,"DROP_COMPLETE"))&&t.resting(),e(n)};const x_={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},lu={opacity:{drop:0,combining:.7},scale:{drop:.75}},JR={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Ca=`${JR.outOfTheWay}s ${x_.outOfTheWay}`,Kc={fluid:`opacity ${Ca}`,snap:`transform ${Ca}, opacity ${Ca}`,drop:t=>{const e=`${t}s ${x_.drop}`;return`transform ${e}, opacity ${e}`},outOfTheWay:`transform ${Ca}`,placeholder:`height ${Ca}, width ${Ca}, margin ${Ca}`},xA=t=>zs(t,nn)?void 0:`translate(${t.x}px, ${t.y}px)`,ay={moveTo:xA,drop:(t,e)=>{const n=xA(t);if(n)return e?`${n} scale(${lu.scale.drop})`:n}},{minDropTime:oy,maxDropTime:ZR}=JR,s6=ZR-oy,RA=1500,a6=.6;var o6=({current:t,destination:e,reason:n})=>{const i=su(t,e);if(i<=0)return oy;if(i>=RA)return ZR;const a=i/RA,l=oy+s6*a,u=n==="CANCEL"?l*a6:l;return Number(u.toFixed(2))},l6=({impact:t,draggable:e,dimensions:n,viewport:i,afterCritical:a})=>{const{draggables:l,droppables:u}=n,f=Jn(t),p=f?u[f]:null,m=u[e.descriptor.droppableId],y=YR({impact:t,draggable:e,draggables:l,afterCritical:a,droppable:p||m,viewport:i});return Qn(y,e.client.borderBox.center)},c6=({draggables:t,reason:e,lastImpact:n,home:i,viewport:a,onLiftImpact:l})=>!n.at||e!=="DROP"?{impact:qR({draggables:t,impact:l,destination:i,viewport:a,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:au},didDropInsideDroppable:!0};const u6=({getState:t,dispatch:e})=>n=>i=>{if(!Ze(i,"DROP")){n(i);return}const a=t(),l=i.payload.reason;if(a.phase==="COLLECTING"){e(n6({reason:l}));return}if(a.phase==="IDLE")return;a.phase==="DROP_PENDING"&&a.isWaiting&&ue(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||ue();const f=a.critical,p=a.dimensions,m=p.draggables[a.critical.draggable.id],{impact:y,didDropInsideDroppable:_}=c6({reason:l,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),E=_?b_(y):null,w=_?Ph(y):null,x={index:f.draggable.index,droppableId:f.droppable.id},L={draggableId:m.descriptor.id,type:m.descriptor.type,source:x,reason:l,mode:a.movementMode,destination:E,combine:w},N=l6({impact:y,draggable:m,dimensions:p,viewport:a.viewport,afterCritical:a.afterCritical}),G={critical:a.critical,afterCritical:a.afterCritical,result:L,impact:y};if(!(!zs(a.current.client.offset,N)||!!L.combine)){e(I_({completed:G}));return}const F=o6({current:a.current.client.offset,destination:N,reason:l});e(t6({newHomeClientOffset:N,dropDuration:F,completed:G}))};var eN=()=>({x:window.pageXOffset,y:window.pageYOffset});function d6(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:e=>{e.target!==window&&e.target!==window.document||t()}}}function f6({onWindowScroll:t}){function e(){t(eN())}const n=iu(e),i=d6(n);let a=Bs;function l(){return a!==Bs}function u(){l()&&ue(),a=gr(window,[i])}function f(){l()||ue(),n.cancel(),a(),a=Bs}return{start:u,stop:f,isActive:l}}const h6=t=>Ze(t,"DROP_COMPLETE")||Ze(t,"DROP_ANIMATE")||Ze(t,"FLUSH"),p6=t=>{const e=f6({onWindowScroll:n=>{t.dispatch(W3({newScroll:n}))}});return n=>i=>{!e.isActive()&&Ze(i,"INITIAL_PUBLISH")&&e.start(),e.isActive()&&h6(i)&&e.stop(),n(i)}};var m6=t=>{let e=!1,n=!1;const i=setTimeout(()=>{n=!0}),a=l=>{e||n||(e=!0,t(l),clearTimeout(i))};return a.wasCalled=()=>e,a},g6=()=>{const t=[],e=a=>{const l=t.findIndex(f=>f.timerId===a);l===-1&&ue();const[u]=t.splice(l,1);u.callback()};return{add:a=>{const l=setTimeout(()=>e(l)),u={timerId:l,callback:a};t.push(u)},flush:()=>{if(!t.length)return;const a=[...t];t.length=0,a.forEach(l=>{clearTimeout(l.timerId),l.callback()})}}};const y6=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.droppableId===e.droppableId&&t.index===e.index,_6=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.draggableId===e.draggableId&&t.droppableId===e.droppableId,b6=(t,e)=>{if(t===e)return!0;const n=t.draggable.id===e.draggable.id&&t.draggable.droppableId===e.draggable.droppableId&&t.draggable.type===e.draggable.type&&t.draggable.index===e.draggable.index,i=t.droppable.id===e.droppable.id&&t.droppable.type===e.droppable.type;return n&&i},Nc=(t,e)=>{e()},rf=(t,e)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:e});function yg(t,e,n,i){if(!t){n(i(e));return}const a=m6(n);t(e,{announce:a}),a.wasCalled()||n(i(e))}var v6=(t,e)=>{const n=g6();let i=null;const a=(_,E)=>{i&&ue(),Nc("onBeforeCapture",()=>{const w=t().onBeforeCapture;w&&w({draggableId:_,mode:E})})},l=(_,E)=>{i&&ue(),Nc("onBeforeDragStart",()=>{const w=t().onBeforeDragStart;w&&w(rf(_,E))})},u=(_,E)=>{i&&ue();const w=rf(_,E);i={mode:E,lastCritical:_,lastLocation:w.source,lastCombine:null},n.add(()=>{Nc("onDragStart",()=>yg(t().onDragStart,w,e,Ef.onDragStart))})},f=(_,E)=>{const w=b_(E),x=Ph(E);i||ue();const L=!b6(_,i.lastCritical);L&&(i.lastCritical=_);const N=!y6(i.lastLocation,w);N&&(i.lastLocation=w);const G=!_6(i.lastCombine,x);if(G&&(i.lastCombine=x),!L&&!N&&!G)return;const B={...rf(_,i.mode),combine:x,destination:w};n.add(()=>{Nc("onDragUpdate",()=>yg(t().onDragUpdate,B,e,Ef.onDragUpdate))})},p=()=>{i||ue(),n.flush()},m=_=>{i||ue(),i=null,Nc("onDragEnd",()=>yg(t().onDragEnd,_,e,Ef.onDragEnd))};return{beforeCapture:a,beforeStart:l,start:u,update:f,flush:p,drop:m,abort:()=>{if(!i)return;const _={...rf(i.lastCritical,i.mode),combine:null,destination:null,reason:"CANCEL"};m(_)}}},E6=(t,e)=>{const n=v6(t,e);return i=>a=>l=>{if(Ze(l,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(l.payload.draggableId,l.payload.movementMode);return}if(Ze(l,"INITIAL_PUBLISH")){const f=l.payload.critical;n.beforeStart(f,l.payload.movementMode),a(l),n.start(f,l.payload.movementMode);return}if(Ze(l,"DROP_COMPLETE")){const f=l.payload.completed.result;n.flush(),a(l),n.drop(f);return}if(a(l),Ze(l,"FLUSH")){n.abort();return}const u=i.getState();u.phase==="DRAGGING"&&n.update(u.critical,u.impact)}};const T6=t=>e=>n=>{if(!Ze(n,"DROP_ANIMATION_FINISHED")){e(n);return}const i=t.getState();i.phase!=="DROP_ANIMATING"&&ue(),t.dispatch(I_({completed:i.completed}))},A6=t=>{let e=null,n=null;function i(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return a=>l=>{if((Ze(l,"FLUSH")||Ze(l,"DROP_COMPLETE")||Ze(l,"DROP_ANIMATION_FINISHED"))&&i(),a(l),!Ze(l,"DROP_ANIMATE"))return;const u={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(XR())}};n=requestAnimationFrame(()=>{n=null,e=gr(window,[u])})}};var w6=t=>()=>e=>n=>{(Ze(n,"DROP_COMPLETE")||Ze(n,"FLUSH")||Ze(n,"DROP_ANIMATE"))&&t.stopPublishing(),e(n)},S6=t=>{let e=!1;return()=>n=>i=>{if(Ze(i,"INITIAL_PUBLISH")){e=!0,t.tryRecordFocus(i.payload.critical.draggable.id),n(i),t.tryRestoreFocusRecorded();return}if(n(i),!!e){if(Ze(i,"FLUSH")){e=!1,t.tryRestoreFocusRecorded();return}if(Ze(i,"DROP_COMPLETE")){e=!1;const a=i.payload.completed.result;a.combine&&t.tryShiftRecord(a.draggableId,a.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const I6=t=>Ze(t,"DROP_COMPLETE")||Ze(t,"DROP_ANIMATE")||Ze(t,"FLUSH");var x6=t=>e=>n=>i=>{if(I6(i)){t.stop(),n(i);return}if(Ze(i,"INITIAL_PUBLISH")){n(i);const a=e.getState();a.phase!=="DRAGGING"&&ue(),t.start(a);return}n(i),t.scroll(e.getState())};const R6=t=>e=>n=>{if(e(n),!Ze(n,"PUBLISH_WHILE_DRAGGING"))return;const i=t.getState();i.phase==="DROP_PENDING"&&(i.isWaiting||t.dispatch(QR({reason:i.reason})))},N6=gR;var C6=({dimensionMarshal:t,focusMarshal:e,styleMarshal:n,getResponders:i,announce:a,autoScroller:l})=>mR(B3,N6(NV(i6(n),w6(t),r6(t),u6,T6,A6,R6,x6(l),p6,S6(e),E6(i,a))));const _g=()=>({additions:{},removals:{},modified:{}});function D6({registry:t,callbacks:e}){let n=_g(),i=null;const a=()=>{i||(e.collectionStarting(),i=requestAnimationFrame(()=>{i=null;const{additions:p,removals:m,modified:y}=n,_=Object.keys(p).map(x=>t.draggable.getById(x).getDimension(nn)).sort((x,L)=>x.descriptor.index-L.descriptor.index),E=Object.keys(y).map(x=>{const N=t.droppable.getById(x).callbacks.getScrollWhileDragging();return{droppableId:x,scroll:N}}),w={additions:_,removals:Object.keys(m),modified:E};n=_g(),e.publish(w)}))};return{add:p=>{const m=p.descriptor.id;n.additions[m]=p,n.modified[p.descriptor.droppableId]=!0,n.removals[m]&&delete n.removals[m],a()},remove:p=>{const m=p.descriptor;n.removals[m.id]=!0,n.modified[m.droppableId]=!0,n.additions[m.id]&&delete n.additions[m.id],a()},stop:()=>{i&&(cancelAnimationFrame(i),i=null,n=_g())}}}var tN=({scrollHeight:t,scrollWidth:e,height:n,width:i})=>{const a=Qn({x:e,y:t},{x:i,y:n});return{x:Math.max(0,a.x),y:Math.max(0,a.y)}},nN=()=>{const t=document.documentElement;return t||ue(),t},rN=()=>{const t=nN();return tN({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},O6=()=>{const t=eN(),e=rN(),n=t.y,i=t.x,a=nN(),l=a.clientWidth,u=a.clientHeight,f=i+l,p=n+u;return{frame:Ur({top:n,left:i,right:f,bottom:p}),scroll:{initial:t,current:t,max:e,diff:{value:nn,displacement:nn}}}},M6=({critical:t,scrollOptions:e,registry:n})=>{const i=O6(),a=i.scroll.current,l=t.droppable,u=n.droppable.getAllByType(l.type).map(y=>y.callbacks.getDimensionAndWatchScroll(a,e)),f=n.draggable.getAllByType(t.draggable.type).map(y=>y.getDimension(a));return{dimensions:{draggables:DR(f),droppables:CR(u)},critical:t,viewport:i}};function NA(t,e,n){return!(n.descriptor.id===e.id||n.descriptor.type!==e.type||t.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var L6=(t,e)=>{let n=null;const i=D6({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),a=(E,w)=>{t.droppable.exists(E)||ue(),n&&e.updateDroppableIsEnabled({id:E,isEnabled:w})},l=(E,w)=>{n&&(t.droppable.exists(E)||ue(),e.updateDroppableIsCombineEnabled({id:E,isCombineEnabled:w}))},u=(E,w)=>{n&&(t.droppable.exists(E)||ue(),e.updateDroppableScroll({id:E,newScroll:w}))},f=(E,w)=>{n&&t.droppable.getById(E).callbacks.scroll(w)},p=()=>{if(!n)return;i.stop();const E=n.critical.droppable;t.droppable.getAllByType(E.type).forEach(w=>w.callbacks.dragStopped()),n.unsubscribe(),n=null},m=E=>{n||ue();const w=n.critical.draggable;E.type==="ADDITION"&&NA(t,w,E.value)&&i.add(E.value),E.type==="REMOVAL"&&NA(t,w,E.value)&&i.remove(E.value)};return{updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:l,scrollDroppable:f,updateDroppableScroll:u,startPublishing:E=>{n&&ue();const w=t.draggable.getById(E.draggableId),x=t.droppable.getById(w.descriptor.droppableId),L={draggable:w.descriptor,droppable:x.descriptor},N=t.subscribe(m);return n={critical:L,unsubscribe:N},M6({critical:L,registry:t,scrollOptions:E.scrollOptions})},stopPublishing:p}},iN=(t,e)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP",P6=t=>{window.scrollBy(t.x,t.y)};const k6=en(t=>Lh(t).filter(e=>!(!e.isEnabled||!e.frame))),U6=(t,e)=>k6(e).find(i=>(i.frame||ue(),zR(i.frame.pageMarginBox)(t)))||null;var V6=({center:t,destination:e,droppables:n})=>{if(e){const a=n[e];return a.frame?a:null}return U6(t,n)};const cu={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var j6=(t,e,n=()=>cu)=>{const i=n(),a=t[e.size]*i.startFromPercentage,l=t[e.size]*i.maxScrollAtPercentage;return{startScrollingFrom:a,maxScrollValueAt:l}},sN=({startOfRange:t,endOfRange:e,current:n})=>{const i=e-t;return i===0?0:(n-t)/i},R_=1,B6=(t,e,n=()=>cu)=>{const i=n();if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return i.maxPixelScroll;if(t===e.startScrollingFrom)return R_;const l=1-sN({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),u=i.maxPixelScroll*i.ease(l);return Math.ceil(u)},z6=(t,e,n)=>{const i=n(),a=i.durationDampening.accelerateAt,l=i.durationDampening.stopDampeningAt,u=e,f=l,m=Date.now()-u;if(m>=l)return t;if(m<a)return R_;const y=sN({startOfRange:a,endOfRange:f,current:m}),_=t*i.ease(y);return Math.ceil(_)},CA=({distanceToEdge:t,thresholds:e,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const l=B6(t,e,a);return l===0?0:i?Math.max(z6(l,n,a),R_):l},DA=({container:t,distanceToEdges:e,dragStartTime:n,axis:i,shouldUseTimeDampening:a,getAutoScrollerOptions:l})=>{const u=j6(t,i,l);return e[i.end]<e[i.start]?CA({distanceToEdge:e[i.end],thresholds:u,dragStartTime:n,shouldUseTimeDampening:a,getAutoScrollerOptions:l}):-1*CA({distanceToEdge:e[i.start],thresholds:u,dragStartTime:n,shouldUseTimeDampening:a,getAutoScrollerOptions:l})},F6=({container:t,subject:e,proposedScroll:n})=>{const i=e.height>t.height,a=e.width>t.width;return!a&&!i?n:a&&i?null:{x:a?0:n.x,y:i?0:n.y}};const G6=NR(t=>t===0?0:t);var aN=({dragStartTime:t,container:e,subject:n,center:i,shouldUseTimeDampening:a,getAutoScrollerOptions:l})=>{const u={top:i.y-e.top,right:e.right-i.x,bottom:e.bottom-i.y,left:i.x-e.left},f=DA({container:e,distanceToEdges:u,dragStartTime:t,axis:v_,shouldUseTimeDampening:a,getAutoScrollerOptions:l}),p=DA({container:e,distanceToEdges:u,dragStartTime:t,axis:LR,shouldUseTimeDampening:a,getAutoScrollerOptions:l}),m=G6({x:p,y:f});if(zs(m,nn))return null;const y=F6({container:e,subject:n,proposedScroll:m});return y?zs(y,nn)?null:y:null};const H6=NR(t=>t===0?0:t>0?1:-1),N_=(()=>{const t=(e,n)=>e<0?e:e>n?e-n:0;return({current:e,max:n,change:i})=>{const a=un(e,i),l={x:t(a.x,n.x),y:t(a.y,n.y)};return zs(l,nn)?null:l}})(),oN=({max:t,current:e,change:n})=>{const i={x:Math.max(e.x,t.x),y:Math.max(e.y,t.y)},a=H6(n),l=N_({max:i,current:e,change:a});return!l||a.x!==0&&l.x===0||a.y!==0&&l.y===0},C_=(t,e)=>oN({current:t.scroll.current,max:t.scroll.max,change:e}),q6=(t,e)=>{if(!C_(t,e))return null;const n=t.scroll.max,i=t.scroll.current;return N_({current:i,max:n,change:e})},D_=(t,e)=>{const n=t.frame;return n?oN({current:n.scroll.current,max:n.scroll.max,change:e}):!1},Y6=(t,e)=>{const n=t.frame;return!n||!D_(t,e)?null:N_({current:n.scroll.current,max:n.scroll.max,change:e})};var K6=({viewport:t,subject:e,center:n,dragStartTime:i,shouldUseTimeDampening:a,getAutoScrollerOptions:l})=>{const u=aN({dragStartTime:i,container:t.frame,subject:e,center:n,shouldUseTimeDampening:a,getAutoScrollerOptions:l});return u&&C_(t,u)?u:null},$6=({droppable:t,subject:e,center:n,dragStartTime:i,shouldUseTimeDampening:a,getAutoScrollerOptions:l})=>{const u=t.frame;if(!u)return null;const f=aN({dragStartTime:i,container:u.pageMarginBox,subject:e,center:n,shouldUseTimeDampening:a,getAutoScrollerOptions:l});return f&&D_(t,f)?f:null},OA=({state:t,dragStartTime:e,shouldUseTimeDampening:n,scrollWindow:i,scrollDroppable:a,getAutoScrollerOptions:l})=>{const u=t.current.page.borderBoxCenter,p=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const _=t.viewport,E=K6({dragStartTime:e,viewport:_,subject:p,center:u,shouldUseTimeDampening:n,getAutoScrollerOptions:l});if(E){i(E);return}}const m=V6({center:u,destination:Jn(t.impact),droppables:t.dimensions.droppables});if(!m)return;const y=$6({dragStartTime:e,droppable:m,subject:p,center:u,shouldUseTimeDampening:n,getAutoScrollerOptions:l});y&&a(m.descriptor.id,y)},W6=({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:n=()=>cu})=>{const i=iu(t),a=iu(e);let l=null;const u=m=>{l||ue();const{shouldUseTimeDampening:y,dragStartTime:_}=l;OA({state:m,scrollWindow:i,scrollDroppable:a,dragStartTime:_,shouldUseTimeDampening:y,getAutoScrollerOptions:n})};return{start:m=>{l&&ue();const y=Date.now();let _=!1;const E=()=>{_=!0};OA({state:m,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:E,scrollDroppable:E,getAutoScrollerOptions:n}),l={dragStartTime:y,shouldUseTimeDampening:_},_&&u(m)},stop:()=>{l&&(i.cancel(),a.cancel(),l=null)},scroll:u}},Q6=({move:t,scrollDroppable:e,scrollWindow:n})=>{const i=(f,p)=>{const m=un(f.current.client.selection,p);t({client:m})},a=(f,p)=>{if(!D_(f,p))return p;const m=Y6(f,p);if(!m)return e(f.descriptor.id,p),null;const y=Qn(p,m);return e(f.descriptor.id,y),Qn(p,y)},l=(f,p,m)=>{if(!f||!C_(p,m))return m;const y=q6(p,m);if(!y)return n(m),null;const _=Qn(m,y);return n(_),Qn(m,_)};return f=>{const p=f.scrollJumpRequest;if(!p)return;const m=Jn(f.impact);m||ue();const y=a(f.dimensions.droppables[m],p);if(!y)return;const _=f.viewport,E=l(f.isWindowScrollAllowed,_,y);E&&i(f,E)}},X6=({scrollDroppable:t,scrollWindow:e,move:n,getAutoScrollerOptions:i})=>{const a=W6({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:i}),l=Q6({move:n,scrollWindow:e,scrollDroppable:t});return{scroll:p=>{if(!(i().disabled||p.phase!=="DRAGGING")){if(p.movementMode==="FLUID"){a.scroll(p);return}p.scrollJumpRequest&&l(p)}},start:a.start,stop:a.stop}};const fl="data-rfd",hl=(()=>{const t=`${fl}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),ly=(()=>{const t=`${fl}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),J6=(()=>{const t=`${fl}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),MA={contextId:`${fl}-scroll-container-context-id`},Z6=t=>e=>`[${e}="${t}"]`,Cc=(t,e)=>t.map(n=>{const i=n.styles[e];return i?`${n.selector} { ${i} }`:""}).join(" "),e5="pointer-events: none;";var t5=t=>{const e=Z6(t),n=(()=>{const f=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(hl.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:f,dragging:e5,dropAnimating:f}}})(),i=(()=>{const f=`
      transition: ${Kc.outOfTheWay};
    `;return{selector:e(ly.contextId),styles:{dragging:f,dropAnimating:f,userCancel:f}}})(),a={selector:e(J6.contextId),styles:{always:"overflow-anchor: none;"}},u=[i,n,a,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Cc(u,"always"),resting:Cc(u,"resting"),dragging:Cc(u,"dragging"),dropAnimating:Cc(u,"dropAnimating"),userCancel:Cc(u,"userCancel")}};const Zn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?$.useLayoutEffect:$.useEffect,bg=()=>{const t=document.querySelector("head");return t||ue(),t},LA=t=>{const e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.type="text/css",e};function n5(t,e){const n=Ye(()=>t5(t),[t]),i=$.useRef(null),a=$.useRef(null),l=be(en(_=>{const E=a.current;E||ue(),E.textContent=_}),[]),u=be(_=>{const E=i.current;E||ue(),E.textContent=_},[]);Zn(()=>{!i.current&&!a.current||ue();const _=LA(e),E=LA(e);return i.current=_,a.current=E,_.setAttribute(`${fl}-always`,t),E.setAttribute(`${fl}-dynamic`,t),bg().appendChild(_),bg().appendChild(E),u(n.always),l(n.resting),()=>{const w=x=>{const L=x.current;L||ue(),bg().removeChild(L),x.current=null};w(i),w(a)}},[e,u,l,n.always,n.resting,t]);const f=be(()=>l(n.dragging),[l,n.dragging]),p=be(_=>{if(_==="DROP"){l(n.dropAnimating);return}l(n.userCancel)},[l,n.dropAnimating,n.userCancel]),m=be(()=>{a.current&&l(n.resting)},[l,n.resting]);return Ye(()=>({dragging:f,dropping:p,resting:m}),[f,p,m])}function lN(t,e){return Array.from(t.querySelectorAll(e))}var cN=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function Vh(t){return t instanceof cN(t).HTMLElement}function r5(t,e){const n=`[${hl.contextId}="${t}"]`,i=lN(document,n);if(!i.length)return null;const a=i.find(l=>l.getAttribute(hl.draggableId)===e);return!a||!Vh(a)?null:a}function i5(t){const e=$.useRef({}),n=$.useRef(null),i=$.useRef(null),a=$.useRef(!1),l=be(function(E,w){const x={id:E,focus:w};return e.current[E]=x,function(){const N=e.current;N[E]!==x&&delete N[E]}},[]),u=be(function(E){const w=r5(t,E);w&&w!==document.activeElement&&w.focus()},[t]),f=be(function(E,w){n.current===E&&(n.current=w)},[]),p=be(function(){i.current||a.current&&(i.current=requestAnimationFrame(()=>{i.current=null;const E=n.current;E&&u(E)}))},[u]),m=be(function(E){n.current=null;const w=document.activeElement;w&&w.getAttribute(hl.draggableId)===E&&(n.current=E)},[]);return Zn(()=>(a.current=!0,function(){a.current=!1;const E=i.current;E&&cancelAnimationFrame(E)}),[]),Ye(()=>({register:l,tryRecordFocus:m,tryRestoreFocusRecorded:p,tryShiftRecord:f}),[l,m,p,f])}function s5(){const t={draggables:{},droppables:{}},e=[];function n(_){return e.push(_),function(){const w=e.indexOf(_);w!==-1&&e.splice(w,1)}}function i(_){e.length&&e.forEach(E=>E(_))}function a(_){return t.draggables[_]||null}function l(_){const E=a(_);return E||ue(),E}const u={register:_=>{t.draggables[_.descriptor.id]=_,i({type:"ADDITION",value:_})},update:(_,E)=>{const w=t.draggables[E.descriptor.id];w&&w.uniqueId===_.uniqueId&&(delete t.draggables[E.descriptor.id],t.draggables[_.descriptor.id]=_)},unregister:_=>{const E=_.descriptor.id,w=a(E);w&&_.uniqueId===w.uniqueId&&(delete t.draggables[E],t.droppables[_.descriptor.droppableId]&&i({type:"REMOVAL",value:_}))},getById:l,findById:a,exists:_=>!!a(_),getAllByType:_=>Object.values(t.draggables).filter(E=>E.descriptor.type===_)};function f(_){return t.droppables[_]||null}function p(_){const E=f(_);return E||ue(),E}const m={register:_=>{t.droppables[_.descriptor.id]=_},unregister:_=>{const E=f(_.descriptor.id);E&&_.uniqueId===E.uniqueId&&delete t.droppables[_.descriptor.id]},getById:p,findById:f,exists:_=>!!f(_),getAllByType:_=>Object.values(t.droppables).filter(E=>E.descriptor.type===_)};function y(){t.draggables={},t.droppables={},e.length=0}return{draggable:u,droppable:m,subscribe:n,clean:y}}function a5(){const t=Ye(s5,[]);return $.useEffect(()=>function(){t.clean()},[t]),t}var O_=ct.createContext(null),Zf=()=>{const t=document.body;return t||ue(),t};const o5={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},l5=t=>`rfd-announcement-${t}`;function c5(t){const e=Ye(()=>l5(t),[t]),n=$.useRef(null);return $.useEffect(function(){const l=document.createElement("div");return n.current=l,l.id=e,l.setAttribute("aria-live","assertive"),l.setAttribute("aria-atomic","true"),Wf(l.style,o5),Zf().appendChild(l),function(){setTimeout(function(){const p=Zf();p.contains(l)&&p.removeChild(l),l===n.current&&(n.current=null)})}},[e]),be(a=>{const l=n.current;if(l){l.textContent=a;return}},[])}const u5={separator:"::"};function M_(t,e=u5){const n=ct.useId();return Ye(()=>`${t}${e.separator}${n}`,[e.separator,t,n])}function d5({contextId:t,uniqueId:e}){return`rfd-hidden-text-${t}-${e}`}function f5({contextId:t,text:e}){const n=M_("hidden-text",{separator:"-"}),i=Ye(()=>d5({contextId:t,uniqueId:n}),[n,t]);return $.useEffect(function(){const l=document.createElement("div");return l.id=i,l.textContent=e,l.style.display="none",Zf().appendChild(l),function(){const f=Zf();f.contains(l)&&f.removeChild(l)}},[i,e]),i}var jh=ct.createContext(null);function uN(t){const e=$.useRef(t);return $.useEffect(()=>{e.current=t}),e}function h5(){let t=null;function e(){return!!t}function n(u){return u===t}function i(u){t&&ue();const f={abandon:u};return t=f,f}function a(){t||ue(),t=null}function l(){t&&(t.abandon(),a())}return{isClaimed:e,isActive:n,claim:i,release:a,tryAbandon:l}}function uu(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const p5=9,m5=13,L_=27,dN=32,g5=33,y5=34,_5=35,b5=36,v5=37,E5=38,T5=39,A5=40,w5={[m5]:!0,[p5]:!0};var fN=t=>{w5[t.keyCode]&&t.preventDefault()};const Bh=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(i=>`on${i}`in document)||t})(),hN=0,PA=5;function S5(t,e){return Math.abs(e.x-t.x)>=PA||Math.abs(e.y-t.y)>=PA}const kA={type:"IDLE"};function I5({cancel:t,completed:e,getPhase:n,setPhase:i}){return[{eventName:"mousemove",fn:a=>{const{button:l,clientX:u,clientY:f}=a;if(l!==hN)return;const p={x:u,y:f},m=n();if(m.type==="DRAGGING"){a.preventDefault(),m.actions.move(p);return}m.type!=="PENDING"&&ue();const y=m.point;if(!S5(y,p))return;a.preventDefault();const _=m.actions.fluidLift(p);i({type:"DRAGGING",actions:_})}},{eventName:"mouseup",fn:a=>{const l=n();if(l.type!=="DRAGGING"){t();return}a.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"mousedown",fn:a=>{n().type==="DRAGGING"&&a.preventDefault(),t()}},{eventName:"keydown",fn:a=>{if(n().type==="PENDING"){t();return}if(a.keyCode===L_){a.preventDefault(),t();return}fN(a)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:a=>{const l=n();if(l.type==="IDLE"&&ue(),l.actions.shouldRespectForcePress()){t();return}a.preventDefault()}},{eventName:Bh,fn:t}]}function x5(t){const e=$.useRef(kA),n=$.useRef(Bs),i=Ye(()=>({eventName:"mousedown",fn:function(_){if(_.defaultPrevented||_.button!==hN||_.ctrlKey||_.metaKey||_.shiftKey||_.altKey)return;const E=t.findClosestDraggableId(_);if(!E)return;const w=t.tryGetLock(E,u,{sourceEvent:_});if(!w)return;_.preventDefault();const x={x:_.clientX,y:_.clientY};n.current(),m(w,x)}}),[t]),a=Ye(()=>({eventName:"webkitmouseforcewillbegin",fn:y=>{if(y.defaultPrevented)return;const _=t.findClosestDraggableId(y);if(!_)return;const E=t.findOptionsForDraggable(_);E&&(E.shouldRespectForcePress||t.canGetLock(_)&&y.preventDefault())}}),[t]),l=be(function(){const _={passive:!1,capture:!0};n.current=gr(window,[a,i],_)},[a,i]),u=be(()=>{e.current.type!=="IDLE"&&(e.current=kA,n.current(),l())},[l]),f=be(()=>{const y=e.current;u(),y.type==="DRAGGING"&&y.actions.cancel({shouldBlockNextClick:!0}),y.type==="PENDING"&&y.actions.abort()},[u]),p=be(function(){const _={capture:!0,passive:!1},E=I5({cancel:f,completed:u,getPhase:()=>e.current,setPhase:w=>{e.current=w}});n.current=gr(window,E,_)},[f,u]),m=be(function(_,E){e.current.type!=="IDLE"&&ue(),e.current={type:"PENDING",point:E,actions:_},p()},[p]);Zn(function(){return l(),function(){n.current()}},[l])}function R5(){}const N5={[y5]:!0,[g5]:!0,[b5]:!0,[_5]:!0};function C5(t,e){function n(){e(),t.cancel()}function i(){e(),t.drop()}return[{eventName:"keydown",fn:a=>{if(a.keyCode===L_){a.preventDefault(),n();return}if(a.keyCode===dN){a.preventDefault(),i();return}if(a.keyCode===A5){a.preventDefault(),t.moveDown();return}if(a.keyCode===E5){a.preventDefault(),t.moveUp();return}if(a.keyCode===T5){a.preventDefault(),t.moveRight();return}if(a.keyCode===v5){a.preventDefault(),t.moveLeft();return}if(N5[a.keyCode]){a.preventDefault();return}fN(a)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Bh,fn:n}]}function D5(t){const e=$.useRef(R5),n=Ye(()=>({eventName:"keydown",fn:function(l){if(l.defaultPrevented||l.keyCode!==dN)return;const u=t.findClosestDraggableId(l);if(!u)return;const f=t.tryGetLock(u,y,{sourceEvent:l});if(!f)return;l.preventDefault();let p=!0;const m=f.snapLift();e.current();function y(){p||ue(),p=!1,e.current(),i()}e.current=gr(window,C5(m,y),{capture:!0,passive:!1})}}),[t]),i=be(function(){const l={passive:!1,capture:!0};e.current=gr(window,[n],l)},[n]);Zn(function(){return i(),function(){e.current()}},[i])}const vg={type:"IDLE"},O5=120,M5=.15;function L5({cancel:t,getPhase:e}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(e().type!=="DRAGGING"){t();return}n.keyCode===L_&&n.preventDefault(),t()}},{eventName:Bh,fn:t}]}function P5({cancel:t,completed:e,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:i=>{const a=n();if(a.type!=="DRAGGING"){t();return}a.hasMoved=!0;const{clientX:l,clientY:u}=i.touches[0],f={x:l,y:u};i.preventDefault(),a.actions.move(f)}},{eventName:"touchend",fn:i=>{const a=n();if(a.type!=="DRAGGING"){t();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"touchcancel",fn:i=>{if(n().type!=="DRAGGING"){t();return}i.preventDefault(),t()}},{eventName:"touchforcechange",fn:i=>{const a=n();a.type==="IDLE"&&ue();const l=i.touches[0];if(!l||!(l.force>=M5))return;const f=a.actions.shouldRespectForcePress();if(a.type==="PENDING"){f&&t();return}if(f){if(a.hasMoved){i.preventDefault();return}t();return}i.preventDefault()}},{eventName:Bh,fn:t}]}function k5(t){const e=$.useRef(vg),n=$.useRef(Bs),i=be(function(){return e.current},[]),a=be(function(w){e.current=w},[]),l=Ye(()=>({eventName:"touchstart",fn:function(w){if(w.defaultPrevented)return;const x=t.findClosestDraggableId(w);if(!x)return;const L=t.tryGetLock(x,f,{sourceEvent:w});if(!L)return;const N=w.touches[0],{clientX:G,clientY:B}=N,F={x:G,y:B};n.current(),_(L,F)}}),[t]),u=be(function(){const w={capture:!0,passive:!1};n.current=gr(window,[l],w)},[l]),f=be(()=>{const E=e.current;E.type!=="IDLE"&&(E.type==="PENDING"&&clearTimeout(E.longPressTimerId),a(vg),n.current(),u())},[u,a]),p=be(()=>{const E=e.current;f(),E.type==="DRAGGING"&&E.actions.cancel({shouldBlockNextClick:!0}),E.type==="PENDING"&&E.actions.abort()},[f]),m=be(function(){const w={capture:!0,passive:!1},x={cancel:p,completed:f,getPhase:i},L=gr(window,P5(x),w),N=gr(window,L5(x),w);n.current=function(){L(),N()}},[p,i,f]),y=be(function(){const w=i();w.type!=="PENDING"&&ue();const x=w.actions.fluidLift(w.point);a({type:"DRAGGING",actions:x,hasMoved:!1})},[i,a]),_=be(function(w,x){i().type!=="IDLE"&&ue();const L=setTimeout(y,O5);a({type:"PENDING",point:x,actions:w,longPressTimerId:L}),m()},[m,i,a,y]);Zn(function(){return u(),function(){n.current();const x=i();x.type==="PENDING"&&(clearTimeout(x.longPressTimerId),a(vg))}},[i,u,a]),Zn(function(){return gr(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const U5=["input","button","textarea","select","option","optgroup","video","audio"];function pN(t,e){if(e==null)return!1;if(U5.includes(e.tagName.toLowerCase()))return!0;const i=e.getAttribute("contenteditable");return i==="true"||i===""?!0:e===t?!1:pN(t,e.parentElement)}function V5(t,e){const n=e.target;return Vh(n)?pN(t,n):!1}var j5=t=>Ur(t.getBoundingClientRect()).center;function B5(t){return t instanceof cN(t).Element}const z5=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(i=>i in Element.prototype)||t})();function mN(t,e){return t==null?null:t[z5](e)?t:mN(t.parentElement,e)}function F5(t,e){return t.closest?t.closest(e):mN(t,e)}function G5(t){return`[${hl.contextId}="${t}"]`}function H5(t,e){const n=e.target;if(!B5(n))return null;const i=G5(t),a=F5(n,i);return!a||!Vh(a)?null:a}function q5(t,e){const n=H5(t,e);return n?n.getAttribute(hl.draggableId):null}function Y5(t,e){const n=`[${ly.contextId}="${t}"]`,a=lN(document,n).find(l=>l.getAttribute(ly.id)===e);return!a||!Vh(a)?null:a}function K5(t){t.preventDefault()}function sf({expected:t,phase:e,isLockActive:n,shouldWarn:i}){return!(!n()||t!==e)}function gN({lockAPI:t,store:e,registry:n,draggableId:i}){if(t.isClaimed())return!1;const a=n.draggable.findById(i);return!(!a||!a.options.isEnabled||!iN(e.getState(),i))}function $5({lockAPI:t,contextId:e,store:n,registry:i,draggableId:a,forceSensorStop:l,sourceEvent:u}){if(!gN({lockAPI:t,store:n,registry:i,draggableId:a}))return null;const p=i.draggable.getById(a),m=Y5(e,p.descriptor.id);if(!m||u&&!p.options.canDragInteractiveElements&&V5(m,u))return null;const y=t.claim(l||Bs);let _="PRE_DRAG";function E(){return p.options.shouldRespectForcePress}function w(){return t.isActive(y)}function x(se,ae){sf({expected:se,phase:_,isLockActive:w,shouldWarn:!0})&&n.dispatch(ae())}const L=x.bind(null,"DRAGGING");function N(se){function ae(){t.release(),_="COMPLETED"}_!=="PRE_DRAG"&&(ae(),ue()),n.dispatch(F3(se.liftActionArgs)),_="DRAGGING";function C(R,D={shouldBlockNextClick:!1}){if(se.cleanup(),D.shouldBlockNextClick){const U=gr(window,[{eventName:"click",fn:K5,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(U)}ae(),n.dispatch(QR({reason:R}))}return{isActive:()=>sf({expected:"DRAGGING",phase:_,isLockActive:w,shouldWarn:!1}),shouldRespectForcePress:E,drop:R=>C("DROP",R),cancel:R=>C("CANCEL",R),...se.actions}}function G(se){const ae=iu(R=>{L(()=>WR({client:R}))});return{...N({liftActionArgs:{id:a,clientSelection:se,movementMode:"FLUID"},cleanup:()=>ae.cancel(),actions:{move:ae}}),move:ae}}function B(){const se={moveUp:()=>L(X3),moveRight:()=>L(Z3),moveDown:()=>L(J3),moveLeft:()=>L(e6)};return N({liftActionArgs:{id:a,clientSelection:j5(m),movementMode:"SNAP"},cleanup:Bs,actions:se})}function F(){sf({expected:"PRE_DRAG",phase:_,isLockActive:w,shouldWarn:!0})&&t.release()}return{isActive:()=>sf({expected:"PRE_DRAG",phase:_,isLockActive:w,shouldWarn:!1}),shouldRespectForcePress:E,fluidLift:G,snapLift:B,abort:F}}const W5=[x5,D5,k5];function Q5({contextId:t,store:e,registry:n,customSensors:i,enableDefaultSensors:a}){const l=[...a?W5:[],...i||[]],u=$.useState(()=>h5())[0],f=be(function(N,G){uu(N)&&!uu(G)&&u.tryAbandon()},[u]);Zn(function(){let N=e.getState();return e.subscribe(()=>{const B=e.getState();f(N,B),N=B})},[u,e,f]),Zn(()=>u.tryAbandon,[u.tryAbandon]);const p=be(L=>gN({lockAPI:u,registry:n,store:e,draggableId:L}),[u,n,e]),m=be((L,N,G)=>$5({lockAPI:u,registry:n,contextId:t,store:e,draggableId:L,forceSensorStop:N||null,sourceEvent:G&&G.sourceEvent?G.sourceEvent:null}),[t,u,n,e]),y=be(L=>q5(t,L),[t]),_=be(L=>{const N=n.draggable.findById(L);return N?N.options:null},[n.draggable]),E=be(function(){u.isClaimed()&&(u.tryAbandon(),e.getState().phase!=="IDLE"&&e.dispatch(S_()))},[u,e]),w=be(()=>u.isClaimed(),[u]),x=Ye(()=>({canGetLock:p,tryGetLock:m,findClosestDraggableId:y,findOptionsForDraggable:_,tryReleaseLock:E,isLockClaimed:w}),[p,m,y,_,E,w]);for(let L=0;L<l.length;L++)l[L](x)}const X5=t=>({onBeforeCapture:e=>{const n=()=>{t.onBeforeCapture&&t.onBeforeCapture(e)};h_.flushSync(n)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),J5=t=>({...cu,...t.autoScrollerOptions,durationDampening:{...cu.durationDampening,...t.autoScrollerOptions}});function Dc(t){return t.current||ue(),t.current}function Z5(t){const{contextId:e,setCallbacks:n,sensors:i,nonce:a,dragHandleUsageInstructions:l}=t,u=$.useRef(null),f=uN(t),p=be(()=>X5(f.current),[f]),m=be(()=>J5(f.current),[f]),y=c5(e),_=f5({contextId:e,text:l}),E=n5(e,a),w=be(U=>{Dc(u).dispatch(U)},[]),x=Ye(()=>lA({publishWhileDragging:H3,updateDroppableScroll:Y3,updateDroppableIsEnabled:K3,updateDroppableIsCombineEnabled:$3,collectionStarting:q3},w),[w]),L=a5(),N=Ye(()=>L6(L,x),[L,x]),G=Ye(()=>X6({scrollWindow:P6,scrollDroppable:N.scrollDroppable,getAutoScrollerOptions:m,...lA({move:WR},w)}),[N.scrollDroppable,w,m]),B=i5(e),F=Ye(()=>C6({announce:y,autoScroller:G,dimensionMarshal:N,focusMarshal:B,getResponders:p,styleMarshal:E}),[y,G,N,B,p,E]);u.current=F;const Q=be(()=>{const U=Dc(u);U.getState().phase!=="IDLE"&&U.dispatch(S_())},[]),se=be(()=>{const U=Dc(u).getState();return U.phase==="DROP_ANIMATING"?!0:U.phase==="IDLE"?!1:U.isDragging},[]),ae=Ye(()=>({isDragging:se,tryAbort:Q}),[se,Q]);n(ae);const C=be(U=>iN(Dc(u).getState(),U),[]),R=be(()=>Oa(Dc(u).getState()),[]),D=Ye(()=>({marshal:N,focus:B,contextId:e,canLift:C,isMovementAllowed:R,dragHandleUsageInstructionsId:_,registry:L}),[e,N,_,B,C,R,L]);return Q5({contextId:e,store:F,registry:L,customSensors:i||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),$.useEffect(()=>Q,[Q]),ct.createElement(jh.Provider,{value:D},ct.createElement(wj,{context:O_,store:F},t.children))}function eB(){return ct.useId()}function tB(t){const e=eB(),n=t.dragHandleUsageInstructions||Ef.dragHandleUsageInstructions;return ct.createElement(Dj,null,i=>ct.createElement(Z5,{nonce:t.nonce,contextId:e,setCallbacks:i,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const UA={dragging:5e3,dropAnimating:4500},nB=(t,e)=>e?Kc.drop(e.duration):t?Kc.snap:Kc.fluid,rB=(t,e)=>{if(t)return e?lu.opacity.drop:lu.opacity.combining},iB=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function sB(t){const n=t.dimension.client,{offset:i,combineWith:a,dropping:l}=t,u=!!a,f=iB(t),p=!!l,m=p?ay.drop(i,u):ay.moveTo(i);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:nB(f,l),transform:m,opacity:rB(u,p),zIndex:p?UA.dropAnimating:UA.dragging,pointerEvents:"none"}}function aB(t){return{transform:ay.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function oB(t){return t.type==="DRAGGING"?sB(t):aB(t)}function lB(t,e,n=nn){const i=window.getComputedStyle(e),a=e.getBoundingClientRect(),l=AR(a,i),u=$f(l,n),f={client:l,tagName:e.tagName.toLowerCase(),display:i.display},p={x:l.marginBox.width,y:l.marginBox.height};return{descriptor:t,placeholder:f,displaceBy:p,client:l,page:u}}function cB(t){const e=M_("draggable"),{descriptor:n,registry:i,getDraggableRef:a,canDragInteractiveElements:l,shouldRespectForcePress:u,isEnabled:f}=t,p=Ye(()=>({canDragInteractiveElements:l,shouldRespectForcePress:u,isEnabled:f}),[l,f,u]),m=be(w=>{const x=a();return x||ue(),lB(n,x,w)},[n,a]),y=Ye(()=>({uniqueId:e,descriptor:n,options:p,getDimension:m}),[n,m,p,e]),_=$.useRef(y),E=$.useRef(!0);Zn(()=>(i.draggable.register(_.current),()=>i.draggable.unregister(_.current)),[i.draggable]),Zn(()=>{if(E.current){E.current=!1;return}const w=_.current;_.current=y,i.draggable.update(y,w)},[y,i.draggable])}var P_=ct.createContext(null);function eh(t){const e=$.useContext(t);return e||ue(),e}function uB(t){t.preventDefault()}const dB=t=>{const e=$.useRef(null),n=be((ae=null)=>{e.current=ae},[]),i=be(()=>e.current,[]),{contextId:a,dragHandleUsageInstructionsId:l,registry:u}=eh(jh),{type:f,droppableId:p}=eh(P_),m=Ye(()=>({id:t.draggableId,index:t.index,type:f,droppableId:p}),[t.draggableId,t.index,f,p]),{children:y,draggableId:_,isEnabled:E,shouldRespectForcePress:w,canDragInteractiveElements:x,isClone:L,mapped:N,dropAnimationFinished:G}=t;if(!L){const ae=Ye(()=>({descriptor:m,registry:u,getDraggableRef:i,canDragInteractiveElements:x,shouldRespectForcePress:w,isEnabled:E}),[m,u,i,x,w,E]);cB(ae)}const B=Ye(()=>E?{tabIndex:0,role:"button","aria-describedby":l,"data-rfd-drag-handle-draggable-id":_,"data-rfd-drag-handle-context-id":a,draggable:!1,onDragStart:uB}:null,[a,l,_,E]),F=be(ae=>{N.type==="DRAGGING"&&N.dropping&&ae.propertyName==="transform"&&h_.flushSync(G)},[G,N]),Q=Ye(()=>{const ae=oB(N),C=N.type==="DRAGGING"&&N.dropping?F:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":a,"data-rfd-draggable-id":_,style:ae,onTransitionEnd:C},dragHandleProps:B}},[a,B,_,N,F,n]),se=Ye(()=>({draggableId:m.id,type:m.type,source:{index:m.index,droppableId:m.droppableId}}),[m.droppableId,m.id,m.index,m.type]);return ct.createElement(ct.Fragment,null,y(Q,N.snapshot,se))};var yN=(t,e)=>t===e,_N=t=>{const{combine:e,destination:n}=t;return n?n.droppableId:e?e.droppableId:null};const fB=t=>t.combine?t.combine.draggableId:null,hB=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function pB(){const t=en((a,l)=>({x:a,y:l})),e=en((a,l,u=null,f=null,p=null)=>({isDragging:!0,isClone:l,isDropAnimating:!!p,dropAnimation:p,mode:a,draggingOver:u,combineWith:f,combineTargetFor:null})),n=en((a,l,u,f,p=null,m=null,y=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:p,combineWith:m,mode:l,offset:a,dimension:u,forceShouldAnimate:y,snapshot:e(l,f,p,m,null)}}));return(a,l)=>{if(uu(a)){if(a.critical.draggable.id!==l.draggableId)return null;const u=a.current.client.offset,f=a.dimensions.draggables[l.draggableId],p=Jn(a.impact),m=hB(a.impact),y=a.forceShouldAnimate;return n(t(u.x,u.y),a.movementMode,f,l.isClone,p,m,y)}if(a.phase==="DROP_ANIMATING"){const u=a.completed;if(u.result.draggableId!==l.draggableId)return null;const f=l.isClone,p=a.dimensions.draggables[l.draggableId],m=u.result,y=m.mode,_=_N(m),E=fB(m),x={duration:a.dropDuration,curve:x_.drop,moveTo:a.newHomeClientOffset,opacity:E?lu.opacity.drop:null,scale:E?lu.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:p,dropping:x,draggingOver:_,combineWith:E,mode:y,forceShouldAnimate:null,snapshot:e(y,f,_,E,x)}}}return null}}function bN(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const mB={mapped:{type:"SECONDARY",offset:nn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:bN(null)}};function gB(){const t=en((u,f)=>({x:u,y:f})),e=en(bN),n=en((u,f=null,p)=>({mapped:{type:"SECONDARY",offset:u,combineTargetFor:f,shouldAnimateDisplacement:p,snapshot:e(f)}})),i=u=>u?n(nn,u,!0):null,a=(u,f,p,m)=>{const y=p.displaced.visible[u],_=!!(m.inVirtualList&&m.effected[u]),E=Ph(p),w=E&&E.draggableId===u?f:null;if(!y){if(!_)return i(w);if(p.displaced.invisible[u])return null;const N=wl(m.displacedBy.point),G=t(N.x,N.y);return n(G,w,!0)}if(_)return i(w);const x=p.displacedBy.point,L=t(x.x,x.y);return n(L,w,y.shouldAnimate)};return(u,f)=>{if(uu(u))return u.critical.draggable.id===f.draggableId?null:a(f.draggableId,u.critical.draggable.id,u.impact,u.afterCritical);if(u.phase==="DROP_ANIMATING"){const p=u.completed;return p.result.draggableId===f.draggableId?null:a(f.draggableId,p.result.draggableId,p.impact,p.afterCritical)}return null}}const yB=()=>{const t=pB(),e=gB();return(i,a)=>t(i,a)||e(i,a)||mB},_B={dropAnimationFinished:XR},bB=TR(yB,_B,null,{context:O_,areStatePropsEqual:yN})(dB);function vN(t){return eh(P_).isUsingCloneFor===t.draggableId&&!t.isClone?null:ct.createElement(bB,t)}function vB(t){const e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,i=!!t.shouldRespectForcePress;return ct.createElement(vN,Wf({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:i}))}const EN=t=>e=>t===e,EB=EN("scroll"),TB=EN("auto"),VA=(t,e)=>e(t.overflowX)||e(t.overflowY),AB=t=>{const e=window.getComputedStyle(t),n={overflowX:e.overflowX,overflowY:e.overflowY};return VA(n,EB)||VA(n,TB)},wB=()=>!1,TN=t=>t==null?null:t===document.body?wB()?t:null:t===document.documentElement?null:AB(t)?t:TN(t.parentElement);var cy=t=>({x:t.scrollLeft,y:t.scrollTop});const AN=t=>t?window.getComputedStyle(t).position==="fixed"?!0:AN(t.parentElement):!1;var SB=t=>{const e=TN(t),n=AN(t);return{closestScrollable:e,isFixedOnPage:n}},IB=({descriptor:t,isEnabled:e,isCombineEnabled:n,isFixedOnPage:i,direction:a,client:l,page:u,closest:f})=>{const p=(()=>{if(!f)return null;const{scrollSize:E,client:w}=f,x=tN({scrollHeight:E.scrollHeight,scrollWidth:E.scrollWidth,height:w.paddingBox.height,width:w.paddingBox.width});return{pageMarginBox:f.page.marginBox,frameClient:w,scrollSize:E,shouldClipSubject:f.shouldClipSubject,scroll:{initial:f.scroll,current:f.scroll,max:x,diff:{value:nn,displacement:nn}}}})(),m=a==="vertical"?v_:LR,y=dl({page:u,withPlaceholder:null,axis:m,frame:p});return{descriptor:t,isCombineEnabled:n,isFixedOnPage:i,axis:m,isEnabled:e,client:l,page:u,frame:p,subject:y}};const xB=(t,e)=>{const n=wR(t);if(!e||t!==e)return n;const i=n.paddingBox.top-e.scrollTop,a=n.paddingBox.left-e.scrollLeft,l=i+e.scrollHeight,u=a+e.scrollWidth,p=g_({top:i,right:u,bottom:l,left:a},n.border);return y_({borderBox:p,margin:n.margin,border:n.border,padding:n.padding})};var RB=({ref:t,descriptor:e,env:n,windowScroll:i,direction:a,isDropDisabled:l,isCombineEnabled:u,shouldClipSubject:f})=>{const p=n.closestScrollable,m=xB(t,p),y=$f(m,i),_=(()=>{if(!p)return null;const w=wR(p),x={scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth};return{client:w,page:$f(w,i),scroll:cy(p),scrollSize:x,shouldClipSubject:f}})();return IB({descriptor:e,isEnabled:!l,isCombineEnabled:u,isFixedOnPage:n.isFixedOnPage,direction:a,client:m,page:y,closest:_})};const NB={passive:!1},CB={passive:!0};var jA=t=>t.shouldPublishImmediately?NB:CB;const af=t=>t&&t.env.closestScrollable||null;function DB(t){const e=$.useRef(null),n=eh(jh),i=M_("droppable"),{registry:a,marshal:l}=n,u=uN(t),f=Ye(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),p=$.useRef(f),m=Ye(()=>en((Q,se)=>{e.current||ue();const ae={x:Q,y:se};l.updateDroppableScroll(f.id,ae)}),[f.id,l]),y=be(()=>{const Q=e.current;return!Q||!Q.env.closestScrollable?nn:cy(Q.env.closestScrollable)},[]),_=be(()=>{const Q=y();m(Q.x,Q.y)},[y,m]),E=Ye(()=>iu(_),[_]),w=be(()=>{const Q=e.current,se=af(Q);if(Q&&se||ue(),Q.scrollOptions.shouldPublishImmediately){_();return}E()},[E,_]),x=be((Q,se)=>{e.current&&ue();const ae=u.current,C=ae.getDroppableRef();C||ue();const R=SB(C),D={ref:C,descriptor:f,env:R,scrollOptions:se};e.current=D;const U=RB({ref:C,descriptor:f,env:R,windowScroll:Q,direction:ae.direction,isDropDisabled:ae.isDropDisabled,isCombineEnabled:ae.isCombineEnabled,shouldClipSubject:!ae.ignoreContainerClipping}),M=R.closestScrollable;return M&&(M.setAttribute(MA.contextId,n.contextId),M.addEventListener("scroll",w,jA(D.scrollOptions))),U},[n.contextId,f,w,u]),L=be(()=>{const Q=e.current,se=af(Q);return Q&&se||ue(),cy(se)},[]),N=be(()=>{const Q=e.current;Q||ue();const se=af(Q);e.current=null,se&&(E.cancel(),se.removeAttribute(MA.contextId),se.removeEventListener("scroll",w,jA(Q.scrollOptions)))},[w,E]),G=be(Q=>{const se=e.current;se||ue();const ae=af(se);ae||ue(),ae.scrollTop+=Q.y,ae.scrollLeft+=Q.x},[]),B=Ye(()=>({getDimensionAndWatchScroll:x,getScrollWhileDragging:L,dragStopped:N,scroll:G}),[N,x,L,G]),F=Ye(()=>({uniqueId:i,descriptor:f,callbacks:B}),[B,f,i]);Zn(()=>(p.current=F.descriptor,a.droppable.register(F),()=>{e.current&&N(),a.droppable.unregister(F)}),[B,f,N,F,l,a.droppable]),Zn(()=>{e.current&&l.updateDroppableIsEnabled(p.current.id,!t.isDropDisabled)},[t.isDropDisabled,l]),Zn(()=>{e.current&&l.updateDroppableIsCombineEnabled(p.current.id,t.isCombineEnabled)},[t.isCombineEnabled,l])}function Eg(){}const BA={width:0,height:0,margin:Vj},OB=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>t||n==="close"?BA:{height:e.client.borderBox.height,width:e.client.borderBox.width,margin:e.client.margin},MB=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>{const i=OB({isAnimatingOpenOnMount:t,placeholder:e,animate:n});return{display:e.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?Kc.placeholder:null}},LB=t=>{const e=$.useRef(null),n=be(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{animate:i,onTransitionEnd:a,onClose:l,contextId:u}=t,[f,p]=$.useState(t.animate==="open");$.useEffect(()=>f?i!=="open"?(n(),p(!1),Eg):e.current?Eg:(e.current=setTimeout(()=>{e.current=null,p(!1)}),n):Eg,[i,f,n]);const m=be(_=>{_.propertyName==="height"&&(a(),i==="close"&&l())},[i,l,a]),y=MB({isAnimatingOpenOnMount:f,animate:t.animate,placeholder:t.placeholder});return ct.createElement(t.placeholder.tagName,{style:y,"data-rfd-placeholder-context-id":u,onTransitionEnd:m,ref:t.innerRef})};var PB=ct.memo(LB);class kB extends ct.PureComponent{constructor(...e){super(...e),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,n){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!e.on,data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const UB=t=>{const e=$.useContext(jh);e||ue();const{contextId:n,isMovementAllowed:i}=e,a=$.useRef(null),l=$.useRef(null),{children:u,droppableId:f,type:p,mode:m,direction:y,ignoreContainerClipping:_,isDropDisabled:E,isCombineEnabled:w,snapshot:x,useClone:L,updateViewportMaxScroll:N,getContainerForClone:G}=t,B=be(()=>a.current,[]),F=be((M=null)=>{a.current=M},[]);be(()=>l.current,[]);const Q=be((M=null)=>{l.current=M},[]),se=be(()=>{i()&&N({maxScroll:rN()})},[i,N]);DB({droppableId:f,type:p,mode:m,direction:y,isDropDisabled:E,isCombineEnabled:w,ignoreContainerClipping:_,getDroppableRef:B});const ae=Ye(()=>ct.createElement(kB,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:M,data:j,animate:O})=>ct.createElement(PB,{placeholder:j,onClose:M,innerRef:Q,animate:O,contextId:n,onTransitionEnd:se})),[n,se,t.placeholder,t.shouldAnimatePlaceholder,Q]),C=Ye(()=>({innerRef:F,placeholder:ae,droppableProps:{"data-rfd-droppable-id":f,"data-rfd-droppable-context-id":n}}),[n,f,ae,F]),R=L?L.dragging.draggableId:null,D=Ye(()=>({droppableId:f,type:p,isUsingCloneFor:R}),[f,R,p]);function U(){if(!L)return null;const{dragging:M,render:j}=L,O=ct.createElement(vN,{draggableId:M.draggableId,index:M.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(Pe,Ve)=>j(Pe,Ve,M));return SV.createPortal(O,G())}return ct.createElement(P_.Provider,{value:D},u(C,x),U())};function VB(){return document.body||ue(),document.body}const zA={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:VB},wN=t=>{let e={...t},n;for(n in zA)t[n]===void 0&&(e={...e,[n]:zA[n]});return e},Tg=(t,e)=>t===e.droppable.type,FA=(t,e)=>e.draggables[t.draggable.id],jB=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},e={...t,shouldAnimatePlaceholder:!1},n=en(l=>({draggableId:l.id,type:l.type,source:{index:l.index,droppableId:l.droppableId}})),i=en((l,u,f,p,m,y)=>{const _=m.descriptor.id;if(m.descriptor.droppableId===l){const x=y?{render:y,dragging:n(m.descriptor)}:null,L={isDraggingOver:f,draggingOverWith:f?_:null,draggingFromThisWith:_,isUsingPlaceholder:!0};return{placeholder:m.placeholder,shouldAnimatePlaceholder:!1,snapshot:L,useClone:x}}if(!u)return e;if(!p)return t;const w={isDraggingOver:f,draggingOverWith:_,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:m.placeholder,shouldAnimatePlaceholder:!0,snapshot:w,useClone:null}});return(l,u)=>{const f=wN(u),p=f.droppableId,m=f.type,y=!f.isDropDisabled,_=f.renderClone;if(uu(l)){const E=l.critical;if(!Tg(m,E))return e;const w=FA(E,l.dimensions),x=Jn(l.impact)===p;return i(p,y,x,x,w,_)}if(l.phase==="DROP_ANIMATING"){const E=l.completed;if(!Tg(m,E.critical))return e;const w=FA(E.critical,l.dimensions);return i(p,y,_N(E.result)===p,Jn(E.impact)===p,w,_)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){const E=l.completed;if(!Tg(m,E.critical))return e;const w=Jn(E.impact)===p,x=!!(E.impact.at&&E.impact.at.type==="COMBINE"),L=E.critical.droppable.id===p;return w?x?t:e:L?t:e}return e}},BB={updateViewportMaxScroll:Q3},zB=TR(jB,BB,(t,e,n)=>({...wN(n),...t,...e}),{context:O_,areStatePropsEqual:yN})(UB),FB=({movies:t,onApprove:e,onDelete:n,onUpdate:i,suggestions:a,onDeleteSuggestion:l,blogPosts:u,onBlogUpdate:f})=>{const[p,m]=$.useState("pending"),[y,_]=$.useState([]);$.useEffect(()=>{_(u)},[u]);const E=async oe=>{if(!oe.destination)return;const k=Array.from(y),[Z]=k.splice(oe.source.index,1);k.splice(oe.destination.index,0,Z),_(k);try{await Ua.reorderBlogPosts(k),f()}catch(le){console.error("Failed to reorder blog posts",le),_(u)}},w=t.filter(oe=>oe.isApproved===!1),x=t.filter(oe=>oe.isApproved!==!1),[L,N]=$.useState(null),[G,B]=$.useState(!1),[F,Q]=$.useState(!1),[se,ae]=$.useState(void 0),[C,R]=$.useState(!1),[D,U]=$.useState(!1),M=oe=>{N(oe),B(!0)},j=async oe=>{if(L){Q(!0);try{await i(L.id,{title:oe.rawTitle,status:oe.status,userRating:oe.userRating,userReview:oe.userReview,imdbUrl:oe.imdbUrl,posterBase64:oe.manualPosterBase64,year:oe.manualYear||L.year,director:oe.manualDirector||L.director,genre:oe.manualGenres||L.genre,summary:oe.manualSummary||L.summary}),B(!1),N(null)}catch(k){console.error("Update failed",k),alert("Guncelleme basarisiz")}finally{Q(!1)}}},O=async oe=>{window.confirm("BU KAYDI REDDETMEK VE SILMEK ISTEDIGINIZE EMIN MISINIZ?")&&await n(oe)},Pe=()=>{ae(void 0),R(!0)},Ve=oe=>{ae(oe),R(!0)},q=async oe=>{U(!0);try{se?await Ua.updateBlogPost(se.id,oe):await Ua.addBlogPost(oe),await f(),R(!1),ae(void 0)}catch(k){console.error("Blog update failed",k),alert("Blog ilemi baarsz oldu.")}finally{U(!1)}},ce=async oe=>{if(window.confirm("BU BLOG YAZISINI SLMEK STEDNZE EMN MSNZ?"))try{await Ua.deleteBlogPost(oe),await f()}catch(k){console.error("Blog delete failed",k),alert("Silme ilemi baarsz.")}},ge=oe=>b.jsxs("div",{className:"flex flex-col gap-2",children:[p==="pending"&&b.jsx("button",{onClick:()=>e(oe.id),className:"bg-green-600 hover:bg-green-500 text-white p-2",title:"ONAYLA",children:b.jsx(FC,{size:24})}),oe.status!=="watched"&&b.jsx("button",{onClick:()=>i(oe.id,{status:"watched",watchedDate:new Date().toISOString()}),className:"bg-purple-600 hover:bg-purple-500 text-white p-2",title:"IZLENDI OLARAK ISARETLE",children:b.jsx(WC,{size:24})}),b.jsx("button",{onClick:()=>M(oe),className:"bg-blue-600 hover:bg-blue-500 text-white p-2",title:"DUZENLE",children:b.jsx(g0,{size:24})}),b.jsx("button",{onClick:()=>O(oe.id),className:"bg-red-600 hover:bg-red-500 text-white p-2",title:"SIL / REDDET",children:b.jsx(Ym,{size:24})})]}),xe=p==="pending"?w:x;return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex gap-4 border-b-2 border-white pb-2 mb-6 overflow-x-auto",children:[b.jsxs("button",{onClick:()=>m("pending"),className:`text-xl font-bold px-4 py-2 whitespace-nowrap ${p==="pending"?"bg-yellow-400 text-black":"text-neutral-500 hover:text-white"}`,children:["ONAY BEKLEYENLER (",w.length,")"]}),b.jsxs("button",{onClick:()=>m("approved"),className:`text-xl font-bold px-4 py-2 whitespace-nowrap ${p==="approved"?"bg-green-600 text-white":"text-neutral-500 hover:text-white"}`,children:["KAYITLI ARV (",x.length,")"]}),b.jsxs("button",{onClick:()=>m("suggestions"),className:`text-xl font-bold px-4 py-2 whitespace-nowrap ${p==="suggestions"?"bg-purple-600 text-white":"text-neutral-500 hover:text-white"}`,children:["NERLER (",a.length,")"]}),b.jsxs("button",{onClick:()=>m("blog"),className:`text-xl font-bold px-4 py-2 whitespace-nowrap ${p==="blog"?"bg-cyan-600 text-white":"text-neutral-500 hover:text-white"}`,children:["BLOG YAZILARI (",u.length,")"]})]}),p==="suggestions"&&(a.length===0?b.jsx("div",{className:"border-4 border-white border-dashed p-12 text-center bg-neutral-900",children:b.jsx("h2",{className:"text-3xl text-neutral-500",children:"MESAJ KUTUSU BO"})}):b.jsx("div",{className:"grid gap-4",children:a.map(oe=>b.jsxs("div",{className:"border-2 border-white bg-neutral-900 p-6 relative",children:[b.jsxs("div",{className:"flex justify-between items-start mb-4 border-b border-neutral-700 pb-2",children:[b.jsxs("div",{children:[b.jsxs("h3",{className:"text-yellow-400 font-bold text-xl uppercase",children:[oe.name," ",oe.surname]}),b.jsx("span",{className:"text-neutral-500 text-sm font-mono",children:new Date(oe.createdAt).toLocaleString("tr-TR")})]}),b.jsx("button",{onClick:()=>l(oe.id),className:"bg-red-900 text-red-200 p-2 hover:bg-red-800",title:"SL",children:b.jsx(Ym,{size:20})})]}),b.jsx("p",{className:"text-white text-lg font-mono leading-relaxed whitespace-pre-wrap",children:oe.message})]},oe.id))})),p==="blog"&&b.jsxs("div",{className:"space-y-6",children:[b.jsxs("button",{onClick:Pe,className:"bg-yellow-400 text-black px-6 py-3 font-bold text-xl flex items-center gap-2 hover:bg-white transition-colors",children:[b.jsx(gD,{size:24}),"YEN YAZI EKLE"]}),b.jsx(tB,{onDragEnd:E,children:b.jsx(zB,{droppableId:"blog-list",children:oe=>b.jsxs("div",{...oe.droppableProps,ref:oe.innerRef,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.map((k,Z)=>b.jsx(vB,{draggableId:k.id,index:Z,children:le=>b.jsxs("div",{ref:le.innerRef,...le.draggableProps,...le.dragHandleProps,className:"border-2 border-white bg-neutral-900 p-4 flex gap-4 group hover:border-yellow-400 transition-colors",children:[b.jsxs("div",{className:"w-32 aspect-video bg-black flex-shrink-0 border border-neutral-700 overflow-hidden relative",children:[k.coverImage?b.jsx("img",{src:k.coverImage,alt:k.title,className:"w-full h-full object-cover"}):b.jsx("div",{className:"flex items-center justify-center h-full text-neutral-700",children:b.jsx(XC,{size:32})}),b.jsxs("div",{className:"absolute top-0 right-0 bg-yellow-400 text-black px-1 font-bold text-xs opacity-0 group-hover:opacity-100 cursor-grab",children:["SIRA: ",Z+1]})]}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("h3",{className:"text-xl font-bold text-cyan-400 truncate",children:k.title}),b.jsxs("div",{className:"text-sm text-neutral-400 font-mono mb-2",children:[k.date,"  ",k.author]}),b.jsx("div",{className:"text-neutral-300 line-clamp-2 text-sm",children:k.summary})]}),b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("button",{onClick:()=>Ve(k),className:"bg-blue-600 hover:bg-blue-500 text-white p-2",title:"DZENLE",children:b.jsx(g0,{size:20})}),b.jsx("button",{onClick:()=>ce(k.id),className:"bg-red-600 hover:bg-red-500 text-white p-2",title:"SL",children:b.jsx(Ym,{size:20})})]})]})},k.id)),oe.placeholder]})})})]}),(p==="pending"||p==="approved")&&(xe.length===0?b.jsxs("div",{className:"border-4 border-white border-dashed p-12 text-center bg-neutral-900",children:[b.jsx("h2",{className:"text-3xl text-neutral-500 mb-2",children:p==="pending"?"HER SEY YOLUNDA":"ARV BO"}),b.jsx("p",{className:"text-xl text-white",children:p==="pending"?"ONAY BEKLEYEN KAYIT YOK.":"HENZ ONAYLANMI KAYIT YOK."})]}):b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:xe.map(oe=>b.jsxs("div",{className:"border-2 border-white bg-neutral-900 p-4 flex gap-4 items-start",children:[b.jsx("div",{className:"w-24 aspect-[2/3] bg-black flex-shrink-0 border border-neutral-700",children:oe.posterBase64?b.jsx("img",{src:oe.posterBase64,alt:oe.title,className:"w-full h-full object-cover"}):b.jsx("div",{className:"flex items-center justify-center h-full text-2xl",children:""})}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("h3",{className:"text-xl font-bold text-yellow-400 truncate",children:oe.title}),b.jsxs("div",{className:"text-sm text-neutral-400 font-bold mb-2",children:[oe.year,"  ",oe.director]}),b.jsx("div",{className:"text-xs text-neutral-500 mb-2 line-clamp-2",children:oe.summary}),b.jsxs("div",{className:"flex gap-2 text-xs font-bold",children:[b.jsx("span",{className:`px-2 py-1 ${oe.status==="watched"?"bg-red-900 text-red-200":"bg-green-900 text-green-200"}`,children:oe.status==="watched"?"ZLEND":"ZLENECEK"}),oe.userRating&&b.jsxs("span",{className:"bg-yellow-900 text-yellow-200 px-2 py-1",children:[" ",oe.userRating]})]})]}),ge(oe)]},oe.id))})),b.jsx(lS,{isOpen:G,onClose:()=>{B(!1),N(null)},onSubmit:j,isSubmitting:F,editMovie:L||void 0}),b.jsx(YD,{isOpen:C,onClose:()=>{R(!1),ae(void 0)},onSubmit:q,isSubmitting:D,editPost:se})]})},GB=({isOpen:t,onClose:e,watchedCount:n,watchlistCount:i})=>t?b.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center bg-black/90 p-4",children:b.jsxs("div",{className:"w-full max-w-3xl bg-neutral-900 border-4 border-white p-1 shadow-[10px_10px_0px_#000] overflow-y-auto max-h-[90vh]",children:[b.jsxs("div",{className:"bg-white text-black px-4 py-2 flex justify-between items-center font-bold text-lg md:text-2xl mb-1 sticky top-0 z-10",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(YC,{size:24}),b.jsx("span",{children:"HAKKINDA"})]}),b.jsx("button",{onClick:e,className:"hover:bg-black hover:text-white px-2 transition-colors",children:"[X]"})]}),b.jsxs("div",{className:"bg-black border-2 border-neutral-700 p-4 md:p-8 text-white min-h-[300px] md:min-h-[400px] flex flex-col justify-center",children:[b.jsxs("h2",{className:"text-2xl md:text-4xl text-yellow-400 font-bold mb-4 md:mb-6 leading-tight md:leading-none tracking-wide border-b-4 border-blue-600 inline-block pb-2",children:["SPEND YOUR TIME WATCHING GREAT MOVIES,",b.jsx("br",{}),"NOT SEARCHING FOR THEM."]}),b.jsxs("div",{className:"space-y-3 md:space-y-4 text-lg md:text-2xl font-medium leading-relaxed text-neutral-300",children:[b.jsxs("p",{children:["Kt bir filme harcanan iki saat, geri gelmeyecek bir zamandr.",b.jsx("span",{className:"text-white",children:" Ben bu zaman sizin yerinize harcadm!"})," Bu platform, izlediim yzlerce film arasndan szlp gelen bir neri rehberidir."]}),b.jsx("p",{children:"Puan tablolarma gz atarak hangi filmin izlemeye deer olduunu grebilir, kiisel eletirilerimle film hakknda n bilgi edinebilirsiniz."}),b.jsx("p",{className:"text-cyan-400 font-bold mt-2 md:mt-4",children:"Buras bir veritaban deil, bir filmseverin size sunduu dijital bir tavsiye kutusudur."}),b.jsxs("div",{className:"mt-6 md:mt-8 border-t-2 border-neutral-800 pt-4 md:pt-6 flex flex-wrap gap-4 md:gap-8 justify-center font-mono text-base md:text-lg",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-yellow-400 font-bold text-lg md:text-xl",children:"100"}),b.jsx("span",{className:"text-white",children:"ZLENEN"}),b.jsxs("span",{className:"text-yellow-400 font-bold text-xs md:text-sm bg-neutral-900 px-2 py-1 border border-neutral-700 ml-1",children:[n," FLM"]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-yellow-400 font-bold text-lg md:text-xl",children:"200"}),b.jsx("span",{className:"text-white",children:"ZLENECEK"}),b.jsxs("span",{className:"text-yellow-400 font-bold text-xs md:text-sm bg-neutral-900 px-2 py-1 border border-neutral-700 ml-1",children:[i," FLM"]})]})]})]})]})]})}):null,HB=({isOpen:t,onClose:e,onSubmit:n,isSubmitting:i})=>{const[a,l]=$.useState(""),[u,f]=$.useState(""),[p,m]=$.useState("");if(!t)return null;const y=async _=>{_.preventDefault();try{await n({name:a,surname:u,message:p}),l(""),f(""),m(""),alert("NERNZ LETLD / SENT"),e()}catch{alert("HATALI ILEM / ERROR")}};return b.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center bg-black/90 p-4",children:b.jsxs("div",{className:"w-full max-w-xl bg-neutral-900 border-4 border-white p-1 shadow-[10px_10px_0px_#000]",children:[b.jsxs("div",{className:"bg-white text-black px-4 py-2 flex justify-between items-center font-bold text-2xl mb-4",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(cD,{}),b.jsx("span",{children:"NER FORMU"})]}),b.jsx("button",{onClick:e,className:"hover:bg-black hover:text-white px-2 transition-colors",children:"[X]"})]}),b.jsxs("form",{onSubmit:y,className:"bg-black border-2 border-neutral-700 p-6 flex flex-col gap-4",children:[b.jsxs("div",{className:"flex gap-4",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("label",{className:"text-white font-bold block mb-2",children:"ADI"}),b.jsxs("div",{className:"relative",children:[b.jsx(sh,{className:"absolute left-3 top-3 text-neutral-500 w-5 h-5"}),b.jsx("input",{type:"text",required:!0,value:a,onChange:_=>l(_.target.value),className:"w-full bg-neutral-900 border-2 border-neutral-700 text-white p-2 pl-10 font-mono focus:border-yellow-400 outline-none",placeholder:"JANE"})]})]}),b.jsxs("div",{className:"flex-1",children:[b.jsx("label",{className:"text-white font-bold block mb-2",children:"SOYADI"}),b.jsx("input",{type:"text",required:!0,value:u,onChange:_=>f(_.target.value),className:"w-full bg-neutral-900 border-2 border-neutral-700 text-white p-2 font-mono focus:border-yellow-400 outline-none",placeholder:"DOE"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-white font-bold block mb-2",children:"NER / KAYET"}),b.jsx("textarea",{required:!0,value:p,onChange:_=>m(_.target.value),className:"w-full h-32 bg-neutral-900 border-2 border-neutral-700 text-white p-2 font-mono focus:border-yellow-400 outline-none resize-none",placeholder:"Mesajnz..."})]}),b.jsx("button",{type:"submit",disabled:i,className:"bg-yellow-400 text-black font-bold py-3 text-xl hover:bg-white transition-colors flex justify-center items-center gap-2",children:i?"GNDERLYOR...":b.jsxs(b.Fragment,{children:[b.jsx(wD,{className:"w-5 h-5"}),"[ GNDER ]"]})})]})]})})},qB=({movie:t,onClose:e,onDelete:n})=>($.useEffect(()=>{const i=a=>{a.key==="Escape"&&e()};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[e]),t?b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",children:b.jsxs("div",{className:"relative w-full max-w-4xl bg-neutral-900 border-4 border-white shadow-[0_0_50px_rgba(255,255,255,0.1)] flex flex-col md:flex-row overflow-hidden max-h-[90vh] md:max-h-[800px]",onClick:i=>i.stopPropagation(),children:[b.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 bg-black text-white hover:text-red-500 border-2 border-white p-2 transition-colors",children:b.jsx(fi,{size:24})}),b.jsx("div",{className:"hidden md:block w-[400px] shrink-0 bg-black relative border-r-4 border-white",children:t.posterBase64?b.jsx("img",{src:t.posterBase64,alt:t.title,className:"w-full h-full object-cover contrast-125 saturate-150 pixelated"}):b.jsx("div",{className:"w-full h-full flex flex-col items-center justify-center text-6xl text-neutral-700",children:t.emoji})}),b.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-neutral-900",children:b.jsxs("div",{className:"p-4 md:p-8 flex flex-col gap-6",children:[b.jsxs("div",{className:"flex gap-4 md:hidden items-start pr-12",children:[b.jsx("div",{className:"w-1/3 shrink-0 border-2 border-white",children:t.posterBase64?b.jsx("img",{src:t.posterBase64,alt:t.title,className:"w-full h-auto object-cover aspect-[2/3] contrast-125 saturate-150 pixelated"}):b.jsx("div",{className:"w-full aspect-[2/3] bg-neutral-800 flex items-center justify-center text-4xl",children:t.emoji})}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("h2",{className:"text-3xl font-bold text-yellow-400 leading-none uppercase mb-2 text-shadow-sm break-words",children:t.title.toLocaleUpperCase("tr-TR")}),b.jsxs("div",{className:"flex flex-wrap gap-2 text-xs font-bold",children:[b.jsx("div",{className:"bg-yellow-400 text-black px-2 py-0.5 border border-transparent",children:t.year}),t.genre.slice(0,2).map(i=>b.jsx("div",{className:"bg-cyan-900 text-cyan-200 px-2 py-0.5 border border-cyan-700 uppercase",children:i},i))]})]})]}),b.jsxs("div",{className:"hidden md:block",children:[b.jsx("h2",{className:"text-5xl font-bold text-yellow-400 leading-none uppercase mb-2 text-shadow-sm",children:t.title.toLocaleUpperCase("tr-TR")}),b.jsxs("div",{className:"flex flex-wrap gap-2 text-base font-bold",children:[b.jsx("div",{className:"bg-yellow-400 text-black px-3 py-1 border-2 border-transparent",children:t.year}),t.genre.map(i=>b.jsx("div",{className:"bg-cyan-900 text-cyan-200 px-3 py-1 border-2 border-cyan-700 uppercase",children:i},i))]})]}),b.jsx("div",{className:"h-px bg-neutral-700 w-full"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 text-base md:text-lg",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center gap-2 text-neutral-500 mb-1 uppercase text-sm font-bold",children:[b.jsx(sh,{size:16})," Ynetmen"]}),b.jsx("div",{className:"text-white text-lg md:text-xl",children:t.director})]}),t.userRating&&b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center gap-2 text-neutral-500 mb-1 uppercase text-sm font-bold",children:[b.jsx(ih,{size:16})," Puanm"]}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(yy,{rating:t.userRating,readOnly:!0,size:20}),b.jsxs("span",{className:"text-yellow-400 font-bold text-xl md:text-2xl",children:[t.userRating,"/5"]})]})]})]}),b.jsxs("div",{className:"bg-black/30 p-4 md:p-6 border-l-4 border-yellow-400",children:[b.jsxs("div",{className:"flex items-center gap-2 text-yellow-400 mb-2 md:mb-3 uppercase font-bold tracking-widest text-sm",children:[b.jsx(rS,{size:16})," zet"]}),b.jsx("p",{className:"text-lg md:text-xl leading-relaxed text-neutral-200 font-serif",children:t.summary})]}),t.userReview&&b.jsxs("div",{className:"bg-neutral-800 p-4 md:p-6 border border-neutral-700 relative group",children:[b.jsx(sS,{className:"absolute top-4 right-4 text-neutral-700 w-8 h-8 md:w-12 md:h-12 rotate-180"}),b.jsxs("div",{className:"relative z-10",children:[b.jsx("div",{className:"text-magenta-500 font-bold mb-2 uppercase text-sm",children:"ncelemem"}),b.jsxs("p",{className:"text-xl md:text-2xl text-white italic font-serif leading-relaxed",children:['"',t.userReview,'"']})]})]}),b.jsx("div",{className:"mt-4 md:mt-8 flex items-center justify-between pt-6 border-t border-neutral-700",children:t.imdbUrl&&b.jsxs("a",{href:t.imdbUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-yellow-500 hover:text-white transition-colors text-lg font-bold group",children:["IMDb ",b.jsx("span",{className:"hidden sm:inline",children:"Sayfasna Git"})," ",b.jsx(gy,{size:20,className:"group-hover:-translate-y-1 transition-transform"})]})})]})})]})}):null),YB=({isOpen:t,onClose:e,onLoginSuccess:n})=>{const[i,a]=$.useState(""),[l,u]=$.useState(""),[f,p]=$.useState(""),[m,y]=$.useState(!1);if(!t)return null;const _=async E=>{E.preventDefault(),y(!0),p("");try{await cU(f_,i,l),n(),e()}catch(w){console.error("Login Error:",w),p("Giri baarsz. Bilgilerinizi kontrol edin.")}finally{y(!1)}};return b.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/90 p-4",children:b.jsxs("div",{className:"w-full max-w-md bg-neutral-900 border-2 border-white p-8 relative shadow-[0_0_20px_rgba(255,255,255,0.2)]",children:[b.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-neutral-500 hover:text-white",children:b.jsx(fi,{size:24})}),b.jsxs("div",{className:"flex flex-col items-center mb-6",children:[b.jsx("div",{className:"bg-neutral-800 p-4 rounded-full mb-4",children:b.jsx(oD,{size:32,className:"text-yellow-400"})}),b.jsx("h2",{className:"text-2xl font-bold text-white uppercase tracking-widest",children:"Ynetici Girii"})]}),f&&b.jsx("div",{className:"bg-red-900/50 border border-red-500 text-red-200 p-3 mb-4 text-center text-sm font-bold",children:f}),b.jsxs("form",{onSubmit:_,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-neutral-400 text-sm font-bold mb-2",children:"E-POSTA"}),b.jsx("input",{type:"email",value:i,onChange:E=>a(E.target.value),className:"w-full bg-black border border-neutral-700 text-white p-3 focus:border-yellow-400 focus:outline-none transition-colors",placeholder:"yonetici@benimtv.com",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-neutral-400 text-sm font-bold mb-2",children:"FRE"}),b.jsx("input",{type:"password",value:l,onChange:E=>u(E.target.value),className:"w-full bg-black border border-neutral-700 text-white p-3 focus:border-yellow-400 focus:outline-none transition-colors",placeholder:"",required:!0})]}),b.jsx("button",{type:"submit",disabled:m,className:"w-full bg-white text-black font-bold py-3 mt-4 hover:bg-yellow-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:m?"GR YAPILIYOR...":"GR YAP"})]})]})})},KB=({post:t,onClick:e})=>b.jsxs("div",{onClick:()=>e(t),className:"group relative bg-neutral-900 border-2 border-white hover:border-yellow-400 transition-all cursor-pointer overflow-hidden flex flex-col h-full",children:[t.coverImage&&b.jsxs("div",{className:"h-48 w-full overflow-hidden border-b border-white relative group-hover:border-yellow-400 transition-colors",children:[b.jsx("img",{src:t.coverImage,alt:t.title,className:"w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-500"}),b.jsx("div",{className:"absolute inset-0 bg-yellow-400/10 mix-blend-overlay opacity-0 group-hover:opacity-100 transition-opacity"})]}),b.jsx("div",{className:"bg-neutral-800 h-2 w-full border-b border-white group-hover:bg-yellow-400 transition-colors"}),b.jsxs("div",{className:"p-6 flex flex-col flex-1",children:[b.jsxs("div",{className:"flex items-center gap-2 text-xs text-neutral-500 font-mono mb-3",children:[b.jsx(Sg,{size:14}),b.jsx("span",{children:t.date})]}),b.jsx("h3",{className:"text-xl font-bold text-white mb-3 group-hover:text-yellow-400 transition-colors line-clamp-3 leading-snug",children:t.title}),b.jsx("p",{className:"text-neutral-400 text-sm line-clamp-4 leading-relaxed mb-6 flex-1 font-inter font-normal",children:t.summary}),b.jsxs("div",{className:"flex items-center justify-between mt-auto pt-4 border-t border-neutral-800",children:[b.jsx("span",{className:"text-xs text-neutral-600 font-mono uppercase tracking-widest",children:t.author}),b.jsxs("button",{className:"flex items-center gap-1 text-sm font-bold text-white group-hover:text-yellow-400 transition-colors",children:["OKU ",b.jsx(HC,{size:16})]})]})]}),b.jsx("div",{className:"absolute inset-0 bg-yellow-400/5 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"})]}),$B=({post:t,onClose:e})=>(ct.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),t?b.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center bg-black/95 p-4 overflow-y-auto",children:b.jsxs("div",{className:"relative w-full max-w-3xl bg-neutral-900 border-x-4 border-white shadow-[0_0_30px_rgba(255,255,255,0.1)] my-8",children:[b.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 bg-black text-white p-2 border border-white hover:bg-white hover:text-black transition-colors rounded-full",children:b.jsx(fi,{size:24})}),b.jsxs("div",{className:"bg-neutral-100 text-black border-b-4 border-black",children:[t.coverImage&&b.jsxs("div",{className:"w-full h-64 md:h-96 overflow-hidden border-b-4 border-black relative",children:[b.jsx("img",{src:t.coverImage,alt:t.title,className:"w-full h-full object-cover"}),b.jsx("div",{className:"absolute inset-0 bg-black/10 pointer-events-none"})]}),b.jsxs("div",{className:"p-8 md:p-12 pb-8",children:[b.jsxs("div",{className:"flex flex-wrap gap-4 text-sm font-bold opacity-60 mb-4 font-mono uppercase",children:[b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx(BC,{size:14})," ",t.date]}),b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx(sh,{size:14})," ",t.author]})]}),b.jsx("h1",{className:"text-3xl md:text-5xl font-black leading-tight mb-4 tracking-normal",children:t.title})]})]}),b.jsxs("div",{className:"p-8 md:p-12 bg-neutral-900 text-neutral-300 text-lg md:text-xl leading-relaxed font-inter font-normal",children:[b.jsx("div",{className:`prose prose-invert prose-lg md:prose-xl max-w-none 
                        prose-headings:font-sans prose-headings:font-bold prose-headings:text-yellow-400
                        prose-p:mb-8 prose-p:leading-loose
                        prose-strong:text-white`,dangerouslySetInnerHTML:{__html:t.content}}),b.jsxs("div",{className:"mt-12 pt-8 border-t border-neutral-700 text-center",children:[b.jsx("span",{className:"text-4xl text-neutral-600",children:"***"}),b.jsxs("div",{className:"mt-8",children:[b.jsx("p",{className:"text-neutral-400 mb-4 text-base",children:"Bu ierii beendiyseniz, sradaki filmimi semek iin Patreon'a gz atabilirsiniz:"}),b.jsxs("a",{href:"https://www.patreon.com/bolvitamin",target:"_blank",rel:"noopener noreferrer",className:"w-full bg-cyan-400 text-black px-8 py-4 text-xl font-bold hover:bg-white hover:text-cyan-500 transition-colors flex items-center justify-center gap-2 font-mono uppercase tracking-wider",children:[b.jsx("span",{children:"BR FLM ISMARLA (PATREON)"}),b.jsx(gy,{size:20})]})]})]})]})]})}):null);var WB={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var GA;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(GA||(GA={}));var HA;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(HA||(HA={}));var qA;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(qA||(qA={}));var Kn;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Kn||(Kn={}));var YA;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(YA||(YA={}));var KA;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(KA||(KA={}));var $A;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})($A||($A={}));var WA;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(WA||(WA={}));var QA;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(QA||(QA={}));var XA;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(XA||(XA={}));var JA;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(JA||(JA={}));var ZA;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(ZA||(ZA={}));var ew;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(ew||(ew={}));var tw;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(tw||(tw={}));var nw;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(nw||(nw={}));var rw;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(rw||(rw={}));var iw;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(iw||(iw={}));var sw;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(sw||(sw={}));var aw;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(aw||(aw={}));var ow;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(ow||(ow={}));var lw;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(lw||(lw={}));var cw;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(cw||(cw={}));var uw;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(uw||(uw={}));var dw;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(dw||(dw={}));var fw;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(fw||(fw={}));var hw;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(hw||(hw={}));var pw;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(pw||(pw={}));var mw;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(mw||(mw={}));var gw;(function(t){t.COLLECTION="COLLECTION"})(gw||(gw={}));var yw;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(yw||(yw={}));var _w;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(_w||(_w={}));var bw;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(bw||(bw={}));var vw;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(vw||(vw={}));var Ew;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Ew||(Ew={}));var Tw;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Tw||(Tw={}));var Aw;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Aw||(Aw={}));var ww;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ww||(ww={}));var Sw;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Sw||(Sw={}));var Iw;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Iw||(Iw={}));var xw;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(xw||(xw={}));var Rw;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Rw||(Rw={}));var Nw;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Nw||(Nw={}));var Cw;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Cw||(Cw={}));var Dw;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Dw||(Dw={}));var Ow;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Ow||(Ow={}));var Mw;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(Mw||(Mw={}));var Lw;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Lw||(Lw={}));var Pw;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Pw||(Pw={}));var kw;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(kw||(kw={}));var Uw;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(Uw||(Uw={}));var Vw;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Vw||(Vw={}));var jw;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(jw||(jw={}));var Bw;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Bw||(Bw={}));var zw;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(zw||(zw={}));var Fw;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Fw||(Fw={}));var Gw;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Gw||(Gw={}));var Hw;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Hw||(Hw={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var qw;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(qw||(qw={}));function th(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]]);return n}function Yw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Et(t){return this instanceof Et?(this.v=t,this):new Et(t)}function $c(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),a,l=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",u),a[Symbol.asyncIterator]=function(){return this},a;function u(w){return function(x){return Promise.resolve(x).then(w,_)}}function f(w,x){i[w]&&(a[w]=function(L){return new Promise(function(N,G){l.push([w,L,N,G])>1||p(w,L)})},x&&(a[w]=x(a[w])))}function p(w,x){try{m(i[w](x))}catch(L){E(l[0][3],L)}}function m(w){w.value instanceof Et?Promise.resolve(w.value.v).then(y,_):E(l[0][2],w)}function y(w){p("next",w)}function _(w){p("throw",w)}function E(w,x){w(x),l.shift(),l.length&&p(l[0][0],l[0][1])}}function nl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Yw=="function"?Yw(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(l){n[l]=t[l]&&function(u){return new Promise(function(f,p){u=t[l](u),a(f,p,u.done,u.value)})}}function a(l,u,f,p){Promise.resolve(p).then(function(m){l({value:m,done:f})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let SN=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return SN=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};const QB=()=>SN();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uy(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const dy=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vr extends Error{}class In extends vr{constructor(e,n,i,a){super(`${In.makeMessage(e,n,i)}`),this.status=e,this.headers=a,this.error=n}static makeMessage(e,n,i){const a=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return e&&a?`${e} ${a}`:e?`${e} status code (no body)`:a||"(no status code or body)"}static generate(e,n,i,a){if(!e||!a)return new zh({message:i,cause:dy(n)});const l=n;return e===400?new xN(e,l,i,a):e===401?new RN(e,l,i,a):e===403?new NN(e,l,i,a):e===404?new CN(e,l,i,a):e===409?new DN(e,l,i,a):e===422?new ON(e,l,i,a):e===429?new MN(e,l,i,a):e>=500?new LN(e,l,i,a):new In(e,l,i,a)}}class fy extends In{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class zh extends In{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class IN extends zh{constructor({message:e}={}){super({message:e??"Request timed out."})}}class xN extends In{}class RN extends In{}class NN extends In{}class CN extends In{}class DN extends In{}class ON extends In{}class MN extends In{}class LN extends In{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XB=/^[a-z][a-z0-9+.-]*:/i,JB=t=>XB.test(t);let hy=t=>(hy=Array.isArray,hy(t));const ZB=hy;let e9=ZB;const Kw=e9;function t9(t){if(!t)return!0;for(const e in t)return!1;return!0}function n9(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const r9=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new vr(`${t} must be an integer`);if(e<0)throw new vr(`${t} must be a positive integer`);return e},i9=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const s9=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function a9(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const o9=()=>{var t,e,n,i,a;const l=a9();if(l==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Yo,"X-Stainless-OS":Ww(Deno.build.os),"X-Stainless-Arch":$w(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Yo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(l==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Yo,"X-Stainless-OS":Ww((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":$w((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const u=l9();return u?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Yo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${u.browser}`,"X-Stainless-Runtime-Version":u.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Yo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function l9(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const i=n.exec(navigator.userAgent);if(i){const a=i[1]||0,l=i[2]||0,u=i[3]||0;return{browser:e,version:`${a}.${l}.${u}`}}}return null}const $w=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Ww=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let of;const c9=()=>of??(of=o9());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function u9(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function PN(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function d9(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return PN({start(){},async pull(n){const{done:i,value:a}=await e.next();i?n.close():n.enqueue(a)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function kN(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function f9(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const i=t.getReader(),a=i.cancel();i.releaseLock(),await a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const h9=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UN=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Ag(t,e,n){return UN(),new File(t,e??"unknown_file",n)}function p9(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const m9=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VN=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",g9=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&VN(t),y9=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function _9(t,e,n){if(UN(),t=await t,g9(t))return t instanceof File?t:Ag([await t.arrayBuffer()],t.name);if(y9(t)){const a=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Ag(await py(a),e,n)}const i=await py(t);if(e||(e=p9(t)),!(n!=null&&n.type)){const a=i.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof a=="string"&&(n=Object.assign(Object.assign({},n),{type:a}))}return Ag(i,e,n)}async function py(t){var e,n,i,a,l;let u=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)u.push(t);else if(VN(t))u.push(t instanceof Blob?t:await t.arrayBuffer());else if(m9(t))try{for(var f=!0,p=nl(t),m;m=await p.next(),e=m.done,!e;f=!0){a=m.value,f=!1;const y=a;u.push(...await py(y))}}catch(y){n={error:y}}finally{try{!f&&!e&&(i=p.return)&&await i.call(p)}finally{if(n)throw n.error}}else{const y=(l=t==null?void 0:t.constructor)===null||l===void 0?void 0:l.name;throw new Error(`Unexpected data type: ${typeof t}${y?`; constructor: ${y}`:""}${b9(t)}`)}return u}function b9(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jN{constructor(e){this._client=e}}jN._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BN(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Qw=Object.freeze(Object.create(null)),v9=(t=BN)=>(function(n,...i){if(n.length===1)return n[0];let a=!1;const l=[],u=n.reduce((y,_,E)=>{var w,x,L;/[?#]/.test(_)&&(a=!0);const N=i[E];let G=(a?encodeURIComponent:t)(""+N);return E!==i.length&&(N==null||typeof N=="object"&&N.toString===((L=Object.getPrototypeOf((x=Object.getPrototypeOf((w=N.hasOwnProperty)!==null&&w!==void 0?w:Qw))!==null&&x!==void 0?x:Qw))===null||L===void 0?void 0:L.toString))&&(G=N+"",l.push({start:y.length+_.length,length:G.length,error:`Value of type ${Object.prototype.toString.call(N).slice(8,-1)} is not a valid path parameter`})),y+_+(E===i.length?"":G)},""),f=u.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=p.exec(f))!==null;)l.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(l.sort((y,_)=>y.start-_.start),l.length>0){let y=0;const _=l.reduce((E,w)=>{const x=" ".repeat(w.start-y),L="^".repeat(w.length);return y=w.start+w.length,E+x+L},"");throw new vr(`Path parameters result in path with invalid segments:
${l.map(E=>E.error).join(`
`)}
${u}
${_}`)}return u}),lf=v9(BN);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zN extends jN{create(e,n){var i;const{api_version:a=this._client.apiVersion}=e,l=th(e,["api_version"]);if("model"in l&&"agent_config"in l)throw new vr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in l&&"generation_config"in l)throw new vr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(lf`/${a}/interactions`,Object.assign(Object.assign({body:l},n),{stream:(i=e.stream)!==null&&i!==void 0?i:!1}))}delete(e,n={},i){const{api_version:a=this._client.apiVersion}=n??{};return this._client.delete(lf`/${a}/interactions/${e}`,i)}cancel(e,n={},i){const{api_version:a=this._client.apiVersion}=n??{};return this._client.post(lf`/${a}/interactions/${e}/cancel`,i)}get(e,n={},i){var a;const l=n??{},{api_version:u=this._client.apiVersion}=l,f=th(l,["api_version"]);return this._client.get(lf`/${u}/interactions/${e}`,Object.assign(Object.assign({query:f},i),{stream:(a=n==null?void 0:n.stream)!==null&&a!==void 0?a:!1}))}}zN._key=Object.freeze(["interactions"]);class FN extends zN{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function E9(t){let e=0;for(const a of t)e+=a.length;const n=new Uint8Array(e);let i=0;for(const a of t)n.set(a,i),i+=a.length;return n}let cf;function k_(t){let e;return(cf??(e=new globalThis.TextEncoder,cf=e.encode.bind(e)))(t)}let uf;function Xw(t){let e;return(uf??(e=new globalThis.TextDecoder,uf=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fh{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?k_(e):e;this.buffer=E9([this.buffer,n]);const i=[];let a;for(;(a=T9(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){i.push(Xw(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const l=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,u=Xw(this.buffer.subarray(0,l));i.push(u),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}}Fh.NEWLINE_CHARS=new Set([`
`,"\r"]);Fh.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function T9(t,e){for(let a=e??0;a<t.length;a++){if(t[a]===10)return{preceding:a,index:a+1,carriage:!1};if(t[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function A9(t){for(let i=0;i<t.length-1;i++){if(t[i]===10&&t[i+1]===10||t[i]===13&&t[i+1]===13)return i+2;if(t[i]===13&&t[i+1]===10&&i+3<t.length&&t[i+2]===13&&t[i+3]===10)return i+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nh={off:0,error:200,warn:300,info:400,debug:500},Jw=(t,e,n)=>{if(t){if(n9(nh,t))return t;Tn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(nh))}`)}};function Vc(){}function df(t,e,n){return!e||nh[t]>nh[n]?Vc:e[t].bind(e)}const w9={error:Vc,warn:Vc,info:Vc,debug:Vc};let Zw=new WeakMap;function Tn(t){var e;const n=t.logger,i=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return w9;const a=Zw.get(n);if(a&&a[0]===i)return a[1];const l={error:df("error",n,i),warn:df("warn",n,i),info:df("info",n,i),debug:df("debug",n,i)};return Zw.set(n,[i,l]),l}const Ma=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wo{constructor(e,n,i){this.iterator=e,this.controller=n,this.client=i}static fromSSEResponse(e,n,i){let a=!1;const l=i?Tn(i):console;function u(){return $c(this,arguments,function*(){var p,m,y,_;if(a)throw new vr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let E=!1;try{try{for(var w=!0,x=nl(S9(e,n)),L;L=yield Et(x.next()),p=L.done,!p;w=!0){_=L.value,w=!1;const N=_;if(!E)if(N.data.startsWith("[DONE]")){E=!0;continue}else try{yield yield Et(JSON.parse(N.data))}catch(G){throw l.error("Could not parse message into JSON:",N.data),l.error("From chunk:",N.raw),G}}}catch(N){m={error:N}}finally{try{!w&&!p&&(y=x.return)&&(yield Et(y.call(x)))}finally{if(m)throw m.error}}E=!0}catch(N){if(uy(N))return yield Et(void 0);throw N}finally{E||n.abort()}})}return new Wo(u,n,i)}static fromReadableStream(e,n,i){let a=!1;function l(){return $c(this,arguments,function*(){var p,m,y,_;const E=new Fh,w=kN(e);try{for(var x=!0,L=nl(w),N;N=yield Et(L.next()),p=N.done,!p;x=!0){_=N.value,x=!1;const G=_;for(const B of E.decode(G))yield yield Et(B)}}catch(G){m={error:G}}finally{try{!x&&!p&&(y=L.return)&&(yield Et(y.call(L)))}finally{if(m)throw m.error}}for(const G of E.flush())yield yield Et(G)})}function u(){return $c(this,arguments,function*(){var p,m,y,_;if(a)throw new vr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let E=!1;try{try{for(var w=!0,x=nl(l()),L;L=yield Et(x.next()),p=L.done,!p;w=!0){_=L.value,w=!1;const N=_;E||N&&(yield yield Et(JSON.parse(N)))}}catch(N){m={error:N}}finally{try{!w&&!p&&(y=x.return)&&(yield Et(y.call(x)))}finally{if(m)throw m.error}}E=!0}catch(N){if(uy(N))return yield Et(void 0);throw N}finally{E||n.abort()}})}return new Wo(u,n,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],i=this.iterator(),a=l=>({next:()=>{if(l.length===0){const u=i.next();e.push(u),n.push(u)}return l.shift()}});return[new Wo(()=>a(e),this.controller,this.client),new Wo(()=>a(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return PN({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:a,done:l}=await n.next();if(l)return i.close();const u=k_(JSON.stringify(a)+`
`);i.enqueue(u)}catch(a){i.error(a)}},async cancel(){var i;await((i=n.return)===null||i===void 0?void 0:i.call(n))}})}}function S9(t,e){return $c(this,arguments,function*(){var i,a,l,u;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new vr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new vr("Attempted to iterate over a response with no body");const f=new x9,p=new Fh,m=kN(t.body);try{for(var y=!0,_=nl(I9(m)),E;E=yield Et(_.next()),i=E.done,!i;y=!0){u=E.value,y=!1;const w=u;for(const x of p.decode(w)){const L=f.decode(x);L&&(yield yield Et(L))}}}catch(w){a={error:w}}finally{try{!y&&!i&&(l=_.return)&&(yield Et(l.call(_)))}finally{if(a)throw a.error}}for(const w of p.flush()){const x=f.decode(w);x&&(yield yield Et(x))}})}function I9(t){return $c(this,arguments,function*(){var n,i,a,l;let u=new Uint8Array;try{for(var f=!0,p=nl(t),m;m=yield Et(p.next()),n=m.done,!n;f=!0){l=m.value,f=!1;const y=l;if(y==null)continue;const _=y instanceof ArrayBuffer?new Uint8Array(y):typeof y=="string"?k_(y):y;let E=new Uint8Array(u.length+_.length);E.set(u),E.set(_,u.length),u=E;let w;for(;(w=A9(u))!==-1;)yield yield Et(u.slice(0,w)),u=u.slice(w)}}catch(y){i={error:y}}finally{try{!f&&!n&&(a=p.return)&&(yield Et(a.call(p)))}finally{if(i)throw i.error}}u.length>0&&(yield yield Et(u))})}class x9{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,i,a]=R9(e,":");return a.startsWith(" ")&&(a=a.substring(1)),n==="event"?this.event=a:n==="data"&&this.data.push(a),null}}function R9(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function N9(t,e){const{response:n,requestLogID:i,retryOfRequestLogID:a,startTime:l}=e,u=await(async()=>{var f;if(e.options.stream)return Tn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Wo.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const p=n.headers.get("content-type"),m=(f=p==null?void 0:p.split(";")[0])===null||f===void 0?void 0:f.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?await n.json():await n.text()})();return Tn(t).debug(`[${i}] response parsed`,Ma({retryOfRequestLogID:a,url:n.url,status:n.status,body:u,durationMs:Date.now()-l})),u}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class U_ extends Promise{constructor(e,n,i=N9){super(a=>{a(null)}),this.responsePromise=n,this.parseResponse=i,this.client=e}_thenUnwrap(e){return new U_(this.client,this.responsePromise,async(n,i)=>e(await this.parseResponse(n,i),i))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GN=Symbol("brand.privateNullableHeaders");function*C9(t){if(!t)return;if(GN in t){const{values:i,nulls:a}=t;yield*i.entries();for(const l of a)yield[l,null];return}let e=!1,n;t instanceof Headers?n=t.entries():Kw(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let i of n){const a=i[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const l=Kw(i[1])?i[1]:[i[1]];let u=!1;for(const f of l)f!==void 0&&(e&&!u&&(u=!0,yield[a,null]),yield[a,f])}}const Oc=t=>{const e=new Headers,n=new Set;for(const i of t){const a=new Set;for(const[l,u]of C9(i)){const f=l.toLowerCase();a.has(f)||(e.delete(l),a.add(f)),u===null?(e.delete(l),n.add(f)):(e.append(l,u),n.delete(f))}}return{[GN]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wg=t=>{var e,n,i,a,l,u;if(typeof globalThis.process<"u")return(i=(n=(e=WB)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(u=(l=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||l===void 0?void 0:l.call(a,t))===null||u===void 0?void 0:u.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var HN;class Gh{constructor(e){var n,i,a,l,u,f,p,{baseURL:m=wg("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:y=(n=wg("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:_="v1beta"}=e,E=th(e,["baseURL","apiKey","apiVersion"]);const w=Object.assign(Object.assign({apiKey:y,apiVersion:_},E),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=w.baseURL,this.timeout=(i=w.timeout)!==null&&i!==void 0?i:Gh.DEFAULT_TIMEOUT,this.logger=(a=w.logger)!==null&&a!==void 0?a:console;const x="warn";this.logLevel=x,this.logLevel=(u=(l=Jw(w.logLevel,"ClientOptions.logLevel",this))!==null&&l!==void 0?l:Jw(wg("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&u!==void 0?u:x,this.fetchOptions=w.fetchOptions,this.maxRetries=(f=w.maxRetries)!==null&&f!==void 0?f:2,this.fetch=(p=w.fetch)!==null&&p!==void 0?p:u9(),this.encoder=h9,this._options=w,this.apiKey=y,this.apiVersion=_,this.clientAdapter=w.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Oc([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Oc([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Oc([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,i])=>typeof i<"u").map(([n,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(n)}=`;throw new vr(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Yo}`}defaultIdempotencyKey(){return`stainless-node-retry-${QB()}`}makeStatusError(e,n,i,a){return In.generate(e,n,i,a)}buildURL(e,n,i){const a=!this.baseURLOverridden()&&i||this.baseURL,l=JB(e)?new URL(e):new URL(a+(a.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),u=this.defaultQuery();return t9(u)||(n=Object.assign(Object.assign({},u),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(l.search=this.stringifyQuery(n)),l.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:i}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,i){return this.request(Promise.resolve(i).then(a=>Object.assign({method:e,path:n},a)))}request(e,n=null){return new U_(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,i){var a,l,u;const f=await e,p=(a=f.maxRetries)!==null&&a!==void 0?a:this.maxRetries;n==null&&(n=p),await this.prepareOptions(f);const{req:m,url:y,timeout:_}=await this.buildRequest(f,{retryCount:p-n});await this.prepareRequest(m,{url:y,options:f});const E="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),w=i===void 0?"":`, retryOf: ${i}`,x=Date.now();if(Tn(this).debug(`[${E}] sending request`,Ma({retryOfRequestLogID:i,method:f.method,url:y,options:f,headers:m.headers})),!((l=f.signal)===null||l===void 0)&&l.aborted)throw new fy;const L=new AbortController,N=await this.fetchWithTimeout(y,m,_,L).catch(dy),G=Date.now();if(N instanceof globalThis.Error){const F=`retrying, ${n} attempts remaining`;if(!((u=f.signal)===null||u===void 0)&&u.aborted)throw new fy;const Q=uy(N)||/timed? ?out/i.test(String(N)+("cause"in N?String(N.cause):""));if(n)return Tn(this).info(`[${E}] connection ${Q?"timed out":"failed"} - ${F}`),Tn(this).debug(`[${E}] connection ${Q?"timed out":"failed"} (${F})`,Ma({retryOfRequestLogID:i,url:y,durationMs:G-x,message:N.message})),this.retryRequest(f,n,i??E);throw Tn(this).info(`[${E}] connection ${Q?"timed out":"failed"} - error; no more retries left`),Tn(this).debug(`[${E}] connection ${Q?"timed out":"failed"} (error; no more retries left)`,Ma({retryOfRequestLogID:i,url:y,durationMs:G-x,message:N.message})),Q?new IN:new zh({cause:N})}const B=`[${E}${w}] ${m.method} ${y} ${N.ok?"succeeded":"failed"} with status ${N.status} in ${G-x}ms`;if(!N.ok){const F=await this.shouldRetry(N);if(n&&F){const D=`retrying, ${n} attempts remaining`;return await f9(N.body),Tn(this).info(`${B} - ${D}`),Tn(this).debug(`[${E}] response error (${D})`,Ma({retryOfRequestLogID:i,url:N.url,status:N.status,headers:N.headers,durationMs:G-x})),this.retryRequest(f,n,i??E,N.headers)}const Q=F?"error; no more retries left":"error; not retryable";Tn(this).info(`${B} - ${Q}`);const se=await N.text().catch(D=>dy(D).message),ae=i9(se),C=ae?void 0:se;throw Tn(this).debug(`[${E}] response error (${Q})`,Ma({retryOfRequestLogID:i,url:N.url,status:N.status,headers:N.headers,message:C,durationMs:Date.now()-x})),this.makeStatusError(N.status,ae,C,N.headers)}return Tn(this).info(B),Tn(this).debug(`[${E}] response start`,Ma({retryOfRequestLogID:i,url:N.url,status:N.status,headers:N.headers,durationMs:G-x})),{response:N,options:f,controller:L,requestLogID:E,retryOfRequestLogID:i,startTime:x}}async fetchWithTimeout(e,n,i,a){const l=n||{},{signal:u,method:f}=l,p=th(l,["signal","method"]);u&&u.addEventListener("abort",()=>a.abort());const m=setTimeout(()=>a.abort(),i),y=globalThis.ReadableStream&&p.body instanceof globalThis.ReadableStream||typeof p.body=="object"&&p.body!==null&&Symbol.asyncIterator in p.body,_=Object.assign(Object.assign(Object.assign({signal:a.signal},y?{duplex:"half"}:{}),{method:"GET"}),p);f&&(_.method=f.toUpperCase());try{return await this.fetch.call(void 0,e,_)}finally{clearTimeout(m)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,i,a){var l;let u;const f=a==null?void 0:a.get("retry-after-ms");if(f){const m=parseFloat(f);Number.isNaN(m)||(u=m)}const p=a==null?void 0:a.get("retry-after");if(p&&!u){const m=parseFloat(p);Number.isNaN(m)?u=Date.parse(p)-Date.now():u=m*1e3}if(!(u&&0<=u&&u<60*1e3)){const m=(l=e.maxRetries)!==null&&l!==void 0?l:this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(n,m)}return await s9(u),this.makeRequest(e,n-1,i)}calculateDefaultRetryTimeoutMillis(e,n){const l=n-e,u=Math.min(.5*Math.pow(2,l),8),f=1-Math.random()*.25;return u*f*1e3}async buildRequest(e,{retryCount:n=0}={}){var i,a,l;const u=Object.assign({},e),{method:f,path:p,query:m,defaultBaseURL:y}=u,_=this.buildURL(p,m,y);"timeout"in u&&r9("timeout",u.timeout),u.timeout=(i=u.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:E,body:w}=this.buildBody({options:u}),x=await this.buildHeaders({options:e,method:f,bodyHeaders:E,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:f,headers:x},u.signal&&{signal:u.signal}),globalThis.ReadableStream&&w instanceof globalThis.ReadableStream&&{duplex:"half"}),w&&{body:w}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(l=u.fetchOptions)!==null&&l!==void 0?l:{}),url:_,timeout:u.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:i,retryCount:a}){let l={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=e.idempotencyKey);const u=await this.authHeaders(e);let f=Oc([l,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),c9()),this._options.defaultHeaders,i,e.headers,u]);return this.validateHeaders(f),f.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=Oc([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:d9(e)}:this.encoder({body:e,headers:i})}}Gh.DEFAULT_TIMEOUT=6e4;class dn extends Gh{constructor(){super(...arguments),this.interactions=new FN(this)}}HN=dn;dn.GeminiNextGenAPIClient=HN;dn.GeminiNextGenAPIClientError=vr;dn.APIError=In;dn.APIConnectionError=zh;dn.APIConnectionTimeoutError=IN;dn.APIUserAbortError=fy;dn.NotFoundError=CN;dn.ConflictError=DN;dn.RateLimitError=MN;dn.BadRequestError=xN;dn.AuthenticationError=RN;dn.InternalServerError=LN;dn.PermissionDeniedError=NN;dn.UnprocessableEntityError=ON;dn.toFile=_9;dn.Interactions=FN;const D9=()=>(console.warn("GEMINI_API_KEY is missing. AI features will be disabled."),null),O9=async(t,e=!1)=>{const n=D9();let i={title:t,originalTitle:t,year:"???",genre:["Bilinmiyor"],director:"Bilinmiyor",summary:"Film detaylar alnamad (API Anahtar eksik).",emoji:"",themeColor:"#64748b",imdbUrl:`https://www.imdb.com/find?q=${encodeURIComponent(t)}`};if(!n)return i;try{const a=n.models.generateContent({model:"gemini-2.0-flash",contents:`Find details for the movie "${t}". Return the summary in Turkish. Provide the official IMDb URL.`,config:{responseMimeType:"application/json",responseSchema:{type:Kn.OBJECT,properties:{title:{type:Kn.STRING,description:"Official Turkish title of the movie"},originalTitle:{type:Kn.STRING,description:"Original title of the movie"},year:{type:Kn.STRING,description:"Release year"},genre:{type:Kn.ARRAY,items:{type:Kn.STRING},description:"List of genres (in Turkish)"},director:{type:Kn.STRING,description:"Director name"},summary:{type:Kn.STRING,description:"Short plot summary in Turkish (max 30 words)"},emoji:{type:Kn.STRING,description:"A single emoji best describing the movie"},themeColor:{type:Kn.STRING,description:"A hex color code matching the movie poster mood"},imdbUrl:{type:Kn.STRING,description:"Full URL to the movie's IMDb page"}},required:["title","originalTitle","year","genre","director","summary","emoji","themeColor","imdbUrl"]}}});let l=null;e||(l=n.models.generateContent({model:"gemini-2.0-flash",contents:{parts:[{text:`A high quality, cinematic movie poster for the movie "${t}". The title "${t}" should be prominently displayed and integrated into the poster design. Minimalist, official style, vertical.`}]}}));let u,f=null;if(l){const p=await Promise.allSettled([a,l]);u=p[0],f=p[1]}else u=(await Promise.allSettled([a]))[0];if(u.status==="fulfilled"&&u.value.text)try{i={...i,...JSON.parse(u.value.text)}}catch(p){console.error("Failed to parse metadata JSON",p)}return i}catch(a){return console.error("AI Error:",a),i}},M9=()=>{const[t,e]=$.useState([]),[n,i]=$.useState("watched"),[a,l]=$.useState(!1),[u,f]=$.useState(!0);$.useEffect(()=>{const B=Qg(ka(An,"movies"),Xg("watchedDate","desc")),F=Jg(B,Q=>{const se=Q.docs.map(ae=>({id:ae.id,...ae.data()}));e(se),f(!1)});return()=>F()},[]);const[p,m]=$.useState([]),[y,_]=$.useState(!1);return $.useEffect(()=>{const B=iR(f_,F=>{_(!!F)});return()=>B()},[]),$.useEffect(()=>{if(!y){m([]);return}const B=Qg(ka(An,"suggestions"),Xg("createdAt","desc")),F=Jg(B,Q=>{const se=Q.docs.map(ae=>({id:ae.id,...ae.data()}));m(se)},Q=>{console.error("Suggestion fetch error (likely permission):",Q)});return()=>F()},[y]),{movies:t,activeTab:n,setActiveTab:i,addMovie:async B=>{l(!0);try{const F=!!B.manualPosterBase64,Q=!!(B.manualYear&&B.manualSummary);let se;se=await O9(B.rawTitle,F);const ae={title:B.rawTitle,originalTitle:se.originalTitle||B.rawTitle,year:B.manualYear||se.year||"???",genre:B.manualGenres||se.genre||["Bilinmiyor"],director:B.manualDirector||se.director||"Bilinmiyor",summary:B.manualSummary||se.summary||"zet bulunamad.",emoji:se.emoji||"",themeColor:se.themeColor||"#64748b",imdbUrl:B.imdbUrl?B.imdbUrl:se.imdbUrl||"",posterBase64:B.manualPosterBase64||se.posterBase64||null,status:B.status,userRating:B.userRating||null,userReview:B.userReview||null,watchedDate:B.status==="watched"?new Date().toISOString():null,createdAt:new Date().toISOString(),isApproved:!1},C=JSON.parse(JSON.stringify(ae));await jf(ka(An,"movies"),C)}catch(F){throw console.error("Error adding movie:",F),F}finally{l(!1)}},updateMovieStatus:async(B,F,Q={})=>{try{const se=hi(An,"movies",B),ae=Object.entries(Q).reduce((C,[R,D])=>(D!==void 0&&(C[R]=D),C),{});await Uf(se,{status:F,...ae})}catch(se){console.error("Error updating movie:",se)}},approveMovie:async B=>{try{const F=hi(An,"movies",B);await Uf(F,{isApproved:!0})}catch(F){console.error("Error approving movie:",F)}},deleteMovie:async B=>{try{await Vf(hi(An,"movies",B))}catch(F){console.error("Error deleting movie:",F)}},isSubmitting:a,suggestions:p,addSuggestion:async B=>{l(!0);try{await jf(ka(An,"suggestions"),{...B,createdAt:new Date().toISOString()})}catch(F){throw console.error("Error adding suggestion:",F),F}finally{l(!1)}},deleteSuggestion:async B=>{try{await Vf(hi(An,"suggestions",B))}catch(F){console.error("Error deleting suggestion:",F)}},isLoading:u}},L9=t=>{const[e,n]=$.useState({searchTerm:"",genre:"",year:"",rating:"",director:""}),[i,a]=$.useState(1),l=30,[u,f]=$.useState("date_desc"),p=(B,F)=>{n(Q=>({...Q,[B]:F}))},m=()=>{n({searchTerm:"",genre:"",year:"",rating:"",director:""}),f("date_desc")};$.useEffect(()=>{a(1)},[e,u]);const y=$.useMemo(()=>{const B=new Set;return t.forEach(F=>F.genre.forEach(Q=>B.add(Q))),Array.from(B).sort()},[t]),_=$.useMemo(()=>{const B=new Set;return t.forEach(F=>B.add(F.year)),Array.from(B).sort().reverse()},[t]),E=$.useMemo(()=>{const B=new Set;return t.forEach(F=>{F.director&&F.director!=="Bilinmiyor"&&F.director.split(",").map(Q=>Q.trim()).forEach(Q=>{Q&&B.add(Q)})}),Array.from(B).sort()},[t]),w=$.useMemo(()=>t.filter(F=>{const Q=F.title.toLowerCase().includes(e.searchTerm.toLowerCase())||F.originalTitle.toLowerCase().includes(e.searchTerm.toLowerCase())||F.director.toLowerCase().includes(e.searchTerm.toLowerCase()),se=e.genre?F.genre.includes(e.genre):!0,ae=e.year?F.year===e.year:!0,C=e.rating!==""?F.userRating===Number(e.rating):!0,R=F.director?F.director.split(",").map(U=>U.trim()):[],D=e.director?R.includes(e.director):!0;return Q&&se&&ae&&C&&D}).sort((F,Q)=>{switch(u){case"year_asc":return F.year.localeCompare(Q.year);case"year_desc":return Q.year.localeCompare(F.year);case"title_asc":return F.title.localeCompare(Q.title);case"title_desc":return Q.title.localeCompare(F.title);case"date_asc":return(F.createdAt||"").localeCompare(Q.createdAt||"");case"date_desc":return(Q.createdAt||"").localeCompare(F.createdAt||"");default:return 0}}),[t,e,u]),x=Math.ceil(w.length/l),L=$.useMemo(()=>{const B=(i-1)*l;return w.slice(B,B+l)},[w,i]);return{filters:e,setFilter:p,resetFilters:m,sortOption:u,setSortOption:f,filteredMovies:w,paginatedMovies:L,availableGenres:y,availableYears:_,availableDirectors:E,pagination:{currentPage:i,totalPages:x,goToNextPage:()=>a(B=>Math.min(B+1,x)),goToPrevPage:()=>a(B=>Math.max(B-1,1)),setCurrentPage:a}}};function P9(){const{movies:t,activeTab:e,setActiveTab:n,addMovie:i,isSubmitting:a,deleteMovie:l,updateMovieStatus:u,approveMovie:f,addSuggestion:p,suggestions:m,deleteSuggestion:y,isLoading:_}=M9(),[E,w]=$.useState("watched"),x=t.filter(fe=>fe.isApproved!==!1),L=x.filter(fe=>fe.status===e),{filters:N,setFilter:G,resetFilters:B,paginatedMovies:F,filteredMovies:Q,availableGenres:se,availableYears:ae,availableDirectors:C,pagination:R,sortOption:D,setSortOption:U}=L9(L),[M,j]=$.useState(!1),[O,Pe]=$.useState(!1),[Ve,q]=$.useState(!1),[ce,ge]=$.useState(!1),[xe,oe]=$.useState(!1),[k,Z]=$.useState(!1),[le,pe]=$.useState(null),[Te,we]=$.useState(!1),[Le,ht]=$.useState(!1),[We,yn]=$.useState(null),[Un,bt]=$.useState(null),[qt,er]=$.useState(!1),[Zs,Er]=$.useState(!1);ct.useEffect(()=>{const fe=iR(f_,gt=>{er(!!gt)});return()=>fe()},[]);const[Tr,$i]=$.useState([]),vt=async()=>{try{const fe=await Ua.getBlogPosts();if(fe.length===0){console.log("No blog posts found, migrating static data...");const{BLOG_POSTS:gt}=await tS(async()=>{const{BLOG_POSTS:Rt}=await import("./blogData-B9dRH3PK.js");return{BLOG_POSTS:Rt}},[]);await Ua.migrateStaticPosts(gt);const xt=await Ua.getBlogPosts();$i(xt)}else $i(fe)}catch(fe){console.error("Error fetching blog posts:",fe)}};ct.useEffect(()=>{vt()},[]),ct.useEffect(()=>{const gt=new URLSearchParams(window.location.search).get("blogId");if(gt&&Tr.length>0){const xt=Tr.find(Rt=>Rt.id===gt);xt&&(w("blog"),bt(xt))}},[Tr]),ct.useEffect(()=>{const fe=new URLSearchParams(window.location.search);if(Un){if(fe.get("blogId")!==Un.id){fe.set("blogId",Un.id);const gt=`${window.location.pathname}?${fe.toString()}`;window.history.pushState({path:gt},"",gt)}}else if(fe.has("blogId")){fe.delete("blogId");const gt=fe.toString()?`${window.location.pathname}?${fe.toString()}`:window.location.pathname;window.history.pushState({path:gt},"",gt)}},[Un]);const ut=fe=>{w(fe),fe!=="admin"&&n(fe)},[Ar,Qa]=$.useState(null),[Xa,$t]=$.useState(""),Gr=fe=>{Qa(fe.id),$t(fe.title),Pe(!0)},Wi=()=>{a||(Pe(!1),Qa(null),$t(""))},ea=async fe=>{try{Ar?u(Ar,"watched",{userRating:fe.userRating,userReview:fe.userReview,watchedDate:new Date().toISOString()}):(await i(fe),alert("ISLEM BASARILI. YENI KAYIT ONAY SURECINE ALINDI.")),Wi()}catch{alert("Islem sirasinda bir hata telegrafi olustu.")}},tr=fe=>{const xt=e==="watchlist"?"BU FILMI SILMEK ISTEDIGINIZE EMIN MISINIZ?":"BU KAYDI SILMEK ISTEDIGINIZE EMIN MISINIZ?";window.confirm(xt)&&l(fe)},Ja=()=>{const fe=x.filter(xt=>xt.status==="watched"&&(xt.userRating||0)>=4);if(fe.length===0){alert("ANSINIZ YOKMU! KOLEKSIYONDA 4 VEYA 5 YILDIZLI FILM BULUNAMADI.");return}const gt=Math.floor(Math.random()*fe.length);pe(fe[gt])},ta=fe=>{E==="watched"&&N.director===fe?G("director",""):(ut("watched"),G("searchTerm",""),G("genre",""),G("year",""),G("rating",""),G("director",fe))};return b.jsxs("div",{className:"min-h-screen pb-24 bg-black text-white font-mono selection:bg-yellow-400 selection:text-black",children:[b.jsx(GD,{activeTab:E,setActiveTab:ut,onSurpriseMe:Ja,isSearchVisible:M,toggleSearch:()=>j(!M),searchTerm:N.searchTerm,onSearchChange:fe=>G("searchTerm",fe),onHoroscopeClick:()=>q(!0),onBlogClick:()=>ut("blog"),onMusicClick:()=>Z(!0),onPatreonClick:()=>oe(!0),onAddMovieClick:()=>Pe(!0),onLoginClick:()=>{qt?ut(E==="admin"?"watched":"admin"):Er(!0)},onSuggestionClick:()=>ht(!0),onAboutClick:()=>we(!0),isAdminLoggedIn:qt}),b.jsx("main",{className:"max-w-[1800px] mx-auto px-4 py-6",children:E==="admin"&&qt?b.jsx(FB,{movies:t,onApprove:async fe=>await f(fe),onDelete:async fe=>await l(fe),onUpdate:async(fe,gt)=>await u(fe,gt.status,gt),suggestions:m,onDeleteSuggestion:y,blogPosts:Tr,onBlogUpdate:vt}):E==="blog"?b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Tr.map(fe=>b.jsx(KB,{post:fe,onClick:bt},fe.id))}):_?b.jsxs("div",{className:"flex flex-col items-center justify-center h-[50vh] text-center",children:[b.jsx(sD,{className:"w-16 h-16 text-yellow-400 animate-spin mb-4"}),b.jsx("h2",{className:"text-3xl text-white animate-pulse teletext-shadow",children:"BULUT BALANTISI KURULUYOR..."}),b.jsx("p",{className:"text-neutral-500 mt-2 font-mono text-sm tracking-widest",children:"SNYAL ARANIYOR"})]}):b.jsxs(b.Fragment,{children:[L.length>0&&b.jsx(HD,{activeTab:E,selectedGenre:N.genre,setSelectedGenre:fe=>G("genre",fe),selectedDirector:N.director,setSelectedDirector:fe=>G("director",fe),selectedYear:N.year,setSelectedYear:fe=>G("year",fe),selectedRating:N.rating,setSelectedRating:fe=>G("rating",fe),availableGenres:se,availableDirectors:C,availableYears:ae,sortOption:D,setSortOption:U}),L.length===0?b.jsxs("div",{className:"border-4 border-white border-dashed p-12 text-center bg-neutral-900",children:[b.jsx(OD,{size:64,className:"mx-auto text-neutral-600 mb-4"}),b.jsx("h2",{className:"text-3xl text-yellow-400 mb-2",children:"SINYAL YOK"}),b.jsx("p",{className:"text-xl text-white",children:"LTFEN YEN KAYIT EKLEYNZ..."}),b.jsx("button",{onClick:()=>Pe(!0),className:"mt-6 bg-yellow-400 text-black px-6 py-2 text-xl font-bold hover:bg-white",children:"[ KAYIT EKLE ]"})]}):Q.length===0?b.jsxs("div",{className:"bg-red-900/50 border-2 border-red-600 p-8 text-center",children:[b.jsx("p",{className:"text-2xl text-red-400 blink",children:"ARAMA SONUCU BULUNAMADI"}),b.jsx("button",{onClick:B,className:"mt-4 text-white underline decoration-2 underline-offset-4 hover:text-yellow-400",children:"FILTRELERI SIFIRLA"})]}):b.jsxs(b.Fragment,{children:[E==="watchlist"?b.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-6",children:F.map(fe=>b.jsx(UD,{movie:fe},fe.id))}):b.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-6",children:F.map(fe=>b.jsx(kD,{movie:fe,onDelete:tr,onMoveToWatched:Gr,onDirectorClick:ta,onClick:yn,className:"h-full"},fe.id))}),R.totalPages>1&&b.jsxs("div",{className:"flex justify-between items-center bg-neutral-900 border-2 border-white p-4 mt-8 font-bold text-xl select-none",children:[b.jsx("button",{onClick:R.goToPrevPage,disabled:R.currentPage===1,className:`transition-colors ${R.currentPage===1?"text-neutral-700 cursor-not-allowed":"text-white hover:text-yellow-400 hover:bg-neutral-800 px-4"}`,children:"< NCEK"}),b.jsxs("div",{className:"text-yellow-400 font-mono text-2xl",children:["SAYFA [ 100-",R.currentPage.toString().padStart(2,"0")," ]"]}),b.jsx("button",{onClick:R.goToNextPage,disabled:R.currentPage===R.totalPages,className:`transition-colors ${R.currentPage===R.totalPages?"text-neutral-700 cursor-not-allowed":"text-white hover:text-yellow-400 hover:bg-neutral-800 px-4"}`,children:"SONRAK >"})]})]})]})}),M&&b.jsxs("div",{className:"fixed bottom-[73px] sm:bottom-[77px] left-0 w-full bg-blue-800 p-2 border-y-2 border-white flex items-center gap-2 z-50 animate-in slide-in-from-bottom duration-200 shadow-[0_-10px_40px_rgba(0,0,0,0.8)]",children:[b.jsx("span",{className:"text-white font-bold whitespace-nowrap px-2",children:"ARAMA >"}),b.jsx("input",{autoFocus:!0,type:"text",value:N.searchTerm,onChange:fe=>G("searchTerm",fe.target.value.toUpperCase()),placeholder:"FLM VEYA YNETMEN ARA...",className:"w-full bg-black text-yellow-400 p-2 text-xl font-bold border-none outline-none placeholder-neutral-700"}),b.jsx("button",{onClick:()=>j(!1),className:"bg-red-600 text-white px-3 py-1 font-bold hover:bg-red-500 whitespace-nowrap",children:"KAPAT"})]}),b.jsxs("footer",{className:"fixed bottom-0 left-0 w-full bg-black border-t-2 border-white p-2 z-40 hidden md:grid grid-cols-2 gap-2",children:[b.jsxs("button",{onClick:()=>oe(!0),className:"w-full bg-cyan-400 text-black font-bold text-lg sm:text-2xl py-3 border-2 border-transparent hover:border-white hover:bg-cyan-300 transition-colors flex items-center justify-center gap-2",children:[b.jsx(oS,{className:"w-6 h-6 sm:w-8 sm:h-8"}),b.jsx("span",{children:"[ BR FLM ISMARLA ]"})]}),b.jsxs("div",{className:"flex gap-2 w-full",children:[b.jsx("button",{onClick:()=>Pe(!0),className:"flex-1 bg-yellow-400 text-black font-bold text-lg sm:text-2xl py-3 border-2 border-transparent hover:border-white hover:bg-yellow-300 transition-colors",children:"[ + YEN KAYIT ]"}),b.jsx("button",{onClick:()=>j(!M),className:"bg-neutral-800 text-neutral-500 font-bold text-lg px-4 border-2 border-transparent hover:border-white hover:text-white transition-colors flex items-center justify-center",title:"ARAMA",children:b.jsx(TD,{className:"w-6 h-6"})}),b.jsx("button",{onClick:()=>{qt?ut(E==="admin"?"watched":"admin"):Er(!0)},className:`bg-neutral-800 text-neutral-500 font-bold text-lg px-4 border-2 border-transparent hover:border-white hover:text-white transition-colors flex items-center justify-center ${E==="admin"?"bg-red-900/50 text-white border-red-500":""}`,title:qt?"YONETIM PANELI (AKTIF)":"YONETICI GIRISI",children:qt?E==="admin"?"IKI":"ADMN":"GR"}),b.jsx("button",{onClick:()=>we(!0),className:"bg-neutral-800 text-neutral-500 font-bold text-lg px-4 border-2 border-transparent hover:border-white hover:text-white transition-colors flex items-center justify-center",children:"?"}),b.jsx("button",{onClick:()=>ht(!0),className:"bg-neutral-800 text-neutral-500 font-bold text-lg px-4 border-2 border-transparent hover:border-white hover:text-white transition-colors flex items-center justify-center",title:"ONERI FORMU",children:"F"})]})]}),b.jsx(lS,{isOpen:O,onClose:Wi,onSubmit:ea,isSubmitting:a,initialTitle:Xa}),b.jsx(jD,{isOpen:Ve,onClose:()=>q(!1),movies:x.filter(fe=>fe.status==="watched"&&(fe.userRating||0)>=4)}),b.jsx(BD,{isOpen:ce,onClose:()=>ge(!1)}),b.jsx(zD,{isOpen:xe,onClose:()=>oe(!1)}),b.jsx(FD,{isOpen:k,onClose:()=>Z(!1)}),b.jsx(qD,{movie:le,onClose:()=>pe(null),onTryAgain:Ja,onDelete:tr,onMoveToWatched:Gr,onDirectorClick:ta}),b.jsx(GB,{isOpen:Te,onClose:()=>we(!1),watchedCount:x.filter(fe=>fe.status==="watched").length,watchlistCount:x.filter(fe=>fe.status==="watchlist").length}),b.jsx(HB,{isOpen:Le,onClose:()=>ht(!1),onSubmit:p,isSubmitting:a}),b.jsx(qB,{movie:We,onClose:()=>yn(null),onDelete:fe=>{tr(fe),yn(null)}}),b.jsx(YB,{isOpen:Zs,onClose:()=>Er(!1),onLoginSuccess:()=>ut("admin")}),b.jsx($B,{post:Un,onClose:()=>bt(null)})]})}const qN=document.getElementById("root");if(!qN)throw new Error("Could not find root element to mount to");const k9=DC.createRoot(qN);k9.render(b.jsx(ct.StrictMode,{children:b.jsx(P9,{})}));
