(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function sT(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var gm={exports:{}},Fo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hb;function rx(){if(Hb)return Fo;Hb=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,l,u){var h=null;if(u!==void 0&&(h=""+u),l.key!==void 0&&(h=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:i,type:a,key:h,ref:l!==void 0?l:null,props:u}}return Fo.Fragment=e,Fo.jsx=n,Fo.jsxs=n,Fo}var Fb;function ax(){return Fb||(Fb=1,gm.exports=rx()),gm.exports}var _=ax(),ym={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gb;function sx(){if(Gb)return Se;Gb=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),w=Symbol.iterator;function C(M){return M===null||typeof M!="object"?null:(M=w&&M[w]||M["@@iterator"],typeof M=="function"?M:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,F={};function ie(M,J,le){this.props=M,this.context=J,this.refs=F,this.updater=le||P}ie.prototype.isReactComponent={},ie.prototype.setState=function(M,J){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,J,"setState")},ie.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ee(){}ee.prototype=ie.prototype;function $(M,J,le){this.props=M,this.context=J,this.refs=F,this.updater=le||P}var oe=$.prototype=new ee;oe.constructor=$,Q(oe,ie.prototype),oe.isPureReactComponent=!0;var ne=Array.isArray;function _e(){}var R={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function x(M,J,le){var ce=le.ref;return{$$typeof:i,type:M,key:J,ref:ce!==void 0?ce:null,props:le}}function L(M,J){return x(M.type,J,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function V(M){var J={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(le){return J[le]})}var N=/\/+/g;function He(M,J){return typeof M=="object"&&M!==null&&M.key!=null?V(""+M.key):J.toString(36)}function ct(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(_e,_e):(M.status="pending",M.then(function(J){M.status==="pending"&&(M.status="fulfilled",M.value=J)},function(J){M.status==="pending"&&(M.status="rejected",M.reason=J)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function H(M,J,le,ce,Te){var Ae=typeof M;(Ae==="undefined"||Ae==="boolean")&&(M=null);var De=!1;if(M===null)De=!0;else switch(Ae){case"bigint":case"string":case"number":De=!0;break;case"object":switch(M.$$typeof){case i:case e:De=!0;break;case v:return De=M._init,H(De(M._payload),J,le,ce,Te)}}if(De)return Te=Te(M),De=ce===""?"."+He(M,0):ce,ne(Te)?(le="",De!=null&&(le=De.replace(N,"$&/")+"/"),H(Te,J,le,"",function(Zn){return Zn})):Te!=null&&(O(Te)&&(Te=L(Te,le+(Te.key==null||M&&M.key===Te.key?"":(""+Te.key).replace(N,"$&/")+"/")+De)),J.push(Te)),1;De=0;var ht=ce===""?".":ce+":";if(ne(M))for(var it=0;it<M.length;it++)ce=M[it],Ae=ht+He(ce,it),De+=H(ce,J,le,Ae,Te);else if(it=C(M),typeof it=="function")for(M=it.call(M),it=0;!(ce=M.next()).done;)ce=ce.value,Ae=ht+He(ce,it++),De+=H(ce,J,le,Ae,Te);else if(Ae==="object"){if(typeof M.then=="function")return H(ct(M),J,le,ce,Te);throw J=String(M),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return De}function ae(M,J,le){if(M==null)return M;var ce=[],Te=0;return H(M,ce,"","",function(Ae){return J.call(le,Ae,Te++)}),ce}function pe(M){if(M._status===-1){var J=M._result;J=J(),J.then(function(le){(M._status===0||M._status===-1)&&(M._status=1,M._result=le)},function(le){(M._status===0||M._status===-1)&&(M._status=2,M._result=le)}),M._status===-1&&(M._status=0,M._result=J)}if(M._status===1)return M._result.default;throw M._result}var ke=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Be={map:ae,forEach:function(M,J,le){ae(M,function(){J.apply(this,arguments)},le)},count:function(M){var J=0;return ae(M,function(){J++}),J},toArray:function(M){return ae(M,function(J){return J})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Se.Activity=A,Se.Children=Be,Se.Component=ie,Se.Fragment=n,Se.Profiler=l,Se.PureComponent=$,Se.StrictMode=a,Se.Suspense=p,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Se.__COMPILER_RUNTIME={__proto__:null,c:function(M){return R.H.useMemoCache(M)}},Se.cache=function(M){return function(){return M.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(M,J,le){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ce=Q({},M.props),Te=M.key;if(J!=null)for(Ae in J.key!==void 0&&(Te=""+J.key),J)!I.call(J,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&J.ref===void 0||(ce[Ae]=J[Ae]);var Ae=arguments.length-2;if(Ae===1)ce.children=le;else if(1<Ae){for(var De=Array(Ae),ht=0;ht<Ae;ht++)De[ht]=arguments[ht+2];ce.children=De}return x(M.type,Te,ce)},Se.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Se.createElement=function(M,J,le){var ce,Te={},Ae=null;if(J!=null)for(ce in J.key!==void 0&&(Ae=""+J.key),J)I.call(J,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Te[ce]=J[ce]);var De=arguments.length-2;if(De===1)Te.children=le;else if(1<De){for(var ht=Array(De),it=0;it<De;it++)ht[it]=arguments[it+2];Te.children=ht}if(M&&M.defaultProps)for(ce in De=M.defaultProps,De)Te[ce]===void 0&&(Te[ce]=De[ce]);return x(M,Ae,Te)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(M){return{$$typeof:m,render:M}},Se.isValidElement=O,Se.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:pe}},Se.memo=function(M,J){return{$$typeof:y,type:M,compare:J===void 0?null:J}},Se.startTransition=function(M){var J=R.T,le={};R.T=le;try{var ce=M(),Te=R.S;Te!==null&&Te(le,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(_e,ke)}catch(Ae){ke(Ae)}finally{J!==null&&le.types!==null&&(J.types=le.types),R.T=J}},Se.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Se.use=function(M){return R.H.use(M)},Se.useActionState=function(M,J,le){return R.H.useActionState(M,J,le)},Se.useCallback=function(M,J){return R.H.useCallback(M,J)},Se.useContext=function(M){return R.H.useContext(M)},Se.useDebugValue=function(){},Se.useDeferredValue=function(M,J){return R.H.useDeferredValue(M,J)},Se.useEffect=function(M,J){return R.H.useEffect(M,J)},Se.useEffectEvent=function(M){return R.H.useEffectEvent(M)},Se.useId=function(){return R.H.useId()},Se.useImperativeHandle=function(M,J,le){return R.H.useImperativeHandle(M,J,le)},Se.useInsertionEffect=function(M,J){return R.H.useInsertionEffect(M,J)},Se.useLayoutEffect=function(M,J){return R.H.useLayoutEffect(M,J)},Se.useMemo=function(M,J){return R.H.useMemo(M,J)},Se.useOptimistic=function(M,J){return R.H.useOptimistic(M,J)},Se.useReducer=function(M,J,le){return R.H.useReducer(M,J,le)},Se.useRef=function(M){return R.H.useRef(M)},Se.useState=function(M){return R.H.useState(M)},Se.useSyncExternalStore=function(M,J,le){return R.H.useSyncExternalStore(M,J,le)},Se.useTransition=function(){return R.H.useTransition()},Se.version="19.2.3",Se}var qb;function yp(){return qb||(qb=1,ym.exports=sx()),ym.exports}var ue=yp();const tu=sT(ue);var _m={exports:{}},Go={},bm={exports:{}},Em={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yb;function lx(){return Yb||(Yb=1,(function(i){function e(H,ae){var pe=H.length;H.push(ae);e:for(;0<pe;){var ke=pe-1>>>1,Be=H[ke];if(0<l(Be,ae))H[ke]=ae,H[pe]=Be,pe=ke;else break e}}function n(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var ae=H[0],pe=H.pop();if(pe!==ae){H[0]=pe;e:for(var ke=0,Be=H.length,M=Be>>>1;ke<M;){var J=2*(ke+1)-1,le=H[J],ce=J+1,Te=H[ce];if(0>l(le,pe))ce<Be&&0>l(Te,le)?(H[ke]=Te,H[ce]=pe,ke=ce):(H[ke]=le,H[J]=pe,ke=J);else if(ce<Be&&0>l(Te,pe))H[ke]=Te,H[ce]=pe,ke=ce;else break e}}return ae}function l(H,ae){var pe=H.sortIndex-ae.sortIndex;return pe!==0?pe:H.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],y=[],v=1,A=null,w=3,C=!1,P=!1,Q=!1,F=!1,ie=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function oe(H){for(var ae=n(y);ae!==null;){if(ae.callback===null)a(y);else if(ae.startTime<=H)a(y),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(y)}}function ne(H){if(Q=!1,oe(H),!P)if(n(p)!==null)P=!0,_e||(_e=!0,V());else{var ae=n(y);ae!==null&&ct(ne,ae.startTime-H)}}var _e=!1,R=-1,I=5,x=-1;function L(){return F?!0:!(i.unstable_now()-x<I)}function O(){if(F=!1,_e){var H=i.unstable_now();x=H;var ae=!0;try{e:{P=!1,Q&&(Q=!1,ee(R),R=-1),C=!0;var pe=w;try{t:{for(oe(H),A=n(p);A!==null&&!(A.expirationTime>H&&L());){var ke=A.callback;if(typeof ke=="function"){A.callback=null,w=A.priorityLevel;var Be=ke(A.expirationTime<=H);if(H=i.unstable_now(),typeof Be=="function"){A.callback=Be,oe(H),ae=!0;break t}A===n(p)&&a(p),oe(H)}else a(p);A=n(p)}if(A!==null)ae=!0;else{var M=n(y);M!==null&&ct(ne,M.startTime-H),ae=!1}}break e}finally{A=null,w=pe,C=!1}ae=void 0}}finally{ae?V():_e=!1}}}var V;if(typeof $=="function")V=function(){$(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,He=N.port2;N.port1.onmessage=O,V=function(){He.postMessage(null)}}else V=function(){ie(O,0)};function ct(H,ae){R=ie(function(){H(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(H){H.callback=null},i.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<H?Math.floor(1e3/H):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(H){switch(w){case 1:case 2:case 3:var ae=3;break;default:ae=w}var pe=w;w=ae;try{return H()}finally{w=pe}},i.unstable_requestPaint=function(){F=!0},i.unstable_runWithPriority=function(H,ae){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var pe=w;w=H;try{return ae()}finally{w=pe}},i.unstable_scheduleCallback=function(H,ae,pe){var ke=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ke+pe:ke):pe=ke,H){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=pe+Be,H={id:v++,callback:ae,priorityLevel:H,startTime:pe,expirationTime:Be,sortIndex:-1},pe>ke?(H.sortIndex=pe,e(y,H),n(p)===null&&H===n(y)&&(Q?(ee(R),R=-1):Q=!0,ct(ne,pe-ke))):(H.sortIndex=Be,e(p,H),P||C||(P=!0,_e||(_e=!0,V()))),H},i.unstable_shouldYield=L,i.unstable_wrapCallback=function(H){var ae=w;return function(){var pe=w;w=ae;try{return H.apply(this,arguments)}finally{w=pe}}}})(Em)),Em}var Kb;function ox(){return Kb||(Kb=1,bm.exports=lx()),bm.exports}var vm={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qb;function ux(){if(Qb)return en;Qb=1;var i=yp();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)y+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,y,v){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:p,containerInfo:y,implementation:v}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,en.createPortal=function(p,y){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,v)},en.flushSync=function(p){var y=h.T,v=a.p;try{if(h.T=null,a.p=2,p)return p()}finally{h.T=y,a.p=v,a.d.f()}},en.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(p,y))},en.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},en.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var v=y.as,A=m(v,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,C=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;v==="style"?a.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:C}):v==="script"&&a.d.X(p,{crossOrigin:A,integrity:w,fetchPriority:C,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},en.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var v=m(y.as,y.crossOrigin);a.d.M(p,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(p)},en.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var v=y.as,A=m(v,y.crossOrigin);a.d.L(p,v,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},en.preloadModule=function(p,y){if(typeof p=="string")if(y){var v=m(y.as,y.crossOrigin);a.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(p)},en.requestFormReset=function(p){a.d.r(p)},en.unstable_batchedUpdates=function(p,y){return p(y)},en.useFormState=function(p,y,v){return h.H.useFormState(p,y,v)},en.useFormStatus=function(){return h.H.useHostTransitionStatus()},en.version="19.2.3",en}var $b;function cx(){if($b)return vm.exports;$b=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),vm.exports=ux(),vm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xb;function hx(){if(Xb)return Go;Xb=1;var i=ox(),e=yp(),n=cx();function a(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(a(188))}function y(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(a(188));return r!==t?null:t}for(var s=t,o=r;;){var d=s.return;if(d===null)break;var f=d.alternate;if(f===null){if(o=d.return,o!==null){s=o;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===s)return p(d),t;if(f===o)return p(d),r;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=d,o=f;else{for(var b=!1,T=d.child;T;){if(T===s){b=!0,s=d,o=f;break}if(T===o){b=!0,o=d,s=f;break}T=T.sibling}if(!b){for(T=f.child;T;){if(T===s){b=!0,s=f,o=d;break}if(T===o){b=!0,o=f,s=d;break}T=T.sibling}if(!b)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:r}function v(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=v(t),r!==null)return r;t=t.sibling}return null}var A=Object.assign,w=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),ee=Symbol.for("react.consumer"),$=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function He(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case ie:return"Profiler";case F:return"StrictMode";case ne:return"Suspense";case _e:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case $:return t.displayName||"Context";case ee:return(t._context.displayName||"Context")+".Consumer";case oe:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return r=t.displayName||null,r!==null?r:He(t.type)||"Memo";case I:r=t._payload,t=t._init;try{return He(t(r))}catch{}}return null}var ct=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},ke=[],Be=-1;function M(t){return{current:t}}function J(t){0>Be||(t.current=ke[Be],ke[Be]=null,Be--)}function le(t,r){Be++,ke[Be]=t.current,t.current=r}var ce=M(null),Te=M(null),Ae=M(null),De=M(null);function ht(t,r){switch(le(Ae,r),le(Te,t),le(ce,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?hb(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=hb(r),t=db(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(ce),le(ce,t)}function it(){J(ce),J(Te),J(Ae)}function Zn(t){t.memoizedState!==null&&le(De,t);var r=ce.current,s=db(r,t.type);r!==s&&(le(Te,t),le(ce,s))}function Dn(t){Te.current===t&&(J(ce),J(Te)),De.current===t&&(J(De),jo._currentValue=pe)}var Ai,En;function Mn(t){if(Ai===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);Ai=r&&r[1]||"",En=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ai+t+En}var Ra=!1;function ei(t,r){if(!t||Ra)return"";Ra=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(r){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Y){var G=Y}Reflect.construct(t,[],W)}else{try{W.call()}catch(Y){G=Y}t.call(W.prototype)}}else{try{throw Error()}catch(Y){G=Y}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),b=f[0],T=f[1];if(b&&T){var k=b.split(`
`),B=T.split(`
`);for(d=o=0;o<k.length&&!k[o].includes("DetermineComponentFrameRoot");)o++;for(;d<B.length&&!B[d].includes("DetermineComponentFrameRoot");)d++;if(o===k.length||d===B.length)for(o=k.length-1,d=B.length-1;1<=o&&0<=d&&k[o]!==B[d];)d--;for(;1<=o&&0<=d;o--,d--)if(k[o]!==B[d]){if(o!==1||d!==1)do if(o--,d--,0>d||k[o]!==B[d]){var K=`
`+k[o].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=o&&0<=d);break}}}finally{Ra=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Mn(s):""}function Ln(t,r){switch(t.tag){case 26:case 27:case 5:return Mn(t.type);case 16:return Mn("Lazy");case 13:return t.child!==r&&r!==null?Mn("Suspense Fallback"):Mn("Suspense");case 19:return Mn("SuspenseList");case 0:case 15:return ei(t.type,!1);case 11:return ei(t.type.render,!1);case 1:return ei(t.type,!0);case 31:return Mn("Activity");default:return""}}function Sr(t){try{var r="",s=null;do r+=Ln(t,s),s=t,t=t.return;while(t);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var dt=Object.prototype.hasOwnProperty,yt=i.unstable_scheduleCallback,ti=i.unstable_cancelCallback,vs=i.unstable_shouldYield,Na=i.unstable_requestPaint,Ft=i.unstable_now,ni=i.unstable_getCurrentPriorityLevel,Ir=i.unstable_ImmediatePriority,xr=i.unstable_UserBlockingPriority,se=i.unstable_NormalPriority,_t=i.unstable_LowPriority,Vn=i.unstable_IdlePriority,Ts=i.log,Nu=i.unstable_setDisableYieldValue,ii=null,Gt=null;function Un(t){if(typeof Ts=="function"&&Nu(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(ii,t)}catch{}}var bt=Math.clz32?Math.clz32:Cu,ku=Math.log,As=Math.LN2;function Cu(t){return t>>>=0,t===0?32:31-(ku(t)/As|0)|0}var wi=256,ka=262144,St=4194304;function Si(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ii(t,r,s){var o=t.pendingLanes;if(o===0)return 0;var d=0,f=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?d=Si(o):(b&=T,b!==0?d=Si(b):s||(s=T&~t,s!==0&&(d=Si(s))))):(T=o&~f,T!==0?d=Si(T):b!==0?d=Si(b):s||(s=o&~t,s!==0&&(d=Si(s)))),d===0?0:r!==0&&r!==d&&(r&f)===0&&(f=d&-d,s=r&-r,f>=s||f===32&&(s&4194048)!==0)?r:d}function ri(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function bd(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ou(){var t=St;return St<<=1,(St&62914560)===0&&(St=4194304),t}function xi(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function Ca(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ed(t,r,s,o,d,f){var b=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,k=t.expirationTimes,B=t.hiddenUpdates;for(s=b&~s;0<s;){var K=31-bt(s),W=1<<K;T[K]=0,k[K]=-1;var G=B[K];if(G!==null)for(B[K]=null,K=0;K<G.length;K++){var Y=G[K];Y!==null&&(Y.lane&=-536870913)}s&=~W}o!==0&&Oa(t,o,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(b&~r))}function Oa(t,r,s){t.pendingLanes|=r,t.suspendedLanes&=~r;var o=31-bt(r);t.entangledLanes|=r,t.entanglements[o]=t.entanglements[o]|1073741824|s&261930}function Fl(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var o=31-bt(s),d=1<<o;d&r|t[o]&r&&(t[o]|=r),s&=~d}}function Gl(t,r){var s=r&-r;return s=(s&42)!==0?1:Da(s),(s&(t.suspendedLanes|r))!==0?0:s}function Da(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Zi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Du(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:Lb(t.type))}function ai(t,r){var s=ae.p;try{return ae.p=t,r()}finally{ae.p=s}}var si=Math.random().toString(36).slice(2),It="__reactFiber$"+si,jt="__reactProps$"+si,Ri="__reactContainer$"+si,ws="__reactEvents$"+si,vd="__reactListeners$"+si,Mu="__reactHandles$"+si,Lu="__reactResources$"+si,Ni="__reactMarker$"+si;function Ss(t){delete t[It],delete t[jt],delete t[ws],delete t[vd],delete t[Mu]}function ki(t){var r=t[It];if(r)return r;for(var s=t.parentNode;s;){if(r=s[Ri]||s[It]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=bb(t);t!==null;){if(s=t[It])return s;t=bb(t)}return r}t=s,s=t.parentNode}return null}function Pn(t){if(t=t[It]||t[Ri]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function vn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(a(33))}function Ci(t){var r=t[Lu];return r||(r=t[Lu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function xt(t){t[Ni]=!0}var ql=new Set,Yl={};function Oi(t,r){Di(t,r),Di(t+"Capture",r)}function Di(t,r){for(Yl[t]=r,t=0;t<r.length;t++)ql.add(r[t])}var Kl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ql={},$l={};function Vu(t){return dt.call($l,t)?!0:dt.call(Ql,t)?!1:Kl.test(t)?$l[t]=!0:(Ql[t]=!0,!1)}function Is(t,r,s){if(Vu(r))if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var o=r.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+s)}}function Tn(t,r,s){if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+s)}}function Rt(t,r,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(r,s,""+o)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Rr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Xl(t,r,s){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,f=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(b){s=""+b,f.call(this,b)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(b){s=""+b},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Qe(t){if(!t._valueTracker){var r=Rr(t)?"checked":"value";t._valueTracker=Xl(t,r,""+t[r])}}function Ma(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),o="";return t&&(o=Rr(t)?t.checked?"true":"false":t.value),t=o,t!==s?(r.setValue(t),!0):!1}function Mi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var La=/[\n"\\]/g;function hn(t){return t.replace(La,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function xs(t,r,s,o,d,f,b,T){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),r!=null?b==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+zt(r)):t.value!==""+zt(r)&&(t.value=""+zt(r)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),r!=null?Jl(t,b,zt(r)):s!=null?Jl(t,b,zt(s)):o!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+zt(T):t.removeAttribute("name")}function Uu(t,r,s,o,d,f,b,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),r!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||r!=null)){Qe(t);return}s=s!=null?""+zt(s):"",r=r!=null?""+zt(r):s,T||r===t.value||(t.value=r),t.defaultValue=r}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),Qe(t)}function Jl(t,r,s){r==="number"&&Mi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Nr(t,r,s,o){if(t=t.options,r){r={};for(var d=0;d<s.length;d++)r["$"+s[d]]=!0;for(s=0;s<t.length;s++)d=r.hasOwnProperty("$"+t[s].value),t[s].selected!==d&&(t[s].selected=d),d&&o&&(t[s].defaultSelected=!0)}else{for(s=""+zt(s),r=null,d=0;d<t.length;d++){if(t[d].value===s){t[d].selected=!0,o&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function Pu(t,r,s){if(r!=null&&(r=""+zt(r),r!==t.value&&(t.value=r),s==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=s!=null?""+zt(s):""}function kr(t,r,s,o){if(r==null){if(o!=null){if(s!=null)throw Error(a(92));if(ct(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),r=s}s=zt(r),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o),Qe(t)}function dn(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var ju=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wl(t,r,s){var o=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":o?t.setProperty(r,s):typeof s!="number"||s===0||ju.has(r)?r==="float"?t.cssFloat=s:t[r]=(""+s).trim():t[r]=s+"px"}function Zl(t,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||r!=null&&r.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var d in r)o=r[d],r.hasOwnProperty(d)&&s[d]!==o&&Wl(t,d,o)}else for(var f in r)r.hasOwnProperty(f)&&Wl(t,f,r[f])}function Rs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ns(t){return Cr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function li(){}var eo=null;function jn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Or=null,Li=null;function Va(t){var r=Pn(t);if(r&&(t=r.stateNode)){var s=t[jt]||null;e:switch(t=r.stateNode,r.type){case"input":if(xs(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+hn(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var o=s[r];if(o!==t&&o.form===t.form){var d=o[jt]||null;if(!d)throw Error(a(90));xs(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<s.length;r++)o=s[r],o.form===t.form&&Ma(o)}break e;case"textarea":Pu(t,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&Nr(t,!!s.multiple,r,!1)}}}var ks=!1;function Dr(t,r,s){if(ks)return t(r,s);ks=!0;try{var o=t(r);return o}finally{if(ks=!1,(Or!==null||Li!==null)&&(Dc(),Or&&(r=Or,t=Li,Li=Or=null,Va(r),t)))for(r=0;r<t.length;r++)Va(t[r])}}function oi(t,r){var s=t.stateNode;if(s===null)return null;var o=s[jt]||null;if(o===null)return null;s=o[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ua=!1;if(zn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){Ua=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{Ua=!1}var Vi=null,to=null,Pa=null;function no(){if(Pa)return Pa;var t,r=to,s=r.length,o,d="value"in Vi?Vi.value:Vi.textContent,f=d.length;for(t=0;t<s&&r[t]===d[t];t++);var b=s-t;for(o=1;o<=b&&r[s-o]===d[f-o];o++);return Pa=d.slice(t,1<o?1-o:void 0)}function ja(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function er(){return!0}function ui(){return!1}function qt(t){function r(s,o,d,f,b){this._reactName=s,this._targetInst=d,this.type=o,this.nativeEvent=f,this.target=b,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?er:ui,this.isPropagationStopped=ui,this}return A(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=er)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=er)},persist:function(){},isPersistent:er}),r}var tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ui=qt(tr),Mr=A({},tr,{view:0,detail:0}),io=qt(Mr),Lr,Cs,Pi,Os=A({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pi&&(Pi&&t.type==="mousemove"?(Lr=t.screenX-Pi.screenX,Cs=t.screenY-Pi.screenY):Cs=Lr=0,Pi=t),Lr)},movementY:function(t){return"movementY"in t?t.movementY:Cs}}),ro=qt(Os),za=A({},Os,{dataTransfer:0}),Bu=qt(za),Hu=A({},Mr,{relatedTarget:0}),Ba=qt(Hu),ao=A({},tr,{animationName:0,elapsedTime:0,pseudoElement:0}),Fu=qt(ao),Ds=A({},tr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Gu=qt(Ds),qu=A({},tr,{data:0}),ji=qt(qu),Yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $u(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Qu[t])?!!r[t]:!1}function Vr(){return $u}var sn=A({},Mr,{key:function(t){if(t.key){var r=Yu[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ja(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ku[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vr,charCode:function(t){return t.type==="keypress"?ja(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ja(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Xu=qt(sn),Ju=A({},Os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nr=qt(Ju),c=A({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vr}),g=qt(c),E=A({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=qt(E),j=A({},Os,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=qt(j),re=A({},tr,{newState:0,oldState:0}),xe=qt(re),Et=[9,13,27,32],qe=zn&&"CompositionEvent"in window,ot=null;zn&&"documentMode"in document&&(ot=document.documentMode);var Bn=zn&&"TextEvent"in window&&!ot,zi=zn&&(!qe||ot&&8<ot&&11>=ot),ci=" ",hi=!1;function Ha(t,r){switch(t){case"keyup":return Et.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ms(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ls=!1;function RS(t,r){switch(t){case"compositionend":return Ms(r);case"keypress":return r.which!==32?null:(hi=!0,ci);case"textInput":return t=r.data,t===ci&&hi?null:t;default:return null}}function NS(t,r){if(Ls)return t==="compositionend"||!qe&&Ha(t,r)?(t=no(),Pa=to=Vi=null,Ls=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return zi&&r.locale!=="ko"?null:r.data;default:return null}}var kS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!kS[t.type]:r==="textarea"}function Ag(t,r,s,o){Or?Li?Li.push(o):Li=[o]:Or=o,r=zc(r,"onChange"),0<r.length&&(s=new Ui("onChange","change",null,s,o),t.push({event:s,listeners:r}))}var so=null,lo=null;function CS(t){ab(t,0)}function Wu(t){var r=vn(t);if(Ma(r))return t}function wg(t,r){if(t==="change")return r}var Sg=!1;if(zn){var Td;if(zn){var Ad="oninput"in document;if(!Ad){var Ig=document.createElement("div");Ig.setAttribute("oninput","return;"),Ad=typeof Ig.oninput=="function"}Td=Ad}else Td=!1;Sg=Td&&(!document.documentMode||9<document.documentMode)}function xg(){so&&(so.detachEvent("onpropertychange",Rg),lo=so=null)}function Rg(t){if(t.propertyName==="value"&&Wu(lo)){var r=[];Ag(r,lo,t,jn(t)),Dr(CS,r)}}function OS(t,r,s){t==="focusin"?(xg(),so=r,lo=s,so.attachEvent("onpropertychange",Rg)):t==="focusout"&&xg()}function DS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wu(lo)}function MS(t,r){if(t==="click")return Wu(r)}function LS(t,r){if(t==="input"||t==="change")return Wu(r)}function VS(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var An=typeof Object.is=="function"?Object.is:VS;function oo(t,r){if(An(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),o=Object.keys(r);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var d=s[o];if(!dt.call(r,d)||!An(t[d],r[d]))return!1}return!0}function Ng(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kg(t,r){var s=Ng(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=r&&o>=r)return{node:s,offset:r-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Ng(s)}}function Cg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Cg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Og(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Mi(t.document);r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=Mi(t.document)}return r}function wd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var US=zn&&"documentMode"in document&&11>=document.documentMode,Vs=null,Sd=null,uo=null,Id=!1;function Dg(t,r,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Id||Vs==null||Vs!==Mi(o)||(o=Vs,"selectionStart"in o&&wd(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),uo&&oo(uo,o)||(uo=o,o=zc(Sd,"onSelect"),0<o.length&&(r=new Ui("onSelect","select",null,r,s),t.push({event:r,listeners:o}),r.target=Vs)))}function Fa(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var Us={animationend:Fa("Animation","AnimationEnd"),animationiteration:Fa("Animation","AnimationIteration"),animationstart:Fa("Animation","AnimationStart"),transitionrun:Fa("Transition","TransitionRun"),transitionstart:Fa("Transition","TransitionStart"),transitioncancel:Fa("Transition","TransitionCancel"),transitionend:Fa("Transition","TransitionEnd")},xd={},Mg={};zn&&(Mg=document.createElement("div").style,"AnimationEvent"in window||(delete Us.animationend.animation,delete Us.animationiteration.animation,delete Us.animationstart.animation),"TransitionEvent"in window||delete Us.transitionend.transition);function Ga(t){if(xd[t])return xd[t];if(!Us[t])return t;var r=Us[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in Mg)return xd[t]=r[s];return t}var Lg=Ga("animationend"),Vg=Ga("animationiteration"),Ug=Ga("animationstart"),PS=Ga("transitionrun"),jS=Ga("transitionstart"),zS=Ga("transitioncancel"),Pg=Ga("transitionend"),jg=new Map,Rd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rd.push("scrollEnd");function di(t,r){jg.set(t,r),Oi(r,[t])}var Zu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Hn=[],Ps=0,Nd=0;function ec(){for(var t=Ps,r=Nd=Ps=0;r<t;){var s=Hn[r];Hn[r++]=null;var o=Hn[r];Hn[r++]=null;var d=Hn[r];Hn[r++]=null;var f=Hn[r];if(Hn[r++]=null,o!==null&&d!==null){var b=o.pending;b===null?d.next=d:(d.next=b.next,b.next=d),o.pending=d}f!==0&&zg(s,d,f)}}function tc(t,r,s,o){Hn[Ps++]=t,Hn[Ps++]=r,Hn[Ps++]=s,Hn[Ps++]=o,Nd|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function kd(t,r,s,o){return tc(t,r,s,o),nc(t)}function qa(t,r){return tc(t,null,null,r),nc(t)}function zg(t,r,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var d=!1,f=t.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&r!==null&&(d=31-bt(s),t=f.hiddenUpdates,o=t[d],o===null?t[d]=[r]:o.push(r),r.lane=s|536870912),f):null}function nc(t){if(50<Oo)throw Oo=0,zf=null,Error(a(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var js={};function BS(t,r,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,r,s,o){return new BS(t,r,s,o)}function Cd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ir(t,r){var s=t.alternate;return s===null?(s=wn(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Bg(t,r){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,r=s.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function ic(t,r,s,o,d,f){var b=0;if(o=t,typeof t=="function")Cd(t)&&(b=1);else if(typeof t=="string")b=YI(t,s,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=wn(31,s,r,d),t.elementType=x,t.lanes=f,t;case Q:return Ya(s.children,d,f,r);case F:b=8,d|=24;break;case ie:return t=wn(12,s,r,d|2),t.elementType=ie,t.lanes=f,t;case ne:return t=wn(13,s,r,d),t.elementType=ne,t.lanes=f,t;case _e:return t=wn(19,s,r,d),t.elementType=_e,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $:b=10;break e;case ee:b=9;break e;case oe:b=11;break e;case R:b=14;break e;case I:b=16,o=null;break e}b=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return r=wn(b,s,r,d),r.elementType=t,r.type=o,r.lanes=f,r}function Ya(t,r,s,o){return t=wn(7,t,o,r),t.lanes=s,t}function Od(t,r,s){return t=wn(6,t,null,r),t.lanes=s,t}function Hg(t){var r=wn(18,null,null,0);return r.stateNode=t,r}function Dd(t,r,s){return r=wn(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Fg=new WeakMap;function Fn(t,r){if(typeof t=="object"&&t!==null){var s=Fg.get(t);return s!==void 0?s:(r={value:t,source:r,stack:Sr(r)},Fg.set(t,r),r)}return{value:t,source:r,stack:Sr(r)}}var zs=[],Bs=0,rc=null,co=0,Gn=[],qn=0,Ur=null,Bi=1,Hi="";function rr(t,r){zs[Bs++]=co,zs[Bs++]=rc,rc=t,co=r}function Gg(t,r,s){Gn[qn++]=Bi,Gn[qn++]=Hi,Gn[qn++]=Ur,Ur=t;var o=Bi;t=Hi;var d=32-bt(o)-1;o&=~(1<<d),s+=1;var f=32-bt(r)+d;if(30<f){var b=d-d%5;f=(o&(1<<b)-1).toString(32),o>>=b,d-=b,Bi=1<<32-bt(r)+d|s<<d|o,Hi=f+t}else Bi=1<<f|s<<d|o,Hi=t}function Md(t){t.return!==null&&(rr(t,1),Gg(t,1,0))}function Ld(t){for(;t===rc;)rc=zs[--Bs],zs[Bs]=null,co=zs[--Bs],zs[Bs]=null;for(;t===Ur;)Ur=Gn[--qn],Gn[qn]=null,Hi=Gn[--qn],Gn[qn]=null,Bi=Gn[--qn],Gn[qn]=null}function qg(t,r){Gn[qn++]=Bi,Gn[qn++]=Hi,Gn[qn++]=Ur,Bi=r.id,Hi=r.overflow,Ur=t}var Yt=null,at=null,je=!1,Pr=null,Yn=!1,Vd=Error(a(519));function jr(t){var r=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ho(Fn(r,t)),Vd}function Yg(t){var r=t.stateNode,s=t.type,o=t.memoizedProps;switch(r[It]=t,r[jt]=o,s){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(s=0;s<Mo.length;s++)Oe(Mo[s],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),Uu(r,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),kr(r,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||o.suppressHydrationWarning===!0||ub(r.textContent,s)?(o.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),o.onScroll!=null&&Oe("scroll",r),o.onScrollEnd!=null&&Oe("scrollend",r),o.onClick!=null&&(r.onclick=li),r=!0):r=!1,r||jr(t,!0)}function Kg(t){for(Yt=t.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Yt=Yt.return}}function Hs(t){if(t!==Yt)return!1;if(!je)return Kg(t),je=!0,!1;var r=t.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||tm(t.type,t.memoizedProps)),s=!s),s&&at&&jr(t),Kg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));at=_b(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));at=_b(t)}else r===27?(r=at,Zr(t.type)?(t=sm,sm=null,at=t):at=r):at=Yt?Qn(t.stateNode.nextSibling):null;return!0}function Ka(){at=Yt=null,je=!1}function Ud(){var t=Pr;return t!==null&&(gn===null?gn=t:gn.push.apply(gn,t),Pr=null),t}function ho(t){Pr===null?Pr=[t]:Pr.push(t)}var Pd=M(null),Qa=null,ar=null;function zr(t,r,s){le(Pd,r._currentValue),r._currentValue=s}function sr(t){t._currentValue=Pd.current,J(Pd)}function jd(t,r,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,o!==null&&(o.childLanes|=r)):o!==null&&(o.childLanes&r)!==r&&(o.childLanes|=r),t===s)break;t=t.return}}function zd(t,r,s,o){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var b=d.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=d;for(var k=0;k<r.length;k++)if(T.context===r[k]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),jd(f.return,s,t),o||(b=null);break e}f=T.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(a(341));b.lanes|=s,f=b.alternate,f!==null&&(f.lanes|=s),jd(b,s,t),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===t){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function Fs(t,r,s,o){t=null;for(var d=r,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(a(387));if(b=b.memoizedProps,b!==null){var T=d.type;An(d.pendingProps.value,b.value)||(t!==null?t.push(T):t=[T])}}else if(d===De.current){if(b=d.alternate,b===null)throw Error(a(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(jo):t=[jo])}d=d.return}t!==null&&zd(r,t,s,o),r.flags|=262144}function ac(t){for(t=t.firstContext;t!==null;){if(!An(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function $a(t){Qa=t,ar=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return Qg(Qa,t)}function sc(t,r){return Qa===null&&$a(t),Qg(t,r)}function Qg(t,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},ar===null){if(t===null)throw Error(a(308));ar=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else ar=ar.next=r;return s}var HS=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){r.aborted=!0,t.forEach(function(s){return s()})}},FS=i.unstable_scheduleCallback,GS=i.unstable_NormalPriority,Nt={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bd(){return{controller:new HS,data:new Map,refCount:0}}function fo(t){t.refCount--,t.refCount===0&&FS(GS,function(){t.controller.abort()})}var mo=null,Hd=0,Gs=0,qs=null;function qS(t,r){if(mo===null){var s=mo=[];Hd=0,Gs=Yf(),qs={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Hd++,r.then($g,$g),r}function $g(){if(--Hd===0&&mo!==null){qs!==null&&(qs.status="fulfilled");var t=mo;mo=null,Gs=0,qs=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function YS(t,r){var s=[],o={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return t.then(function(){o.status="fulfilled",o.value=r;for(var d=0;d<s.length;d++)(0,s[d])(r)},function(d){for(o.status="rejected",o.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),o}var Xg=H.S;H.S=function(t,r){D_=Ft(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&qS(t,r),Xg!==null&&Xg(t,r)};var Xa=M(null);function Fd(){var t=Xa.current;return t!==null?t:nt.pooledCache}function lc(t,r){r===null?le(Xa,Xa.current):le(Xa,r.pool)}function Jg(){var t=Fd();return t===null?null:{parent:Nt._currentValue,pool:t}}var Ys=Error(a(460)),Gd=Error(a(474)),oc=Error(a(542)),uc={then:function(){}};function Wg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Zg(t,r,s){switch(s=t[s],s===void 0?t.push(r):s!==r&&(r.then(li,li),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,ty(t),t;default:if(typeof r.status=="string")r.then(li,li);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=r,t.status="pending",t.then(function(o){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=o}},function(o){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=o}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,ty(t),t}throw Wa=r,Ys}}function Ja(t){try{var r=t._init;return r(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Wa=s,Ys):s}}var Wa=null;function ey(){if(Wa===null)throw Error(a(459));var t=Wa;return Wa=null,t}function ty(t){if(t===Ys||t===oc)throw Error(a(483))}var Ks=null,po=0;function cc(t){var r=po;return po+=1,Ks===null&&(Ks=[]),Zg(Ks,t,r)}function go(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function hc(t,r){throw r.$$typeof===w?Error(a(525)):(t=Object.prototype.toString.call(r),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function ny(t){function r(U,D){if(t){var z=U.deletions;z===null?(U.deletions=[D],U.flags|=16):z.push(D)}}function s(U,D){if(!t)return null;for(;D!==null;)r(U,D),D=D.sibling;return null}function o(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function d(U,D){return U=ir(U,D),U.index=0,U.sibling=null,U}function f(U,D,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<D?(U.flags|=67108866,D):z):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function b(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,D,z,X){return D===null||D.tag!==6?(D=Od(z,U.mode,X),D.return=U,D):(D=d(D,z),D.return=U,D)}function k(U,D,z,X){var ge=z.type;return ge===Q?K(U,D,z.props.children,X,z.key):D!==null&&(D.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===I&&Ja(ge)===D.type)?(D=d(D,z.props),go(D,z),D.return=U,D):(D=ic(z.type,z.key,z.props,null,U.mode,X),go(D,z),D.return=U,D)}function B(U,D,z,X){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=Dd(z,U.mode,X),D.return=U,D):(D=d(D,z.children||[]),D.return=U,D)}function K(U,D,z,X,ge){return D===null||D.tag!==7?(D=Ya(z,U.mode,X,ge),D.return=U,D):(D=d(D,z),D.return=U,D)}function W(U,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Od(""+D,U.mode,z),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case C:return z=ic(D.type,D.key,D.props,null,U.mode,z),go(z,D),z.return=U,z;case P:return D=Dd(D,U.mode,z),D.return=U,D;case I:return D=Ja(D),W(U,D,z)}if(ct(D)||V(D))return D=Ya(D,U.mode,z,null),D.return=U,D;if(typeof D.then=="function")return W(U,cc(D),z);if(D.$$typeof===$)return W(U,sc(U,D),z);hc(U,D)}return null}function G(U,D,z,X){var ge=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ge!==null?null:T(U,D,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case C:return z.key===ge?k(U,D,z,X):null;case P:return z.key===ge?B(U,D,z,X):null;case I:return z=Ja(z),G(U,D,z,X)}if(ct(z)||V(z))return ge!==null?null:K(U,D,z,X,null);if(typeof z.then=="function")return G(U,D,cc(z),X);if(z.$$typeof===$)return G(U,D,sc(U,z),X);hc(U,z)}return null}function Y(U,D,z,X,ge){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(z)||null,T(D,U,""+X,ge);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case C:return U=U.get(X.key===null?z:X.key)||null,k(D,U,X,ge);case P:return U=U.get(X.key===null?z:X.key)||null,B(D,U,X,ge);case I:return X=Ja(X),Y(U,D,z,X,ge)}if(ct(X)||V(X))return U=U.get(z)||null,K(D,U,X,ge,null);if(typeof X.then=="function")return Y(U,D,z,cc(X),ge);if(X.$$typeof===$)return Y(U,D,z,sc(D,X),ge);hc(D,X)}return null}function fe(U,D,z,X){for(var ge=null,Fe=null,me=D,Ne=D=0,Le=null;me!==null&&Ne<z.length;Ne++){me.index>Ne?(Le=me,me=null):Le=me.sibling;var Ge=G(U,me,z[Ne],X);if(Ge===null){me===null&&(me=Le);break}t&&me&&Ge.alternate===null&&r(U,me),D=f(Ge,D,Ne),Fe===null?ge=Ge:Fe.sibling=Ge,Fe=Ge,me=Le}if(Ne===z.length)return s(U,me),je&&rr(U,Ne),ge;if(me===null){for(;Ne<z.length;Ne++)me=W(U,z[Ne],X),me!==null&&(D=f(me,D,Ne),Fe===null?ge=me:Fe.sibling=me,Fe=me);return je&&rr(U,Ne),ge}for(me=o(me);Ne<z.length;Ne++)Le=Y(me,U,Ne,z[Ne],X),Le!==null&&(t&&Le.alternate!==null&&me.delete(Le.key===null?Ne:Le.key),D=f(Le,D,Ne),Fe===null?ge=Le:Fe.sibling=Le,Fe=Le);return t&&me.forEach(function(ra){return r(U,ra)}),je&&rr(U,Ne),ge}function be(U,D,z,X){if(z==null)throw Error(a(151));for(var ge=null,Fe=null,me=D,Ne=D=0,Le=null,Ge=z.next();me!==null&&!Ge.done;Ne++,Ge=z.next()){me.index>Ne?(Le=me,me=null):Le=me.sibling;var ra=G(U,me,Ge.value,X);if(ra===null){me===null&&(me=Le);break}t&&me&&ra.alternate===null&&r(U,me),D=f(ra,D,Ne),Fe===null?ge=ra:Fe.sibling=ra,Fe=ra,me=Le}if(Ge.done)return s(U,me),je&&rr(U,Ne),ge;if(me===null){for(;!Ge.done;Ne++,Ge=z.next())Ge=W(U,Ge.value,X),Ge!==null&&(D=f(Ge,D,Ne),Fe===null?ge=Ge:Fe.sibling=Ge,Fe=Ge);return je&&rr(U,Ne),ge}for(me=o(me);!Ge.done;Ne++,Ge=z.next())Ge=Y(me,U,Ne,Ge.value,X),Ge!==null&&(t&&Ge.alternate!==null&&me.delete(Ge.key===null?Ne:Ge.key),D=f(Ge,D,Ne),Fe===null?ge=Ge:Fe.sibling=Ge,Fe=Ge);return t&&me.forEach(function(ix){return r(U,ix)}),je&&rr(U,Ne),ge}function et(U,D,z,X){if(typeof z=="object"&&z!==null&&z.type===Q&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case C:e:{for(var ge=z.key;D!==null;){if(D.key===ge){if(ge=z.type,ge===Q){if(D.tag===7){s(U,D.sibling),X=d(D,z.props.children),X.return=U,U=X;break e}}else if(D.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===I&&Ja(ge)===D.type){s(U,D.sibling),X=d(D,z.props),go(X,z),X.return=U,U=X;break e}s(U,D);break}else r(U,D);D=D.sibling}z.type===Q?(X=Ya(z.props.children,U.mode,X,z.key),X.return=U,U=X):(X=ic(z.type,z.key,z.props,null,U.mode,X),go(X,z),X.return=U,U=X)}return b(U);case P:e:{for(ge=z.key;D!==null;){if(D.key===ge)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){s(U,D.sibling),X=d(D,z.children||[]),X.return=U,U=X;break e}else{s(U,D);break}else r(U,D);D=D.sibling}X=Dd(z,U.mode,X),X.return=U,U=X}return b(U);case I:return z=Ja(z),et(U,D,z,X)}if(ct(z))return fe(U,D,z,X);if(V(z)){if(ge=V(z),typeof ge!="function")throw Error(a(150));return z=ge.call(z),be(U,D,z,X)}if(typeof z.then=="function")return et(U,D,cc(z),X);if(z.$$typeof===$)return et(U,D,sc(U,z),X);hc(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,D!==null&&D.tag===6?(s(U,D.sibling),X=d(D,z),X.return=U,U=X):(s(U,D),X=Od(z,U.mode,X),X.return=U,U=X),b(U)):s(U,D)}return function(U,D,z,X){try{po=0;var ge=et(U,D,z,X);return Ks=null,ge}catch(me){if(me===Ys||me===oc)throw me;var Fe=wn(29,me,null,U.mode);return Fe.lanes=X,Fe.return=U,Fe}finally{}}}var Za=ny(!0),iy=ny(!1),Br=!1;function qd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Hr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Fr(t,r,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ye&2)!==0){var d=o.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),o.pending=r,r=nc(t),zg(t,null,s),r}return tc(t,o,r,s),nc(t)}function yo(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var o=r.lanes;o&=t.pendingLanes,s|=o,r.lanes=s,Fl(t,s)}}function Kd(t,r){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var d=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var b={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?d=f=b:f=f.next=b,s=s.next}while(s!==null);f===null?d=f=r:f=f.next=r}else d=f=r;s={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}var Qd=!1;function _o(){if(Qd){var t=qs;if(t!==null)throw t}}function bo(t,r,s,o){Qd=!1;var d=t.updateQueue;Br=!1;var f=d.firstBaseUpdate,b=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var k=T,B=k.next;k.next=null,b===null?f=B:b.next=B,b=k;var K=t.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==b&&(T===null?K.firstBaseUpdate=B:T.next=B,K.lastBaseUpdate=k))}if(f!==null){var W=d.baseState;b=0,K=B=k=null,T=f;do{var G=T.lane&-536870913,Y=G!==T.lane;if(Y?(Me&G)===G:(o&G)===G){G!==0&&G===Gs&&(Qd=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var fe=t,be=T;G=r;var et=s;switch(be.tag){case 1:if(fe=be.payload,typeof fe=="function"){W=fe.call(et,W,G);break e}W=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=be.payload,G=typeof fe=="function"?fe.call(et,W,G):fe,G==null)break e;W=A({},W,G);break e;case 2:Br=!0}}G=T.callback,G!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=d.callbacks,Y===null?d.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(B=K=Y,k=W):K=K.next=Y,b|=G;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,d.lastBaseUpdate=Y,d.shared.pending=null}}while(!0);K===null&&(k=W),d.baseState=k,d.firstBaseUpdate=B,d.lastBaseUpdate=K,f===null&&(d.shared.lanes=0),Qr|=b,t.lanes=b,t.memoizedState=W}}function ry(t,r){if(typeof t!="function")throw Error(a(191,t));t.call(r)}function ay(t,r){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)ry(s[t],r)}var Qs=M(null),dc=M(0);function sy(t,r){t=pr,le(dc,t),le(Qs,r),pr=t|r.baseLanes}function $d(){le(dc,pr),le(Qs,Qs.current)}function Xd(){pr=dc.current,J(Qs),J(dc)}var Sn=M(null),Kn=null;function Gr(t){var r=t.alternate;le(vt,vt.current&1),le(Sn,t),Kn===null&&(r===null||Qs.current!==null||r.memoizedState!==null)&&(Kn=t)}function Jd(t){le(vt,vt.current),le(Sn,t),Kn===null&&(Kn=t)}function ly(t){t.tag===22?(le(vt,vt.current),le(Sn,t),Kn===null&&(Kn=t)):qr()}function qr(){le(vt,vt.current),le(Sn,Sn.current)}function In(t){J(Sn),Kn===t&&(Kn=null),J(vt)}var vt=M(0);function fc(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||rm(s)||am(s)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var lr=0,Re=null,We=null,kt=null,mc=!1,$s=!1,es=!1,pc=0,Eo=0,Xs=null,KS=0;function pt(){throw Error(a(321))}function Wd(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!An(t[s],r[s]))return!1;return!0}function Zd(t,r,s,o,d,f){return lr=f,Re=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,H.H=t===null||t.memoizedState===null?Gy:pf,es=!1,f=s(o,d),es=!1,$s&&(f=uy(r,s,o,d)),oy(t),f}function oy(t){H.H=Ao;var r=We!==null&&We.next!==null;if(lr=0,kt=We=Re=null,mc=!1,Eo=0,Xs=null,r)throw Error(a(300));t===null||Ct||(t=t.dependencies,t!==null&&ac(t)&&(Ct=!0))}function uy(t,r,s,o){Re=t;var d=0;do{if($s&&(Xs=null),Eo=0,$s=!1,25<=d)throw Error(a(301));if(d+=1,kt=We=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=qy,f=r(s,o)}while($s);return f}function QS(){var t=H.H,r=t.useState()[0];return r=typeof r.then=="function"?vo(r):r,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Re.flags|=1024),r}function ef(){var t=pc!==0;return pc=0,t}function tf(t,r,s){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~s}function nf(t){if(mc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}mc=!1}lr=0,kt=We=Re=null,$s=!1,Eo=pc=0,Xs=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Re.memoizedState=kt=t:kt=kt.next=t,kt}function Tt(){if(We===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var r=kt===null?Re.memoizedState:kt.next;if(r!==null)kt=r,We=t;else{if(t===null)throw Re.alternate===null?Error(a(467)):Error(a(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},kt===null?Re.memoizedState=kt=t:kt=kt.next=t}return kt}function gc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vo(t){var r=Eo;return Eo+=1,Xs===null&&(Xs=[]),t=Zg(Xs,t,r),r=Re,(kt===null?r.memoizedState:kt.next)===null&&(r=r.alternate,H.H=r===null||r.memoizedState===null?Gy:pf),t}function yc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return vo(t);if(t.$$typeof===$)return Kt(t)}throw Error(a(438,String(t)))}function rf(t){var r=null,s=Re.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var o=Re.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(r={data:o.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=gc(),Re.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(t),o=0;o<t;o++)s[o]=L;return r.index++,s}function or(t,r){return typeof r=="function"?r(t):r}function _c(t){var r=Tt();return af(r,We,t)}function af(t,r,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var d=t.baseQueue,f=o.pending;if(f!==null){if(d!==null){var b=d.next;d.next=f.next,f.next=b}r.baseQueue=d=f,o.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{r=d.next;var T=b=null,k=null,B=r,K=!1;do{var W=B.lane&-536870913;if(W!==B.lane?(Me&W)===W:(lr&W)===W){var G=B.revertLane;if(G===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),W===Gs&&(K=!0);else if((lr&G)===G){B=B.next,G===Gs&&(K=!0);continue}else W={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},k===null?(T=k=W,b=f):k=k.next=W,Re.lanes|=G,Qr|=G;W=B.action,es&&s(f,W),f=B.hasEagerState?B.eagerState:s(f,W)}else G={lane:W,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},k===null?(T=k=G,b=f):k=k.next=G,Re.lanes|=W,Qr|=W;B=B.next}while(B!==null&&B!==r);if(k===null?b=f:k.next=T,!An(f,t.memoizedState)&&(Ct=!0,K&&(s=qs,s!==null)))throw s;t.memoizedState=f,t.baseState=b,t.baseQueue=k,o.lastRenderedState=f}return d===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function sf(t){var r=Tt(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,d=s.pending,f=r.memoizedState;if(d!==null){s.pending=null;var b=d=d.next;do f=t(f,b.action),b=b.next;while(b!==d);An(f,r.memoizedState)||(Ct=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),s.lastRenderedState=f}return[f,o]}function cy(t,r,s){var o=Re,d=Tt(),f=je;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=r();var b=!An((We||d).memoizedState,s);if(b&&(d.memoizedState=s,Ct=!0),d=d.queue,uf(fy.bind(null,o,d,t),[t]),d.getSnapshot!==r||b||kt!==null&&kt.memoizedState.tag&1){if(o.flags|=2048,Js(9,{destroy:void 0},dy.bind(null,o,d,s,r),null),nt===null)throw Error(a(349));f||(lr&127)!==0||hy(o,r,s)}return s}function hy(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=Re.updateQueue,r===null?(r=gc(),Re.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function dy(t,r,s,o){r.value=s,r.getSnapshot=o,my(r)&&py(t)}function fy(t,r,s){return s(function(){my(r)&&py(t)})}function my(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!An(t,s)}catch{return!0}}function py(t){var r=qa(t,2);r!==null&&yn(r,t,2)}function lf(t){var r=ln();if(typeof t=="function"){var s=t;if(t=s(),es){Un(!0);try{s()}finally{Un(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:t},r}function gy(t,r,s,o){return t.baseState=s,af(t,We,typeof o=="function"?o:or)}function $S(t,r,s,o,d){if(vc(t))throw Error(a(485));if(t=r.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){f.listeners.push(b)}};H.T!==null?s(!0):f.isTransition=!1,o(f),s=r.pending,s===null?(f.next=r.pending=f,yy(r,f)):(f.next=s.next,r.pending=s.next=f)}}function yy(t,r){var s=r.action,o=r.payload,d=t.state;if(r.isTransition){var f=H.T,b={};H.T=b;try{var T=s(d,o),k=H.S;k!==null&&k(b,T),_y(t,r,T)}catch(B){of(t,r,B)}finally{f!==null&&b.types!==null&&(f.types=b.types),H.T=f}}else try{f=s(d,o),_y(t,r,f)}catch(B){of(t,r,B)}}function _y(t,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){by(t,r,o)},function(o){return of(t,r,o)}):by(t,r,s)}function by(t,r,s){r.status="fulfilled",r.value=s,Ey(r),t.state=s,r=t.pending,r!==null&&(s=r.next,s===r?t.pending=null:(s=s.next,r.next=s,yy(t,s)))}function of(t,r,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do r.status="rejected",r.reason=s,Ey(r),r=r.next;while(r!==o)}t.action=null}function Ey(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function vy(t,r){return r}function Ty(t,r){if(je){var s=nt.formState;if(s!==null){e:{var o=Re;if(je){if(at){t:{for(var d=at,f=Yn;d.nodeType!==8;){if(!f){d=null;break t}if(d=Qn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){at=Qn(d.nextSibling),o=d.data==="F!";break e}}jr(o)}o=!1}o&&(r=s[0])}}return s=ln(),s.memoizedState=s.baseState=r,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vy,lastRenderedState:r},s.queue=o,s=By.bind(null,Re,o),o.dispatch=s,o=lf(!1),f=mf.bind(null,Re,!1,o.queue),o=ln(),d={state:r,dispatch:null,action:t,pending:null},o.queue=d,s=$S.bind(null,Re,d,f,s),d.dispatch=s,o.memoizedState=t,[r,s,!1]}function Ay(t){var r=Tt();return wy(r,We,t)}function wy(t,r,s){if(r=af(t,r,vy)[0],t=_c(or)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var o=vo(r)}catch(b){throw b===Ys?oc:b}else o=r;r=Tt();var d=r.queue,f=d.dispatch;return s!==r.memoizedState&&(Re.flags|=2048,Js(9,{destroy:void 0},XS.bind(null,d,s),null)),[o,f,t]}function XS(t,r){t.action=r}function Sy(t){var r=Tt(),s=We;if(s!==null)return wy(r,s,t);Tt(),r=r.memoizedState,s=Tt();var o=s.queue.dispatch;return s.memoizedState=t,[r,o,!1]}function Js(t,r,s,o){return t={tag:t,create:s,deps:o,inst:r,next:null},r=Re.updateQueue,r===null&&(r=gc(),Re.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,r.lastEffect=t),t}function Iy(){return Tt().memoizedState}function bc(t,r,s,o){var d=ln();Re.flags|=t,d.memoizedState=Js(1|r,{destroy:void 0},s,o===void 0?null:o)}function Ec(t,r,s,o){var d=Tt();o=o===void 0?null:o;var f=d.memoizedState.inst;We!==null&&o!==null&&Wd(o,We.memoizedState.deps)?d.memoizedState=Js(r,f,s,o):(Re.flags|=t,d.memoizedState=Js(1|r,f,s,o))}function xy(t,r){bc(8390656,8,t,r)}function uf(t,r){Ec(2048,8,t,r)}function JS(t){Re.flags|=4;var r=Re.updateQueue;if(r===null)r=gc(),Re.updateQueue=r,r.events=[t];else{var s=r.events;s===null?r.events=[t]:s.push(t)}}function Ry(t){var r=Tt().memoizedState;return JS({ref:r,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}function Ny(t,r){return Ec(4,2,t,r)}function ky(t,r){return Ec(4,4,t,r)}function Cy(t,r){if(typeof r=="function"){t=t();var s=r(t);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Oy(t,r,s){s=s!=null?s.concat([t]):null,Ec(4,4,Cy.bind(null,r,t),s)}function cf(){}function Dy(t,r){var s=Tt();r=r===void 0?null:r;var o=s.memoizedState;return r!==null&&Wd(r,o[1])?o[0]:(s.memoizedState=[t,r],t)}function My(t,r){var s=Tt();r=r===void 0?null:r;var o=s.memoizedState;if(r!==null&&Wd(r,o[1]))return o[0];if(o=t(),es){Un(!0);try{t()}finally{Un(!1)}}return s.memoizedState=[o,r],o}function hf(t,r,s){return s===void 0||(lr&1073741824)!==0&&(Me&261930)===0?t.memoizedState=r:(t.memoizedState=s,t=L_(),Re.lanes|=t,Qr|=t,s)}function Ly(t,r,s,o){return An(s,r)?s:Qs.current!==null?(t=hf(t,s,o),An(t,r)||(Ct=!0),t):(lr&42)===0||(lr&1073741824)!==0&&(Me&261930)===0?(Ct=!0,t.memoizedState=s):(t=L_(),Re.lanes|=t,Qr|=t,r)}function Vy(t,r,s,o,d){var f=ae.p;ae.p=f!==0&&8>f?f:8;var b=H.T,T={};H.T=T,mf(t,!1,r,s);try{var k=d(),B=H.S;if(B!==null&&B(T,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var K=YS(k,o);To(t,r,K,Nn(t))}else To(t,r,o,Nn(t))}catch(W){To(t,r,{then:function(){},status:"rejected",reason:W},Nn())}finally{ae.p=f,b!==null&&T.types!==null&&(b.types=T.types),H.T=b}}function WS(){}function df(t,r,s,o){if(t.tag!==5)throw Error(a(476));var d=Uy(t).queue;Vy(t,d,r,pe,s===null?WS:function(){return Py(t),s(o)})}function Uy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:pe},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:s},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Py(t){var r=Uy(t);r.next===null&&(r=t.alternate.memoizedState),To(t,r.next.queue,{},Nn())}function ff(){return Kt(jo)}function jy(){return Tt().memoizedState}function zy(){return Tt().memoizedState}function ZS(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var s=Nn();t=Hr(s);var o=Fr(r,t,s);o!==null&&(yn(o,r,s),yo(o,r,s)),r={cache:Bd()},t.payload=r;return}r=r.return}}function eI(t,r,s){var o=Nn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},vc(t)?Hy(r,s):(s=kd(t,r,s,o),s!==null&&(yn(s,t,o),Fy(s,r,o)))}function By(t,r,s){var o=Nn();To(t,r,s,o)}function To(t,r,s,o){var d={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(vc(t))Hy(r,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var b=r.lastRenderedState,T=f(b,s);if(d.hasEagerState=!0,d.eagerState=T,An(T,b))return tc(t,r,d,0),nt===null&&ec(),!1}catch{}finally{}if(s=kd(t,r,d,o),s!==null)return yn(s,t,o),Fy(s,r,o),!0}return!1}function mf(t,r,s,o){if(o={lane:2,revertLane:Yf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},vc(t)){if(r)throw Error(a(479))}else r=kd(t,s,o,2),r!==null&&yn(r,t,2)}function vc(t){var r=t.alternate;return t===Re||r!==null&&r===Re}function Hy(t,r){$s=mc=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function Fy(t,r,s){if((s&4194048)!==0){var o=r.lanes;o&=t.pendingLanes,s|=o,r.lanes=s,Fl(t,s)}}var Ao={readContext:Kt,use:yc,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};Ao.useEffectEvent=pt;var Gy={readContext:Kt,use:yc,useCallback:function(t,r){return ln().memoizedState=[t,r===void 0?null:r],t},useContext:Kt,useEffect:xy,useImperativeHandle:function(t,r,s){s=s!=null?s.concat([t]):null,bc(4194308,4,Cy.bind(null,r,t),s)},useLayoutEffect:function(t,r){return bc(4194308,4,t,r)},useInsertionEffect:function(t,r){bc(4,2,t,r)},useMemo:function(t,r){var s=ln();r=r===void 0?null:r;var o=t();if(es){Un(!0);try{t()}finally{Un(!1)}}return s.memoizedState=[o,r],o},useReducer:function(t,r,s){var o=ln();if(s!==void 0){var d=s(r);if(es){Un(!0);try{s(r)}finally{Un(!1)}}}else d=r;return o.memoizedState=o.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},o.queue=t,t=t.dispatch=eI.bind(null,Re,t),[o.memoizedState,t]},useRef:function(t){var r=ln();return t={current:t},r.memoizedState=t},useState:function(t){t=lf(t);var r=t.queue,s=By.bind(null,Re,r);return r.dispatch=s,[t.memoizedState,s]},useDebugValue:cf,useDeferredValue:function(t,r){var s=ln();return hf(s,t,r)},useTransition:function(){var t=lf(!1);return t=Vy.bind(null,Re,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,s){var o=Re,d=ln();if(je){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),nt===null)throw Error(a(349));(Me&127)!==0||hy(o,r,s)}d.memoizedState=s;var f={value:s,getSnapshot:r};return d.queue=f,xy(fy.bind(null,o,f,t),[t]),o.flags|=2048,Js(9,{destroy:void 0},dy.bind(null,o,f,s,r),null),s},useId:function(){var t=ln(),r=nt.identifierPrefix;if(je){var s=Hi,o=Bi;s=(o&~(1<<32-bt(o)-1)).toString(32)+s,r="_"+r+"R_"+s,s=pc++,0<s&&(r+="H"+s.toString(32)),r+="_"}else s=KS++,r="_"+r+"r_"+s.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:ff,useFormState:Ty,useActionState:Ty,useOptimistic:function(t){var r=ln();r.memoizedState=r.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=mf.bind(null,Re,!0,s),s.dispatch=r,[t,r]},useMemoCache:rf,useCacheRefresh:function(){return ln().memoizedState=ZS.bind(null,Re)},useEffectEvent:function(t){var r=ln(),s={impl:t};return r.memoizedState=s,function(){if((Ye&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},pf={readContext:Kt,use:yc,useCallback:Dy,useContext:Kt,useEffect:uf,useImperativeHandle:Oy,useInsertionEffect:Ny,useLayoutEffect:ky,useMemo:My,useReducer:_c,useRef:Iy,useState:function(){return _c(or)},useDebugValue:cf,useDeferredValue:function(t,r){var s=Tt();return Ly(s,We.memoizedState,t,r)},useTransition:function(){var t=_c(or)[0],r=Tt().memoizedState;return[typeof t=="boolean"?t:vo(t),r]},useSyncExternalStore:cy,useId:jy,useHostTransitionStatus:ff,useFormState:Ay,useActionState:Ay,useOptimistic:function(t,r){var s=Tt();return gy(s,We,t,r)},useMemoCache:rf,useCacheRefresh:zy};pf.useEffectEvent=Ry;var qy={readContext:Kt,use:yc,useCallback:Dy,useContext:Kt,useEffect:uf,useImperativeHandle:Oy,useInsertionEffect:Ny,useLayoutEffect:ky,useMemo:My,useReducer:sf,useRef:Iy,useState:function(){return sf(or)},useDebugValue:cf,useDeferredValue:function(t,r){var s=Tt();return We===null?hf(s,t,r):Ly(s,We.memoizedState,t,r)},useTransition:function(){var t=sf(or)[0],r=Tt().memoizedState;return[typeof t=="boolean"?t:vo(t),r]},useSyncExternalStore:cy,useId:jy,useHostTransitionStatus:ff,useFormState:Sy,useActionState:Sy,useOptimistic:function(t,r){var s=Tt();return We!==null?gy(s,We,t,r):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:rf,useCacheRefresh:zy};qy.useEffectEvent=Ry;function gf(t,r,s,o){r=t.memoizedState,s=s(o,r),s=s==null?r:A({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var yf={enqueueSetState:function(t,r,s){t=t._reactInternals;var o=Nn(),d=Hr(o);d.payload=r,s!=null&&(d.callback=s),r=Fr(t,d,o),r!==null&&(yn(r,t,o),yo(r,t,o))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var o=Nn(),d=Hr(o);d.tag=1,d.payload=r,s!=null&&(d.callback=s),r=Fr(t,d,o),r!==null&&(yn(r,t,o),yo(r,t,o))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=Nn(),o=Hr(s);o.tag=2,r!=null&&(o.callback=r),r=Fr(t,o,s),r!==null&&(yn(r,t,s),yo(r,t,s))}};function Yy(t,r,s,o,d,f,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,b):r.prototype&&r.prototype.isPureReactComponent?!oo(s,o)||!oo(d,f):!0}function Ky(t,r,s,o){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,o),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,o),r.state!==t&&yf.enqueueReplaceState(r,r.state,null)}function ts(t,r){var s=r;if("ref"in r){s={};for(var o in r)o!=="ref"&&(s[o]=r[o])}if(t=t.defaultProps){s===r&&(s=A({},s));for(var d in t)s[d]===void 0&&(s[d]=t[d])}return s}function Qy(t){Zu(t)}function $y(t){console.error(t)}function Xy(t){Zu(t)}function Tc(t,r){try{var s=t.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(o){setTimeout(function(){throw o})}}function Jy(t,r,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function _f(t,r,s){return s=Hr(s),s.tag=3,s.payload={element:null},s.callback=function(){Tc(t,r)},s}function Wy(t){return t=Hr(t),t.tag=3,t}function Zy(t,r,s,o){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var f=o.value;t.payload=function(){return d(f)},t.callback=function(){Jy(r,s,o)}}var b=s.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){Jy(r,s,o),typeof d!="function"&&($r===null?$r=new Set([this]):$r.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function tI(t,r,s,o,d){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(r=s.alternate,r!==null&&Fs(r,s,d,!0),s=Sn.current,s!==null){switch(s.tag){case 31:case 13:return Kn===null?Mc():s.alternate===null&&gt===0&&(gt=3),s.flags&=-257,s.flags|=65536,s.lanes=d,o===uc?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([o]):r.add(o),Ff(t,o,d)),!1;case 22:return s.flags|=65536,o===uc?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([o]):s.add(o)),Ff(t,o,d)),!1}throw Error(a(435,s.tag))}return Ff(t,o,d),Mc(),!1}if(je)return r=Sn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,o!==Vd&&(t=Error(a(422),{cause:o}),ho(Fn(t,s)))):(o!==Vd&&(r=Error(a(423),{cause:o}),ho(Fn(r,s))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,o=Fn(o,s),d=_f(t.stateNode,o,d),Kd(t,d),gt!==4&&(gt=2)),!1;var f=Error(a(520),{cause:o});if(f=Fn(f,s),Co===null?Co=[f]:Co.push(f),gt!==4&&(gt=2),r===null)return!0;o=Fn(o,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,t=d&-d,s.lanes|=t,t=_f(s.stateNode,o,t),Kd(s,t),!1;case 1:if(r=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&($r===null||!$r.has(f))))return s.flags|=65536,d&=-d,s.lanes|=d,d=Wy(d),Zy(d,t,s,o),Kd(s,d),!1}s=s.return}while(s!==null);return!1}var bf=Error(a(461)),Ct=!1;function Qt(t,r,s,o){r.child=t===null?iy(r,null,s,o):Za(r,t.child,s,o)}function e_(t,r,s,o,d){s=s.render;var f=r.ref;if("ref"in o){var b={};for(var T in o)T!=="ref"&&(b[T]=o[T])}else b=o;return $a(r),o=Zd(t,r,s,b,f,d),T=ef(),t!==null&&!Ct?(tf(t,r,d),ur(t,r,d)):(je&&T&&Md(r),r.flags|=1,Qt(t,r,o,d),r.child)}function t_(t,r,s,o,d){if(t===null){var f=s.type;return typeof f=="function"&&!Cd(f)&&f.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=f,n_(t,r,f,o,d)):(t=ic(s.type,null,o,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,!xf(t,d)){var b=f.memoizedProps;if(s=s.compare,s=s!==null?s:oo,s(b,o)&&t.ref===r.ref)return ur(t,r,d)}return r.flags|=1,t=ir(f,o),t.ref=r.ref,t.return=r,r.child=t}function n_(t,r,s,o,d){if(t!==null){var f=t.memoizedProps;if(oo(f,o)&&t.ref===r.ref)if(Ct=!1,r.pendingProps=o=f,xf(t,d))(t.flags&131072)!==0&&(Ct=!0);else return r.lanes=t.lanes,ur(t,r,d)}return Ef(t,r,s,o,d)}function i_(t,r,s,o){var d=o.children,f=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((r.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(o=r.child=t.child,d=0;o!==null;)d=d|o.lanes|o.childLanes,o=o.sibling;o=d&~f}else o=0,r.child=null;return r_(t,r,f,s,o)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&lc(r,f!==null?f.cachePool:null),f!==null?sy(r,f):$d(),ly(r);else return o=r.lanes=536870912,r_(t,r,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(lc(r,f.cachePool),sy(r,f),qr(),r.memoizedState=null):(t!==null&&lc(r,null),$d(),qr());return Qt(t,r,d,s),r.child}function wo(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function r_(t,r,s,o,d){var f=Fd();return f=f===null?null:{parent:Nt._currentValue,pool:f},r.memoizedState={baseLanes:s,cachePool:f},t!==null&&lc(r,null),$d(),ly(r),t!==null&&Fs(t,r,o,!0),r.childLanes=d,null}function Ac(t,r){return r=Sc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function a_(t,r,s){return Za(r,t.child,null,s),t=Ac(r,r.pendingProps),t.flags|=2,In(r),r.memoizedState=null,t}function nI(t,r,s){var o=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(je){if(o.mode==="hidden")return t=Ac(r,o),r.lanes=536870912,wo(null,t);if(Jd(r),(t=at)?(t=yb(t,Yn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Ur!==null?{id:Bi,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},s=Hg(t),s.return=r,r.child=s,Yt=r,at=null)):t=null,t===null)throw jr(r);return r.lanes=536870912,null}return Ac(r,o)}var f=t.memoizedState;if(f!==null){var b=f.dehydrated;if(Jd(r),d)if(r.flags&256)r.flags&=-257,r=a_(t,r,s);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(a(558));else if(Ct||Fs(t,r,s,!1),d=(s&t.childLanes)!==0,Ct||d){if(o=nt,o!==null&&(b=Gl(o,s),b!==0&&b!==f.retryLane))throw f.retryLane=b,qa(t,b),yn(o,t,b),bf;Mc(),r=a_(t,r,s)}else t=f.treeContext,at=Qn(b.nextSibling),Yt=r,je=!0,Pr=null,Yn=!1,t!==null&&qg(r,t),r=Ac(r,o),r.flags|=4096;return r}return t=ir(t.child,{mode:o.mode,children:o.children}),t.ref=r.ref,r.child=t,t.return=r,t}function wc(t,r){var s=r.ref;if(s===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(r.flags|=4194816)}}function Ef(t,r,s,o,d){return $a(r),s=Zd(t,r,s,o,void 0,d),o=ef(),t!==null&&!Ct?(tf(t,r,d),ur(t,r,d)):(je&&o&&Md(r),r.flags|=1,Qt(t,r,s,d),r.child)}function s_(t,r,s,o,d,f){return $a(r),r.updateQueue=null,s=uy(r,o,s,d),oy(t),o=ef(),t!==null&&!Ct?(tf(t,r,f),ur(t,r,f)):(je&&o&&Md(r),r.flags|=1,Qt(t,r,s,f),r.child)}function l_(t,r,s,o,d){if($a(r),r.stateNode===null){var f=js,b=s.contextType;typeof b=="object"&&b!==null&&(f=Kt(b)),f=new s(o,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=yf,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=o,f.state=r.memoizedState,f.refs={},qd(r),b=s.contextType,f.context=typeof b=="object"&&b!==null?Kt(b):js,f.state=r.memoizedState,b=s.getDerivedStateFromProps,typeof b=="function"&&(gf(r,s,b,o),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(b=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),b!==f.state&&yf.enqueueReplaceState(f,f.state,null),bo(r,o,f,d),_o(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),o=!0}else if(t===null){f=r.stateNode;var T=r.memoizedProps,k=ts(s,T);f.props=k;var B=f.context,K=s.contextType;b=js,typeof K=="object"&&K!==null&&(b=Kt(K));var W=s.getDerivedStateFromProps;K=typeof W=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||B!==b)&&Ky(r,f,o,b),Br=!1;var G=r.memoizedState;f.state=G,bo(r,o,f,d),_o(),B=r.memoizedState,T||G!==B||Br?(typeof W=="function"&&(gf(r,s,W,o),B=r.memoizedState),(k=Br||Yy(r,s,k,o,G,B,b))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=o,r.memoizedState=B),f.props=o,f.state=B,f.context=b,o=k):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),o=!1)}else{f=r.stateNode,Yd(t,r),b=r.memoizedProps,K=ts(s,b),f.props=K,W=r.pendingProps,G=f.context,B=s.contextType,k=js,typeof B=="object"&&B!==null&&(k=Kt(B)),T=s.getDerivedStateFromProps,(B=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b!==W||G!==k)&&Ky(r,f,o,k),Br=!1,G=r.memoizedState,f.state=G,bo(r,o,f,d),_o();var Y=r.memoizedState;b!==W||G!==Y||Br||t!==null&&t.dependencies!==null&&ac(t.dependencies)?(typeof T=="function"&&(gf(r,s,T,o),Y=r.memoizedState),(K=Br||Yy(r,s,K,o,G,Y,k)||t!==null&&t.dependencies!==null&&ac(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,Y,k),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,Y,k)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=o,r.memoizedState=Y),f.props=o,f.state=Y,f.context=k,o=K):(typeof f.componentDidUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),o=!1)}return f=o,wc(t,r),o=(r.flags&128)!==0,f||o?(f=r.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,t!==null&&o?(r.child=Za(r,t.child,null,d),r.child=Za(r,null,s,d)):Qt(t,r,s,d),r.memoizedState=f.state,t=r.child):t=ur(t,r,d),t}function o_(t,r,s,o){return Ka(),r.flags|=256,Qt(t,r,s,o),r.child}var vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tf(t){return{baseLanes:t,cachePool:Jg()}}function Af(t,r,s){return t=t!==null?t.childLanes&~s:0,r&&(t|=Rn),t}function u_(t,r,s){var o=r.pendingProps,d=!1,f=(r.flags&128)!==0,b;if((b=f)||(b=t!==null&&t.memoizedState===null?!1:(vt.current&2)!==0),b&&(d=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,t===null){if(je){if(d?Gr(r):qr(),(t=at)?(t=yb(t,Yn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Ur!==null?{id:Bi,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},s=Hg(t),s.return=r,r.child=s,Yt=r,at=null)):t=null,t===null)throw jr(r);return am(t)?r.lanes=32:r.lanes=536870912,null}var T=o.children;return o=o.fallback,d?(qr(),d=r.mode,T=Sc({mode:"hidden",children:T},d),o=Ya(o,d,s,null),T.return=r,o.return=r,T.sibling=o,r.child=T,o=r.child,o.memoizedState=Tf(s),o.childLanes=Af(t,b,s),r.memoizedState=vf,wo(null,o)):(Gr(r),wf(r,T))}var k=t.memoizedState;if(k!==null&&(T=k.dehydrated,T!==null)){if(f)r.flags&256?(Gr(r),r.flags&=-257,r=Sf(t,r,s)):r.memoizedState!==null?(qr(),r.child=t.child,r.flags|=128,r=null):(qr(),T=o.fallback,d=r.mode,o=Sc({mode:"visible",children:o.children},d),T=Ya(T,d,s,null),T.flags|=2,o.return=r,T.return=r,o.sibling=T,r.child=o,Za(r,t.child,null,s),o=r.child,o.memoizedState=Tf(s),o.childLanes=Af(t,b,s),r.memoizedState=vf,r=wo(null,o));else if(Gr(r),am(T)){if(b=T.nextSibling&&T.nextSibling.dataset,b)var B=b.dgst;b=B,o=Error(a(419)),o.stack="",o.digest=b,ho({value:o,source:null,stack:null}),r=Sf(t,r,s)}else if(Ct||Fs(t,r,s,!1),b=(s&t.childLanes)!==0,Ct||b){if(b=nt,b!==null&&(o=Gl(b,s),o!==0&&o!==k.retryLane))throw k.retryLane=o,qa(t,o),yn(b,t,o),bf;rm(T)||Mc(),r=Sf(t,r,s)}else rm(T)?(r.flags|=192,r.child=t.child,r=null):(t=k.treeContext,at=Qn(T.nextSibling),Yt=r,je=!0,Pr=null,Yn=!1,t!==null&&qg(r,t),r=wf(r,o.children),r.flags|=4096);return r}return d?(qr(),T=o.fallback,d=r.mode,k=t.child,B=k.sibling,o=ir(k,{mode:"hidden",children:o.children}),o.subtreeFlags=k.subtreeFlags&65011712,B!==null?T=ir(B,T):(T=Ya(T,d,s,null),T.flags|=2),T.return=r,o.return=r,o.sibling=T,r.child=o,wo(null,o),o=r.child,T=t.child.memoizedState,T===null?T=Tf(s):(d=T.cachePool,d!==null?(k=Nt._currentValue,d=d.parent!==k?{parent:k,pool:k}:d):d=Jg(),T={baseLanes:T.baseLanes|s,cachePool:d}),o.memoizedState=T,o.childLanes=Af(t,b,s),r.memoizedState=vf,wo(t.child,o)):(Gr(r),s=t.child,t=s.sibling,s=ir(s,{mode:"visible",children:o.children}),s.return=r,s.sibling=null,t!==null&&(b=r.deletions,b===null?(r.deletions=[t],r.flags|=16):b.push(t)),r.child=s,r.memoizedState=null,s)}function wf(t,r){return r=Sc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Sc(t,r){return t=wn(22,t,null,r),t.lanes=0,t}function Sf(t,r,s){return Za(r,t.child,null,s),t=wf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function c_(t,r,s){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r),jd(t.return,r,s)}function If(t,r,s,o,d,f){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:d,treeForkCount:f}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=o,b.tail=s,b.tailMode=d,b.treeForkCount=f)}function h_(t,r,s){var o=r.pendingProps,d=o.revealOrder,f=o.tail;o=o.children;var b=vt.current,T=(b&2)!==0;if(T?(b=b&1|2,r.flags|=128):b&=1,le(vt,b),Qt(t,r,o,s),o=je?co:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&c_(t,s,r);else if(t.tag===19)c_(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(s=r.child,d=null;s!==null;)t=s.alternate,t!==null&&fc(t)===null&&(d=s),s=s.sibling;s=d,s===null?(d=r.child,r.child=null):(d=s.sibling,s.sibling=null),If(r,!1,d,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&fc(t)===null){r.child=d;break}t=d.sibling,d.sibling=s,s=d,d=t}If(r,!0,s,null,f,o);break;case"together":If(r,!1,null,null,void 0,o);break;default:r.memoizedState=null}return r.child}function ur(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),Qr|=r.lanes,(s&r.childLanes)===0)if(t!==null){if(Fs(t,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(a(153));if(r.child!==null){for(t=r.child,s=ir(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=ir(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function xf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&ac(t)))}function iI(t,r,s){switch(r.tag){case 3:ht(r,r.stateNode.containerInfo),zr(r,Nt,t.memoizedState.cache),Ka();break;case 27:case 5:Zn(r);break;case 4:ht(r,r.stateNode.containerInfo);break;case 10:zr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Jd(r),null;break;case 13:var o=r.memoizedState;if(o!==null)return o.dehydrated!==null?(Gr(r),r.flags|=128,null):(s&r.child.childLanes)!==0?u_(t,r,s):(Gr(r),t=ur(t,r,s),t!==null?t.sibling:null);Gr(r);break;case 19:var d=(t.flags&128)!==0;if(o=(s&r.childLanes)!==0,o||(Fs(t,r,s,!1),o=(s&r.childLanes)!==0),d){if(o)return h_(t,r,s);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),le(vt,vt.current),o)break;return null;case 22:return r.lanes=0,i_(t,r,s,r.pendingProps);case 24:zr(r,Nt,t.memoizedState.cache)}return ur(t,r,s)}function d_(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps)Ct=!0;else{if(!xf(t,s)&&(r.flags&128)===0)return Ct=!1,iI(t,r,s);Ct=(t.flags&131072)!==0}else Ct=!1,je&&(r.flags&1048576)!==0&&Gg(r,co,r.index);switch(r.lanes=0,r.tag){case 16:e:{var o=r.pendingProps;if(t=Ja(r.elementType),r.type=t,typeof t=="function")Cd(t)?(o=ts(t,o),r.tag=1,r=l_(null,r,t,o,s)):(r.tag=0,r=Ef(null,r,t,o,s));else{if(t!=null){var d=t.$$typeof;if(d===oe){r.tag=11,r=e_(null,r,t,o,s);break e}else if(d===R){r.tag=14,r=t_(null,r,t,o,s);break e}}throw r=He(t)||t,Error(a(306,r,""))}}return r;case 0:return Ef(t,r,r.type,r.pendingProps,s);case 1:return o=r.type,d=ts(o,r.pendingProps),l_(t,r,o,d,s);case 3:e:{if(ht(r,r.stateNode.containerInfo),t===null)throw Error(a(387));o=r.pendingProps;var f=r.memoizedState;d=f.element,Yd(t,r),bo(r,o,null,s);var b=r.memoizedState;if(o=b.cache,zr(r,Nt,o),o!==f.cache&&zd(r,[Nt],s,!0),_o(),o=b.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=o_(t,r,o,s);break e}else if(o!==d){d=Fn(Error(a(424)),r),ho(d),r=o_(t,r,o,s);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(at=Qn(t.firstChild),Yt=r,je=!0,Pr=null,Yn=!0,s=iy(r,null,o,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ka(),o===d){r=ur(t,r,s);break e}Qt(t,r,o,s)}r=r.child}return r;case 26:return wc(t,r),t===null?(s=Ab(r.type,null,r.pendingProps,null))?r.memoizedState=s:je||(s=r.type,t=r.pendingProps,o=Bc(Ae.current).createElement(s),o[It]=r,o[jt]=t,$t(o,s,t),xt(o),r.stateNode=o):r.memoizedState=Ab(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Zn(r),t===null&&je&&(o=r.stateNode=Eb(r.type,r.pendingProps,Ae.current),Yt=r,Yn=!0,d=at,Zr(r.type)?(sm=d,at=Qn(o.firstChild)):at=d),Qt(t,r,r.pendingProps.children,s),wc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&je&&((d=o=at)&&(o=DI(o,r.type,r.pendingProps,Yn),o!==null?(r.stateNode=o,Yt=r,at=Qn(o.firstChild),Yn=!1,d=!0):d=!1),d||jr(r)),Zn(r),d=r.type,f=r.pendingProps,b=t!==null?t.memoizedProps:null,o=f.children,tm(d,f)?o=null:b!==null&&tm(d,b)&&(r.flags|=32),r.memoizedState!==null&&(d=Zd(t,r,QS,null,null,s),jo._currentValue=d),wc(t,r),Qt(t,r,o,s),r.child;case 6:return t===null&&je&&((t=s=at)&&(s=MI(s,r.pendingProps,Yn),s!==null?(r.stateNode=s,Yt=r,at=null,t=!0):t=!1),t||jr(r)),null;case 13:return u_(t,r,s);case 4:return ht(r,r.stateNode.containerInfo),o=r.pendingProps,t===null?r.child=Za(r,null,o,s):Qt(t,r,o,s),r.child;case 11:return e_(t,r,r.type,r.pendingProps,s);case 7:return Qt(t,r,r.pendingProps,s),r.child;case 8:return Qt(t,r,r.pendingProps.children,s),r.child;case 12:return Qt(t,r,r.pendingProps.children,s),r.child;case 10:return o=r.pendingProps,zr(r,r.type,o.value),Qt(t,r,o.children,s),r.child;case 9:return d=r.type._context,o=r.pendingProps.children,$a(r),d=Kt(d),o=o(d),r.flags|=1,Qt(t,r,o,s),r.child;case 14:return t_(t,r,r.type,r.pendingProps,s);case 15:return n_(t,r,r.type,r.pendingProps,s);case 19:return h_(t,r,s);case 31:return nI(t,r,s);case 22:return i_(t,r,s,r.pendingProps);case 24:return $a(r),o=Kt(Nt),t===null?(d=Fd(),d===null&&(d=nt,f=Bd(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=s),d=f),r.memoizedState={parent:o,cache:d},qd(r),zr(r,Nt,d)):((t.lanes&s)!==0&&(Yd(t,r),bo(r,null,null,s),_o()),d=t.memoizedState,f=r.memoizedState,d.parent!==o?(d={parent:o,cache:o},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),zr(r,Nt,o)):(o=f.cache,zr(r,Nt,o),o!==d.cache&&zd(r,[Nt],s,!0))),Qt(t,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function cr(t){t.flags|=4}function Rf(t,r,s,o,d){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(j_())t.flags|=8192;else throw Wa=uc,Gd}else t.flags&=-16777217}function f_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Rb(r))if(j_())t.flags|=8192;else throw Wa=uc,Gd}function Ic(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Ou():536870912,t.lanes|=r,tl|=r)}function So(t,r){if(!je)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function st(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(r)for(var d=t.child;d!==null;)s|=d.lanes|d.childLanes,o|=d.subtreeFlags&65011712,o|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)s|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=o,t.childLanes=s,r}function rI(t,r,s){var o=r.pendingProps;switch(Ld(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(r),null;case 1:return st(r),null;case 3:return s=r.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),sr(Nt),it(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Hs(r)?cr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ud())),st(r),null;case 26:var d=r.type,f=r.memoizedState;return t===null?(cr(r),f!==null?(st(r),f_(r,f)):(st(r),Rf(r,d,null,o,s))):f?f!==t.memoizedState?(cr(r),st(r),f_(r,f)):(st(r),r.flags&=-16777217):(t=t.memoizedProps,t!==o&&cr(r),st(r),Rf(r,d,t,o,s)),null;case 27:if(Dn(r),s=Ae.current,d=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==o&&cr(r);else{if(!o){if(r.stateNode===null)throw Error(a(166));return st(r),null}t=ce.current,Hs(r)?Yg(r):(t=Eb(d,o,s),r.stateNode=t,cr(r))}return st(r),null;case 5:if(Dn(r),d=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==o&&cr(r);else{if(!o){if(r.stateNode===null)throw Error(a(166));return st(r),null}if(f=ce.current,Hs(r))Yg(r);else{var b=Bc(Ae.current);switch(f){case 1:f=b.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=b.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=b.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?b.createElement("select",{is:o.is}):b.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?b.createElement(d,{is:o.is}):b.createElement(d)}}f[It]=r,f[jt]=o;e:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)f.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break e;for(;b.sibling===null;){if(b.return===null||b.return===r)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=f;e:switch($t(f,d,o),d){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&cr(r)}}return st(r),Rf(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,s),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==o&&cr(r);else{if(typeof o!="string"&&r.stateNode===null)throw Error(a(166));if(t=Ae.current,Hs(r)){if(t=r.stateNode,s=r.memoizedProps,o=null,d=Yt,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}t[It]=r,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||ub(t.nodeValue,s)),t||jr(r,!0)}else t=Bc(t).createTextNode(o),t[It]=r,r.stateNode=t}return st(r),null;case 31:if(s=r.memoizedState,t===null||t.memoizedState!==null){if(o=Hs(r),s!==null){if(t===null){if(!o)throw Error(a(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[It]=r}else Ka(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),t=!1}else s=Ud(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return r.flags&256?(In(r),r):(In(r),null);if((r.flags&128)!==0)throw Error(a(558))}return st(r),null;case 13:if(o=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Hs(r),o!==null&&o.dehydrated!==null){if(t===null){if(!d)throw Error(a(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[It]=r}else Ka(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),d=!1}else d=Ud(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(In(r),r):(In(r),null)}return In(r),(r.flags&128)!==0?(r.lanes=s,r):(s=o!==null,t=t!==null&&t.memoizedState!==null,s&&(o=r.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==d&&(o.flags|=2048)),s!==t&&s&&(r.child.flags|=8192),Ic(r,r.updateQueue),st(r),null);case 4:return it(),t===null&&Xf(r.stateNode.containerInfo),st(r),null;case 10:return sr(r.type),st(r),null;case 19:if(J(vt),o=r.memoizedState,o===null)return st(r),null;if(d=(r.flags&128)!==0,f=o.rendering,f===null)if(d)So(o,!1);else{if(gt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(f=fc(t),f!==null){for(r.flags|=128,So(o,!1),t=f.updateQueue,r.updateQueue=t,Ic(r,t),r.subtreeFlags=0,t=s,s=r.child;s!==null;)Bg(s,t),s=s.sibling;return le(vt,vt.current&1|2),je&&rr(r,o.treeForkCount),r.child}t=t.sibling}o.tail!==null&&Ft()>Cc&&(r.flags|=128,d=!0,So(o,!1),r.lanes=4194304)}else{if(!d)if(t=fc(f),t!==null){if(r.flags|=128,d=!0,t=t.updateQueue,r.updateQueue=t,Ic(r,t),So(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!je)return st(r),null}else 2*Ft()-o.renderingStartTime>Cc&&s!==536870912&&(r.flags|=128,d=!0,So(o,!1),r.lanes=4194304);o.isBackwards?(f.sibling=r.child,r.child=f):(t=o.last,t!==null?t.sibling=f:r.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ft(),t.sibling=null,s=vt.current,le(vt,d?s&1|2:s&1),je&&rr(r,o.treeForkCount),t):(st(r),null);case 22:case 23:return In(r),Xd(),o=r.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(r.flags|=8192):o&&(r.flags|=8192),o?(s&536870912)!==0&&(r.flags&128)===0&&(st(r),r.subtreeFlags&6&&(r.flags|=8192)):st(r),s=r.updateQueue,s!==null&&Ic(r,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==s&&(r.flags|=2048),t!==null&&J(Xa),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),sr(Nt),st(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function aI(t,r){switch(Ld(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return sr(Nt),it(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Dn(r),null;case 31:if(r.memoizedState!==null){if(In(r),r.alternate===null)throw Error(a(340));Ka()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(In(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(a(340));Ka()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return J(vt),null;case 4:return it(),null;case 10:return sr(r.type),null;case 22:case 23:return In(r),Xd(),t!==null&&J(Xa),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return sr(Nt),null;case 25:return null;default:return null}}function m_(t,r){switch(Ld(r),r.tag){case 3:sr(Nt),it();break;case 26:case 27:case 5:Dn(r);break;case 4:it();break;case 31:r.memoizedState!==null&&In(r);break;case 13:In(r);break;case 19:J(vt);break;case 10:sr(r.type);break;case 22:case 23:In(r),Xd(),t!==null&&J(Xa);break;case 24:sr(Nt)}}function Io(t,r){try{var s=r.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var d=o.next;s=d;do{if((s.tag&t)===t){o=void 0;var f=s.create,b=s.inst;o=f(),b.destroy=o}s=s.next}while(s!==d)}}catch(T){Xe(r,r.return,T)}}function Yr(t,r,s){try{var o=r.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var f=d.next;o=f;do{if((o.tag&t)===t){var b=o.inst,T=b.destroy;if(T!==void 0){b.destroy=void 0,d=r;var k=s,B=T;try{B()}catch(K){Xe(d,k,K)}}}o=o.next}while(o!==f)}}catch(K){Xe(r,r.return,K)}}function p_(t){var r=t.updateQueue;if(r!==null){var s=t.stateNode;try{ay(r,s)}catch(o){Xe(t,t.return,o)}}}function g_(t,r,s){s.props=ts(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){Xe(t,r,o)}}function xo(t,r){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(d){Xe(t,r,d)}}function Fi(t,r){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(d){Xe(t,r,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){Xe(t,r,d)}else s.current=null}function y_(t){var r=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(d){Xe(t,t.return,d)}}function Nf(t,r,s){try{var o=t.stateNode;xI(o,t.type,s,r),o[jt]=r}catch(d){Xe(t,t.return,d)}}function __(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Zr(t.type)||t.tag===4}function kf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||__(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Zr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cf(t,r,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(t),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=li));else if(o!==4&&(o===27&&Zr(t.type)&&(s=t.stateNode,r=null),t=t.child,t!==null))for(Cf(t,r,s),t=t.sibling;t!==null;)Cf(t,r,s),t=t.sibling}function xc(t,r,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(o!==4&&(o===27&&Zr(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(xc(t,r,s),t=t.sibling;t!==null;)xc(t,r,s),t=t.sibling}function b_(t){var r=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);$t(r,o,s),r[It]=t,r[jt]=s}catch(f){Xe(t,t.return,f)}}var hr=!1,Ot=!1,Of=!1,E_=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function sI(t,r){if(t=t.containerInfo,Zf=Qc,t=Og(t),wd(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var d=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var b=0,T=-1,k=-1,B=0,K=0,W=t,G=null;t:for(;;){for(var Y;W!==s||d!==0&&W.nodeType!==3||(T=b+d),W!==f||o!==0&&W.nodeType!==3||(k=b+o),W.nodeType===3&&(b+=W.nodeValue.length),(Y=W.firstChild)!==null;)G=W,W=Y;for(;;){if(W===t)break t;if(G===s&&++B===d&&(T=b),G===f&&++K===o&&(k=b),(Y=W.nextSibling)!==null)break;W=G,G=W.parentNode}W=Y}s=T===-1||k===-1?null:{start:T,end:k}}else s=null}s=s||{start:0,end:0}}else s=null;for(em={focusedElem:t,selectionRange:s},Qc=!1,Bt=r;Bt!==null;)if(r=Bt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Bt=t;else for(;Bt!==null;){switch(r=Bt,f=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)d=t[s],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=r,d=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var fe=ts(s.type,d);t=o.getSnapshotBeforeUpdate(fe,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(be){Xe(s,s.return,be)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,s=t.nodeType,s===9)im(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":im(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=r.sibling,t!==null){t.return=r.return,Bt=t;break}Bt=r.return}}function v_(t,r,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:fr(t,s),o&4&&Io(5,s);break;case 1:if(fr(t,s),o&4)if(t=s.stateNode,r===null)try{t.componentDidMount()}catch(b){Xe(s,s.return,b)}else{var d=ts(s.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(d,r,t.__reactInternalSnapshotBeforeUpdate)}catch(b){Xe(s,s.return,b)}}o&64&&p_(s),o&512&&xo(s,s.return);break;case 3:if(fr(t,s),o&64&&(t=s.updateQueue,t!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{ay(t,r)}catch(b){Xe(s,s.return,b)}}break;case 27:r===null&&o&4&&b_(s);case 26:case 5:fr(t,s),r===null&&o&4&&y_(s),o&512&&xo(s,s.return);break;case 12:fr(t,s);break;case 31:fr(t,s),o&4&&w_(t,s);break;case 13:fr(t,s),o&4&&S_(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=pI.bind(null,s),LI(t,s))));break;case 22:if(o=s.memoizedState!==null||hr,!o){r=r!==null&&r.memoizedState!==null||Ot,d=hr;var f=Ot;hr=o,(Ot=r)&&!f?mr(t,s,(s.subtreeFlags&8772)!==0):fr(t,s),hr=d,Ot=f}break;case 30:break;default:fr(t,s)}}function T_(t){var r=t.alternate;r!==null&&(t.alternate=null,T_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Ss(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,fn=!1;function dr(t,r,s){for(s=s.child;s!==null;)A_(t,r,s),s=s.sibling}function A_(t,r,s){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ii,s)}catch{}switch(s.tag){case 26:Ot||Fi(s,r),dr(t,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ot||Fi(s,r);var o=ut,d=fn;Zr(s.type)&&(ut=s.stateNode,fn=!1),dr(t,r,s),Vo(s.stateNode),ut=o,fn=d;break;case 5:Ot||Fi(s,r);case 6:if(o=ut,d=fn,ut=null,dr(t,r,s),ut=o,fn=d,ut!==null)if(fn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(s.stateNode)}catch(f){Xe(s,r,f)}else try{ut.removeChild(s.stateNode)}catch(f){Xe(s,r,f)}break;case 18:ut!==null&&(fn?(t=ut,pb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),ul(t)):pb(ut,s.stateNode));break;case 4:o=ut,d=fn,ut=s.stateNode.containerInfo,fn=!0,dr(t,r,s),ut=o,fn=d;break;case 0:case 11:case 14:case 15:Yr(2,s,r),Ot||Yr(4,s,r),dr(t,r,s);break;case 1:Ot||(Fi(s,r),o=s.stateNode,typeof o.componentWillUnmount=="function"&&g_(s,r,o)),dr(t,r,s);break;case 21:dr(t,r,s);break;case 22:Ot=(o=Ot)||s.memoizedState!==null,dr(t,r,s),Ot=o;break;default:dr(t,r,s)}}function w_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ul(t)}catch(s){Xe(r,r.return,s)}}}function S_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ul(t)}catch(s){Xe(r,r.return,s)}}function lI(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new E_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new E_),r;default:throw Error(a(435,t.tag))}}function Rc(t,r){var s=lI(t);r.forEach(function(o){if(!s.has(o)){s.add(o);var d=gI.bind(null,t,o);o.then(d,d)}})}function mn(t,r){var s=r.deletions;if(s!==null)for(var o=0;o<s.length;o++){var d=s[o],f=t,b=r,T=b;e:for(;T!==null;){switch(T.tag){case 27:if(Zr(T.type)){ut=T.stateNode,fn=!1;break e}break;case 5:ut=T.stateNode,fn=!1;break e;case 3:case 4:ut=T.stateNode.containerInfo,fn=!0;break e}T=T.return}if(ut===null)throw Error(a(160));A_(f,b,d),ut=null,fn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)I_(r,t),r=r.sibling}var fi=null;function I_(t,r){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(r,t),pn(t),o&4&&(Yr(3,t,t.return),Io(3,t),Yr(5,t,t.return));break;case 1:mn(r,t),pn(t),o&512&&(Ot||s===null||Fi(s,s.return)),o&64&&hr&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var d=fi;if(mn(r,t),pn(t),o&512&&(Ot||s===null||Fi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,d=d.ownerDocument||d;t:switch(o){case"title":f=d.getElementsByTagName("title")[0],(!f||f[Ni]||f[It]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(o),d.head.insertBefore(f,d.querySelector("head > title"))),$t(f,o,s),f[It]=t,xt(f),o=f;break e;case"link":var b=Ib("link","href",d).get(o+(s.href||""));if(b){for(var T=0;T<b.length;T++)if(f=b[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){b.splice(T,1);break t}}f=d.createElement(o),$t(f,o,s),d.head.appendChild(f);break;case"meta":if(b=Ib("meta","content",d).get(o+(s.content||""))){for(T=0;T<b.length;T++)if(f=b[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){b.splice(T,1);break t}}f=d.createElement(o),$t(f,o,s),d.head.appendChild(f);break;default:throw Error(a(468,o))}f[It]=t,xt(f),o=f}t.stateNode=o}else xb(d,t.type,t.stateNode);else t.stateNode=Sb(d,o,t.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?xb(d,t.type,t.stateNode):Sb(d,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Nf(t,t.memoizedProps,s.memoizedProps)}break;case 27:mn(r,t),pn(t),o&512&&(Ot||s===null||Fi(s,s.return)),s!==null&&o&4&&Nf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(mn(r,t),pn(t),o&512&&(Ot||s===null||Fi(s,s.return)),t.flags&32){d=t.stateNode;try{dn(d,"")}catch(fe){Xe(t,t.return,fe)}}o&4&&t.stateNode!=null&&(d=t.memoizedProps,Nf(t,d,s!==null?s.memoizedProps:d)),o&1024&&(Of=!0);break;case 6:if(mn(r,t),pn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(fe){Xe(t,t.return,fe)}}break;case 3:if(Gc=null,d=fi,fi=Hc(r.containerInfo),mn(r,t),fi=d,pn(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{ul(r.containerInfo)}catch(fe){Xe(t,t.return,fe)}Of&&(Of=!1,x_(t));break;case 4:o=fi,fi=Hc(t.stateNode.containerInfo),mn(r,t),pn(t),fi=o;break;case 12:mn(r,t),pn(t);break;case 31:mn(r,t),pn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Rc(t,o)));break;case 13:mn(r,t),pn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(kc=Ft()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Rc(t,o)));break;case 22:d=t.memoizedState!==null;var k=s!==null&&s.memoizedState!==null,B=hr,K=Ot;if(hr=B||d,Ot=K||k,mn(r,t),Ot=K,hr=B,pn(t),o&8192)e:for(r=t.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(s===null||k||hr||Ot||ns(t)),s=null,r=t;;){if(r.tag===5||r.tag===26){if(s===null){k=s=r;try{if(f=k.stateNode,d)b=f.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{T=k.stateNode;var W=k.memoizedProps.style,G=W!=null&&W.hasOwnProperty("display")?W.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(fe){Xe(k,k.return,fe)}}}else if(r.tag===6){if(s===null){k=r;try{k.stateNode.nodeValue=d?"":k.memoizedProps}catch(fe){Xe(k,k.return,fe)}}}else if(r.tag===18){if(s===null){k=r;try{var Y=k.stateNode;d?gb(Y,!0):gb(k.stateNode,!1)}catch(fe){Xe(k,k.return,fe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Rc(t,s))));break;case 19:mn(r,t),pn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Rc(t,o)));break;case 30:break;case 21:break;default:mn(r,t),pn(t)}}function pn(t){var r=t.flags;if(r&2){try{for(var s,o=t.return;o!==null;){if(__(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var d=s.stateNode,f=kf(t);xc(t,f,d);break;case 5:var b=s.stateNode;s.flags&32&&(dn(b,""),s.flags&=-33);var T=kf(t);xc(t,T,b);break;case 3:case 4:var k=s.stateNode.containerInfo,B=kf(t);Cf(t,B,k);break;default:throw Error(a(161))}}catch(K){Xe(t,t.return,K)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function x_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;x_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function fr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)v_(t,r.alternate,r),r=r.sibling}function ns(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Yr(4,r,r.return),ns(r);break;case 1:Fi(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&g_(r,r.return,s),ns(r);break;case 27:Vo(r.stateNode);case 26:case 5:Fi(r,r.return),ns(r);break;case 22:r.memoizedState===null&&ns(r);break;case 30:ns(r);break;default:ns(r)}t=t.sibling}}function mr(t,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var o=r.alternate,d=t,f=r,b=f.flags;switch(f.tag){case 0:case 11:case 15:mr(d,f,s),Io(4,f);break;case 1:if(mr(d,f,s),o=f,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(B){Xe(o,o.return,B)}if(o=f,d=o.updateQueue,d!==null){var T=o.stateNode;try{var k=d.shared.hiddenCallbacks;if(k!==null)for(d.shared.hiddenCallbacks=null,d=0;d<k.length;d++)ry(k[d],T)}catch(B){Xe(o,o.return,B)}}s&&b&64&&p_(f),xo(f,f.return);break;case 27:b_(f);case 26:case 5:mr(d,f,s),s&&o===null&&b&4&&y_(f),xo(f,f.return);break;case 12:mr(d,f,s);break;case 31:mr(d,f,s),s&&b&4&&w_(d,f);break;case 13:mr(d,f,s),s&&b&4&&S_(d,f);break;case 22:f.memoizedState===null&&mr(d,f,s),xo(f,f.return);break;case 30:break;default:mr(d,f,s)}r=r.sibling}}function Df(t,r){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&fo(s))}function Mf(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&fo(t))}function mi(t,r,s,o){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)R_(t,r,s,o),r=r.sibling}function R_(t,r,s,o){var d=r.flags;switch(r.tag){case 0:case 11:case 15:mi(t,r,s,o),d&2048&&Io(9,r);break;case 1:mi(t,r,s,o);break;case 3:mi(t,r,s,o),d&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&fo(t)));break;case 12:if(d&2048){mi(t,r,s,o),t=r.stateNode;try{var f=r.memoizedProps,b=f.id,T=f.onPostCommit;typeof T=="function"&&T(b,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(k){Xe(r,r.return,k)}}else mi(t,r,s,o);break;case 31:mi(t,r,s,o);break;case 13:mi(t,r,s,o);break;case 23:break;case 22:f=r.stateNode,b=r.alternate,r.memoizedState!==null?f._visibility&2?mi(t,r,s,o):Ro(t,r):f._visibility&2?mi(t,r,s,o):(f._visibility|=2,Ws(t,r,s,o,(r.subtreeFlags&10256)!==0||!1)),d&2048&&Df(b,r);break;case 24:mi(t,r,s,o),d&2048&&Mf(r.alternate,r);break;default:mi(t,r,s,o)}}function Ws(t,r,s,o,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var f=t,b=r,T=s,k=o,B=b.flags;switch(b.tag){case 0:case 11:case 15:Ws(f,b,T,k,d),Io(8,b);break;case 23:break;case 22:var K=b.stateNode;b.memoizedState!==null?K._visibility&2?Ws(f,b,T,k,d):Ro(f,b):(K._visibility|=2,Ws(f,b,T,k,d)),d&&B&2048&&Df(b.alternate,b);break;case 24:Ws(f,b,T,k,d),d&&B&2048&&Mf(b.alternate,b);break;default:Ws(f,b,T,k,d)}r=r.sibling}}function Ro(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=t,o=r,d=o.flags;switch(o.tag){case 22:Ro(s,o),d&2048&&Df(o.alternate,o);break;case 24:Ro(s,o),d&2048&&Mf(o.alternate,o);break;default:Ro(s,o)}r=r.sibling}}var No=8192;function Zs(t,r,s){if(t.subtreeFlags&No)for(t=t.child;t!==null;)N_(t,r,s),t=t.sibling}function N_(t,r,s){switch(t.tag){case 26:Zs(t,r,s),t.flags&No&&t.memoizedState!==null&&KI(s,fi,t.memoizedState,t.memoizedProps);break;case 5:Zs(t,r,s);break;case 3:case 4:var o=fi;fi=Hc(t.stateNode.containerInfo),Zs(t,r,s),fi=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=No,No=16777216,Zs(t,r,s),No=o):Zs(t,r,s));break;default:Zs(t,r,s)}}function k_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function ko(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var o=r[s];Bt=o,O_(o,t)}k_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)C_(t),t=t.sibling}function C_(t){switch(t.tag){case 0:case 11:case 15:ko(t),t.flags&2048&&Yr(9,t,t.return);break;case 3:ko(t);break;case 12:ko(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Nc(t)):ko(t);break;default:ko(t)}}function Nc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var o=r[s];Bt=o,O_(o,t)}k_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Yr(8,r,r.return),Nc(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,Nc(r));break;default:Nc(r)}t=t.sibling}}function O_(t,r){for(;Bt!==null;){var s=Bt;switch(s.tag){case 0:case 11:case 15:Yr(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:fo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Bt=o;else e:for(s=t;Bt!==null;){o=Bt;var d=o.sibling,f=o.return;if(T_(o),o===s){Bt=null;break e}if(d!==null){d.return=f,Bt=d;break e}Bt=f}}}var oI={getCacheForType:function(t){var r=Kt(Nt),s=r.data.get(t);return s===void 0&&(s=t(),r.data.set(t,s)),s},cacheSignal:function(){return Kt(Nt).controller.signal}},uI=typeof WeakMap=="function"?WeakMap:Map,Ye=0,nt=null,Ce=null,Me=0,$e=0,xn=null,Kr=!1,el=!1,Lf=!1,pr=0,gt=0,Qr=0,is=0,Vf=0,Rn=0,tl=0,Co=null,gn=null,Uf=!1,kc=0,D_=0,Cc=1/0,Oc=null,$r=null,Ut=0,Xr=null,nl=null,gr=0,Pf=0,jf=null,M_=null,Oo=0,zf=null;function Nn(){return(Ye&2)!==0&&Me!==0?Me&-Me:H.T!==null?Yf():Du()}function L_(){if(Rn===0)if((Me&536870912)===0||je){var t=ka;ka<<=1,(ka&3932160)===0&&(ka=262144),Rn=t}else Rn=536870912;return t=Sn.current,t!==null&&(t.flags|=32),Rn}function yn(t,r,s){(t===nt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(il(t,0),Jr(t,Me,Rn,!1)),Ca(t,s),((Ye&2)===0||t!==nt)&&(t===nt&&((Ye&2)===0&&(is|=s),gt===4&&Jr(t,Me,Rn,!1)),Gi(t))}function V_(t,r,s){if((Ye&6)!==0)throw Error(a(327));var o=!s&&(r&127)===0&&(r&t.expiredLanes)===0||ri(t,r),d=o?dI(t,r):Hf(t,r,!0),f=o;do{if(d===0){el&&!o&&Jr(t,r,0,!1);break}else{if(s=t.current.alternate,f&&!cI(s)){d=Hf(t,r,!1),f=!1;continue}if(d===2){if(f=r,t.errorRecoveryDisabledLanes&f)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var T=t;d=Co;var k=T.current.memoizedState.isDehydrated;if(k&&(il(T,b).flags|=256),b=Hf(T,b,!1),b!==2){if(Lf&&!k){T.errorRecoveryDisabledLanes|=f,is|=f,d=4;break e}f=gn,gn=d,f!==null&&(gn===null?gn=f:gn.push.apply(gn,f))}d=b}if(f=!1,d!==2)continue}}if(d===1){il(t,0),Jr(t,r,0,!0);break}e:{switch(o=t,f=d,f){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:Jr(o,r,Rn,!Kr);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(d=kc+300-Ft(),10<d)){if(Jr(o,r,Rn,!Kr),Ii(o,0,!0)!==0)break e;gr=r,o.timeoutHandle=fb(U_.bind(null,o,s,gn,Oc,Uf,r,Rn,is,tl,Kr,f,"Throttled",-0,0),d);break e}U_(o,s,gn,Oc,Uf,r,Rn,is,tl,Kr,f,null,-0,0)}}break}while(!0);Gi(t)}function U_(t,r,s,o,d,f,b,T,k,B,K,W,G,Y){if(t.timeoutHandle=-1,W=r.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},N_(r,f,W);var fe=(f&62914560)===f?kc-Ft():(f&4194048)===f?D_-Ft():0;if(fe=QI(W,fe),fe!==null){gr=f,t.cancelPendingCommit=fe(q_.bind(null,t,r,f,s,o,d,b,T,k,K,W,null,G,Y)),Jr(t,f,b,!B);return}}q_(t,r,f,s,o,d,b,T,k)}function cI(t){for(var r=t;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var d=s[o],f=d.getSnapshot;d=d.value;try{if(!An(f(),d))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Jr(t,r,s,o){r&=~Vf,r&=~is,t.suspendedLanes|=r,t.pingedLanes&=~r,o&&(t.warmLanes|=r),o=t.expirationTimes;for(var d=r;0<d;){var f=31-bt(d),b=1<<f;o[f]=-1,d&=~b}s!==0&&Oa(t,s,r)}function Dc(){return(Ye&6)===0?(Do(0),!1):!0}function Bf(){if(Ce!==null){if($e===0)var t=Ce.return;else t=Ce,ar=Qa=null,nf(t),Ks=null,po=0,t=Ce;for(;t!==null;)m_(t.alternate,t),t=t.return;Ce=null}}function il(t,r){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,kI(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),gr=0,Bf(),nt=t,Ce=s=ir(t.current,null),Me=r,$e=0,xn=null,Kr=!1,el=ri(t,r),Lf=!1,tl=Rn=Vf=is=Qr=gt=0,gn=Co=null,Uf=!1,(r&8)!==0&&(r|=r&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=r;0<o;){var d=31-bt(o),f=1<<d;r|=t[d],o&=~f}return pr=r,ec(),s}function P_(t,r){Re=null,H.H=Ao,r===Ys||r===oc?(r=ey(),$e=3):r===Gd?(r=ey(),$e=4):$e=r===bf?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,xn=r,Ce===null&&(gt=1,Tc(t,Fn(r,t.current)))}function j_(){var t=Sn.current;return t===null?!0:(Me&4194048)===Me?Kn===null:(Me&62914560)===Me||(Me&536870912)!==0?t===Kn:!1}function z_(){var t=H.H;return H.H=Ao,t===null?Ao:t}function B_(){var t=H.A;return H.A=oI,t}function Mc(){gt=4,Kr||(Me&4194048)!==Me&&Sn.current!==null||(el=!0),(Qr&134217727)===0&&(is&134217727)===0||nt===null||Jr(nt,Me,Rn,!1)}function Hf(t,r,s){var o=Ye;Ye|=2;var d=z_(),f=B_();(nt!==t||Me!==r)&&(Oc=null,il(t,r)),r=!1;var b=gt;e:do try{if($e!==0&&Ce!==null){var T=Ce,k=xn;switch($e){case 8:Bf(),b=6;break e;case 3:case 2:case 9:case 6:Sn.current===null&&(r=!0);var B=$e;if($e=0,xn=null,rl(t,T,k,B),s&&el){b=0;break e}break;default:B=$e,$e=0,xn=null,rl(t,T,k,B)}}hI(),b=gt;break}catch(K){P_(t,K)}while(!0);return r&&t.shellSuspendCounter++,ar=Qa=null,Ye=o,H.H=d,H.A=f,Ce===null&&(nt=null,Me=0,ec()),b}function hI(){for(;Ce!==null;)H_(Ce)}function dI(t,r){var s=Ye;Ye|=2;var o=z_(),d=B_();nt!==t||Me!==r?(Oc=null,Cc=Ft()+500,il(t,r)):el=ri(t,r);e:do try{if($e!==0&&Ce!==null){r=Ce;var f=xn;t:switch($e){case 1:$e=0,xn=null,rl(t,r,f,1);break;case 2:case 9:if(Wg(f)){$e=0,xn=null,F_(r);break}r=function(){$e!==2&&$e!==9||nt!==t||($e=7),Gi(t)},f.then(r,r);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:Wg(f)?($e=0,xn=null,F_(r)):($e=0,xn=null,rl(t,r,f,7));break;case 5:var b=null;switch(Ce.tag){case 26:b=Ce.memoizedState;case 5:case 27:var T=Ce;if(b?Rb(b):T.stateNode.complete){$e=0,xn=null;var k=T.sibling;if(k!==null)Ce=k;else{var B=T.return;B!==null?(Ce=B,Lc(B)):Ce=null}break t}}$e=0,xn=null,rl(t,r,f,5);break;case 6:$e=0,xn=null,rl(t,r,f,6);break;case 8:Bf(),gt=6;break e;default:throw Error(a(462))}}fI();break}catch(K){P_(t,K)}while(!0);return ar=Qa=null,H.H=o,H.A=d,Ye=s,Ce!==null?0:(nt=null,Me=0,ec(),gt)}function fI(){for(;Ce!==null&&!vs();)H_(Ce)}function H_(t){var r=d_(t.alternate,t,pr);t.memoizedProps=t.pendingProps,r===null?Lc(t):Ce=r}function F_(t){var r=t,s=r.alternate;switch(r.tag){case 15:case 0:r=s_(s,r,r.pendingProps,r.type,void 0,Me);break;case 11:r=s_(s,r,r.pendingProps,r.type.render,r.ref,Me);break;case 5:nf(r);default:m_(s,r),r=Ce=Bg(r,pr),r=d_(s,r,pr)}t.memoizedProps=t.pendingProps,r===null?Lc(t):Ce=r}function rl(t,r,s,o){ar=Qa=null,nf(r),Ks=null,po=0;var d=r.return;try{if(tI(t,d,r,s,Me)){gt=1,Tc(t,Fn(s,t.current)),Ce=null;return}}catch(f){if(d!==null)throw Ce=d,f;gt=1,Tc(t,Fn(s,t.current)),Ce=null;return}r.flags&32768?(je||o===1?t=!0:el||(Me&536870912)!==0?t=!1:(Kr=t=!0,(o===2||o===9||o===3||o===6)&&(o=Sn.current,o!==null&&o.tag===13&&(o.flags|=16384))),G_(r,t)):Lc(r)}function Lc(t){var r=t;do{if((r.flags&32768)!==0){G_(r,Kr);return}t=r.return;var s=rI(r.alternate,r,pr);if(s!==null){Ce=s;return}if(r=r.sibling,r!==null){Ce=r;return}Ce=r=t}while(r!==null);gt===0&&(gt=5)}function G_(t,r){do{var s=aI(t.alternate,t);if(s!==null){s.flags&=32767,Ce=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(t=t.sibling,t!==null)){Ce=t;return}Ce=t=s}while(t!==null);gt=6,Ce=null}function q_(t,r,s,o,d,f,b,T,k){t.cancelPendingCommit=null;do Vc();while(Ut!==0);if((Ye&6)!==0)throw Error(a(327));if(r!==null){if(r===t.current)throw Error(a(177));if(f=r.lanes|r.childLanes,f|=Nd,Ed(t,s,f,b,T,k),t===nt&&(Ce=nt=null,Me=0),nl=r,Xr=t,gr=s,Pf=f,jf=d,M_=o,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,yI(se,function(){return X_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,d=ae.p,ae.p=2,b=Ye,Ye|=4;try{sI(t,r,s)}finally{Ye=b,ae.p=d,H.T=o}}Ut=1,Y_(),K_(),Q_()}}function Y_(){if(Ut===1){Ut=0;var t=Xr,r=nl,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var o=ae.p;ae.p=2;var d=Ye;Ye|=4;try{I_(r,t);var f=em,b=Og(t.containerInfo),T=f.focusedElem,k=f.selectionRange;if(b!==T&&T&&T.ownerDocument&&Cg(T.ownerDocument.documentElement,T)){if(k!==null&&wd(T)){var B=k.start,K=k.end;if(K===void 0&&(K=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(K,T.value.length);else{var W=T.ownerDocument||document,G=W&&W.defaultView||window;if(G.getSelection){var Y=G.getSelection(),fe=T.textContent.length,be=Math.min(k.start,fe),et=k.end===void 0?be:Math.min(k.end,fe);!Y.extend&&be>et&&(b=et,et=be,be=b);var U=kg(T,be),D=kg(T,et);if(U&&D&&(Y.rangeCount!==1||Y.anchorNode!==U.node||Y.anchorOffset!==U.offset||Y.focusNode!==D.node||Y.focusOffset!==D.offset)){var z=W.createRange();z.setStart(U.node,U.offset),Y.removeAllRanges(),be>et?(Y.addRange(z),Y.extend(D.node,D.offset)):(z.setEnd(D.node,D.offset),Y.addRange(z))}}}}for(W=[],Y=T;Y=Y.parentNode;)Y.nodeType===1&&W.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<W.length;T++){var X=W[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Qc=!!Zf,em=Zf=null}finally{Ye=d,ae.p=o,H.T=s}}t.current=r,Ut=2}}function K_(){if(Ut===2){Ut=0;var t=Xr,r=nl,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var o=ae.p;ae.p=2;var d=Ye;Ye|=4;try{v_(t,r.alternate,r)}finally{Ye=d,ae.p=o,H.T=s}}Ut=3}}function Q_(){if(Ut===4||Ut===3){Ut=0,Na();var t=Xr,r=nl,s=gr,o=M_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ut=5:(Ut=0,nl=Xr=null,$_(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&($r=null),Zi(s),r=r.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ii,r,void 0,(r.current.flags&128)===128)}catch{}if(o!==null){r=H.T,d=ae.p,ae.p=2,H.T=null;try{for(var f=t.onRecoverableError,b=0;b<o.length;b++){var T=o[b];f(T.value,{componentStack:T.stack})}}finally{H.T=r,ae.p=d}}(gr&3)!==0&&Vc(),Gi(t),d=t.pendingLanes,(s&261930)!==0&&(d&42)!==0?t===zf?Oo++:(Oo=0,zf=t):Oo=0,Do(0)}}function $_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,fo(r)))}function Vc(){return Y_(),K_(),Q_(),X_()}function X_(){if(Ut!==5)return!1;var t=Xr,r=Pf;Pf=0;var s=Zi(gr),o=H.T,d=ae.p;try{ae.p=32>s?32:s,H.T=null,s=jf,jf=null;var f=Xr,b=gr;if(Ut=0,nl=Xr=null,gr=0,(Ye&6)!==0)throw Error(a(331));var T=Ye;if(Ye|=4,C_(f.current),R_(f,f.current,b,s),Ye=T,Do(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ii,f)}catch{}return!0}finally{ae.p=d,H.T=o,$_(t,r)}}function J_(t,r,s){r=Fn(s,r),r=_f(t.stateNode,r,2),t=Fr(t,r,2),t!==null&&(Ca(t,2),Gi(t))}function Xe(t,r,s){if(t.tag===3)J_(t,t,s);else for(;r!==null;){if(r.tag===3){J_(r,t,s);break}else if(r.tag===1){var o=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&($r===null||!$r.has(o))){t=Fn(s,t),s=Wy(2),o=Fr(r,s,2),o!==null&&(Zy(s,o,r,t),Ca(o,2),Gi(o));break}}r=r.return}}function Ff(t,r,s){var o=t.pingCache;if(o===null){o=t.pingCache=new uI;var d=new Set;o.set(r,d)}else d=o.get(r),d===void 0&&(d=new Set,o.set(r,d));d.has(s)||(Lf=!0,d.add(s),t=mI.bind(null,t,r,s),r.then(t,t))}function mI(t,r,s){var o=t.pingCache;o!==null&&o.delete(r),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,nt===t&&(Me&s)===s&&(gt===4||gt===3&&(Me&62914560)===Me&&300>Ft()-kc?(Ye&2)===0&&il(t,0):Vf|=s,tl===Me&&(tl=0)),Gi(t)}function W_(t,r){r===0&&(r=Ou()),t=qa(t,r),t!==null&&(Ca(t,r),Gi(t))}function pI(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),W_(t,s)}function gI(t,r){var s=0;switch(t.tag){case 31:case 13:var o=t.stateNode,d=t.memoizedState;d!==null&&(s=d.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(r),W_(t,s)}function yI(t,r){return yt(t,r)}var Uc=null,al=null,Gf=!1,Pc=!1,qf=!1,Wr=0;function Gi(t){t!==al&&t.next===null&&(al===null?Uc=al=t:al=al.next=t),Pc=!0,Gf||(Gf=!0,bI())}function Do(t,r){if(!qf&&Pc){qf=!0;do for(var s=!1,o=Uc;o!==null;){if(t!==0){var d=o.pendingLanes;if(d===0)var f=0;else{var b=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-bt(42|t)+1)-1,f&=d&~(b&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,nb(o,f))}else f=Me,f=Ii(o,o===nt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||ri(o,f)||(s=!0,nb(o,f));o=o.next}while(s);qf=!1}}function _I(){Z_()}function Z_(){Pc=Gf=!1;var t=0;Wr!==0&&NI()&&(t=Wr);for(var r=Ft(),s=null,o=Uc;o!==null;){var d=o.next,f=eb(o,r);f===0?(o.next=null,s===null?Uc=d:s.next=d,d===null&&(al=s)):(s=o,(t!==0||(f&3)!==0)&&(Pc=!0)),o=d}Ut!==0&&Ut!==5||Do(t),Wr!==0&&(Wr=0)}function eb(t,r){for(var s=t.suspendedLanes,o=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var b=31-bt(f),T=1<<b,k=d[b];k===-1?((T&s)===0||(T&o)!==0)&&(d[b]=bd(T,r)):k<=r&&(t.expiredLanes|=T),f&=~T}if(r=nt,s=Me,s=Ii(t,t===r?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===r&&($e===2||$e===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&ti(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||ri(t,s)){if(r=s&-s,r===t.callbackPriority)return r;switch(o!==null&&ti(o),Zi(s)){case 2:case 8:s=xr;break;case 32:s=se;break;case 268435456:s=Vn;break;default:s=se}return o=tb.bind(null,t),s=yt(s,o),t.callbackPriority=r,t.callbackNode=s,r}return o!==null&&o!==null&&ti(o),t.callbackPriority=2,t.callbackNode=null,2}function tb(t,r){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Vc()&&t.callbackNode!==s)return null;var o=Me;return o=Ii(t,t===nt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(V_(t,o,r),eb(t,Ft()),t.callbackNode!=null&&t.callbackNode===s?tb.bind(null,t):null)}function nb(t,r){if(Vc())return null;V_(t,r,!0)}function bI(){CI(function(){(Ye&6)!==0?yt(Ir,_I):Z_()})}function Yf(){if(Wr===0){var t=Gs;t===0&&(t=wi,wi<<=1,(wi&261888)===0&&(wi=256)),Wr=t}return Wr}function ib(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ns(""+t)}function rb(t,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,t.id&&s.setAttribute("form",t.id),r.parentNode.insertBefore(s,r),t=new FormData(t),s.parentNode.removeChild(s),t}function EI(t,r,s,o,d){if(r==="submit"&&s&&s.stateNode===d){var f=ib((d[jt]||null).action),b=o.submitter;b&&(r=(r=b[jt]||null)?ib(r.formAction):b.getAttribute("formAction"),r!==null&&(f=r,b=null));var T=new Ui("action","action",null,o,d);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Wr!==0){var k=b?rb(d,b):new FormData(d);df(s,{pending:!0,data:k,method:d.method,action:f},null,k)}}else typeof f=="function"&&(T.preventDefault(),k=b?rb(d,b):new FormData(d),df(s,{pending:!0,data:k,method:d.method,action:f},f,k))},currentTarget:d}]})}}for(var Kf=0;Kf<Rd.length;Kf++){var Qf=Rd[Kf],vI=Qf.toLowerCase(),TI=Qf[0].toUpperCase()+Qf.slice(1);di(vI,"on"+TI)}di(Lg,"onAnimationEnd"),di(Vg,"onAnimationIteration"),di(Ug,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(PS,"onTransitionRun"),di(jS,"onTransitionStart"),di(zS,"onTransitionCancel"),di(Pg,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mo));function ab(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],d=o.event;o=o.listeners;e:{var f=void 0;if(r)for(var b=o.length-1;0<=b;b--){var T=o[b],k=T.instance,B=T.currentTarget;if(T=T.listener,k!==f&&d.isPropagationStopped())break e;f=T,d.currentTarget=B;try{f(d)}catch(K){Zu(K)}d.currentTarget=null,f=k}else for(b=0;b<o.length;b++){if(T=o[b],k=T.instance,B=T.currentTarget,T=T.listener,k!==f&&d.isPropagationStopped())break e;f=T,d.currentTarget=B;try{f(d)}catch(K){Zu(K)}d.currentTarget=null,f=k}}}}function Oe(t,r){var s=r[ws];s===void 0&&(s=r[ws]=new Set);var o=t+"__bubble";s.has(o)||(sb(r,t,2,!1),s.add(o))}function $f(t,r,s){var o=0;r&&(o|=4),sb(s,t,o,r)}var jc="_reactListening"+Math.random().toString(36).slice(2);function Xf(t){if(!t[jc]){t[jc]=!0,ql.forEach(function(s){s!=="selectionchange"&&(AI.has(s)||$f(s,!1,t),$f(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[jc]||(r[jc]=!0,$f("selectionchange",!1,r))}}function sb(t,r,s,o){switch(Lb(r)){case 2:var d=JI;break;case 8:d=WI;break;default:d=hm}s=d.bind(null,r,s,t),d=void 0,!Ua||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),o?d!==void 0?t.addEventListener(r,s,{capture:!0,passive:d}):t.addEventListener(r,s,!0):d!==void 0?t.addEventListener(r,s,{passive:d}):t.addEventListener(r,s,!1)}function Jf(t,r,s,o,d){var f=o;if((r&1)===0&&(r&2)===0&&o!==null)e:for(;;){if(o===null)return;var b=o.tag;if(b===3||b===4){var T=o.stateNode.containerInfo;if(T===d)break;if(b===4)for(b=o.return;b!==null;){var k=b.tag;if((k===3||k===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;T!==null;){if(b=ki(T),b===null)return;if(k=b.tag,k===5||k===6||k===26||k===27){o=f=b;continue e}T=T.parentNode}}o=o.return}Dr(function(){var B=f,K=jn(s),W=[];e:{var G=jg.get(t);if(G!==void 0){var Y=Ui,fe=t;switch(t){case"keypress":if(ja(s)===0)break e;case"keydown":case"keyup":Y=Xu;break;case"focusin":fe="focus",Y=Ba;break;case"focusout":fe="blur",Y=Ba;break;case"beforeblur":case"afterblur":Y=Ba;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=g;break;case Lg:case Vg:case Ug:Y=Fu;break;case Pg:Y=S;break;case"scroll":case"scrollend":Y=io;break;case"wheel":Y=q;break;case"copy":case"cut":case"paste":Y=Gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=nr;break;case"toggle":case"beforetoggle":Y=xe}var be=(r&4)!==0,et=!be&&(t==="scroll"||t==="scrollend"),U=be?G!==null?G+"Capture":null:G;be=[];for(var D=B,z;D!==null;){var X=D;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||U===null||(X=oi(D,U),X!=null&&be.push(Lo(D,X,z))),et)break;D=D.return}0<be.length&&(G=new Y(G,fe,null,s,K),W.push({event:G,listeners:be}))}}if((r&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",G&&s!==eo&&(fe=s.relatedTarget||s.fromElement)&&(ki(fe)||fe[Ri]))break e;if((Y||G)&&(G=K.window===K?K:(G=K.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(fe=s.relatedTarget||s.toElement,Y=B,fe=fe?ki(fe):null,fe!==null&&(et=u(fe),be=fe.tag,fe!==et||be!==5&&be!==27&&be!==6)&&(fe=null)):(Y=null,fe=B),Y!==fe)){if(be=ro,X="onMouseLeave",U="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(be=nr,X="onPointerLeave",U="onPointerEnter",D="pointer"),et=Y==null?G:vn(Y),z=fe==null?G:vn(fe),G=new be(X,D+"leave",Y,s,K),G.target=et,G.relatedTarget=z,X=null,ki(K)===B&&(be=new be(U,D+"enter",fe,s,K),be.target=z,be.relatedTarget=et,X=be),et=X,Y&&fe)t:{for(be=wI,U=Y,D=fe,z=0,X=U;X;X=be(X))z++;X=0;for(var ge=D;ge;ge=be(ge))X++;for(;0<z-X;)U=be(U),z--;for(;0<X-z;)D=be(D),X--;for(;z--;){if(U===D||D!==null&&U===D.alternate){be=U;break t}U=be(U),D=be(D)}be=null}else be=null;Y!==null&&lb(W,G,Y,be,!1),fe!==null&&et!==null&&lb(W,et,fe,be,!0)}}e:{if(G=B?vn(B):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var Fe=wg;else if(Tg(G))if(Sg)Fe=LS;else{Fe=DS;var me=OS}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?B&&Rs(B.elementType)&&(Fe=wg):Fe=MS;if(Fe&&(Fe=Fe(t,B))){Ag(W,Fe,s,K);break e}me&&me(t,G,B),t==="focusout"&&B&&G.type==="number"&&B.memoizedProps.value!=null&&Jl(G,"number",G.value)}switch(me=B?vn(B):window,t){case"focusin":(Tg(me)||me.contentEditable==="true")&&(Vs=me,Sd=B,uo=null);break;case"focusout":uo=Sd=Vs=null;break;case"mousedown":Id=!0;break;case"contextmenu":case"mouseup":case"dragend":Id=!1,Dg(W,s,K);break;case"selectionchange":if(US)break;case"keydown":case"keyup":Dg(W,s,K)}var Ne;if(qe)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Ls?Ha(t,s)&&(Le="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Le="onCompositionStart");Le&&(zi&&s.locale!=="ko"&&(Ls||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Ls&&(Ne=no()):(Vi=K,to="value"in Vi?Vi.value:Vi.textContent,Ls=!0)),me=zc(B,Le),0<me.length&&(Le=new ji(Le,t,null,s,K),W.push({event:Le,listeners:me}),Ne?Le.data=Ne:(Ne=Ms(s),Ne!==null&&(Le.data=Ne)))),(Ne=Bn?RS(t,s):NS(t,s))&&(Le=zc(B,"onBeforeInput"),0<Le.length&&(me=new ji("onBeforeInput","beforeinput",null,s,K),W.push({event:me,listeners:Le}),me.data=Ne)),EI(W,t,B,s,K)}ab(W,r)})}function Lo(t,r,s){return{instance:t,listener:r,currentTarget:s}}function zc(t,r){for(var s=r+"Capture",o=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=oi(t,s),d!=null&&o.unshift(Lo(t,d,f)),d=oi(t,r),d!=null&&o.push(Lo(t,d,f))),t.tag===3)return o;t=t.return}return[]}function wI(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function lb(t,r,s,o,d){for(var f=r._reactName,b=[];s!==null&&s!==o;){var T=s,k=T.alternate,B=T.stateNode;if(T=T.tag,k!==null&&k===o)break;T!==5&&T!==26&&T!==27||B===null||(k=B,d?(B=oi(s,f),B!=null&&b.unshift(Lo(s,B,k))):d||(B=oi(s,f),B!=null&&b.push(Lo(s,B,k)))),s=s.return}b.length!==0&&t.push({event:r,listeners:b})}var SI=/\r\n?/g,II=/\u0000|\uFFFD/g;function ob(t){return(typeof t=="string"?t:""+t).replace(SI,`
`).replace(II,"")}function ub(t,r){return r=ob(r),ob(t)===r}function Ze(t,r,s,o,d,f){switch(s){case"children":typeof o=="string"?r==="body"||r==="textarea"&&o===""||dn(t,o):(typeof o=="number"||typeof o=="bigint")&&r!=="body"&&dn(t,""+o);break;case"className":Tn(t,"class",o);break;case"tabIndex":Tn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(t,s,o);break;case"style":Zl(t,o,f);break;case"data":if(r!=="object"){Tn(t,"data",o);break}case"src":case"href":if(o===""&&(r!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Ns(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(r!=="input"&&Ze(t,r,"name",d.name,d,null),Ze(t,r,"formEncType",d.formEncType,d,null),Ze(t,r,"formMethod",d.formMethod,d,null),Ze(t,r,"formTarget",d.formTarget,d,null)):(Ze(t,r,"encType",d.encType,d,null),Ze(t,r,"method",d.method,d,null),Ze(t,r,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Ns(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=li);break;case"onScroll":o!=null&&Oe("scroll",t);break;case"onScrollEnd":o!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(d.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=Ns(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),Is(t,"popover",o);break;case"xlinkActuate":Rt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Rt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Rt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Rt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Rt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Rt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Is(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=zu.get(s)||s,Is(t,s,o))}}function Wf(t,r,s,o,d,f){switch(s){case"style":Zl(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(d.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?dn(t,o):(typeof o=="number"||typeof o=="bigint")&&dn(t,""+o);break;case"onScroll":o!=null&&Oe("scroll",t);break;case"onScrollEnd":o!=null&&Oe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yl.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),r=s.slice(2,d?s.length-7:void 0),f=t[jt]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(r,f,d),typeof o=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(r,o,d);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):Is(t,s,o)}}}function $t(t,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var o=!1,d=!1,f;for(f in s)if(s.hasOwnProperty(f)){var b=s[f];if(b!=null)switch(f){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Ze(t,r,f,b,s,null)}}d&&Ze(t,r,"srcSet",s.srcSet,s,null),o&&Ze(t,r,"src",s.src,s,null);return;case"input":Oe("invalid",t);var T=f=b=d=null,k=null,B=null;for(o in s)if(s.hasOwnProperty(o)){var K=s[o];if(K!=null)switch(o){case"name":d=K;break;case"type":b=K;break;case"checked":k=K;break;case"defaultChecked":B=K;break;case"value":f=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,r));break;default:Ze(t,r,o,K,s,null)}}Uu(t,f,T,k,B,b,d,!1);return;case"select":Oe("invalid",t),o=b=f=null;for(d in s)if(s.hasOwnProperty(d)&&(T=s[d],T!=null))switch(d){case"value":f=T;break;case"defaultValue":b=T;break;case"multiple":o=T;default:Ze(t,r,d,T,s,null)}r=f,s=b,t.multiple=!!o,r!=null?Nr(t,!!o,r,!1):s!=null&&Nr(t,!!o,s,!0);return;case"textarea":Oe("invalid",t),f=d=o=null;for(b in s)if(s.hasOwnProperty(b)&&(T=s[b],T!=null))switch(b){case"value":o=T;break;case"defaultValue":d=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Ze(t,r,b,T,s,null)}kr(t,o,d,f);return;case"option":for(k in s)if(s.hasOwnProperty(k)&&(o=s[k],o!=null))switch(k){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ze(t,r,k,o,s,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(o=0;o<Mo.length;o++)Oe(Mo[o],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in s)if(s.hasOwnProperty(B)&&(o=s[B],o!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Ze(t,r,B,o,s,null)}return;default:if(Rs(r)){for(K in s)s.hasOwnProperty(K)&&(o=s[K],o!==void 0&&Wf(t,r,K,o,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(o=s[T],o!=null&&Ze(t,r,T,o,s,null))}function xI(t,r,s,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,b=null,T=null,k=null,B=null,K=null;for(Y in s){var W=s[Y];if(s.hasOwnProperty(Y)&&W!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":k=W;default:o.hasOwnProperty(Y)||Ze(t,r,Y,null,o,W)}}for(var G in o){var Y=o[G];if(W=s[G],o.hasOwnProperty(G)&&(Y!=null||W!=null))switch(G){case"type":f=Y;break;case"name":d=Y;break;case"checked":B=Y;break;case"defaultChecked":K=Y;break;case"value":b=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,r));break;default:Y!==W&&Ze(t,r,G,Y,o,W)}}xs(t,b,T,k,B,K,f,d);return;case"select":Y=b=T=G=null;for(f in s)if(k=s[f],s.hasOwnProperty(f)&&k!=null)switch(f){case"value":break;case"multiple":Y=k;default:o.hasOwnProperty(f)||Ze(t,r,f,null,o,k)}for(d in o)if(f=o[d],k=s[d],o.hasOwnProperty(d)&&(f!=null||k!=null))switch(d){case"value":G=f;break;case"defaultValue":T=f;break;case"multiple":b=f;default:f!==k&&Ze(t,r,d,f,o,k)}r=T,s=b,o=Y,G!=null?Nr(t,!!s,G,!1):!!o!=!!s&&(r!=null?Nr(t,!!s,r,!0):Nr(t,!!s,s?[]:"",!1));return;case"textarea":Y=G=null;for(T in s)if(d=s[T],s.hasOwnProperty(T)&&d!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ze(t,r,T,null,o,d)}for(b in o)if(d=o[b],f=s[b],o.hasOwnProperty(b)&&(d!=null||f!=null))switch(b){case"value":G=d;break;case"defaultValue":Y=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==f&&Ze(t,r,b,d,o,f)}Pu(t,G,Y);return;case"option":for(var fe in s)if(G=s[fe],s.hasOwnProperty(fe)&&G!=null&&!o.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:Ze(t,r,fe,null,o,G)}for(k in o)if(G=o[k],Y=s[k],o.hasOwnProperty(k)&&G!==Y&&(G!=null||Y!=null))switch(k){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Ze(t,r,k,G,o,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in s)G=s[be],s.hasOwnProperty(be)&&G!=null&&!o.hasOwnProperty(be)&&Ze(t,r,be,null,o,G);for(B in o)if(G=o[B],Y=s[B],o.hasOwnProperty(B)&&G!==Y&&(G!=null||Y!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,r));break;default:Ze(t,r,B,G,o,Y)}return;default:if(Rs(r)){for(var et in s)G=s[et],s.hasOwnProperty(et)&&G!==void 0&&!o.hasOwnProperty(et)&&Wf(t,r,et,void 0,o,G);for(K in o)G=o[K],Y=s[K],!o.hasOwnProperty(K)||G===Y||G===void 0&&Y===void 0||Wf(t,r,K,G,o,Y);return}}for(var U in s)G=s[U],s.hasOwnProperty(U)&&G!=null&&!o.hasOwnProperty(U)&&Ze(t,r,U,null,o,G);for(W in o)G=o[W],Y=s[W],!o.hasOwnProperty(W)||G===Y||G==null&&Y==null||Ze(t,r,W,G,o,Y)}function cb(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function RI(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var d=s[o],f=d.transferSize,b=d.initiatorType,T=d.duration;if(f&&T&&cb(b)){for(b=0,T=d.responseEnd,o+=1;o<s.length;o++){var k=s[o],B=k.startTime;if(B>T)break;var K=k.transferSize,W=k.initiatorType;K&&cb(W)&&(k=k.responseEnd,b+=K*(k<T?1:(T-B)/(k-B)))}if(--o,r+=8*(f+b)/(d.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Zf=null,em=null;function Bc(t){return t.nodeType===9?t:t.ownerDocument}function hb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function db(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function tm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var nm=null;function NI(){var t=window.event;return t&&t.type==="popstate"?t===nm?!1:(nm=t,!0):(nm=null,!1)}var fb=typeof setTimeout=="function"?setTimeout:void 0,kI=typeof clearTimeout=="function"?clearTimeout:void 0,mb=typeof Promise=="function"?Promise:void 0,CI=typeof queueMicrotask=="function"?queueMicrotask:typeof mb<"u"?function(t){return mb.resolve(null).then(t).catch(OI)}:fb;function OI(t){setTimeout(function(){throw t})}function Zr(t){return t==="head"}function pb(t,r){var s=r,o=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"||s==="/&"){if(o===0){t.removeChild(d),ul(r);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")Vo(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Vo(s);for(var f=s.firstChild;f;){var b=f.nextSibling,T=f.nodeName;f[Ni]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=b}}else s==="body"&&Vo(t.ownerDocument.body);s=d}while(s);ul(r)}function gb(t,r){var s=t;t=0;do{var o=s.nextSibling;if(s.nodeType===1?r?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(r?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=o}while(s)}function im(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":im(s),Ss(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function DI(t,r,s,o){for(;t.nodeType===1;){var d=s;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ni])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Qn(t.nextSibling),t===null)break}return null}function MI(t,r,s){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Qn(t.nextSibling),t===null))return null;return t}function yb(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Qn(t.nextSibling),t===null))return null;return t}function rm(t){return t.data==="$?"||t.data==="$~"}function am(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function LI(t,r){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||s.readyState!=="loading")r();else{var o=function(){r(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Qn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var sm=null;function _b(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(r===0)return Qn(t.nextSibling);r--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||r++}t=t.nextSibling}return null}function bb(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(r===0)return t;r--}else s!=="/$"&&s!=="/&"||r++}t=t.previousSibling}return null}function Eb(t,r,s){switch(r=Bc(s),t){case"html":if(t=r.documentElement,!t)throw Error(a(452));return t;case"head":if(t=r.head,!t)throw Error(a(453));return t;case"body":if(t=r.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Vo(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Ss(t)}var $n=new Map,vb=new Set;function Hc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var yr=ae.d;ae.d={f:VI,r:UI,D:PI,C:jI,L:zI,m:BI,X:FI,S:HI,M:GI};function VI(){var t=yr.f(),r=Dc();return t||r}function UI(t){var r=Pn(t);r!==null&&r.tag===5&&r.type==="form"?Py(r):yr.r(t)}var sl=typeof document>"u"?null:document;function Tb(t,r,s){var o=sl;if(o&&typeof r=="string"&&r){var d=hn(r);d='link[rel="'+t+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),vb.has(d)||(vb.add(d),t={rel:t,crossOrigin:s,href:r},o.querySelector(d)===null&&(r=o.createElement("link"),$t(r,"link",t),xt(r),o.head.appendChild(r)))}}function PI(t){yr.D(t),Tb("dns-prefetch",t,null)}function jI(t,r){yr.C(t,r),Tb("preconnect",t,r)}function zI(t,r,s){yr.L(t,r,s);var o=sl;if(o&&t&&r){var d='link[rel="preload"][as="'+hn(r)+'"]';r==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+hn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+hn(s.imageSizes)+'"]')):d+='[href="'+hn(t)+'"]';var f=d;switch(r){case"style":f=ll(t);break;case"script":f=ol(t)}$n.has(f)||(t=A({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:t,as:r},s),$n.set(f,t),o.querySelector(d)!==null||r==="style"&&o.querySelector(Uo(f))||r==="script"&&o.querySelector(Po(f))||(r=o.createElement("link"),$t(r,"link",t),xt(r),o.head.appendChild(r)))}}function BI(t,r){yr.m(t,r);var s=sl;if(s&&t){var o=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+hn(o)+'"][href="'+hn(t)+'"]',f=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ol(t)}if(!$n.has(f)&&(t=A({rel:"modulepreload",href:t},r),$n.set(f,t),s.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Po(f)))return}o=s.createElement("link"),$t(o,"link",t),xt(o),s.head.appendChild(o)}}}function HI(t,r,s){yr.S(t,r,s);var o=sl;if(o&&t){var d=Ci(o).hoistableStyles,f=ll(t);r=r||"default";var b=d.get(f);if(!b){var T={loading:0,preload:null};if(b=o.querySelector(Uo(f)))T.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":r},s),(s=$n.get(f))&&lm(t,s);var k=b=o.createElement("link");xt(k),$t(k,"link",t),k._p=new Promise(function(B,K){k.onload=B,k.onerror=K}),k.addEventListener("load",function(){T.loading|=1}),k.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Fc(b,r,o)}b={type:"stylesheet",instance:b,count:1,state:T},d.set(f,b)}}}function FI(t,r){yr.X(t,r);var s=sl;if(s&&t){var o=Ci(s).hoistableScripts,d=ol(t),f=o.get(d);f||(f=s.querySelector(Po(d)),f||(t=A({src:t,async:!0},r),(r=$n.get(d))&&om(t,r),f=s.createElement("script"),xt(f),$t(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(d,f))}}function GI(t,r){yr.M(t,r);var s=sl;if(s&&t){var o=Ci(s).hoistableScripts,d=ol(t),f=o.get(d);f||(f=s.querySelector(Po(d)),f||(t=A({src:t,async:!0,type:"module"},r),(r=$n.get(d))&&om(t,r),f=s.createElement("script"),xt(f),$t(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(d,f))}}function Ab(t,r,s,o){var d=(d=Ae.current)?Hc(d):null;if(!d)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=ll(s.href),s=Ci(d).hoistableStyles,o=s.get(r),o||(o={type:"style",instance:null,count:0,state:null},s.set(r,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=ll(s.href);var f=Ci(d).hoistableStyles,b=f.get(t);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,b),(f=d.querySelector(Uo(t)))&&!f._p&&(b.instance=f,b.state.loading=5),$n.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},$n.set(t,s),f||qI(d,t,s,b.state))),r&&o===null)throw Error(a(528,""));return b}if(r&&o!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ol(s),s=Ci(d).hoistableScripts,o=s.get(r),o||(o={type:"script",instance:null,count:0,state:null},s.set(r,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ll(t){return'href="'+hn(t)+'"'}function Uo(t){return'link[rel="stylesheet"]['+t+"]"}function wb(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function qI(t,r,s,o){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?o.loading=1:(r=t.createElement("link"),o.preload=r,r.addEventListener("load",function(){return o.loading|=1}),r.addEventListener("error",function(){return o.loading|=2}),$t(r,"link",s),xt(r),t.head.appendChild(r))}function ol(t){return'[src="'+hn(t)+'"]'}function Po(t){return"script[async]"+t}function Sb(t,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var o=t.querySelector('style[data-href~="'+hn(s.href)+'"]');if(o)return r.instance=o,xt(o),o;var d=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),xt(o),$t(o,"style",d),Fc(o,s.precedence,t),r.instance=o;case"stylesheet":d=ll(s.href);var f=t.querySelector(Uo(d));if(f)return r.state.loading|=4,r.instance=f,xt(f),f;o=wb(s),(d=$n.get(d))&&lm(o,d),f=(t.ownerDocument||t).createElement("link"),xt(f);var b=f;return b._p=new Promise(function(T,k){b.onload=T,b.onerror=k}),$t(f,"link",o),r.state.loading|=4,Fc(f,s.precedence,t),r.instance=f;case"script":return f=ol(s.src),(d=t.querySelector(Po(f)))?(r.instance=d,xt(d),d):(o=s,(d=$n.get(f))&&(o=A({},s),om(o,d)),t=t.ownerDocument||t,d=t.createElement("script"),xt(d),$t(d,"link",o),t.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(o=r.instance,r.state.loading|=4,Fc(o,s.precedence,t));return r.instance}function Fc(t,r,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,f=d,b=0;b<o.length;b++){var T=o[b];if(T.dataset.precedence===r)f=T;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(t,r.firstChild))}function lm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function om(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Gc=null;function Ib(t,r,s){if(Gc===null){var o=new Map,d=Gc=new Map;d.set(s,o)}else d=Gc,o=d.get(s),o||(o=new Map,d.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),d=0;d<s.length;d++){var f=s[d];if(!(f[Ni]||f[It]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var b=f.getAttribute(r)||"";b=t+b;var T=o.get(b);T?T.push(f):o.set(b,[f])}}return o}function xb(t,r,s){t=t.ownerDocument||t,t.head.insertBefore(s,r==="title"?t.querySelector("head > title"):null)}function YI(t,r,s){if(s===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Rb(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function KI(t,r,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=ll(o.href),f=r.querySelector(Uo(d));if(f){r=f._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=qc.bind(t),r.then(t,t)),s.state.loading|=4,s.instance=f,xt(f);return}f=r.ownerDocument||r,o=wb(o),(d=$n.get(d))&&lm(o,d),f=f.createElement("link"),xt(f);var b=f;b._p=new Promise(function(T,k){b.onload=T,b.onerror=k}),$t(f,"link",o),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=qc.bind(t),r.addEventListener("load",s),r.addEventListener("error",s))}}var um=0;function QI(t,r){return t.stylesheets&&t.count===0&&Kc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var o=setTimeout(function(){if(t.stylesheets&&Kc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+r);0<t.imgBytes&&um===0&&(um=62500*RI());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Kc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>um?50:800)+r);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(d)}}:null}function qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Yc=null;function Kc(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Yc=new Map,r.forEach($I,t),Yc=null,qc.call(t))}function $I(t,r){if(!(r.state.loading&4)){var s=Yc.get(t);if(s)var o=s.get(null);else{s=new Map,Yc.set(t,s);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var b=d[f];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(s.set(b.dataset.precedence,b),o=b)}o&&s.set(null,o)}d=r.instance,b=d.getAttribute("data-precedence"),f=s.get(b)||o,f===o&&s.set(null,d),s.set(b,d),this.count++,o=qc.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),r.state.loading|=4}}var jo={$$typeof:$,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function XI(t,r,s,o,d,f,b,T,k){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xi(0),this.hiddenUpdates=xi(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function Nb(t,r,s,o,d,f,b,T,k,B,K,W){return t=new XI(t,r,s,b,k,B,K,W,T),r=1,f===!0&&(r|=24),f=wn(3,null,null,r),t.current=f,f.stateNode=t,r=Bd(),r.refCount++,t.pooledCache=r,r.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:r},qd(f),t}function kb(t){return t?(t=js,t):js}function Cb(t,r,s,o,d,f){d=kb(d),o.context===null?o.context=d:o.pendingContext=d,o=Hr(r),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Fr(t,o,r),s!==null&&(yn(s,t,r),yo(s,t,r))}function Ob(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function cm(t,r){Ob(t,r),(t=t.alternate)&&Ob(t,r)}function Db(t){if(t.tag===13||t.tag===31){var r=qa(t,67108864);r!==null&&yn(r,t,67108864),cm(t,67108864)}}function Mb(t){if(t.tag===13||t.tag===31){var r=Nn();r=Da(r);var s=qa(t,r);s!==null&&yn(s,t,r),cm(t,r)}}var Qc=!0;function JI(t,r,s,o){var d=H.T;H.T=null;var f=ae.p;try{ae.p=2,hm(t,r,s,o)}finally{ae.p=f,H.T=d}}function WI(t,r,s,o){var d=H.T;H.T=null;var f=ae.p;try{ae.p=8,hm(t,r,s,o)}finally{ae.p=f,H.T=d}}function hm(t,r,s,o){if(Qc){var d=dm(o);if(d===null)Jf(t,r,o,$c,s),Vb(t,o);else if(ex(d,t,r,s,o))o.stopPropagation();else if(Vb(t,o),r&4&&-1<ZI.indexOf(t)){for(;d!==null;){var f=Pn(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var b=Si(f.pendingLanes);if(b!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;b;){var k=1<<31-bt(b);T.entanglements[1]|=k,b&=~k}Gi(f),(Ye&6)===0&&(Cc=Ft()+500,Do(0))}}break;case 31:case 13:T=qa(f,2),T!==null&&yn(T,f,2),Dc(),cm(f,2)}if(f=dm(o),f===null&&Jf(t,r,o,$c,s),f===d)break;d=f}d!==null&&o.stopPropagation()}else Jf(t,r,o,null,s)}}function dm(t){return t=jn(t),fm(t)}var $c=null;function fm(t){if($c=null,t=ki(t),t!==null){var r=u(t);if(r===null)t=null;else{var s=r.tag;if(s===13){if(t=h(r),t!==null)return t;t=null}else if(s===31){if(t=m(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return $c=t,null}function Lb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ni()){case Ir:return 2;case xr:return 8;case se:case _t:return 32;case Vn:return 268435456;default:return 32}default:return 32}}var mm=!1,ea=null,ta=null,na=null,zo=new Map,Bo=new Map,ia=[],ZI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vb(t,r){switch(t){case"focusin":case"focusout":ea=null;break;case"dragenter":case"dragleave":ta=null;break;case"mouseover":case"mouseout":na=null;break;case"pointerover":case"pointerout":zo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bo.delete(r.pointerId)}}function Ho(t,r,s,o,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[d]},r!==null&&(r=Pn(r),r!==null&&Db(r)),t):(t.eventSystemFlags|=o,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function ex(t,r,s,o,d){switch(r){case"focusin":return ea=Ho(ea,t,r,s,o,d),!0;case"dragenter":return ta=Ho(ta,t,r,s,o,d),!0;case"mouseover":return na=Ho(na,t,r,s,o,d),!0;case"pointerover":var f=d.pointerId;return zo.set(f,Ho(zo.get(f)||null,t,r,s,o,d)),!0;case"gotpointercapture":return f=d.pointerId,Bo.set(f,Ho(Bo.get(f)||null,t,r,s,o,d)),!0}return!1}function Ub(t){var r=ki(t.target);if(r!==null){var s=u(r);if(s!==null){if(r=s.tag,r===13){if(r=h(s),r!==null){t.blockedOn=r,ai(t.priority,function(){Mb(s)});return}}else if(r===31){if(r=m(s),r!==null){t.blockedOn=r,ai(t.priority,function(){Mb(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=dm(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);eo=o,s.target.dispatchEvent(o),eo=null}else return r=Pn(s),r!==null&&Db(r),t.blockedOn=s,!1;r.shift()}return!0}function Pb(t,r,s){Xc(t)&&s.delete(r)}function tx(){mm=!1,ea!==null&&Xc(ea)&&(ea=null),ta!==null&&Xc(ta)&&(ta=null),na!==null&&Xc(na)&&(na=null),zo.forEach(Pb),Bo.forEach(Pb)}function Jc(t,r){t.blockedOn===r&&(t.blockedOn=null,mm||(mm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,tx)))}var Wc=null;function jb(t){Wc!==t&&(Wc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Wc===t&&(Wc=null);for(var r=0;r<t.length;r+=3){var s=t[r],o=t[r+1],d=t[r+2];if(typeof o!="function"){if(fm(o||s)===null)continue;break}var f=Pn(s);f!==null&&(t.splice(r,3),r-=3,df(f,{pending:!0,data:d,method:s.method,action:o},o,d))}}))}function ul(t){function r(k){return Jc(k,t)}ea!==null&&Jc(ea,t),ta!==null&&Jc(ta,t),na!==null&&Jc(na,t),zo.forEach(r),Bo.forEach(r);for(var s=0;s<ia.length;s++){var o=ia[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<ia.length&&(s=ia[0],s.blockedOn===null);)Ub(s),s.blockedOn===null&&ia.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var d=s[o],f=s[o+1],b=d[jt]||null;if(typeof f=="function")b||jb(s);else if(b){var T=null;if(f&&f.hasAttribute("formAction")){if(d=f,b=f[jt]||null)T=b.formAction;else if(fm(d)!==null)continue}else T=b.action;typeof T=="function"?s[o+1]=T:(s.splice(o,3),o-=3),jb(s)}}}function zb(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(b){return d=b})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function pm(t){this._internalRoot=t}Zc.prototype.render=pm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,o=Nn();Cb(s,o,t,r,null,null)},Zc.prototype.unmount=pm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Cb(t.current,2,null,t,null,null),Dc(),r[Ri]=null}};function Zc(t){this._internalRoot=t}Zc.prototype.unstable_scheduleHydration=function(t){if(t){var r=Du();t={blockedOn:null,target:t,priority:r};for(var s=0;s<ia.length&&r!==0&&r<ia[s].priority;s++);ia.splice(s,0,t),s===0&&Ub(t)}};var Bb=e.version;if(Bb!=="19.2.3")throw Error(a(527,Bb,"19.2.3"));ae.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(r),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var nx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eh.isDisabled&&eh.supportsFiber)try{ii=eh.inject(nx),Gt=eh}catch{}}return Go.createRoot=function(t,r){if(!l(t))throw Error(a(299));var s=!1,o="",d=Qy,f=$y,b=Xy;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=Nb(t,1,!1,null,null,s,o,null,d,f,b,zb),t[Ri]=r.current,Xf(t),new pm(r)},Go.hydrateRoot=function(t,r,s){if(!l(t))throw Error(a(299));var o=!1,d="",f=Qy,b=$y,T=Xy,k=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(k=s.formState)),r=Nb(t,1,!0,r,s??null,o,d,k,f,b,T,zb),r.context=kb(null),s=r.current,o=Nn(),o=Da(o),d=Hr(o),d.callback=null,Fr(s,d,o),s=o,r.current.lanes=s,Ca(r,s),Gi(r),t[Ri]=r.current,Xf(t),new Zc(r)},Go.version="19.2.3",Go}var Jb;function dx(){if(Jb)return _m.exports;Jb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),_m.exports=hx(),_m.exports}var fx=dx();const mx=sT(fx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gx=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,a)=>a?a.toUpperCase():n.toLowerCase()),Wb=i=>{const e=gx(i);return e.charAt(0).toUpperCase()+e.slice(1)},lT=(...i)=>i.filter((e,n,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===n).join(" ").trim(),yx=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _x={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=ue.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:l="",children:u,iconNode:h,...m},p)=>ue.createElement("svg",{ref:p,..._x,width:e,height:e,stroke:i,strokeWidth:a?Number(n)*24/Number(e):n,className:lT("lucide",l),...!u&&!yx(m)&&{"aria-hidden":"true"},...m},[...h.map(([y,v])=>ue.createElement(y,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=(i,e)=>{const n=ue.forwardRef(({className:a,...l},u)=>ue.createElement(bx,{ref:u,iconNode:e,className:lT(`lucide-${px(Wb(i))}`,`lucide-${i}`,a),...l}));return n.displayName=Wb(i),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],vx=tt("calendar",Ex);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ax=tt("check",Tx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Sx=tt("chevron-right",wx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],xx=tt("circle-question-mark",Ix);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],_p=tt("external-link",Rx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kx=tt("eye",Nx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],oT=tt("film",Cx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Dx=tt("image",Ox);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M11 19H3",key:"zflm78"}],["path",{d:"M21 16V5",key:"yxg4q8"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Lx=tt("list-music",Mx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ux=tt("loader-circle",Vx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],jx=tt("loader",Px);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Bx=tt("lock",zx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Fx=tt("mail",Hx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],qx=tt("menu",Gx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Kx=tt("music",Yx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],jm=tt("newspaper",Qx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],uT=tt("quote",$x);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],cT=tt("refresh-cw",Xx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Wx=tt("search",Jx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],e1=tt("send",Zx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],n1=tt("sparkles",t1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],r1=tt("square-pen",i1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Yh=tt("star",a1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],hT=tt("ticket",s1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Zb=tt("trash-2",l1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=[["path",{d:"m17 2-5 5-5-5",key:"16satq"}],["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",key:"1e6viu"}]],u1=tt("tv",o1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Kh=tt("user",c1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_r=tt("x",h1),bp=({rating:i,maxRating:e=5,onRate:n,readOnly:a=!1,size:l=24})=>{const[u,h]=ue.useState(null),m=u!==null?u:i;return _.jsx("div",{className:"flex space-x-1",children:Array.from({length:e}).map((p,y)=>{const v=y+1,A=v<=m;return _.jsx("button",{type:"button",disabled:a,onClick:()=>!a&&n&&n(v),onMouseEnter:()=>!a&&h(v),onMouseLeave:()=>!a&&h(null),className:"focus:outline-none",children:_.jsx(Yh,{size:l,className:`${A?"fill-yellow-400 text-yellow-400":"fill-transparent text-neutral-700"}`,strokeWidth:A?0:2})},y)})})},d1=["Aksiyon","Bilim Kurgu","Drama","Komedi","Korku","Macera","Romantik","Gerilim","Animasyon","Belgesel","Fantastik","Suc","Gizem","Savas","Western"],dT=({isOpen:i,onClose:e,onSubmit:n,isSubmitting:a,initialTitle:l="",editMovie:u})=>{const[h,m]=ue.useState("watched"),[p,y]=ue.useState(""),[v,A]=ue.useState(""),[w,C]=ue.useState(0),[P,Q]=ue.useState(""),[F,ie]=ue.useState(""),[ee,$]=ue.useState(""),[oe,ne]=ue.useState([]),[_e,R]=ue.useState(""),[I,x]=ue.useState(""),[L,O]=ue.useState(null),V=ue.useRef(null);ue.useEffect(()=>{i&&(u?(y(u.title),A(u.imdbUrl||""),O(u.posterBase64||null),m(u.status),C(u.userRating||0),Q(u.userReview||""),ie(u.year!=="???"?u.year:""),$(u.director!=="Bilinmiyor"?u.director:""),ne(u.genre&&u.genre[0]!=="Bilinmiyor"?u.genre:[]),R(u.summary!=="zet bulunamad."?u.summary:"")):(y(l),A(""),O(null),m("watched"),C(0),Q(""),ie(""),$(""),ne([]),R("")),x(""))},[i,l,u]);const N=H=>{var pe;const ae=(pe=H.target.files)==null?void 0:pe[0];if(ae){if(ae.size>5*1024*1024){x("DOSYA COK BUYUK (MAX 5MB)");return}const ke=new FileReader;ke.onloadend=()=>{O(ke.result),x("")},ke.readAsDataURL(ae)}},He=()=>{O(null),V.current&&(V.current.value="")};if(!i)return null;const ct=async H=>{if(H.preventDefault(),!p.trim()){x("FILM ADI GIRINIZ");return}if(h==="watched"&&w===0){x("PUAN VERINIZ");return}await n({rawTitle:p,status:h,userRating:h==="watched"?w:void 0,userReview:h==="watched"?P:void 0,imdbUrl:v.trim()||void 0,manualPosterBase64:L||void 0,manualYear:F.trim()||void 0,manualDirector:ee.trim()||void 0,manualGenres:oe.length>0?oe:void 0,manualSummary:_e.trim()||void 0}),!l&&!u&&(y(""),A(""),O(null),C(0),Q(""),ie(""),$(""),ne([]),R("")),x("")};return _.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-4",children:_.jsxs("div",{className:"bg-black border-4 border-white w-full max-w-lg shadow-[20px_20px_0px_#222] relative max-h-[90vh] overflow-y-auto",children:[_.jsxs("div",{className:"bg-white text-black px-4 py-2 flex justify-between items-center font-bold text-xl sticky top-0 z-10",children:[_.jsx("span",{children:u?"> KAYIT DUZENLE":l?"> PUANLAMA EKRANI":"> YEN KAYIT EKLE"}),_.jsx("button",{onClick:e,disabled:a,className:"hover:bg-red-600 hover:text-white px-2",children:"[IKI]"})]}),!l&&!u&&_.jsxs("div",{className:"flex border-b-4 border-white",children:[_.jsx("button",{type:"button",onClick:()=>m("watched"),className:`flex-1 py-2 text-xl font-bold ${h==="watched"?"bg-red-600 text-white":"bg-neutral-900 text-neutral-500"}`,children:"ZLEDM [+]"}),_.jsx("button",{type:"button",onClick:()=>m("watchlist"),className:`flex-1 py-2 text-xl font-bold ${h==="watchlist"?"bg-green-600 text-white":"bg-neutral-900 text-neutral-500"}`,children:"ZLEYECEM [+]"})]}),_.jsxs("form",{onSubmit:ct,className:"p-6 space-y-6",children:[_.jsxs("div",{className:"flex gap-4",children:[_.jsxs("div",{className:"w-1/3",children:[_.jsxs("div",{onClick:()=>{var H;return(H=V.current)==null?void 0:H.click()},className:`aspect-[2/3] border-4 border-dashed ${L?"border-white":"border-neutral-700 hover:border-yellow-400"} flex flex-col items-center justify-center cursor-pointer bg-neutral-900`,children:[L?_.jsx("img",{src:L,alt:"Preview",className:"w-full h-full object-cover grayscale contrast-125"}):_.jsxs("div",{className:"text-center text-neutral-500 p-2",children:[_.jsx(Dx,{className:"mx-auto mb-2"}),_.jsx("span",{className:"text-sm font-bold",children:"FOTO YUKLE"})]}),_.jsx("input",{type:"file",ref:V,onChange:N,accept:"image/*",className:"hidden",disabled:a})]}),L&&_.jsx("button",{type:"button",onClick:H=>{H.stopPropagation(),He()},className:"w-full bg-red-600 text-white text-sm font-bold mt-2",children:"SIL"})]}),_.jsxs("div",{className:"flex-1 space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-yellow-400 font-bold mb-1",children:"FILM ADI:"}),_.jsx("input",{type:"text",value:p,onChange:H=>y(H.target.value.toUpperCase()),className:"w-full bg-neutral-900 border-b-4 border-white text-white p-2 text-xl font-bold outline-none focus:bg-neutral-800 focus:border-yellow-400",placeholder:"ISIM GIRINIZ...",autoFocus:!0,disabled:a||!!l})]}),h==="watched"&&_.jsxs("div",{children:[_.jsx("label",{className:"block text-orange-400 font-bold mb-1",children:"YONETMEN:"}),_.jsx("input",{type:"text",value:ee,onChange:H=>$(H.target.value),className:"w-full bg-neutral-900 border-b-4 border-white text-white p-2 text-lg font-bold outline-none focus:bg-neutral-800 focus:border-orange-400",placeholder:"YONETMEN ADI...",disabled:a||!!l})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-cyan-400 font-bold mb-1",children:"IMDB LINK:"}),_.jsx("input",{type:"url",value:v,onChange:H=>A(H.target.value),className:"w-full bg-neutral-900 border-b-4 border-white text-white p-2 text-lg font-bold outline-none focus:bg-neutral-800 focus:border-cyan-400",placeholder:"HTTPS://...",disabled:a||!!l})]}),h==="watched"&&_.jsxs("div",{children:[_.jsx("label",{className:"block text-pink-500 font-bold mb-1",children:"TUR SEM:"}),_.jsxs("select",{value:oe[0]||"",onChange:H=>ne(H.target.value?[H.target.value]:[]),className:"w-full bg-neutral-900 border-b-4 border-white text-white p-2 text-lg font-bold outline-none focus:bg-neutral-800 focus:border-pink-500 appearance-none",children:[_.jsx("option",{value:"",children:"TUR SECINIZ..."}),d1.map(H=>_.jsx("option",{value:H,children:H},H))]})]}),h==="watched"&&_.jsxs("div",{className:"grid grid-cols-2 gap-4 items-end",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-white font-bold mb-1",children:"YIL:"}),_.jsx("input",{type:"text",value:F,onChange:H=>ie(H.target.value),className:"w-full bg-neutral-900 border-b-4 border-white text-white p-2 text-lg font-bold outline-none focus:bg-neutral-800 focus:border-white",placeholder:"2024",disabled:a||!!l})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-green-400 font-bold mb-1",children:"PUANLAMA:"}),_.jsx("div",{className:"bg-neutral-900 p-2 border-2 border-green-600 flex justify-center",children:_.jsx(bp,{rating:w,onRate:C,size:18,readOnly:a})})]})]}),h==="watched"&&_.jsxs("div",{children:[_.jsx("label",{className:"block text-purple-400 font-bold mb-1",children:"DETAY / ZET:"}),_.jsx("textarea",{value:_e,onChange:H=>R(H.target.value),rows:3,className:"w-full bg-neutral-900 border-2 border-white text-white p-2 font-bold outline-none focus:border-purple-400 resize-none",placeholder:"AI YERINE MANUEL OZET...",disabled:a||!!l})]}),h==="watched"&&_.jsxs("div",{children:[_.jsx("label",{className:"block text-fuchsia-500 font-bold mb-1",children:"YORUMUNUZ:"}),_.jsx("textarea",{value:P,onChange:H=>Q(H.target.value.toUpperCase()),rows:3,className:"w-full bg-neutral-900 border-2 border-white text-white p-2 font-bold outline-none focus:border-fuchsia-500 resize-none",placeholder:"...",disabled:a})]})]})]}),I&&_.jsxs("div",{className:"bg-red-600 text-white p-2 font-bold blink text-center",children:["*** ",I," ***"]}),_.jsxs("div",{className:"flex gap-4 pt-2",children:[_.jsx("button",{type:"button",onClick:e,disabled:a,className:"flex-1 border-2 border-white text-white font-bold py-3 hover:bg-white hover:text-black",children:"PTAL"}),_.jsx("button",{type:"submit",disabled:a,className:`flex-1 font-bold py-3 text-white border-2 border-white ${a?"bg-neutral-700":"bg-yellow-400 text-black hover:bg-yellow-300"}`,children:a?"BEKLEYINIZ...":u?"GUNCELLE":"KAYDET"})]})]})]})})},f1=({movie:i,onDelete:e,onDirectorClick:n,onClick:a,className:l=""})=>{var h;const u=i.status==="watched";return _.jsxs("div",{onClick:()=>a&&a(i),className:`group relative bg-black border-4 ${u?"border-neutral-700 hover:border-yellow-400":"border-neutral-600"} flex flex-col shadow-[8px_8px_0px_#333] transition-all cursor-pointer h-full ${l}`,children:[_.jsxs("div",{className:"w-full aspect-[2/3] relative bg-neutral-900 border-b-4 border-neutral-700 overflow-hidden",children:[i.posterBase64?_.jsx("img",{src:i.posterBase64,alt:i.title,className:"w-full h-full object-cover contrast-125 saturate-150 pixelated group-hover:scale-105 transition-transform duration-500",style:{imageRendering:"pixelated"}}):_.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-blue-800 text-white",children:[_.jsx("span",{className:"text-4xl",children:i.emoji}),_.jsx("span",{className:"text-sm mt-2 text-yellow-400 font-bold",children:"NO IMAGE"})]}),u&&((h=i.genre)==null?void 0:h[0])&&_.jsx("div",{className:"absolute top-2 left-2 bg-yellow-400 text-black text-xs font-bold px-2 py-1 shadow-sm border border-black uppercase",children:i.genre[0]})]}),_.jsxs("div",{className:"p-4 flex flex-col gap-2 bg-black flex-1",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"text-2xl text-yellow-400 leading-none font-bold uppercase tracking-wide line-clamp-2 mb-1",children:i.title.toLocaleUpperCase("tr-TR")}),_.jsx("div",{className:"text-neutral-500 font-bold text-sm uppercase truncate",children:i.director})]}),_.jsxs("div",{className:"mt-auto pt-3 border-t-2 border-neutral-800 flex items-center justify-between",children:[_.jsx("div",{className:"bg-neutral-800 text-white px-2 py-0.5 text-sm font-bold border border-neutral-600",children:i.year}),u&&i.userRating&&_.jsxs("div",{className:"flex items-center gap-1.5",children:[_.jsx(Yh,{size:14,className:"text-yellow-400 fill-yellow-400"}),_.jsx("span",{className:"text-white font-bold text-lg",children:i.userRating})]})]})]})]})},m1=({movie:i})=>_.jsxs("div",{className:"group relative bg-black border-4 border-neutral-700 shadow-[8px_8px_0px_#333] flex flex-col h-full hover:border-yellow-400 transition-colors",children:[_.jsx("div",{className:"w-full aspect-[2/3] relative bg-neutral-900 border-b-4 border-neutral-700 overflow-hidden",children:i.posterBase64?_.jsx("img",{src:i.posterBase64,alt:i.title,className:"w-full h-full object-cover contrast-125 saturate-150 pixelated group-hover:scale-105 transition-transform duration-500",style:{imageRendering:"pixelated"}}):_.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-blue-800 text-white p-4",children:[_.jsx("span",{className:"text-4xl",children:i.emoji||""}),_.jsx("span",{className:"text-xs mt-2 text-yellow-400 text-center font-bold",children:"NO IMAGE"})]})}),_.jsx("div",{className:"p-3 bg-black flex flex-col items-center justify-center flex-1",children:_.jsx("h3",{className:"text-xl text-yellow-400 leading-tight font-bold uppercase tracking-wide text-center line-clamp-2",children:i.title.toLocaleUpperCase("tr-TR")})})]}),p1=["KO","BOA","KZLER","YENGE","ASLAN","BAAK","TERAZ","AKREP","YAY","OLAK","KOVA","BALIK"],g1=({isOpen:i,onClose:e,movies:n})=>{const[a,l]=ue.useState(null),[u,h]=ue.useState(null),[m,p]=ue.useState(!1);if(!i)return null;const y=async v=>{l(v),p(!0),h(null),setTimeout(()=>{const A=n.filter(w=>w.status==="watched"&&w.isApproved!==!1);if(A.length>0){const w=A[Math.floor(Math.random()*A.length)];h(w)}p(!1)},1500)};return _.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/90 p-4",children:_.jsxs("div",{className:"w-full max-w-4xl bg-purple-900 border-4 border-yellow-400 p-1 shadow-[10px_10px_0px_#fff] overflow-y-auto max-h-[90vh]",children:[_.jsxs("div",{className:"bg-yellow-400 text-purple-900 px-4 py-2 flex justify-between items-center font-bold text-lg md:text-2xl mb-4 sticky top-0 z-20",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(n1,{size:20}),_.jsx("span",{children:"ASTRO SNEMA"})]}),_.jsx("button",{onClick:e,className:"hover:bg-purple-900 hover:text-white px-2",children:"[IKI]"})]}),_.jsxs("div",{className:"flex flex-col md:flex-row gap-4 p-2 md:p-4",children:[_.jsx("div",{className:"grid grid-cols-3 gap-2 w-full md:w-1/2 shrink-0",children:p1.map(v=>_.jsx("button",{onClick:()=>y(v),disabled:m,className:`p-2 md:p-3 text-sm md:text-xl font-bold border-2 transition-all text-center
                            ${a===v?"bg-white text-purple-900 border-white blink":"bg-purple-800 text-yellow-400 border-purple-600 hover:border-yellow-400 hover:bg-purple-700"}`,children:v},v))}),_.jsxs("div",{className:"w-full md:w-1/2 bg-black border-2 border-white p-4 md:p-6 flex flex-col items-center justify-center min-h-[250px] md:min-h-[300px] text-center relative overflow-hidden",children:[!a&&_.jsxs("div",{className:"text-neutral-500 animate-pulse",children:[_.jsx("p",{className:"text-xl md:text-2xl mb-2",children:"LTFEN BURCUNUZU SENZ"}),_.jsx("p",{children:"---"})]}),m&&_.jsxs("div",{className:"text-yellow-400 flex flex-col items-center z-10",children:[_.jsx(Ux,{className:"animate-spin w-10 h-10 md:w-12 md:h-12 mb-4"}),_.jsx("span",{className:"text-lg md:text-xl blink",children:"YILDIZLAR OKUNUYOR..."})]}),u&&!m&&_.jsxs("div",{className:"animate-in fade-in zoom-in duration-500 flex flex-col items-center w-full h-full justify-between",children:[_.jsxs("h3",{className:"text-lg md:text-2xl text-cyan-400 mb-2 border-b-2 border-cyan-400",children:[a," N NER:"]}),u.posterBase64&&_.jsx("img",{src:u.posterBase64,alt:u.title,className:"w-24 h-36 md:w-32 md:h-48 object-cover border-2 border-white mb-4 shadow-[4px_4px_0px_#333]"}),_.jsx("h2",{className:"text-2xl md:text-3xl text-yellow-400 font-bold mb-2 break-words max-w-full leading-none",children:u.title}),_.jsxs("div",{className:"text-purple-400 text-xs md:text-sm mt-auto font-bold uppercase",children:["YIL: ",u.year," | ",u.director]})]}),a&&!m&&!u&&_.jsx("div",{className:"text-red-500 text-lg md:text-xl font-bold",children:"MALESEF KOLEKSIYONDA FILM BULUNAMADI."})]})]}),_.jsx("div",{className:"text-center text-yellow-400 text-sm md:text-lg mt-2 pb-2 px-2",children:"*** GELECENZ BR FLM SENARYOSU KADAR SRPRZL OLABLR ***"})]})})},y1=({isOpen:i,onClose:e})=>i?_.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/90 p-4",children:_.jsxs("div",{className:"w-full max-w-4xl bg-blue-900 border-4 border-yellow-400 p-1 shadow-[10px_10px_0px_#fff]",children:[_.jsxs("div",{className:"bg-yellow-400 text-blue-900 px-4 py-2 flex justify-between items-center font-bold text-2xl mb-4",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(jm,{}),_.jsx("span",{children:"SNEMA GNL - SAYFA 600"})]}),_.jsx("button",{onClick:e,className:"hover:bg-blue-900 hover:text-white px-2",children:"[IKI]"})]}),_.jsxs("div",{className:"p-8 text-center min-h-[300px] flex flex-col items-center justify-center bg-black border-2 border-white",children:[_.jsx(jm,{className:"w-16 h-16 text-yellow-400 mb-4 animate-bounce"}),_.jsx("h2",{className:"text-3xl text-white mb-2 blink",children:"BLOG YAKINDA HZMETNZDE"}),_.jsx("p",{className:"text-xl text-neutral-400",children:"FLM ELETRLER, LSTELER VE DAHA FAZLASI N BEKLEMEDE KALIN."}),_.jsx("div",{className:"mt-8 text-cyan-400 text-sm",children:"* * *"})]})]})}):null,_1=({isOpen:i,onClose:e})=>i?_.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center bg-black/90 p-4",children:_.jsxs("div",{className:"w-full max-w-2xl bg-neutral-900 border-4 border-white p-1 shadow-[10px_10px_0px_#000]",children:[_.jsxs("div",{className:"bg-cyan-400 text-black px-4 py-2 flex justify-between items-center font-bold text-2xl mb-1",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(hT,{}),_.jsx("span",{children:"BR FLM ISMARLA"})]}),_.jsx("button",{onClick:e,className:"hover:bg-black hover:text-white px-2 transition-colors",children:"[X]"})]}),_.jsxs("div",{className:"bg-black border-2 border-neutral-700 p-8 text-white flex flex-col items-center text-center gap-6 max-h-[70vh] overflow-y-auto custom-scrollbar font-inter font-normal",children:[_.jsx("h2",{className:"text-2xl font-bold text-cyan-400",children:'"Sradaki Filmim Sizin Ellerinizde: Ynetmen Koltuuna Siz Gein!"'}),_.jsx("p",{className:"text-lg text-neutral-300 leading-relaxed",children:"Bir filmsever iin en byk keyif, 'Acaba ne hissedecek?' diye merak ettii o filmi bir bakasna izletip tepkisini grmektir. imdi bu gc size devrediyorum! Patreon zerinden bana bir 'Bilet' smarlayarak, bir sonraki filmimi seebilir ve beni sinematik bir maceraya (ya da bir felakete!) srkleyebilirsiniz."}),_.jsxs("div",{className:"bg-red-900/20 border border-red-500/50 p-4 rounded-lg w-full",children:[_.jsx("p",{className:"text-red-400 font-bold mb-2",children:" Ancak uyaryorum:"}),_.jsx("p",{className:"text-neutral-300",children:"Bu sadece bir neri deil, bir sinematik dello!"})]}),_.jsxs("div",{className:"w-full text-left space-y-4",children:[_.jsx("h3",{className:"text-xl font-bold text-white border-b border-neutral-700 pb-2",children:"Snrlar Zorlamaya Var Msnz?"}),_.jsxs("div",{children:[_.jsx("span",{className:"text-cyan-400 font-bold block mb-1",children:'"kence Seans"'}),_.jsx("p",{className:"text-neutral-400 text-lg",children:`IMDb puan yerlerde srnen (evet, o 2.4'lk felaketlerden bahsediyorum), mantk hatalaryla dolu, bitmek bilmeyen o korkun filmi izlemem iin bana meydan okuyabilirsiniz. Acm, detayl bir "Neden izlememelisiniz?" yazsyla burada paylaacam.`})]}),_.jsxs("div",{children:[_.jsx("span",{className:"text-cyan-400 font-bold block mb-1",children:'"Sanat Sabr idir"'}),_.jsx("p",{className:"text-neutral-400 text-lg",children:"Siyah-beyaz, tek mekanda geen ve karakterin 45 dakika boyunca sadece duvara bakt 6 saatlik o Macar sanat filmini mi merak ediyorsunuz? Gnderin gelsin! Uykumla olan savam ve filmin derinliklerindeki (varsa) anlam sizin iin deifre edeyim."})]}),_.jsxs("div",{children:[_.jsx("span",{className:"text-cyan-400 font-bold block mb-1",children:'"Gizli Hazineni Payla"'}),_.jsx("p",{className:"text-neutral-400 text-lg",children:'Ya da "Bunu benden baka kimse bilmez ama harikadr" dediiniz o klt yapm gnderin, hakkn beraber teslim edelim.'})]})]}),_.jsxs("div",{className:"w-full text-left space-y-4 pt-4 border-t border-neutral-800",children:[_.jsx("h3",{className:"text-xl font-bold text-white border-b border-neutral-700 pb-2",children:"Sre Nasl liyor?"}),_.jsxs("ul",{className:"space-y-2 text-neutral-300 list-disc list-inside",children:[_.jsxs("li",{children:[_.jsx("strong",{className:"text-white",children:"Biletini Al:"})," Patreon'dan biletini se ve meydan okuman balat."]}),_.jsxs("li",{children:[_.jsx("strong",{className:"text-white",children:"Grevi Ver:"})," zlememi istediin filmi (ne kadar tuhaf veya uzun olduu fark etmez) bana ilet."]}),_.jsxs("li",{children:[_.jsx("strong",{className:"text-white",children:"ncelemeyi Bekle:"})," O filmi bizzat izleyip, tm drstlmle (ve bazen gzyalarmla) hazrladm detayl incelemeyi burada, ismine zel bir teekkrle yaynlayaym."]})]})]}),_.jsx("p",{className:"text-neutral-400 text-lg mt-2",children:"Spend your time watching great movies... Ama bazen de en ktlerini izleyelim ki iyilerin kymetini bilelim, deil mi?"}),_.jsx("p",{className:"text-cyan-400 font-bold",children:'Hadi, msrlar hazrlayn ve bana ne izleyeceimi syleyin. En "absrt" istei sabrszlkla bekliyorum!'}),_.jsxs("a",{href:"https://www.patreon.com/bolvitamin",target:"_blank",rel:"noopener noreferrer",className:"w-full bg-cyan-400 text-black px-8 py-4 text-2xl font-bold hover:bg-white hover:text-cyan-500 transition-colors flex items-center justify-center gap-2 mt-4 font-mono uppercase tracking-wider",children:[_.jsx("span",{children:"PATREON'A GT"}),_.jsx(_p,{size:24})]})]})]})}):null,e0=[{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/7GlsxNI4LVI?si=BhifaelrwxrVQsih" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Dnyann grltsn susturup evrenin sonsuzluunu hissetmek istediinizde bu paray balatn. Sadece bir film mzii deil, bir zaman makinesi."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/f1w4qnfux-o?si=EaiJsH4Soxgb1J27" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Baz aklar kelimelerle deil, bu keman sesindeki o ar admlarla anlatlr. Sinema tarihinin en zarif melankolisi."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/30jrmzzgHLc?si=xVD80KxJDJmCexTD" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Darda neon klar, elinizde direksiyon ve kafanzda binbir dnce... ehri bir film sahnesine dntrmek iin tek ihtiyacnz olan bu ritim."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/07xTvC5a9YQ?si=5c9YmglAB0NQCjp2" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Bugn her ey ok mu gri grnyor? Bu akordeon sesiyle kendinize bir Paris sabah smarlayn. Kk eylerin bysne kaplma vakti."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/D9OhQVuupdY?si=xbdhdV_9xd3xVDMT" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Yamurlu bir cam kenar, lo bir k ve dijital bir huzur. Gelecein yalnzln bu seste bulacaksnz."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/Flb01Ni3p3M?si=KpN0s37OONQatJzJ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Baz melodiler ilk notasndan itibaren size bir hikaye anlatmaya balar. Bu para, sinemann 'dokunulamaz' zirvesinden gelen bir miras gibi."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/aOHmfq2AUaU?si=-itaNVtBJBHmx6z4" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Zamann daraldn, ilerin ciddiye bindiini hissettiiniz o anlarn mzii. Nabznz hzlandrmak istiyorsanz sesi biraz daha an."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/1hLIXrlpRe8?si=cdb3r4Bdh3d8Ke45" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Gne enerjik bir giri yapmak iin daha iyisi yok. Bir restoranda masaya kp dans etme istei uyandrabilir, hazrlkl olun!"},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/ppzoBclWpaA?si=UHYlFlSNgQUZqK6y" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Unutmak istediiniz ama bir yandan da smsk sarldnz o anlara adanm bir para. Kar yaarken camdan bakmalk."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/PYI09PMNazw?si=RNWXitF9Fu_kF13M" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Efsanevi Ennio Morricone'den bir aheser. Adm adm ykselen bu melodiyle kendinizi bir ln ortasnda, byk bir macerann eiinde hissedeceksiniz."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/K61-tK7Xlzg?si=Npodep-wyu6RaETM" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Bir karakterin krln ve yeniden douunu anlatan en hznl ello sesi. Kendi iinizdeki sessiz dansa elik edecek bir bayapt."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/HSW9UPQbeVQ?si=rReYPU7OyjTOmjW1" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"sko yaylalarnn rzgarn yznzde hissettiren, zgrlk ve akn o muazzam karm. Gzlerinizi kapatn ve o usuz bucaksz yeillii hayal edin."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/LF9_9MZyQGo?si=EGowbvmlr0Nc0YV0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Modern klasik mziin dhisi Sakamotodan kalbe dokunan bir piyano melodisi. Sadece bir film mzii deil, ruhu dinlendiren bir terapi seans."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/_DxjFs_dsR8?si=tC6Yhgq57Zx6Mjle" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"En karanlk hikayelerin bile iinde bir zarafet vardr. Bu vals sizi bir yandan dansa davet ederken, dier yandan kalbinize ince bir sz brakacak."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/mqgEYRtWMJU?si=HgrKzbTxWL2eEQA-" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Daft Punkn sinematik evrene brakt en byk miras. Gece kl bir caddede yrrken veya alrken odaklanmak iin birebir."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/yRh-dzrI4Z4?si=J8poy-EJBafh-sMx" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Hayatn rutininden skldnzda bu ritme tutunun. Sizi koltuunuzdan alp usuz bucaksz denizlerde bir maceraya srkleyecek kadar gl."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/057A1RdssoU?si=0XCqLp69bHawuZRq" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Kemann alad o an. nsan ruhunun en karanlk ve en aydnlk yanlarn ayn anda hissettiren, kalbe kaznan bir at."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/-bzWSJG93P8?si=qFmII-Lfe7vLYPaO" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Sadece bir 'kt adam' mzii deil, bir gvde gsterisi. Bu paray dinlerken kendinizi galaksiyi ynetmeye hazr hissetmemeniz imkansz."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/6lRqY7eu0BU?si=KwtY_vevloIYX0Kx" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Bu siteyi ama sebebim olan o sinema tutkusunun bestelenmi hali. Eski bir sinema salonunun tozlu koltuklarn ve film makinelerinin sesini hatrlatr."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/c56t7upa8Bk?si=yORzihYFJnjyudnH" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Ve final... Usulca balayp devasa bir dalgaya dnen bu para, her notasnda zamann akn ve geri gelmeyecek anlarn arln hissettiriyor. Derin bir nefes aln ve kendinizi bu ykselie brakn."}],b1=({isOpen:i,onClose:e})=>{const[n,a]=ue.useState(0);ue.useEffect(()=>{i&&l()},[i]);const l=()=>{const h=Math.floor(Math.random()*e0.length);a(h)};if(!i)return null;const u=e0[n];return _.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center bg-black/90 p-4",children:_.jsxs("div",{className:"w-full max-w-4xl bg-neutral-900 border-4 border-white p-1 shadow-[10px_10px_0px_#000]",children:[_.jsxs("div",{className:"bg-pink-500 text-black px-4 py-2 flex justify-between items-center font-bold text-2xl mb-1",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(Kx,{}),_.jsx("span",{children:"600 MZK KUTUSU"})]}),_.jsx("button",{onClick:e,className:"hover:bg-black hover:text-white px-2 transition-colors",children:"[X]"})]}),_.jsxs("div",{className:"bg-black border-2 border-neutral-700 p-4 sm:p-8 text-white flex flex-col items-center gap-6",children:[_.jsx("div",{className:"w-full aspect-video border-2 border-neutral-800",children:_.jsx("div",{className:"w-full h-full [&>iframe]:w-full [&>iframe]:h-full",dangerouslySetInnerHTML:{__html:u.embed}})}),_.jsxs("p",{className:"text-xl text-center font-medium text-pink-400 max-w-2xl leading-relaxed",children:['"',u.text,'"']}),_.jsxs("div",{className:"flex gap-4",children:[_.jsxs("button",{onClick:l,className:"bg-neutral-800 hover:bg-neutral-700 text-white px-6 py-3 font-bold border-2 border-transparent hover:border-pink-500 transition-colors flex items-center gap-2",children:[_.jsx(cT,{size:20}),_.jsx("span",{children:"KARITIR"})]}),_.jsxs("a",{href:"https://www.youtube.com/watch?v=JuSsvM8B4Jc&list=PLh15T1z9GF_G3CcazBAjoBZeTiOEIAdd7",target:"_blank",rel:"noopener noreferrer",className:"bg-neutral-800 hover:bg-neutral-700 text-white px-6 py-3 font-bold border-2 border-transparent hover:border-pink-500 transition-colors flex items-center gap-2",children:[_.jsx(Lx,{size:20}),_.jsx("span",{children:"OYNATMA LSTES"})]})]}),_.jsx("p",{className:"text-neutral-600 text-xs",children:"* Rastgele bir para seildi."})]})]})})},E1=({activeTab:i,setActiveTab:e,onSurpriseMe:n,isSearchVisible:a,toggleSearch:l,searchTerm:u,onSearchChange:h,onHoroscopeClick:m,onBlogClick:p,onMusicClick:y,onPatreonClick:v,onAddMovieClick:A,onLoginClick:w,onSuggestionClick:C,onAboutClick:P,isAdminLoggedIn:Q})=>{const F=ue.useRef(null),[ie,ee]=ue.useState(!1);ue.useEffect(()=>{a&&setTimeout(()=>{var oe;(oe=F.current)==null||oe.focus()},50)},[a]);const $=oe=>{oe(),ee(!1)};return _.jsxs("div",{className:"sticky top-0 z-50",children:[_.jsxs("div",{className:"bg-black border-b-2 border-white px-4 py-3 flex flex-wrap justify-between items-center text-xl sm:text-2xl font-bold gap-x-4 gap-y-2 relative",children:[_.jsxs("div",{className:"flex items-center gap-1 mr-auto",children:[_.jsx("span",{className:"bg-white text-black px-2 font-bold",children:"BLVTMN"}),_.jsx("span",{className:"text-yellow-400 font-bold teletext-shadow",children:"TV"}),_.jsx("span",{className:"text-red-500 text-xs border border-red-500 px-1 ml-1 self-start",children:"TEST"})]}),_.jsx("button",{onClick:()=>ee(!ie),className:"md:hidden text-white hover:text-yellow-400",children:ie?_.jsx(_r,{size:32}):_.jsx(qx,{size:32})}),_.jsxs("div",{className:"hidden md:flex flex-wrap gap-2 sm:gap-4",children:[_.jsx("button",{onClick:()=>e("watched"),className:`hover:bg-white hover:text-black px-2 ${i==="watched"?"text-yellow-400":"text-neutral-500"}`,children:"100 KOLEKSYON"}),_.jsx("button",{onClick:()=>e("watchlist"),className:`hover:bg-white hover:text-black px-2 ${i==="watchlist"?"text-green-400":"text-neutral-500"}`,children:"200 LSTE"}),_.jsx("button",{onClick:n,className:"text-cyan-400 hover:bg-white hover:text-black px-2",children:"300 ANS"}),_.jsx("button",{onClick:m,className:"text-purple-400 hover:bg-white hover:text-black px-2",children:"400 HOROSCOPE"}),_.jsx("button",{onClick:p,className:"text-blue-400 hover:bg-white hover:text-black px-2",children:"500 BLOG"}),_.jsx("button",{onClick:y,className:"text-pink-400 hover:bg-white hover:text-black px-2",children:"600 MZK"})]})]}),ie&&_.jsx("div",{className:"fixed inset-0 top-[60px] bg-black/95 z-40 flex flex-col p-4 gap-4 overflow-y-auto pb-20 border-t-2 border-white md:hidden",children:_.jsxs("div",{className:"grid grid-cols-1 gap-4 text-center text-2xl",children:[_.jsx("button",{onClick:()=>$(()=>e("watched")),className:"text-yellow-400 border-2 border-white py-3 hover:bg-white hover:text-black",children:"100 KOLEKSYON"}),_.jsx("button",{onClick:()=>$(()=>e("watchlist")),className:"text-green-400 border-2 border-white py-3 hover:bg-white hover:text-black",children:"200 LSTE"}),_.jsx("button",{onClick:()=>$(n),className:"text-cyan-400 border-2 border-white py-3 hover:bg-white hover:text-black",children:"300 ANS"}),_.jsx("button",{onClick:()=>$(m),className:"text-purple-400 border-2 border-white py-3 hover:bg-white hover:text-black",children:"400 HOROSCOPE"}),_.jsx("button",{onClick:()=>$(p),className:"text-blue-400 border-2 border-white py-3 hover:bg-white hover:text-black",children:"500 BLOG"}),_.jsx("button",{onClick:()=>$(y),className:"text-pink-400 border-2 border-white py-3 hover:bg-white hover:text-black",children:"600 MZK"}),_.jsx("div",{className:"h-px bg-white/30 my-2"}),_.jsx("button",{onClick:()=>$(v),className:"border-2 border-cyan-400 text-cyan-400 py-3 hover:bg-cyan-400 hover:text-black font-bold",children:"[ BR FLM ISMARLA ]"}),_.jsx("button",{onClick:()=>$(A),className:"border-2 border-yellow-400 text-yellow-400 py-3 hover:bg-yellow-400 hover:text-black font-bold",children:"[ + YEN KAYIT ]"}),_.jsx("button",{onClick:()=>$(l),className:"border-2 border-white text-white py-3 hover:bg-white hover:text-black",children:"ARAMA"}),_.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[_.jsx("button",{onClick:()=>$(C),className:"border-2 border-white text-white py-3 hover:bg-white hover:text-black",children:"F"}),_.jsx("button",{onClick:()=>$(w),className:`border-2 border-white text-white py-3 hover:bg-white hover:text-black ${Q?"text-red-500 border-red-500":""}`,children:Q?"IKI":"GR"}),_.jsx("button",{onClick:()=>$(P),className:"border-2 border-white text-white py-3 hover:bg-white hover:text-black",children:"?"})]})]})})]})},v1=({activeTab:i,selectedGenre:e,setSelectedGenre:n,selectedDirector:a,setSelectedDirector:l,selectedYear:u,setSelectedYear:h,selectedRating:m,setSelectedRating:p,availableGenres:y,availableDirectors:v,availableYears:A,sortOption:w,setSortOption:C})=>_.jsxs("div",{className:"mb-8 space-y-4",children:[i!=="watchlist"&&_.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[_.jsxs("div",{className:"relative",children:[_.jsxs("select",{value:e,onChange:P=>n(P.target.value),className:`w-full bg-black border-2 p-2 text-lg font-bold outline-none cursor-pointer rounded-none appearance-none text-center ${e?"text-orange-400 border-orange-400":"text-cyan-400 border-cyan-400 hover:bg-cyan-900"}`,children:[_.jsx("option",{value:"",children:"TM TRLER"}),y.map(P=>_.jsx("option",{value:P,children:P},P))]}),e&&_.jsx("button",{onClick:()=>n(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-red-500 hover:text-white bg-black/50 rounded-full",title:"FLTREY TEMZLE",children:_.jsx(_r,{size:20})})]}),_.jsxs("div",{className:"relative",children:[_.jsxs("select",{value:a,onChange:P=>l(P.target.value),className:`w-full bg-black border-2 p-2 text-lg font-bold outline-none cursor-pointer rounded-none appearance-none text-center ${a?"text-orange-400 border-orange-400":"text-cyan-400 border-cyan-400 hover:bg-cyan-900"}`,children:[_.jsx("option",{value:"",children:"YNETMENLER"}),v.map(P=>_.jsx("option",{value:P,children:P},P))]}),a&&_.jsx("button",{onClick:()=>l(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-red-500 hover:text-white bg-black/50 rounded-full",title:"FLTREY TEMZLE",children:_.jsx(_r,{size:20})})]}),_.jsxs("div",{className:"relative",children:[_.jsxs("select",{value:u,onChange:P=>h(P.target.value),className:`w-full bg-black border-2 p-2 text-lg font-bold outline-none cursor-pointer rounded-none appearance-none text-center ${u?"text-orange-400 border-orange-400":"text-cyan-400 border-cyan-400 hover:bg-cyan-900"}`,children:[_.jsx("option",{value:"",children:"YILLAR"}),A.map(P=>_.jsx("option",{value:P,children:P},P))]}),u&&_.jsx("button",{onClick:()=>h(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-red-500 hover:text-white bg-black/50 rounded-full",title:"FLTREY TEMZLE",children:_.jsx(_r,{size:20})})]}),i==="watched"&&_.jsxs("div",{className:"relative",children:[_.jsxs("select",{value:m,onChange:P=>p(P.target.value===""?"":Number(P.target.value)),className:`w-full bg-black border-2 p-2 text-lg font-bold outline-none cursor-pointer rounded-none appearance-none text-center ${m!==""?"text-orange-400 border-orange-400":"text-cyan-400 border-cyan-400 hover:bg-cyan-900"}`,children:[_.jsx("option",{value:"",children:"PUANLAR"}),[5,4,3,2,1].map(P=>_.jsxs("option",{value:P,children:[P," YILDIZ"]},P))]}),m!==""&&_.jsx("button",{onClick:()=>p(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-red-500 hover:text-white bg-black/50 rounded-full",title:"FLTREY TEMZLE",children:_.jsx(_r,{size:20})})]})]}),_.jsxs("div",{className:"flex justify-center gap-4 border-t border-neutral-800 pt-4",children:[i!=="watchlist"&&_.jsxs("button",{onClick:()=>C(w==="year_desc"?"year_asc":"year_desc"),className:`flex items-center gap-2 px-4 py-2 font-bold transition-colors ${w.startsWith("year")?"text-yellow-400 bg-neutral-800":"text-neutral-500 hover:text-white"}`,children:[_.jsx("span",{children:"YIL"}),_.jsx("span",{className:"text-xl",children:w==="year_desc"?"":w==="year_asc"?"":""})]}),_.jsxs("button",{onClick:()=>C(w==="title_asc"?"title_desc":"title_asc"),className:`flex items-center gap-2 px-4 py-2 font-bold transition-colors ${w.startsWith("title")?"text-yellow-400 bg-neutral-800":"text-neutral-500 hover:text-white"}`,children:[_.jsx("span",{children:"SM"}),_.jsx("span",{className:"text-xl",children:w==="title_asc"?"":w==="title_desc"?"":""})]}),_.jsxs("button",{onClick:()=>C(w==="date_desc"?"date_asc":"date_desc"),className:`flex items-center gap-2 px-4 py-2 font-bold transition-colors ${w.startsWith("date")?"text-yellow-400 bg-neutral-800":"text-neutral-500 hover:text-white"}`,children:[_.jsx("span",{children:"YKLENME"}),_.jsx("span",{className:"text-xl",children:w==="date_desc"?"":w==="date_asc"?"":""})]})]})]}),T1=({movie:i,onClose:e,onTryAgain:n})=>(ue.useEffect(()=>{const a=l=>{l.key==="Escape"&&e()};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[e]),i?_.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",children:_.jsxs("div",{className:"relative w-full max-w-4xl bg-neutral-900 border-4 border-white shadow-[0_0_50px_rgba(255,255,255,0.1)] flex flex-col md:flex-row overflow-hidden max-h-[90vh] md:max-h-[800px]",onClick:a=>a.stopPropagation(),children:[_.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 bg-black text-white hover:text-red-500 border-2 border-white p-2 transition-colors",children:_.jsx(_r,{size:24})}),_.jsxs("div",{className:"hidden md:block w-[400px] shrink-0 bg-black relative border-r-4 border-white",children:[i.posterBase64?_.jsx("img",{src:i.posterBase64,alt:i.title,className:"w-full h-full object-cover contrast-125 saturate-150 pixelated"}):_.jsx("div",{className:"w-full h-full flex flex-col items-center justify-center text-6xl text-neutral-700",children:i.emoji}),_.jsx("div",{className:"absolute top-4 left-4 bg-cyan-400 text-black font-bold px-4 py-1 border-2 border-black shadow-[4px_4px_0px_#000] z-10",children:"300 SRPRZ"})]}),_.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-neutral-900",children:_.jsxs("div",{className:"p-4 md:p-8 flex flex-col gap-6",children:[_.jsxs("div",{className:"flex gap-4 md:hidden items-start pr-12",children:[_.jsxs("div",{className:"w-1/3 shrink-0 border-2 border-white relative",children:[i.posterBase64?_.jsx("img",{src:i.posterBase64,alt:i.title,className:"w-full h-auto object-cover aspect-[2/3] contrast-125 saturate-150 pixelated"}):_.jsx("div",{className:"w-full aspect-[2/3] bg-neutral-800 flex items-center justify-center text-4xl",children:i.emoji}),_.jsx("div",{className:"absolute top-1 left-1 bg-cyan-400 text-black text-[10px] font-bold px-2 py-0 border border-black shadow-[2px_2px_0px_#000] z-10",children:"300"})]}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("h2",{className:"text-3xl font-bold text-yellow-400 leading-none uppercase mb-2 text-shadow-sm break-words",children:i.title.toLocaleUpperCase("tr-TR")}),_.jsxs("div",{className:"flex flex-wrap gap-2 text-xs font-bold",children:[_.jsx("div",{className:"bg-yellow-400 text-black px-2 py-0.5 border border-transparent",children:i.year}),i.genre.slice(0,2).map(a=>_.jsx("div",{className:"bg-cyan-900 text-cyan-200 px-2 py-0.5 border border-cyan-700 uppercase",children:a},a))]})]})]}),_.jsxs("div",{className:"hidden md:block",children:[_.jsx("div",{className:"flex items-start justify-between gap-4",children:_.jsx("div",{children:_.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-yellow-400 leading-none uppercase mb-2 text-shadow-sm",children:i.title.toLocaleUpperCase("tr-TR")})})}),_.jsxs("div",{className:"flex flex-wrap gap-2 text-sm md:text-base font-bold",children:[_.jsx("div",{className:"bg-yellow-400 text-black px-3 py-1 border-2 border-transparent",children:i.year}),i.genre.map(a=>_.jsx("div",{className:"bg-cyan-900 text-cyan-200 px-3 py-1 border-2 border-cyan-700 uppercase",children:a},a))]})]}),_.jsx("div",{className:"h-px bg-neutral-700 w-full"}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 text-base md:text-lg",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-2 text-neutral-500 mb-1 uppercase text-sm font-bold",children:[_.jsx(Kh,{size:16})," Ynetmen"]}),_.jsx("div",{className:"text-white text-lg md:text-xl",children:i.director})]}),i.userRating&&_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-2 text-neutral-500 mb-1 uppercase text-sm font-bold",children:[_.jsx(Yh,{size:16})," Puanm"]}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(bp,{rating:i.userRating,readOnly:!0,size:20}),_.jsxs("span",{className:"text-yellow-400 font-bold text-xl md:text-2xl",children:[i.userRating,"/5"]})]})]})]}),_.jsxs("div",{className:"bg-black/30 p-4 md:p-6 border-l-4 border-yellow-400",children:[_.jsxs("div",{className:"flex items-center gap-2 text-yellow-400 mb-2 md:mb-3 uppercase font-bold tracking-widest text-sm",children:[_.jsx(oT,{size:16})," zet"]}),_.jsx("p",{className:"text-lg md:text-xl leading-relaxed text-neutral-200 font-serif",children:i.summary})]}),i.userReview&&_.jsxs("div",{className:"bg-neutral-800 p-4 md:p-6 border border-neutral-700 relative group",children:[_.jsx(uT,{className:"absolute top-4 right-4 text-neutral-700 w-8 h-8 md:w-12 md:h-12 rotate-180"}),_.jsxs("div",{className:"relative z-10",children:[_.jsx("div",{className:"text-magenta-500 font-bold mb-2 uppercase text-sm",children:"ncelemem"}),_.jsxs("p",{className:"text-xl md:text-2xl text-white italic font-serif leading-relaxed",children:['"',i.userReview,'"']})]})]}),_.jsx("div",{className:"mt-4 md:mt-8 flex flex-col gap-4 pt-6 border-t border-neutral-700",children:_.jsxs("button",{onClick:n,className:"w-full bg-cyan-500 hover:bg-cyan-400 text-black font-bold text-xl py-4 flex items-center justify-center gap-3 transition-colors border-2 border-transparent hover:border-white shadow-lg",children:[_.jsx(cT,{size:24,className:"animate-spin-slow"}),_.jsx("span",{children:"BAKA FLM SE"})]})})]})})]})}):null),A1=({movies:i,onApprove:e,onDelete:n,onUpdate:a,suggestions:l,onDeleteSuggestion:u})=>{const[h,m]=ue.useState("pending"),p=i.filter(ne=>ne.isApproved===!1),y=i.filter(ne=>ne.isApproved!==!1),[v,A]=ue.useState(null),[w,C]=ue.useState(!1),[P,Q]=ue.useState(!1),F=ne=>{A(ne),C(!0)},ie=async ne=>{if(v){Q(!0);try{await a(v.id,{title:ne.rawTitle,status:ne.status,userRating:ne.userRating,userReview:ne.userReview,imdbUrl:ne.imdbUrl,posterBase64:ne.manualPosterBase64,year:ne.manualYear||v.year,director:ne.manualDirector||v.director,genre:ne.manualGenres||v.genre,summary:ne.manualSummary||v.summary}),C(!1),A(null)}catch(_e){console.error("Update failed",_e),alert("Guncelleme basarisiz")}finally{Q(!1)}}},ee=async ne=>{window.confirm("BU KAYDI REDDETMEK VE SILMEK ISTEDIGINIZE EMIN MISINIZ?")&&await n(ne)},$=ne=>_.jsxs("div",{className:"flex flex-col gap-2",children:[h==="pending"&&_.jsx("button",{onClick:()=>e(ne.id),className:"bg-green-600 hover:bg-green-500 text-white p-2",title:"ONAYLA",children:_.jsx(Ax,{size:24})}),ne.status!=="watched"&&_.jsx("button",{onClick:()=>a(ne.id,{status:"watched",watchedDate:new Date().toISOString()}),className:"bg-purple-600 hover:bg-purple-500 text-white p-2",title:"IZLENDI OLARAK ISARETLE",children:_.jsx(kx,{size:24})}),_.jsx("button",{onClick:()=>F(ne),className:"bg-blue-600 hover:bg-blue-500 text-white p-2",title:"DUZENLE",children:_.jsx(r1,{size:24})}),_.jsx("button",{onClick:()=>ee(ne.id),className:"bg-red-600 hover:bg-red-500 text-white p-2",title:"SIL / REDDET",children:_.jsx(Zb,{size:24})})]}),oe=h==="pending"?p:y;return _.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"flex gap-4 border-b-2 border-white pb-2 mb-6",children:[_.jsxs("button",{onClick:()=>m("pending"),className:`text-xl font-bold px-4 py-2 ${h==="pending"?"bg-yellow-400 text-black":"text-neutral-500 hover:text-white"}`,children:["ONAY BEKLEYENLER (",p.length,")"]}),_.jsxs("button",{onClick:()=>m("approved"),className:`text-xl font-bold px-4 py-2 ${h==="approved"?"bg-green-600 text-white":"text-neutral-500 hover:text-white"}`,children:["KAYITLI ARV (",y.length,")"]}),_.jsxs("button",{onClick:()=>m("suggestions"),className:`text-xl font-bold px-4 py-2 ${h==="suggestions"?"bg-purple-600 text-white":"text-neutral-500 hover:text-white"}`,children:["NERLER (",l.length,")"]})]}),h==="suggestions"&&(l.length===0?_.jsx("div",{className:"border-4 border-white border-dashed p-12 text-center bg-neutral-900",children:_.jsx("h2",{className:"text-3xl text-neutral-500",children:"MESAJ KUTUSU BO"})}):_.jsx("div",{className:"grid gap-4",children:l.map(ne=>_.jsxs("div",{className:"border-2 border-white bg-neutral-900 p-6 relative",children:[_.jsxs("div",{className:"flex justify-between items-start mb-4 border-b border-neutral-700 pb-2",children:[_.jsxs("div",{children:[_.jsxs("h3",{className:"text-yellow-400 font-bold text-xl uppercase",children:[ne.name," ",ne.surname]}),_.jsx("span",{className:"text-neutral-500 text-sm font-mono",children:new Date(ne.createdAt).toLocaleString("tr-TR")})]}),_.jsx("button",{onClick:()=>u(ne.id),className:"bg-red-900 text-red-200 p-2 hover:bg-red-800",title:"SL",children:_.jsx(Zb,{size:20})})]}),_.jsx("p",{className:"text-white text-lg font-mono leading-relaxed whitespace-pre-wrap",children:ne.message})]},ne.id))})),h!=="suggestions"&&(oe.length===0?_.jsxs("div",{className:"border-4 border-white border-dashed p-12 text-center bg-neutral-900",children:[_.jsx("h2",{className:"text-3xl text-neutral-500 mb-2",children:h==="pending"?"HER SEY YOLUNDA":"ARV BO"}),_.jsx("p",{className:"text-xl text-white",children:h==="pending"?"ONAY BEKLEYEN KAYIT YOK.":"HENZ ONAYLANMI KAYIT YOK."})]}):_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:oe.map(ne=>_.jsxs("div",{className:"border-2 border-white bg-neutral-900 p-4 flex gap-4 items-start",children:[_.jsx("div",{className:"w-24 aspect-[2/3] bg-black flex-shrink-0 border border-neutral-700",children:ne.posterBase64?_.jsx("img",{src:ne.posterBase64,alt:ne.title,className:"w-full h-full object-cover"}):_.jsx("div",{className:"flex items-center justify-center h-full text-2xl",children:""})}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("h3",{className:"text-xl font-bold text-yellow-400 truncate",children:ne.title}),_.jsxs("div",{className:"text-sm text-neutral-400 font-bold mb-2",children:[ne.year,"  ",ne.director]}),_.jsx("div",{className:"text-xs text-neutral-500 mb-2 line-clamp-2",children:ne.summary}),_.jsxs("div",{className:"flex gap-2 text-xs font-bold",children:[_.jsx("span",{className:`px-2 py-1 ${ne.status==="watched"?"bg-red-900 text-red-200":"bg-green-900 text-green-200"}`,children:ne.status==="watched"?"ZLEND":"ZLENECEK"}),ne.userRating&&_.jsxs("span",{className:"bg-yellow-900 text-yellow-200 px-2 py-1",children:[" ",ne.userRating]})]})]}),$(ne)]},ne.id))})),_.jsx(dT,{isOpen:w,onClose:()=>{C(!1),A(null)},onSubmit:ie,isSubmitting:P,editMovie:v||void 0})]})},w1=({isOpen:i,onClose:e,watchedCount:n,watchlistCount:a})=>i?_.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center bg-black/90 p-4",children:_.jsxs("div",{className:"w-full max-w-3xl bg-neutral-900 border-4 border-white p-1 shadow-[10px_10px_0px_#000] overflow-y-auto max-h-[90vh]",children:[_.jsxs("div",{className:"bg-white text-black px-4 py-2 flex justify-between items-center font-bold text-lg md:text-2xl mb-1 sticky top-0 z-10",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(xx,{size:24}),_.jsx("span",{children:"HAKKINDA"})]}),_.jsx("button",{onClick:e,className:"hover:bg-black hover:text-white px-2 transition-colors",children:"[X]"})]}),_.jsxs("div",{className:"bg-black border-2 border-neutral-700 p-4 md:p-8 text-white min-h-[300px] md:min-h-[400px] flex flex-col justify-center",children:[_.jsxs("h2",{className:"text-2xl md:text-4xl text-yellow-400 font-bold mb-4 md:mb-6 leading-tight md:leading-none tracking-wide border-b-4 border-blue-600 inline-block pb-2",children:["SPEND YOUR TIME WATCHING GREAT MOVIES,",_.jsx("br",{}),"NOT SEARCHING FOR THEM."]}),_.jsxs("div",{className:"space-y-3 md:space-y-4 text-lg md:text-2xl font-medium leading-relaxed text-neutral-300",children:[_.jsxs("p",{children:["Kt bir filme harcanan iki saat, geri gelmeyecek bir zamandr.",_.jsx("span",{className:"text-white",children:" Ben bu zaman sizin yerinize harcadm!"})," Bu platform, izlediim yzlerce film arasndan szlp gelen bir neri rehberidir."]}),_.jsx("p",{children:"Puan tablolarma gz atarak hangi filmin izlemeye deer olduunu grebilir, kiisel eletirilerimle film hakknda n bilgi edinebilirsiniz."}),_.jsx("p",{className:"text-cyan-400 font-bold mt-2 md:mt-4",children:"Buras bir veritaban deil, bir filmseverin size sunduu dijital bir tavsiye kutusudur."}),_.jsxs("div",{className:"mt-6 md:mt-8 border-t-2 border-neutral-800 pt-4 md:pt-6 flex flex-wrap gap-4 md:gap-8 justify-center font-mono text-base md:text-lg",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"text-yellow-400 font-bold text-lg md:text-xl",children:"100"}),_.jsx("span",{className:"text-white",children:"ZLENEN"}),_.jsxs("span",{className:"text-yellow-400 font-bold text-xs md:text-sm bg-neutral-900 px-2 py-1 border border-neutral-700 ml-1",children:[n," FLM"]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"text-yellow-400 font-bold text-lg md:text-xl",children:"200"}),_.jsx("span",{className:"text-white",children:"ZLENECEK"}),_.jsxs("span",{className:"text-yellow-400 font-bold text-xs md:text-sm bg-neutral-900 px-2 py-1 border border-neutral-700 ml-1",children:[a," FLM"]})]})]})]})]})]})}):null,S1=({isOpen:i,onClose:e,onSubmit:n,isSubmitting:a})=>{const[l,u]=ue.useState(""),[h,m]=ue.useState(""),[p,y]=ue.useState("");if(!i)return null;const v=async A=>{A.preventDefault();try{await n({name:l,surname:h,message:p}),u(""),m(""),y(""),alert("NERNZ LETLD / SENT"),e()}catch{alert("HATALI ILEM / ERROR")}};return _.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center bg-black/90 p-4",children:_.jsxs("div",{className:"w-full max-w-xl bg-neutral-900 border-4 border-white p-1 shadow-[10px_10px_0px_#000]",children:[_.jsxs("div",{className:"bg-white text-black px-4 py-2 flex justify-between items-center font-bold text-2xl mb-4",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(Fx,{}),_.jsx("span",{children:"NER FORMU"})]}),_.jsx("button",{onClick:e,className:"hover:bg-black hover:text-white px-2 transition-colors",children:"[X]"})]}),_.jsxs("form",{onSubmit:v,className:"bg-black border-2 border-neutral-700 p-6 flex flex-col gap-4",children:[_.jsxs("div",{className:"flex gap-4",children:[_.jsxs("div",{className:"flex-1",children:[_.jsx("label",{className:"text-white font-bold block mb-2",children:"ADI"}),_.jsxs("div",{className:"relative",children:[_.jsx(Kh,{className:"absolute left-3 top-3 text-neutral-500 w-5 h-5"}),_.jsx("input",{type:"text",required:!0,value:l,onChange:A=>u(A.target.value),className:"w-full bg-neutral-900 border-2 border-neutral-700 text-white p-2 pl-10 font-mono focus:border-yellow-400 outline-none",placeholder:"JANE"})]})]}),_.jsxs("div",{className:"flex-1",children:[_.jsx("label",{className:"text-white font-bold block mb-2",children:"SOYADI"}),_.jsx("input",{type:"text",required:!0,value:h,onChange:A=>m(A.target.value),className:"w-full bg-neutral-900 border-2 border-neutral-700 text-white p-2 font-mono focus:border-yellow-400 outline-none",placeholder:"DOE"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-white font-bold block mb-2",children:"NER / KAYET"}),_.jsx("textarea",{required:!0,value:p,onChange:A=>y(A.target.value),className:"w-full h-32 bg-neutral-900 border-2 border-neutral-700 text-white p-2 font-mono focus:border-yellow-400 outline-none resize-none",placeholder:"Mesajnz..."})]}),_.jsx("button",{type:"submit",disabled:a,className:"bg-yellow-400 text-black font-bold py-3 text-xl hover:bg-white transition-colors flex justify-center items-center gap-2",children:a?"GNDERLYOR...":_.jsxs(_.Fragment,{children:[_.jsx(e1,{className:"w-5 h-5"}),"[ GNDER ]"]})})]})]})})},I1=({movie:i,onClose:e,onDelete:n})=>(ue.useEffect(()=>{const a=l=>{l.key==="Escape"&&e()};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[e]),i?_.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",children:_.jsxs("div",{className:"relative w-full max-w-4xl bg-neutral-900 border-4 border-white shadow-[0_0_50px_rgba(255,255,255,0.1)] flex flex-col md:flex-row overflow-hidden max-h-[90vh] md:max-h-[800px]",onClick:a=>a.stopPropagation(),children:[_.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 bg-black text-white hover:text-red-500 border-2 border-white p-2 transition-colors",children:_.jsx(_r,{size:24})}),_.jsx("div",{className:"hidden md:block w-[400px] shrink-0 bg-black relative border-r-4 border-white",children:i.posterBase64?_.jsx("img",{src:i.posterBase64,alt:i.title,className:"w-full h-full object-cover contrast-125 saturate-150 pixelated"}):_.jsx("div",{className:"w-full h-full flex flex-col items-center justify-center text-6xl text-neutral-700",children:i.emoji})}),_.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-neutral-900",children:_.jsxs("div",{className:"p-4 md:p-8 flex flex-col gap-6",children:[_.jsxs("div",{className:"flex gap-4 md:hidden items-start pr-12",children:[_.jsx("div",{className:"w-1/3 shrink-0 border-2 border-white",children:i.posterBase64?_.jsx("img",{src:i.posterBase64,alt:i.title,className:"w-full h-auto object-cover aspect-[2/3] contrast-125 saturate-150 pixelated"}):_.jsx("div",{className:"w-full aspect-[2/3] bg-neutral-800 flex items-center justify-center text-4xl",children:i.emoji})}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("h2",{className:"text-3xl font-bold text-yellow-400 leading-none uppercase mb-2 text-shadow-sm break-words",children:i.title.toLocaleUpperCase("tr-TR")}),_.jsxs("div",{className:"flex flex-wrap gap-2 text-xs font-bold",children:[_.jsx("div",{className:"bg-yellow-400 text-black px-2 py-0.5 border border-transparent",children:i.year}),i.genre.slice(0,2).map(a=>_.jsx("div",{className:"bg-cyan-900 text-cyan-200 px-2 py-0.5 border border-cyan-700 uppercase",children:a},a))]})]})]}),_.jsxs("div",{className:"hidden md:block",children:[_.jsx("h2",{className:"text-5xl font-bold text-yellow-400 leading-none uppercase mb-2 text-shadow-sm",children:i.title.toLocaleUpperCase("tr-TR")}),_.jsxs("div",{className:"flex flex-wrap gap-2 text-base font-bold",children:[_.jsx("div",{className:"bg-yellow-400 text-black px-3 py-1 border-2 border-transparent",children:i.year}),i.genre.map(a=>_.jsx("div",{className:"bg-cyan-900 text-cyan-200 px-3 py-1 border-2 border-cyan-700 uppercase",children:a},a))]})]}),_.jsx("div",{className:"h-px bg-neutral-700 w-full"}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 text-base md:text-lg",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-2 text-neutral-500 mb-1 uppercase text-sm font-bold",children:[_.jsx(Kh,{size:16})," Ynetmen"]}),_.jsx("div",{className:"text-white text-lg md:text-xl",children:i.director})]}),i.userRating&&_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-2 text-neutral-500 mb-1 uppercase text-sm font-bold",children:[_.jsx(Yh,{size:16})," Puanm"]}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(bp,{rating:i.userRating,readOnly:!0,size:20}),_.jsxs("span",{className:"text-yellow-400 font-bold text-xl md:text-2xl",children:[i.userRating,"/5"]})]})]})]}),_.jsxs("div",{className:"bg-black/30 p-4 md:p-6 border-l-4 border-yellow-400",children:[_.jsxs("div",{className:"flex items-center gap-2 text-yellow-400 mb-2 md:mb-3 uppercase font-bold tracking-widest text-sm",children:[_.jsx(oT,{size:16})," zet"]}),_.jsx("p",{className:"text-lg md:text-xl leading-relaxed text-neutral-200 font-serif",children:i.summary})]}),i.userReview&&_.jsxs("div",{className:"bg-neutral-800 p-4 md:p-6 border border-neutral-700 relative group",children:[_.jsx(uT,{className:"absolute top-4 right-4 text-neutral-700 w-8 h-8 md:w-12 md:h-12 rotate-180"}),_.jsxs("div",{className:"relative z-10",children:[_.jsx("div",{className:"text-magenta-500 font-bold mb-2 uppercase text-sm",children:"ncelemem"}),_.jsxs("p",{className:"text-xl md:text-2xl text-white italic font-serif leading-relaxed",children:['"',i.userReview,'"']})]})]}),_.jsx("div",{className:"mt-4 md:mt-8 flex items-center justify-between pt-6 border-t border-neutral-700",children:i.imdbUrl&&_.jsxs("a",{href:i.imdbUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-yellow-500 hover:text-white transition-colors text-lg font-bold group",children:["IMDb ",_.jsx("span",{className:"hidden sm:inline",children:"Sayfasna Git"})," ",_.jsx(_p,{size:20,className:"group-hover:-translate-y-1 transition-transform"})]})})]})})]})}):null),x1=()=>{};var t0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=function(i){const e=[];let n=0;for(let a=0;a<i.length;a++){let l=i.charCodeAt(a);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++a)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},R1=function(i){const e=[];let n=0,a=0;for(;n<i.length;){const l=i[n++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const u=i[n++];e[a++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=i[n++],h=i[n++],m=i[n++],p=((l&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];e[a++]=String.fromCharCode((l&15)<<12|(u&63)<<6|h&63)}}return e.join("")},mT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<i.length;l+=3){const u=i[l],h=l+1<i.length,m=h?i[l+1]:0,p=l+2<i.length,y=p?i[l+2]:0,v=u>>2,A=(u&3)<<4|m>>4;let w=(m&15)<<2|y>>6,C=y&63;p||(C=64,h||(w=64)),a.push(n[v],n[A],n[w],n[C])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(fT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):R1(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<i.length;){const u=n[i.charAt(l++)],m=l<i.length?n[i.charAt(l)]:0;++l;const y=l<i.length?n[i.charAt(l)]:64;++l;const A=l<i.length?n[i.charAt(l)]:64;if(++l,u==null||m==null||y==null||A==null)throw new N1;const w=u<<2|m>>4;if(a.push(w),y!==64){const C=m<<4&240|y>>2;if(a.push(C),A!==64){const P=y<<6&192|A;a.push(P)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class N1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const k1=function(i){const e=fT(i);return mT.encodeByteArray(e,!0)},Ah=function(i){return k1(i).replace(/\./g,"")},pT=function(i){try{return mT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=()=>C1().__FIREBASE_DEFAULTS__,D1=()=>{if(typeof process>"u"||typeof t0>"u")return;const i=t0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},M1=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&pT(i[1]);return e&&JSON.parse(e)},Qh=()=>{try{return x1()||O1()||D1()||M1()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},gT=i=>{var e,n;return(n=(e=Qh())==null?void 0:e.emulatorHosts)==null?void 0:n[i]},L1=i=>{const e=gT(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},yT=()=>{var i;return(i=Qh())==null?void 0:i.config},_T=i=>{var e;return(e=Qh())==null?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bT(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",l=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Ah(JSON.stringify(n)),Ah(JSON.stringify(h)),""].join(".")}const nu={};function P1(){const i={prod:[],emulator:[]};for(const e of Object.keys(nu))nu[e]?i.emulator.push(e):i.prod.push(e);return i}function j1(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let n0=!1;function ET(i,e){if(typeof window>"u"||typeof document>"u"||!Ml(window.location.host)||nu[i]===e||nu[i]||n0)return;nu[i]=e;function n(w){return`__firebase__banner__${w}`}const a="__firebase__banner",u=P1().prod.length>0;function h(){const w=document.getElementById(a);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,C){w.setAttribute("width","24"),w.setAttribute("id",C),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{n0=!0,h()},w}function v(w,C){w.setAttribute("id",C),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function A(){const w=j1(a),C=n("text"),P=document.getElementById(C)||document.createElement("span"),Q=n("learnmore"),F=document.getElementById(Q)||document.createElement("a"),ie=n("preprendIcon"),ee=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const $=w.element;m($),v(F,Q);const oe=y();p(ee,ie),$.append(ee,P,F,oe),document.body.appendChild($)}u?(P.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function z1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function B1(){var e;const i=(e=Qh())==null?void 0:e.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function H1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vT(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function F1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function G1(){const i=an();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function q1(){return!B1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TT(){try{return typeof indexedDB=="object"}catch{return!1}}function AT(){return new Promise((i,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(a),i(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;e(((u=l.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}function Y1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="FirebaseError";class Ti extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=K1,Object.setPrototypeOf(this,Ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ps.prototype.create)}}class ps{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],h=u?Q1(u,a):"Error",m=`${this.serviceName}: ${h} (${l}).`;return new Ti(l,m,a)}}function Q1(i,e){return i.replace($1,(n,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const $1=/\{\$([^}]+)}/g;function X1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function _a(i,e){if(i===e)return!0;const n=Object.keys(i),a=Object.keys(e);for(const l of n){if(!a.includes(l))return!1;const u=i[l],h=e[l];if(i0(u)&&i0(h)){if(!_a(u,h))return!1}else if(u!==h)return!1}for(const l of a)if(!n.includes(l))return!1;return!0}function i0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(i){const e=[];for(const[n,a]of Object.entries(i))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Ko(i){const e={};return i.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,u]=a.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Qo(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function J1(i,e){const n=new W1(i,e);return n.subscribe.bind(n)}class W1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let l;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");Z1(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:a},l.next===void 0&&(l.next=Tm),l.error===void 0&&(l.error=Tm),l.complete===void 0&&(l.complete=Tm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Z1(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Tm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=1e3,tR=2,nR=14400*1e3,iR=.5;function r0(i,e=eR,n=tR){const a=e*Math.pow(n,i),l=Math.round(iR*a*(Math.random()-.5)*2);return Math.min(nR,a+l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(i){return i&&i._delegate?i._delegate:i}class bi{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new V1;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sR(e))try{this.getOrInitializeService({instanceIdentifier:rs})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});a.resolve(u)}catch{}}}}clearInstance(e=rs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=rs){return this.instances.has(e)}getOptions(e=rs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&h.resolve(l)}return l}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const l of a)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:aR(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=rs){return this.component?this.component.multipleInstances?e:rs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aR(i){return i===rs?void 0:i}function sR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ve||(Ve={}));const oR={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},uR=Ve.INFO,cR={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},hR=(i,e,...n)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),l=cR[e];if(l)console[l](`[${a}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $h{constructor(e){this.name=e,this._logLevel=uR,this._logHandler=hR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const dR=(i,e)=>e.some(n=>i instanceof n);let a0,s0;function fR(){return a0||(a0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mR(){return s0||(s0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wT=new WeakMap,zm=new WeakMap,ST=new WeakMap,Am=new WeakMap,Ep=new WeakMap;function pR(i){const e=new Promise((n,a)=>{const l=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(da(i.result)),l()},h=()=>{a(i.error),l()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&wT.set(n,i)}).catch(()=>{}),Ep.set(e,i),e}function gR(i){if(zm.has(i))return;const e=new Promise((n,a)=>{const l=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),l()},h=()=>{a(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});zm.set(i,e)}let Bm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return zm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||ST.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return da(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function yR(i){Bm=i(Bm)}function _R(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=i.call(wm(this),e,...n);return ST.set(a,e.sort?e.sort():[e]),da(a)}:mR().includes(i)?function(...e){return i.apply(wm(this),e),da(wT.get(this))}:function(...e){return da(i.apply(wm(this),e))}}function bR(i){return typeof i=="function"?_R(i):(i instanceof IDBTransaction&&gR(i),dR(i,fR())?new Proxy(i,Bm):i)}function da(i){if(i instanceof IDBRequest)return pR(i);if(Am.has(i))return Am.get(i);const e=bR(i);return e!==i&&(Am.set(i,e),Ep.set(e,i)),e}const wm=i=>Ep.get(i);function IT(i,e,{blocked:n,upgrade:a,blocking:l,terminated:u}={}){const h=indexedDB.open(i,e),m=da(h);return a&&h.addEventListener("upgradeneeded",p=>{a(da(h.result),p.oldVersion,p.newVersion,da(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const ER=["get","getKey","getAll","getAllKeys","count"],vR=["put","add","delete","clear"],Sm=new Map;function l0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Sm.get(e))return Sm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,l=vR.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(l||ER.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,l?"readwrite":"readonly");let y=p.store;return a&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),l&&p.done]))[0]};return Sm.set(e,u),u}yR(i=>({...i,get:(e,n,a)=>l0(e,n)||i.get(e,n,a),has:(e,n)=>!!l0(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AR(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function AR(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hm="@firebase/app",o0="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr=new $h("@firebase/app"),wR="@firebase/app-compat",SR="@firebase/analytics-compat",IR="@firebase/analytics",xR="@firebase/app-check-compat",RR="@firebase/app-check",NR="@firebase/auth",kR="@firebase/auth-compat",CR="@firebase/database",OR="@firebase/data-connect",DR="@firebase/database-compat",MR="@firebase/functions",LR="@firebase/functions-compat",VR="@firebase/installations",UR="@firebase/installations-compat",PR="@firebase/messaging",jR="@firebase/messaging-compat",zR="@firebase/performance",BR="@firebase/performance-compat",HR="@firebase/remote-config",FR="@firebase/remote-config-compat",GR="@firebase/storage",qR="@firebase/storage-compat",YR="@firebase/firestore",KR="@firebase/ai",QR="@firebase/firestore-compat",$R="firebase",XR="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="[DEFAULT]",JR={[Hm]:"fire-core",[wR]:"fire-core-compat",[IR]:"fire-analytics",[SR]:"fire-analytics-compat",[RR]:"fire-app-check",[xR]:"fire-app-check-compat",[NR]:"fire-auth",[kR]:"fire-auth-compat",[CR]:"fire-rtdb",[OR]:"fire-data-connect",[DR]:"fire-rtdb-compat",[MR]:"fire-fn",[LR]:"fire-fn-compat",[VR]:"fire-iid",[UR]:"fire-iid-compat",[PR]:"fire-fcm",[jR]:"fire-fcm-compat",[zR]:"fire-perf",[BR]:"fire-perf-compat",[HR]:"fire-rc",[FR]:"fire-rc-compat",[GR]:"fire-gcs",[qR]:"fire-gcs-compat",[YR]:"fire-fst",[QR]:"fire-fst-compat",[KR]:"fire-vertex","fire-js":"fire-js",[$R]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new Map,WR=new Map,Gm=new Map;function u0(i,e){try{i.container.addComponent(e)}catch(n){vr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Ji(i){const e=i.name;if(Gm.has(e))return vr.debug(`There were multiple attempts to register component ${e}.`),!1;Gm.set(e,i);for(const n of wh.values())u0(n,i);for(const n of WR.values())u0(n,i);return!0}function gs(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function pi(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fa=new ps("app","Firebase",ZR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new bi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=XR;function xT(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const a={name:Fm,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw fa.create("bad-app-name",{appName:String(l)});if(n||(n=yT()),!n)throw fa.create("no-options");const u=wh.get(l);if(u){if(_a(n,u.options)&&_a(a,u.config))return u;throw fa.create("duplicate-app",{appName:l})}const h=new lR(l);for(const p of Gm.values())h.addComponent(p);const m=new eN(n,a,h);return wh.set(l,m),m}function vp(i=Fm){const e=wh.get(i);if(!e&&i===Fm&&yT())return xT();if(!e)throw fa.create("no-app",{appName:i});return e}function Jn(i,e,n){let a=JR[i]??i;n&&(a+=`-${n}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const h=[`Unable to register library "${a}" with version "${e}":`];l&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vr.warn(h.join(" "));return}Ji(new bi(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN="firebase-heartbeat-database",nN=1,uu="firebase-heartbeat-store";let Im=null;function RT(){return Im||(Im=IT(tN,nN,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(uu)}catch(n){console.warn(n)}}}}).catch(i=>{throw fa.create("idb-open",{originalErrorMessage:i.message})})),Im}async function iN(i){try{const n=(await RT()).transaction(uu),a=await n.objectStore(uu).get(NT(i));return await n.done,a}catch(e){if(e instanceof Ti)vr.warn(e.message);else{const n=fa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vr.warn(n.message)}}}async function c0(i,e){try{const a=(await RT()).transaction(uu,"readwrite");await a.objectStore(uu).put(e,NT(i)),await a.done}catch(n){if(n instanceof Ti)vr.warn(n.message);else{const a=fa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vr.warn(a.message)}}}function NT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=1024,aN=30;class sN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oN(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=h0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>aN){const h=uN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){vr.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=h0(),{heartbeatsToSend:a,unsentEntries:l}=lN(this._heartbeatsCache.heartbeats),u=Ah(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return vr.warn(n),""}}}function h0(){return new Date().toISOString().substring(0,10)}function lN(i,e=rN){const n=[];let a=i.slice();for(const l of i){const u=n.find(h=>h.agent===l.agent);if(u){if(u.dates.push(l.date),d0(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),d0(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class oN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TT()?AT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return c0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return c0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function d0(i){return Ah(JSON.stringify({version:2,heartbeats:i})).length}function uN(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let a=1;a<i.length;a++)i[a].date<n&&(n=i[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(i){Ji(new bi("platform-logger",e=>new TR(e),"PRIVATE")),Ji(new bi("heartbeat",e=>new sN(e),"PRIVATE")),Jn(Hm,o0,i),Jn(Hm,o0,"esm2020"),Jn("fire-js","")}cN("");function kT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hN=kT,CT=new ps("auth","Firebase",kT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new $h("@firebase/auth");function dN(i,...e){Sh.logLevel<=Ve.WARN&&Sh.warn(`Auth (${Ll}): ${i}`,...e)}function fh(i,...e){Sh.logLevel<=Ve.ERROR&&Sh.error(`Auth (${Ll}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(i,...e){throw Tp(i,...e)}function Yi(i,...e){return Tp(i,...e)}function OT(i,e,n){const a={...hN(),[e]:n};return new ps("auth","Firebase",a).create(e,{appName:i.name})}function ma(i){return OT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tp(i,...e){if(typeof i!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=i.name),i._errorFactory.create(n,...a)}return CT.create(i,...e)}function Ee(i,e,...n){if(!i)throw Tp(e,...n)}function br(i){const e="INTERNAL ASSERTION FAILED: "+i;throw fh(e),new Error(e)}function Tr(i,e){i||br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.href)||""}function fN(){return f0()==="http:"||f0()==="https:"}function f0(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fN()||vT()||"connection"in navigator)?navigator.onLine:!0}function pN(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Tr(n>e,"Short delay should be less than long delay!"),this.isMobile=z1()||F1()}get(){return mN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(i,e){Tr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_N=new Eu(3e4,6e4);function ys(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Sa(i,e,n,a,l={}){return MT(i,l,async()=>{let u={},h={};a&&(e==="GET"?h=a:u={body:JSON.stringify(a)});const m=bu({key:i.config.apiKey,...h}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:p,...u};return H1()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&Ml(i.emulatorConfig.host)&&(y.credentials="include"),DT.fetch()(await LT(i,i.config.apiHost,n,m),y)})}async function MT(i,e,n){i._canInitEmulator=!1;const a={...gN,...e};try{const l=new EN(i),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw th(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw th(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw th(i,"user-disabled",h);const v=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw OT(i,v,y);Ei(i,v)}}catch(l){if(l instanceof Ti)throw l;Ei(i,"network-request-failed",{message:String(l)})}}async function Xh(i,e,n,a,l={}){const u=await Sa(i,e,n,a,l);return"mfaPendingCredential"in u&&Ei(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function LT(i,e,n,a){const l=`${e}${n}?${a}`,u=i,h=u.config.emulator?Ap(i.config,l):`${i.config.apiScheme}://${l}`;return yN.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function bN(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class EN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Yi(this.auth,"network-request-failed")),_N.get())})}}function th(i,e,n){const a={appName:i.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const l=Yi(i,e,a);return l.customData._tokenResponse=n,l}function m0(i){return i!==void 0&&i.enterprise!==void 0}class vN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return bN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function TN(i,e){return Sa(i,"GET","/v2/recaptchaConfig",ys(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(i,e){return Sa(i,"POST","/v1/accounts:delete",e)}async function Ih(i,e){return Sa(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wN(i,e=!1){const n=wt(i),a=await n.getIdToken(e),l=wp(a);Ee(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:l,token:a,authTime:iu(xm(l.auth_time)),issuedAtTime:iu(xm(l.iat)),expirationTime:iu(xm(l.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function xm(i){return Number(i)*1e3}function wp(i){const[e,n,a]=i.split(".");if(e===void 0||n===void 0||a===void 0)return fh("JWT malformed, contained fewer than 3 sections"),null;try{const l=pT(n);return l?JSON.parse(l):(fh("Failed to decode base64 JWT payload"),null)}catch(l){return fh("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function p0(i){const e=wp(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cu(i,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Ti&&SN(a)&&i.auth.currentUser===i&&await i.auth.signOut(),a}}function SN({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=iu(this.lastLoginAt),this.creationTime=iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xh(i){var A;const e=i.auth,n=await i.getIdToken(),a=await cu(i,Ih(e,{idToken:n}));Ee(a==null?void 0:a.users.length,e,"internal-error");const l=a.users[0];i._notifyReloadListener(l);const u=(A=l.providerUserInfo)!=null&&A.length?VT(l.providerUserInfo):[],h=RN(i.providerData,u),m=i.isAnonymous,p=!(i.email&&l.passwordHash)&&!(h!=null&&h.length),y=m?p:!1,v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Ym(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(i,v)}async function xN(i){const e=wt(i);await xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RN(i,e){return[...i.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function VT(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NN(i,e){const n=await MT(i,{},async()=>{const a=bu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=i.config,h=await LT(i,l,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:a};return i.emulatorConfig&&Ml(i.emulatorConfig.host)&&(p.credentials="include"),DT.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kN(i,e){return Sa(i,"POST","/v2/accounts:revokeToken",ys(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):p0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=p0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:l,expiresIn:u}=await NN(e,n);this.updateTokensAndExpiration(a,l,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:l,expirationTime:u}=n,h=new yl;return a&&(Ee(typeof a=="string","internal-error",{appName:e}),h.refreshToken=a),l&&(Ee(typeof l=="string","internal-error",{appName:e}),h.accessToken=l),u&&(Ee(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yl,this.toJSON())}_performRefresh(){return br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class gi{constructor({uid:e,auth:n,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new IN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Ym(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await cu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wN(this,e)}reload(){return xN(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new gi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await xh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pi(this.auth.app))return Promise.reject(ma(this.auth));const e=await this.getIdToken();return await cu(this,AN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:A,emailVerified:w,isAnonymous:C,providerData:P,stsTokenManager:Q}=n;Ee(A&&Q,e,"internal-error");const F=yl.fromJSON(this.name,Q);Ee(typeof A=="string",e,"internal-error"),aa(a,e.name),aa(l,e.name),Ee(typeof w=="boolean",e,"internal-error"),Ee(typeof C=="boolean",e,"internal-error"),aa(u,e.name),aa(h,e.name),aa(m,e.name),aa(p,e.name),aa(y,e.name),aa(v,e.name);const ie=new gi({uid:A,auth:e,email:l,emailVerified:w,displayName:a,isAnonymous:C,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:F,createdAt:y,lastLoginAt:v});return P&&Array.isArray(P)&&(ie.providerData=P.map(ee=>({...ee}))),p&&(ie._redirectEventId=p),ie}static async _fromIdTokenResponse(e,n,a=!1){const l=new yl;l.updateFromServerResponse(n);const u=new gi({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await xh(u),u}static async _fromGetAccountInfoResponse(e,n,a){const l=n.users[0];Ee(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?VT(l.providerUserInfo):[],h=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),m=new yl;m.updateFromIdToken(a);const p=new gi({uid:l.localId,auth:e,stsTokenManager:m,isAnonymous:h}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Ym(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0=new Map;function Er(i){Tr(i instanceof Function,"Expected a class definition");let e=g0.get(i);return e?(Tr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,g0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}UT.type="NONE";const y0=UT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(i,e,n){return`firebase:${i}:${e}:${n}`}class _l{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:l,name:u}=this.auth;this.fullUserKey=mh(this.userKey,l.apiKey,u),this.fullPersistenceKey=mh("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ih(this.auth,{idToken:e}).catch(()=>{});return n?gi._fromGetAccountInfoResponse(this.auth,n,e):null}return gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new _l(Er(y0),e,a);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||Er(y0);const h=mh(a,e.config.apiKey,e.name);let m=null;for(const y of n)try{const v=await y._get(h);if(v){let A;if(typeof v=="string"){const w=await Ih(e,{idToken:v}).catch(()=>{});if(!w)break;A=await gi._fromGetAccountInfoResponse(e,w,v)}else A=gi._fromJSON(e,v);y!==u&&(m=A),u=y;break}}catch{}const p=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new _l(u,e,a):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(h)}catch{}})),new _l(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FT(e))return"Blackberry";if(GT(e))return"Webos";if(jT(e))return"Safari";if((e.includes("chrome/")||zT(e))&&!e.includes("edge/"))return"Chrome";if(HT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=i.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function PT(i=an()){return/firefox\//i.test(i)}function jT(i=an()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zT(i=an()){return/crios\//i.test(i)}function BT(i=an()){return/iemobile/i.test(i)}function HT(i=an()){return/android/i.test(i)}function FT(i=an()){return/blackberry/i.test(i)}function GT(i=an()){return/webos/i.test(i)}function Sp(i=an()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function CN(i=an()){var e;return Sp(i)&&!!((e=window.navigator)!=null&&e.standalone)}function ON(){return G1()&&document.documentMode===10}function qT(i=an()){return Sp(i)||HT(i)||GT(i)||FT(i)||/windows phone/i.test(i)||BT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(i,e=[]){let n;switch(i){case"Browser":n=_0(an());break;case"Worker":n=`${_0(an())}-${i}`;break;default:n=i}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ll}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});a.onAbort=n,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MN(i,e={}){return Sa(i,"GET","/v2/passwordPolicy",ys(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=6;class VN{constructor(e){var a;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??LN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((a=e.allowedNonAlphanumericCharacters)==null?void 0:a.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n,a,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new b0(this),this.idTokenSubscription=new b0(this),this.beforeStateQueue=new DN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Er(n)),this._initializationPromise=this.queue(async()=>{var a,l,u;if(!this._deleted&&(this.persistenceManager=await _l.create(this,e),(a=this._resolvePersistenceManagerAvailable)==null||a.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ih(this,{idToken:e}),a=await gi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(pi(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(u=this.redirectUser)==null?void 0:u._redirectEventId,m=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pi(this.app))return Promise.reject(ma(this));const n=e?wt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pi(this.app)?Promise.reject(ma(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pi(this.app)?Promise.reject(ma(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Er(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MN(this),n=new VN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ps("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await kN(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Er(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await _l.create(this,[Er(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)==null?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,a,l);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){var n;if(pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&dN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Vl(i){return wt(i)}class b0{constructor(e){this.auth=e,this.observer=null,this.addObserver=J1(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PN(i){Jh=i}function KT(i){return Jh.loadJS(i)}function jN(){return Jh.recaptchaEnterpriseScript}function zN(){return Jh.gapiScript}function BN(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class HN{constructor(){this.enterprise=new FN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class FN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const GN="recaptcha-enterprise",QT="NO_RECAPTCHA";class qN{constructor(e){this.type=GN,this.auth=Vl(e)}async verify(e="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{TN(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new vN(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,h(y.siteKey)}}).catch(p=>{m(p)})})}function l(u,h,m){const p=window.grecaptcha;m0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{h(y)}).catch(()=>{h(QT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HN().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{a(this.auth).then(m=>{if(!n&&m0(window.grecaptcha))l(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=jN();p.length!==0&&(p+=m),KT(p).then(()=>{l(m,u,h)}).catch(y=>{h(y)})}}).catch(m=>{h(m)})})}}async function E0(i,e,n,a=!1,l=!1){const u=new qN(i);let h;if(l)h=QT;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function v0(i,e,n,a,l){var u;if((u=i._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await E0(i,e,n,n==="getOobCode");return a(i,h)}else return a(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await E0(i,e,n,n==="getOobCode");return a(i,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(i,e){const n=gs(i,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(_a(u,e??{}))return l;Ei(l,"already-initialized")}return n.initialize({options:e})}function KN(i,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(Er);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function QN(i,e,n){const a=Vl(i);Ee(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,u=$T(e),{host:h,port:m}=$N(e),p=m===null?"":`:${m}`,y={url:`${u}//${h}${p}/`},v=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Ee(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ee(_a(y,a.config.emulator)&&_a(v,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=v,a.settings.appVerificationDisabledForTesting=!0,Ml(h)?(bT(`${u}//${h}${p}`),ET("Auth",!0)):XN()}function $T(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function $N(i){const e=$T(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const u=l[1];return{host:u,port:T0(a.substr(u.length+1))}}else{const[u,h]=a.split(":");return{host:u,port:T0(h)}}}function T0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function XN(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return br("not implemented")}_getIdTokenResponse(e){return br("not implemented")}_linkToIdToken(e,n){return br("not implemented")}_getReauthenticationResolver(e){return br("not implemented")}}async function JN(i,e){return Sa(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN(i,e){return Xh(i,"POST","/v1/accounts:signInWithPassword",ys(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(i,e){return Xh(i,"POST","/v1/accounts:signInWithEmailLink",ys(i,e))}async function ek(i,e){return Xh(i,"POST","/v1/accounts:signInWithEmailLink",ys(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends Ip{constructor(e,n,a,l=null){super("password",a),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new hu(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new hu(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return v0(e,n,"signInWithPassword",WN);case"emailLink":return ZN(e,{email:this._email,oobCode:this._password});default:Ei(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return v0(e,a,"signUpPassword",JN);case"emailLink":return ek(e,{idToken:n,email:this._email,oobCode:this._password});default:Ei(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(i,e){return Xh(i,"POST","/v1/accounts:signInWithIdp",ys(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk="http://localhost";class cs extends Ip{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new cs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ei("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...u}=n;if(!a||!l)return null;const h=new cs(a,l);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return bl(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,bl(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bl(e,n)}buildRequest(){const e={requestUri:tk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=bu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ik(i){const e=Ko(Qo(i)).link,n=e?Ko(Qo(e)).deep_link_id:null,a=Ko(Qo(i)).deep_link_id;return(a?Ko(Qo(a)).link:null)||a||n||e||i}class xp{constructor(e){const n=Ko(Qo(e)),a=n.apiKey??null,l=n.oobCode??null,u=nk(n.mode??null);Ee(a&&l&&u,"argument-error"),this.apiKey=a,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=ik(e);try{return new xp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(){this.providerId=Ul.PROVIDER_ID}static credential(e,n){return hu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=xp.parseLink(n);return Ee(a,"argument-error"),hu._fromEmailAndCode(e,a.code,a.tenantId)}}Ul.PROVIDER_ID="password";Ul.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ul.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends XT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la extends vu{constructor(){super("facebook.com")}static credential(e){return cs._fromParams({providerId:la.PROVIDER_ID,signInMethod:la.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return la.credentialFromTaggedObject(e)}static credentialFromError(e){return la.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return la.credential(e.oauthAccessToken)}catch{return null}}}la.FACEBOOK_SIGN_IN_METHOD="facebook.com";la.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return cs._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return oa.credential(n,a)}catch{return null}}}oa.GOOGLE_SIGN_IN_METHOD="google.com";oa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua extends vu{constructor(){super("github.com")}static credential(e){return cs._fromParams({providerId:ua.PROVIDER_ID,signInMethod:ua.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ua.credentialFromTaggedObject(e)}static credentialFromError(e){return ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ua.credential(e.oauthAccessToken)}catch{return null}}}ua.GITHUB_SIGN_IN_METHOD="github.com";ua.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca extends vu{constructor(){super("twitter.com")}static credential(e,n){return cs._fromParams({providerId:ca.PROVIDER_ID,signInMethod:ca.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ca.credentialFromTaggedObject(e)}static credentialFromError(e){return ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return ca.credential(n,a)}catch{return null}}}ca.TWITTER_SIGN_IN_METHOD="twitter.com";ca.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,l=!1){const u=await gi._fromIdTokenResponse(e,a,l),h=A0(a);return new Sl({user:u,providerId:h,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const l=A0(a);return new Sl({user:e,providerId:l,_tokenResponse:a,operationType:n})}}function A0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends Ti{constructor(e,n,a,l){super(n.code,n.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Rh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,l){return new Rh(e,n,a,l)}}function JT(i,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Rh._fromErrorAndOperation(i,u,e,a):u})}async function rk(i,e,n=!1){const a=await cu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Sl._forOperation(i,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ak(i,e,n=!1){const{auth:a}=i;if(pi(a.app))return Promise.reject(ma(a));const l="reauthenticate";try{const u=await cu(i,JT(a,l,e,i),n);Ee(u.idToken,a,"internal-error");const h=wp(u.idToken);Ee(h,a,"internal-error");const{sub:m}=h;return Ee(i.uid===m,a,"user-mismatch"),Sl._forOperation(i,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Ei(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WT(i,e,n=!1){if(pi(i.app))return Promise.reject(ma(i));const a="signIn",l=await JT(i,a,e),u=await Sl._fromIdTokenResponse(i,a,l);return n||await i._updateCurrentUser(u.user),u}async function sk(i,e){return WT(Vl(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lk(i){const e=Vl(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function ok(i,e,n){return pi(i.app)?Promise.reject(ma(i)):sk(wt(i),Ul.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&lk(i),a})}function uk(i,e,n,a){return wt(i).onIdTokenChanged(e,n,a)}function ck(i,e,n){return wt(i).beforeAuthStateChanged(e,n)}function ZT(i,e,n,a){return wt(i).onAuthStateChanged(e,n,a)}const Nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nh,"1"),this.storage.removeItem(Nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=1e3,dk=10;class tA extends eA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),l=this.localCache[n];a!==l&&e(n,l,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const a=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const h=this.storage.getItem(a);!n&&this.localCache[a]===h||this.notifyListeners(a,h)},u=this.storage.getItem(a);ON()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,dk):l()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},hk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}tA.type="LOCAL";const fk=tA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA extends eA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}nA.type="SESSION";const iA=nA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const a=new Wh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:l,data:u}=n.data,h=this.handlersMap[l];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const m=Array.from(h).map(async y=>y(n.origin,u)),p=await mk(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(i="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const y=Rp("",20);l.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},a);h={messageChannel:l,onMessage(A){const w=A;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),l.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(){return window}function gk(i){Ki().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function yk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _k(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)==null?void 0:i.controller)||null}function bk(){return rA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="firebaseLocalStorageDb",Ek=1,kh="firebaseLocalStorage",sA="fbase_key";class Tu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zh(i,e){return i.transaction([kh],e?"readwrite":"readonly").objectStore(kh)}function vk(){const i=indexedDB.deleteDatabase(aA);return new Tu(i).toPromise()}function Km(){const i=indexedDB.open(aA,Ek);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const a=i.result;try{a.createObjectStore(kh,{keyPath:sA})}catch(l){n(l)}}),i.addEventListener("success",async()=>{const a=i.result;a.objectStoreNames.contains(kh)?e(a):(a.close(),await vk(),e(await Km()))})})}async function w0(i,e,n){const a=Zh(i,!0).put({[sA]:e,value:n});return new Tu(a).toPromise()}async function Tk(i,e){const n=Zh(i,!1).get(e),a=await new Tu(n).toPromise();return a===void 0?null:a.value}function S0(i,e){const n=Zh(i,!0).delete(e);return new Tu(n).toPromise()}const Ak=800,wk=3;class lA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Km(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>wk)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wh._getInstance(bk()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,a;if(this.activeServiceWorker=await yk(),!this.activeServiceWorker)return;this.sender=new pk(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(a=e[0])!=null&&a.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_k()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Km();return await w0(e,Nh,"1"),await S0(e,Nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>w0(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>Tk(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>S0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Zh(l,!1).getAll();return new Tu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ak)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lA.type="LOCAL";const Sk=lA;new Eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(i,e){return e?Er(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np extends Ip{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function xk(i){return WT(i.auth,new Np(i),i.bypassAuthState)}function Rk(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),ak(n,new Np(i),i.bypassAuthState)}async function Nk(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),rk(n,new Np(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,n,a,l,u=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:l,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xk;case"linkViaPopup":case"linkViaRedirect":return Nk;case"reauthViaPopup":case"reauthViaRedirect":return Rk;default:Ei(this.auth,"internal-error")}}resolve(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk=new Eu(2e3,1e4);class pl extends oA{constructor(e,n,a,l,u){super(e,n,l,u),this.provider=a,this.authWindow=null,this.pollId=null,pl.currentPopupAction&&pl.currentPopupAction.cancel(),pl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Tr(this.filter.length===1,"Popup operations only handle one event");const e=Rp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if((a=(n=this.authWindow)==null?void 0:n.window)!=null&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kk.get())};e()}}pl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck="pendingRedirect",ph=new Map;class Ok extends oA{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=ph.get(this.auth._key());if(!e){try{const a=await Dk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Dk(i,e){const n=Vk(e),a=Lk(i);if(!await a._isAvailable())return!1;const l=await a._get(n)==="true";return await a._remove(n),l}function Mk(i,e){ph.set(i._key(),e)}function Lk(i){return Er(i._redirectPersistence)}function Vk(i){return mh(Ck,i.config.apiKey,i.name)}async function Uk(i,e,n=!1){if(pi(i.app))return Promise.reject(ma(i));const a=Vl(i),l=Ik(a,e),h=await new Ok(a,l,n).execute();return h&&!n&&(delete h.user._redirectEventId,await a._persistUserIfCurrent(h.user),await a._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=600*1e3;class jk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zk(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!uA(e)){const l=((a=e.error.code)==null?void 0:a.split("auth/")[1])||"internal-error";n.onError(Yi(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Pk&&this.cachedEventUids.clear(),this.cachedEventUids.has(I0(e))}saveEventToCache(e){this.cachedEventUids.add(I0(e)),this.lastProcessedEventTime=Date.now()}}function I0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function uA({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zk(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uA(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bk(i,e={}){return Sa(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fk=/^https?/;async function Gk(i){if(i.config.emulator)return;const{authorizedDomains:e}=await Bk(i);for(const n of e)try{if(qk(n))return}catch{}Ei(i,"unauthorized-domain")}function qk(i){const e=qm(),{protocol:n,hostname:a}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&a===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===a}if(!Fk.test(n))return!1;if(Hk.test(i))return a===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk=new Eu(3e4,6e4);function x0(){const i=Ki().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function Kk(i){return new Promise((e,n)=>{var l,u,h;function a(){x0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{x0(),n(Yi(i,"network-request-failed"))},timeout:Yk.get()})}if((u=(l=Ki().gapi)==null?void 0:l.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((h=Ki().gapi)!=null&&h.load)a();else{const m=BN("iframefcb");return Ki()[m]=()=>{gapi.load?a():n(Yi(i,"network-request-failed"))},KT(`${zN()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw gh=null,e})}let gh=null;function Qk(i){return gh=gh||Kk(i),gh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=new Eu(5e3,15e3),Xk="__/auth/iframe",Jk="emulator/auth/iframe",Wk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eC(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Ap(e,Jk):`https://${i.config.authDomain}/${Xk}`,a={apiKey:e.apiKey,appName:i.name,v:Ll},l=Zk.get(i.config.apiHost);l&&(a.eid=l);const u=i._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${bu(a).slice(1)}`}async function tC(i){const e=await Qk(i),n=Ki().gapi;return Ee(n,i,"internal-error"),e.open({where:document.body,url:eC(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wk,dontclear:!0},a=>new Promise(async(l,u)=>{await a.restyle({setHideOnLeave:!1});const h=Yi(i,"network-request-failed"),m=Ki().setTimeout(()=>{u(h)},$k.get());function p(){Ki().clearTimeout(m),l(a)}a.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iC=500,rC=600,aC="_blank",sC="http://localhost";class R0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lC(i,e,n,a=iC,l=rC){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),h=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p={...nC,width:a.toString(),height:l.toString(),top:u,left:h},y=an().toLowerCase();n&&(m=zT(y)?aC:n),PT(y)&&(e=e||sC,p.scrollbars="yes");const v=Object.entries(p).reduce((w,[C,P])=>`${w}${C}=${P},`,"");if(CN(y)&&m!=="_self")return oC(e||"",m),new R0(null);const A=window.open(e||"",m,v);Ee(A,i,"popup-blocked");try{A.focus()}catch{}return new R0(A)}function oC(i,e){const n=document.createElement("a");n.href=i,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="__/auth/handler",cC="emulator/auth/handler",hC=encodeURIComponent("fac");async function N0(i,e,n,a,l,u){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:a,v:Ll,eventId:l};if(e instanceof XT){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",X1(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,A]of Object.entries({}))h[v]=A}if(e instanceof vu){const v=e.getScopes().filter(A=>A!=="");v.length>0&&(h.scopes=v.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await i._getAppCheckToken(),y=p?`#${hC}=${encodeURIComponent(p)}`:"";return`${dC(i)}?${bu(m).slice(1)}${y}`}function dC({config:i}){return i.emulator?Ap(i,cC):`https://${i.authDomain}/${uC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="webStorageSupport";class fC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iA,this._completeRedirectFn=Uk,this._overrideRedirectResult=Mk}async _openPopup(e,n,a,l){var h;Tr((h=this.eventManagers[e._key()])==null?void 0:h.manager,"_initialize() not called before _openPopup()");const u=await N0(e,n,a,qm(),l);return lC(e,u,Rp())}async _openRedirect(e,n,a,l){await this._originValidation(e);const u=await N0(e,n,a,qm(),l);return gk(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(Tr(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await tC(e),a=new jk(e);return n.register("authEvent",l=>(Ee(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rm,{type:Rm},l=>{var h;const u=(h=l==null?void 0:l[0])==null?void 0:h[Rm];u!==void 0&&n(!!u),Ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Gk(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qT()||jT()||Sp()}}const mC=fC;var k0="@firebase/auth",C0="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yC(i){Ji(new bi("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=a.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YT(i)},y=new UN(a,l,u,p);return KN(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),Ji(new bi("auth-internal",e=>{const n=Vl(e.getProvider("auth").getImmediate());return(a=>new pC(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jn(k0,C0,gC(i)),Jn(k0,C0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=300,bC=_T("authIdTokenMaxAge")||_C;let O0=null;const EC=i=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>bC)return;const l=n==null?void 0:n.token;O0!==l&&(O0=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function vC(i=vp()){const e=gs(i,"auth");if(e.isInitialized())return e.getImmediate();const n=YN(i,{popupRedirectResolver:mC,persistence:[Sk,fk,iA]}),a=_T("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const h=EC(u.toString());ck(n,h,()=>h(n.currentUser)),uk(n,m=>h(m))}}const l=gT("auth");return l&&QN(n,`http://${l}`),n}function TC(){var i;return((i=document.getElementsByTagName("head"))==null?void 0:i[0])??document}PN({loadJS(i){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",i),a.onload=e,a.onerror=l=>{const u=Yi("internal-error");u.customData=l,n(u)},a.type="text/javascript",a.charset="UTF-8",TC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yC("Browser");var AC="firebase",wC="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jn(AC,wC,"app");const cA="@firebase/installations",kp="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=1e4,dA=`w:${kp}`,fA="FIS_v2",SC="https://firebaseinstallations.googleapis.com/v1",IC=3600*1e3,xC="installations",RC="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},hs=new ps(xC,RC,NC);function mA(i){return i instanceof Ti&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA({projectId:i}){return`${SC}/projects/${i}/installations`}function gA(i){return{token:i.token,requestStatus:2,expiresIn:CC(i.expiresIn),creationTime:Date.now()}}async function yA(i,e){const a=(await e.json()).error;return hs.create("request-failed",{requestName:i,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function _A({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function kC(i,{refreshToken:e}){const n=_A(i);return n.append("Authorization",OC(e)),n}async function bA(i){const e=await i();return e.status>=500&&e.status<600?i():e}function CC(i){return Number(i.replace("s","000"))}function OC(i){return`${fA} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DC({appConfig:i,heartbeatServiceProvider:e},{fid:n}){const a=pA(i),l=_A(i),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const h={fid:n,authVersion:fA,appId:i.appId,sdkVersion:dA},m={method:"POST",headers:l,body:JSON.stringify(h)},p=await bA(()=>fetch(a,m));if(p.ok){const y=await p.json();return{fid:y.fid||n,registrationStatus:2,refreshToken:y.refreshToken,authToken:gA(y.authToken)}}else throw await yA("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=/^[cdef][\w-]{21}$/,Qm="";function VC(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=UC(i);return LC.test(n)?n:Qm}catch{return Qm}}function UC(i){return MC(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=new Map;function TA(i,e){const n=ed(i);AA(n,e),PC(n,e)}function AA(i,e){const n=vA.get(i);if(n)for(const a of n)a(e)}function PC(i,e){const n=jC();n&&n.postMessage({key:i,fid:e}),zC()}let ss=null;function jC(){return!ss&&"BroadcastChannel"in self&&(ss=new BroadcastChannel("[Firebase] FID Change"),ss.onmessage=i=>{AA(i.data.key,i.data.fid)}),ss}function zC(){vA.size===0&&ss&&(ss.close(),ss=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="firebase-installations-database",HC=1,ds="firebase-installations-store";let Nm=null;function Cp(){return Nm||(Nm=IT(BC,HC,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(ds)}}})),Nm}async function Ch(i,e){const n=ed(i),l=(await Cp()).transaction(ds,"readwrite"),u=l.objectStore(ds),h=await u.get(n);return await u.put(e,n),await l.done,(!h||h.fid!==e.fid)&&TA(i,e.fid),e}async function wA(i){const e=ed(i),a=(await Cp()).transaction(ds,"readwrite");await a.objectStore(ds).delete(e),await a.done}async function td(i,e){const n=ed(i),l=(await Cp()).transaction(ds,"readwrite"),u=l.objectStore(ds),h=await u.get(n),m=e(h);return m===void 0?await u.delete(n):await u.put(m,n),await l.done,m&&(!h||h.fid!==m.fid)&&TA(i,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Op(i){let e;const n=await td(i.appConfig,a=>{const l=FC(a),u=GC(i,l);return e=u.registrationPromise,u.installationEntry});return n.fid===Qm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function FC(i){const e=i||{fid:VC(),registrationStatus:0};return SA(e)}function GC(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(hs.create("app-offline"));return{installationEntry:e,registrationPromise:l}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},a=qC(i,n);return{installationEntry:n,registrationPromise:a}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:YC(i)}:{installationEntry:e}}async function qC(i,e){try{const n=await DC(i,e);return Ch(i.appConfig,n)}catch(n){throw mA(n)&&n.customData.serverCode===409?await wA(i.appConfig):await Ch(i.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function YC(i){let e=await D0(i.appConfig);for(;e.registrationStatus===1;)await EA(100),e=await D0(i.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:a}=await Op(i);return a||n}return e}function D0(i){return td(i,e=>{if(!e)throw hs.create("installation-not-found");return SA(e)})}function SA(i){return KC(i)?{fid:i.fid,registrationStatus:0}:i}function KC(i){return i.registrationStatus===1&&i.registrationTime+hA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QC({appConfig:i,heartbeatServiceProvider:e},n){const a=$C(i,n),l=kC(i,n),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const h={installation:{sdkVersion:dA,appId:i.appId}},m={method:"POST",headers:l,body:JSON.stringify(h)},p=await bA(()=>fetch(a,m));if(p.ok){const y=await p.json();return gA(y)}else throw await yA("Generate Auth Token",p)}function $C(i,{fid:e}){return`${pA(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dp(i,e=!1){let n;const a=await td(i.appConfig,u=>{if(!IA(u))throw hs.create("not-registered");const h=u.authToken;if(!e&&WC(h))return u;if(h.requestStatus===1)return n=XC(i,e),u;{if(!navigator.onLine)throw hs.create("app-offline");const m=e2(u);return n=JC(i,m),m}});return n?await n:a.authToken}async function XC(i,e){let n=await M0(i.appConfig);for(;n.authToken.requestStatus===1;)await EA(100),n=await M0(i.appConfig);const a=n.authToken;return a.requestStatus===0?Dp(i,e):a}function M0(i){return td(i,e=>{if(!IA(e))throw hs.create("not-registered");const n=e.authToken;return t2(n)?{...e,authToken:{requestStatus:0}}:e})}async function JC(i,e){try{const n=await QC(i,e),a={...e,authToken:n};return await Ch(i.appConfig,a),n}catch(n){if(mA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await wA(i.appConfig);else{const a={...e,authToken:{requestStatus:0}};await Ch(i.appConfig,a)}throw n}}function IA(i){return i!==void 0&&i.registrationStatus===2}function WC(i){return i.requestStatus===2&&!ZC(i)}function ZC(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+IC}function e2(i){const e={requestStatus:1,requestTime:Date.now()};return{...i,authToken:e}}function t2(i){return i.requestStatus===1&&i.requestTime+hA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n2(i){const e=i,{installationEntry:n,registrationPromise:a}=await Op(e);return a?a.catch(console.error):Dp(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i2(i,e=!1){const n=i;return await r2(n),(await Dp(n,e)).token}async function r2(i){const{registrationPromise:e}=await Op(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(i){if(!i||!i.options)throw km("App Configuration");if(!i.name)throw km("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!i.options[n])throw km(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function km(i){return hs.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA="installations",s2="installations-internal",l2=i=>{const e=i.getProvider("app").getImmediate(),n=a2(e),a=gs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},o2=i=>{const e=i.getProvider("app").getImmediate(),n=gs(e,xA).getImmediate();return{getId:()=>n2(n),getToken:l=>i2(n,l)}};function u2(){Ji(new bi(xA,l2,"PUBLIC")),Ji(new bi(s2,o2,"PRIVATE"))}u2();Jn(cA,kp);Jn(cA,kp,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh="analytics",c2="firebase_id",h2="origin",d2=60*1e3,f2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Mp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un=new $h("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},On=new ps("analytics","Analytics",m2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(i){if(!i.startsWith(Mp)){const e=On.create("invalid-gtag-resource",{gtagURL:i});return un.warn(e.message),""}return i}function RA(i){return Promise.all(i.map(e=>e.catch(n=>n)))}function g2(i,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,e)),n}function y2(i,e){const n=g2("firebase-js-sdk-policy",{createScriptURL:p2}),a=document.createElement("script"),l=`${Mp}?l=${i}&id=${e}`;a.src=n?n==null?void 0:n.createScriptURL(l):l,a.async=!0,document.head.appendChild(a)}function _2(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function b2(i,e,n,a,l,u){const h=a[l];try{if(h)await e[h];else{const p=(await RA(n)).find(y=>y.measurementId===l);p&&await e[p.appId]}}catch(m){un.error(m)}i("config",l,u)}async function E2(i,e,n,a,l){try{let u=[];if(l&&l.send_to){let h=l.send_to;Array.isArray(h)||(h=[h]);const m=await RA(n);for(const p of h){const y=m.find(A=>A.measurementId===p),v=y&&e[y.appId];if(v)u.push(v);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",a,l||{})}catch(u){un.error(u)}}function v2(i,e,n,a){async function l(u,...h){try{if(u==="event"){const[m,p]=h;await E2(i,e,n,m,p)}else if(u==="config"){const[m,p]=h;await b2(i,e,n,a,m,p)}else if(u==="consent"){const[m,p]=h;i("consent",m,p)}else if(u==="get"){const[m,p,y]=h;i("get",m,p,y)}else if(u==="set"){const[m]=h;i("set",m)}else i(u,...h)}catch(m){un.error(m)}}return l}function T2(i,e,n,a,l){let u=function(...h){window[a].push(arguments)};return window[l]&&typeof window[l]=="function"&&(u=window[l]),window[l]=v2(u,i,e,n),{gtagCore:u,wrappedGtag:window[l]}}function A2(i){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Mp)&&n.src.includes(i))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=30,S2=1e3;class I2{constructor(e={},n=S2){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const NA=new I2;function x2(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function R2(i){var h;const{appId:e,apiKey:n}=i,a={method:"GET",headers:x2(n)},l=f2.replace("{app-id}",e),u=await fetch(l,a);if(u.status!==200&&u.status!==304){let m="";try{const p=await u.json();(h=p.error)!=null&&h.message&&(m=p.error.message)}catch{}throw On.create("config-fetch-failed",{httpStatus:u.status,responseMessage:m})}return u.json()}async function N2(i,e=NA,n){const{appId:a,apiKey:l,measurementId:u}=i.options;if(!a)throw On.create("no-app-id");if(!l){if(u)return{measurementId:u,appId:a};throw On.create("no-api-key")}const h=e.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new O2;return setTimeout(async()=>{m.abort()},d2),kA({appId:a,apiKey:l,measurementId:u},h,m,e)}async function kA(i,{throttleEndTimeMillis:e,backoffCount:n},a,l=NA){var m;const{appId:u,measurementId:h}=i;try{await k2(a,e)}catch(p){if(h)return un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:u,measurementId:h};throw p}try{const p=await R2(i);return l.deleteThrottleMetadata(u),p}catch(p){const y=p;if(!C2(y)){if(l.deleteThrottleMetadata(u),h)return un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:u,measurementId:h};throw p}const v=Number((m=y==null?void 0:y.customData)==null?void 0:m.httpStatus)===503?r0(n,l.intervalMillis,w2):r0(n,l.intervalMillis),A={throttleEndTimeMillis:Date.now()+v,backoffCount:n+1};return l.setThrottleMetadata(u,A),un.debug(`Calling attemptFetch again in ${v} millis`),kA(i,A,a,l)}}function k2(i,e){return new Promise((n,a)=>{const l=Math.max(e-Date.now(),0),u=setTimeout(n,l);i.addEventListener(()=>{clearTimeout(u),a(On.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function C2(i){if(!(i instanceof Ti)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class O2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function D2(i,e,n,a,l){if(l&&l.global){i("event",n,a);return}else{const u=await e,h={...a,send_to:u};i("event",n,h)}}async function M2(i,e,n,a){if(a&&a.global){const l={};for(const u of Object.keys(n))l[`user_properties.${u}`]=n[u];return i("set",l),Promise.resolve()}else{const l=await e;i("config",l,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L2(){if(TT())try{await AT()}catch(i){return un.warn(On.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return un.warn(On.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function V2(i,e,n,a,l,u,h){const m=N2(i);m.then(w=>{n[w.measurementId]=w.appId,i.options.measurementId&&w.measurementId!==i.options.measurementId&&un.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>un.error(w)),e.push(m);const p=L2().then(w=>{if(w)return a.getId()}),[y,v]=await Promise.all([m,p]);A2(u)||y2(u,y.measurementId),l("js",new Date);const A=(h==null?void 0:h.config)??{};return A[h2]="firebase",A.update=!0,v!=null&&(A[c2]=v),l("config",y.measurementId,A),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e){this.app=e}_delete(){return delete El[this.app.options.appId],Promise.resolve()}}let El={},L0=[];const V0={};let Cm="dataLayer",P2="gtag",U0,Lp,P0=!1;function j2(){const i=[];if(vT()&&i.push("This is a browser extension environment."),Y1()||i.push("Cookies are not available."),i.length>0){const e=i.map((a,l)=>`(${l+1}) ${a}`).join(" "),n=On.create("invalid-analytics-context",{errorInfo:e});un.warn(n.message)}}function z2(i,e,n){j2();const a=i.options.appId;if(!a)throw On.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw On.create("no-api-key");if(El[a]!=null)throw On.create("already-exists",{id:a});if(!P0){_2(Cm);const{wrappedGtag:u,gtagCore:h}=T2(El,L0,V0,Cm,P2);Lp=u,U0=h,P0=!0}return El[a]=V2(i,L0,V0,e,U0,Cm,n),new U2(i)}function B2(i=vp()){i=wt(i);const e=gs(i,Oh);return e.isInitialized()?e.getImmediate():H2(i)}function H2(i,e={}){const n=gs(i,Oh);if(n.isInitialized()){const l=n.getImmediate();if(_a(e,n.getOptions()))return l;throw On.create("already-initialized")}return n.initialize({options:e})}function F2(i,e,n){i=wt(i),M2(Lp,El[i.app.options.appId],e,n).catch(a=>un.error(a))}function G2(i,e,n,a){i=wt(i),D2(Lp,El[i.app.options.appId],e,n,a).catch(l=>un.error(l))}const j0="@firebase/analytics",z0="0.10.19";function q2(){Ji(new bi(Oh,(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("installations-internal").getImmediate();return z2(a,l,n)},"PUBLIC")),Ji(new bi("analytics-internal",i,"PRIVATE")),Jn(j0,z0),Jn(j0,z0,"esm2020");function i(e){try{const n=e.getProvider(Oh).getImmediate();return{logEvent:(a,l,u)=>G2(n,a,l,u),setUserProperties:(a,l)=>F2(n,a,l)}}catch(n){throw On.create("interop-component-reg-failed",{reason:n})}}}q2();var B0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pa,CA;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,I){function x(){}x.prototype=I.prototype,R.F=I.prototype,R.prototype=new x,R.prototype.constructor=R,R.D=function(L,O,V){for(var N=Array(arguments.length-2),He=2;He<arguments.length;He++)N[He-2]=arguments[He];return I.prototype[O].apply(L,N)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(R,I,x){x||(x=0);const L=Array(16);if(typeof I=="string")for(var O=0;O<16;++O)L[O]=I.charCodeAt(x++)|I.charCodeAt(x++)<<8|I.charCodeAt(x++)<<16|I.charCodeAt(x++)<<24;else for(O=0;O<16;++O)L[O]=I[x++]|I[x++]<<8|I[x++]<<16|I[x++]<<24;I=R.g[0],x=R.g[1],O=R.g[2];let V=R.g[3],N;N=I+(V^x&(O^V))+L[0]+3614090360&4294967295,I=x+(N<<7&4294967295|N>>>25),N=V+(O^I&(x^O))+L[1]+3905402710&4294967295,V=I+(N<<12&4294967295|N>>>20),N=O+(x^V&(I^x))+L[2]+606105819&4294967295,O=V+(N<<17&4294967295|N>>>15),N=x+(I^O&(V^I))+L[3]+3250441966&4294967295,x=O+(N<<22&4294967295|N>>>10),N=I+(V^x&(O^V))+L[4]+4118548399&4294967295,I=x+(N<<7&4294967295|N>>>25),N=V+(O^I&(x^O))+L[5]+1200080426&4294967295,V=I+(N<<12&4294967295|N>>>20),N=O+(x^V&(I^x))+L[6]+2821735955&4294967295,O=V+(N<<17&4294967295|N>>>15),N=x+(I^O&(V^I))+L[7]+4249261313&4294967295,x=O+(N<<22&4294967295|N>>>10),N=I+(V^x&(O^V))+L[8]+1770035416&4294967295,I=x+(N<<7&4294967295|N>>>25),N=V+(O^I&(x^O))+L[9]+2336552879&4294967295,V=I+(N<<12&4294967295|N>>>20),N=O+(x^V&(I^x))+L[10]+4294925233&4294967295,O=V+(N<<17&4294967295|N>>>15),N=x+(I^O&(V^I))+L[11]+2304563134&4294967295,x=O+(N<<22&4294967295|N>>>10),N=I+(V^x&(O^V))+L[12]+1804603682&4294967295,I=x+(N<<7&4294967295|N>>>25),N=V+(O^I&(x^O))+L[13]+4254626195&4294967295,V=I+(N<<12&4294967295|N>>>20),N=O+(x^V&(I^x))+L[14]+2792965006&4294967295,O=V+(N<<17&4294967295|N>>>15),N=x+(I^O&(V^I))+L[15]+1236535329&4294967295,x=O+(N<<22&4294967295|N>>>10),N=I+(O^V&(x^O))+L[1]+4129170786&4294967295,I=x+(N<<5&4294967295|N>>>27),N=V+(x^O&(I^x))+L[6]+3225465664&4294967295,V=I+(N<<9&4294967295|N>>>23),N=O+(I^x&(V^I))+L[11]+643717713&4294967295,O=V+(N<<14&4294967295|N>>>18),N=x+(V^I&(O^V))+L[0]+3921069994&4294967295,x=O+(N<<20&4294967295|N>>>12),N=I+(O^V&(x^O))+L[5]+3593408605&4294967295,I=x+(N<<5&4294967295|N>>>27),N=V+(x^O&(I^x))+L[10]+38016083&4294967295,V=I+(N<<9&4294967295|N>>>23),N=O+(I^x&(V^I))+L[15]+3634488961&4294967295,O=V+(N<<14&4294967295|N>>>18),N=x+(V^I&(O^V))+L[4]+3889429448&4294967295,x=O+(N<<20&4294967295|N>>>12),N=I+(O^V&(x^O))+L[9]+568446438&4294967295,I=x+(N<<5&4294967295|N>>>27),N=V+(x^O&(I^x))+L[14]+3275163606&4294967295,V=I+(N<<9&4294967295|N>>>23),N=O+(I^x&(V^I))+L[3]+4107603335&4294967295,O=V+(N<<14&4294967295|N>>>18),N=x+(V^I&(O^V))+L[8]+1163531501&4294967295,x=O+(N<<20&4294967295|N>>>12),N=I+(O^V&(x^O))+L[13]+2850285829&4294967295,I=x+(N<<5&4294967295|N>>>27),N=V+(x^O&(I^x))+L[2]+4243563512&4294967295,V=I+(N<<9&4294967295|N>>>23),N=O+(I^x&(V^I))+L[7]+1735328473&4294967295,O=V+(N<<14&4294967295|N>>>18),N=x+(V^I&(O^V))+L[12]+2368359562&4294967295,x=O+(N<<20&4294967295|N>>>12),N=I+(x^O^V)+L[5]+4294588738&4294967295,I=x+(N<<4&4294967295|N>>>28),N=V+(I^x^O)+L[8]+2272392833&4294967295,V=I+(N<<11&4294967295|N>>>21),N=O+(V^I^x)+L[11]+1839030562&4294967295,O=V+(N<<16&4294967295|N>>>16),N=x+(O^V^I)+L[14]+4259657740&4294967295,x=O+(N<<23&4294967295|N>>>9),N=I+(x^O^V)+L[1]+2763975236&4294967295,I=x+(N<<4&4294967295|N>>>28),N=V+(I^x^O)+L[4]+1272893353&4294967295,V=I+(N<<11&4294967295|N>>>21),N=O+(V^I^x)+L[7]+4139469664&4294967295,O=V+(N<<16&4294967295|N>>>16),N=x+(O^V^I)+L[10]+3200236656&4294967295,x=O+(N<<23&4294967295|N>>>9),N=I+(x^O^V)+L[13]+681279174&4294967295,I=x+(N<<4&4294967295|N>>>28),N=V+(I^x^O)+L[0]+3936430074&4294967295,V=I+(N<<11&4294967295|N>>>21),N=O+(V^I^x)+L[3]+3572445317&4294967295,O=V+(N<<16&4294967295|N>>>16),N=x+(O^V^I)+L[6]+76029189&4294967295,x=O+(N<<23&4294967295|N>>>9),N=I+(x^O^V)+L[9]+3654602809&4294967295,I=x+(N<<4&4294967295|N>>>28),N=V+(I^x^O)+L[12]+3873151461&4294967295,V=I+(N<<11&4294967295|N>>>21),N=O+(V^I^x)+L[15]+530742520&4294967295,O=V+(N<<16&4294967295|N>>>16),N=x+(O^V^I)+L[2]+3299628645&4294967295,x=O+(N<<23&4294967295|N>>>9),N=I+(O^(x|~V))+L[0]+4096336452&4294967295,I=x+(N<<6&4294967295|N>>>26),N=V+(x^(I|~O))+L[7]+1126891415&4294967295,V=I+(N<<10&4294967295|N>>>22),N=O+(I^(V|~x))+L[14]+2878612391&4294967295,O=V+(N<<15&4294967295|N>>>17),N=x+(V^(O|~I))+L[5]+4237533241&4294967295,x=O+(N<<21&4294967295|N>>>11),N=I+(O^(x|~V))+L[12]+1700485571&4294967295,I=x+(N<<6&4294967295|N>>>26),N=V+(x^(I|~O))+L[3]+2399980690&4294967295,V=I+(N<<10&4294967295|N>>>22),N=O+(I^(V|~x))+L[10]+4293915773&4294967295,O=V+(N<<15&4294967295|N>>>17),N=x+(V^(O|~I))+L[1]+2240044497&4294967295,x=O+(N<<21&4294967295|N>>>11),N=I+(O^(x|~V))+L[8]+1873313359&4294967295,I=x+(N<<6&4294967295|N>>>26),N=V+(x^(I|~O))+L[15]+4264355552&4294967295,V=I+(N<<10&4294967295|N>>>22),N=O+(I^(V|~x))+L[6]+2734768916&4294967295,O=V+(N<<15&4294967295|N>>>17),N=x+(V^(O|~I))+L[13]+1309151649&4294967295,x=O+(N<<21&4294967295|N>>>11),N=I+(O^(x|~V))+L[4]+4149444226&4294967295,I=x+(N<<6&4294967295|N>>>26),N=V+(x^(I|~O))+L[11]+3174756917&4294967295,V=I+(N<<10&4294967295|N>>>22),N=O+(I^(V|~x))+L[2]+718787259&4294967295,O=V+(N<<15&4294967295|N>>>17),N=x+(V^(O|~I))+L[9]+3951481745&4294967295,R.g[0]=R.g[0]+I&4294967295,R.g[1]=R.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+V&4294967295}a.prototype.v=function(R,I){I===void 0&&(I=R.length);const x=I-this.blockSize,L=this.C;let O=this.h,V=0;for(;V<I;){if(O==0)for(;V<=x;)l(this,R,V),V+=this.blockSize;if(typeof R=="string"){for(;V<I;)if(L[O++]=R.charCodeAt(V++),O==this.blockSize){l(this,L),O=0;break}}else for(;V<I;)if(L[O++]=R[V++],O==this.blockSize){l(this,L),O=0;break}}this.h=O,this.o+=I},a.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var I=1;I<R.length-8;++I)R[I]=0;I=this.o*8;for(var x=R.length-8;x<R.length;++x)R[x]=I&255,I/=256;for(this.v(R),R=Array(16),I=0,x=0;x<4;++x)for(let L=0;L<32;L+=8)R[I++]=this.g[x]>>>L&255;return R};function u(R,I){var x=m;return Object.prototype.hasOwnProperty.call(x,R)?x[R]:x[R]=I(R)}function h(R,I){this.h=I;const x=[];let L=!0;for(let O=R.length-1;O>=0;O--){const V=R[O]|0;L&&V==I||(x[O]=V,L=!1)}this.g=x}var m={};function p(R){return-128<=R&&R<128?u(R,function(I){return new h([I|0],I<0?-1:0)}):new h([R|0],R<0?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return A;if(R<0)return F(y(-R));const I=[];let x=1;for(let L=0;R>=x;L++)I[L]=R/x|0,x*=4294967296;return new h(I,0)}function v(R,I){if(R.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(R.charAt(0)=="-")return F(v(R.substring(1),I));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=y(Math.pow(I,8));let L=A;for(let V=0;V<R.length;V+=8){var O=Math.min(8,R.length-V);const N=parseInt(R.substring(V,V+O),I);O<8?(O=y(Math.pow(I,O)),L=L.j(O).add(y(N))):(L=L.j(x),L=L.add(y(N)))}return L}var A=p(0),w=p(1),C=p(16777216);i=h.prototype,i.m=function(){if(Q(this))return-F(this).m();let R=0,I=1;for(let x=0;x<this.g.length;x++){const L=this.i(x);R+=(L>=0?L:4294967296+L)*I,I*=4294967296}return R},i.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(P(this))return"0";if(Q(this))return"-"+F(this).toString(R);const I=y(Math.pow(R,6));var x=this;let L="";for(;;){const O=oe(x,I).g;x=ie(x,O.j(I));let V=((x.g.length>0?x.g[0]:x.h)>>>0).toString(R);if(x=O,P(x))return V+L;for(;V.length<6;)V="0"+V;L=V+L}},i.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function P(R){if(R.h!=0)return!1;for(let I=0;I<R.g.length;I++)if(R.g[I]!=0)return!1;return!0}function Q(R){return R.h==-1}i.l=function(R){return R=ie(this,R),Q(R)?-1:P(R)?0:1};function F(R){const I=R.g.length,x=[];for(let L=0;L<I;L++)x[L]=~R.g[L];return new h(x,~R.h).add(w)}i.abs=function(){return Q(this)?F(this):this},i.add=function(R){const I=Math.max(this.g.length,R.g.length),x=[];let L=0;for(let O=0;O<=I;O++){let V=L+(this.i(O)&65535)+(R.i(O)&65535),N=(V>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);L=N>>>16,V&=65535,N&=65535,x[O]=N<<16|V}return new h(x,x[x.length-1]&-2147483648?-1:0)};function ie(R,I){return R.add(F(I))}i.j=function(R){if(P(this)||P(R))return A;if(Q(this))return Q(R)?F(this).j(F(R)):F(F(this).j(R));if(Q(R))return F(this.j(F(R)));if(this.l(C)<0&&R.l(C)<0)return y(this.m()*R.m());const I=this.g.length+R.g.length,x=[];for(var L=0;L<2*I;L++)x[L]=0;for(L=0;L<this.g.length;L++)for(let O=0;O<R.g.length;O++){const V=this.i(L)>>>16,N=this.i(L)&65535,He=R.i(O)>>>16,ct=R.i(O)&65535;x[2*L+2*O]+=N*ct,ee(x,2*L+2*O),x[2*L+2*O+1]+=V*ct,ee(x,2*L+2*O+1),x[2*L+2*O+1]+=N*He,ee(x,2*L+2*O+1),x[2*L+2*O+2]+=V*He,ee(x,2*L+2*O+2)}for(R=0;R<I;R++)x[R]=x[2*R+1]<<16|x[2*R];for(R=I;R<2*I;R++)x[R]=0;return new h(x,0)};function ee(R,I){for(;(R[I]&65535)!=R[I];)R[I+1]+=R[I]>>>16,R[I]&=65535,I++}function $(R,I){this.g=R,this.h=I}function oe(R,I){if(P(I))throw Error("division by zero");if(P(R))return new $(A,A);if(Q(R))return I=oe(F(R),I),new $(F(I.g),F(I.h));if(Q(I))return I=oe(R,F(I)),new $(F(I.g),I.h);if(R.g.length>30){if(Q(R)||Q(I))throw Error("slowDivide_ only works with positive integers.");for(var x=w,L=I;L.l(R)<=0;)x=ne(x),L=ne(L);var O=_e(x,1),V=_e(L,1);for(L=_e(L,2),x=_e(x,2);!P(L);){var N=V.add(L);N.l(R)<=0&&(O=O.add(x),V=N),L=_e(L,1),x=_e(x,1)}return I=ie(R,O.j(I)),new $(O,I)}for(O=A;R.l(I)>=0;){for(x=Math.max(1,Math.floor(R.m()/I.m())),L=Math.ceil(Math.log(x)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),V=y(x),N=V.j(I);Q(N)||N.l(R)>0;)x-=L,V=y(x),N=V.j(I);P(V)&&(V=w),O=O.add(V),R=ie(R,N)}return new $(O,R)}i.B=function(R){return oe(this,R).h},i.and=function(R){const I=Math.max(this.g.length,R.g.length),x=[];for(let L=0;L<I;L++)x[L]=this.i(L)&R.i(L);return new h(x,this.h&R.h)},i.or=function(R){const I=Math.max(this.g.length,R.g.length),x=[];for(let L=0;L<I;L++)x[L]=this.i(L)|R.i(L);return new h(x,this.h|R.h)},i.xor=function(R){const I=Math.max(this.g.length,R.g.length),x=[];for(let L=0;L<I;L++)x[L]=this.i(L)^R.i(L);return new h(x,this.h^R.h)};function ne(R){const I=R.g.length+1,x=[];for(let L=0;L<I;L++)x[L]=R.i(L)<<1|R.i(L-1)>>>31;return new h(x,R.h)}function _e(R,I){const x=I>>5;I%=32;const L=R.g.length-x,O=[];for(let V=0;V<L;V++)O[V]=I>0?R.i(V+x)>>>I|R.i(V+x+1)<<32-I:R.i(V+x);return new h(O,R.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,CA=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=v,pa=h}).apply(typeof B0<"u"?B0:typeof self<"u"?self:typeof window<"u"?window:{});var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var OA,$o,DA,yh,$m,MA,LA,VA;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof nh=="object"&&nh];for(var g=0;g<c.length;++g){var E=c[g];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var a=n(this);function l(c,g){if(g)e:{var E=a;c=c.split(".");for(var S=0;S<c.length-1;S++){var j=c[S];if(!(j in E))break e;E=E[j]}c=c[c.length-1],S=E[c],g=g(S),g!=S&&g!=null&&e(E,c,{configurable:!0,writable:!0,value:g})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(g){var E=[],S;for(S in g)Object.prototype.hasOwnProperty.call(g,S)&&E.push([S,g[S]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function p(c,g,E){return c.call.apply(c.bind,arguments)}function y(c,g,E){return y=p,y.apply(null,arguments)}function v(c,g){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function A(c,g){function E(){}E.prototype=g.prototype,c.Z=g.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(S,j,q){for(var re=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)re[xe-2]=arguments[xe];return g.prototype[j].apply(S,re)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function C(c){const g=c.length;if(g>0){const E=Array(g);for(let S=0;S<g;S++)E[S]=c[S];return E}return[]}function P(c,g){for(let S=1;S<arguments.length;S++){const j=arguments[S];var E=typeof j;if(E=E!="object"?E:j?Array.isArray(j)?"array":E:"null",E=="array"||E=="object"&&typeof j.length=="number"){E=c.length||0;const q=j.length||0;c.length=E+q;for(let re=0;re<q;re++)c[E+re]=j[re]}else c.push(j)}}class Q{constructor(g,E){this.i=g,this.j=E,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function F(c){h.setTimeout(()=>{throw c},0)}function ie(){var c=R;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ee{constructor(){this.h=this.g=null}add(g,E){const S=$.get();S.set(g,E),this.h?this.h.next=S:this.g=S,this.h=S}}var $=new Q(()=>new oe,c=>c.reset());class oe{constructor(){this.next=this.g=this.h=null}set(g,E){this.h=g,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,_e=!1,R=new ee,I=()=>{const c=Promise.resolve(void 0);ne=()=>{c.then(x)}};function x(){for(var c;c=ie();){try{c.h.call(c.g)}catch(E){F(E)}var g=$;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}_e=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};h.addEventListener("test",E,g),h.removeEventListener("test",E,g)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function He(c,g){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}A(He,O),He.prototype.init=function(c,g){const E=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(E=="mouseover"?g=c.fromElement:E=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&He.Z.h.call(this)},He.prototype.h=function(){He.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ct="closure_listenable_"+(Math.random()*1e6|0),H=0;function ae(c,g,E,S,j){this.listener=c,this.proxy=null,this.src=g,this.type=E,this.capture=!!S,this.ha=j,this.key=++H,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ke(c,g,E){for(const S in c)g.call(E,c[S],S,c)}function Be(c,g){for(const E in c)g.call(void 0,c[E],E,c)}function M(c){const g={};for(const E in c)g[E]=c[E];return g}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(c,g){let E,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(E in S)c[E]=S[E];for(let q=0;q<J.length;q++)E=J[q],Object.prototype.hasOwnProperty.call(S,E)&&(c[E]=S[E])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,g,E,S,j){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const re=Ae(c,g,S,j);return re>-1?(g=c[re],E||(g.fa=!1)):(g=new ae(g,this.src,q,!!S,j),g.fa=E,c.push(g)),g};function Te(c,g){const E=g.type;if(E in c.g){var S=c.g[E],j=Array.prototype.indexOf.call(S,g,void 0),q;(q=j>=0)&&Array.prototype.splice.call(S,j,1),q&&(pe(g),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Ae(c,g,E,S){for(let j=0;j<c.length;++j){const q=c[j];if(!q.da&&q.listener==g&&q.capture==!!E&&q.ha==S)return j}return-1}var De="closure_lm_"+(Math.random()*1e6|0),ht={};function it(c,g,E,S,j){if(Array.isArray(g)){for(let q=0;q<g.length;q++)it(c,g[q],E,S,j);return null}return E=Sr(E),c&&c[ct]?c.J(g,E,m(S)?!!S.capture:!1,j):Zn(c,g,E,!1,S,j)}function Zn(c,g,E,S,j,q){if(!g)throw Error("Invalid event type");const re=m(j)?!!j.capture:!!j;let xe=ei(c);if(xe||(c[De]=xe=new ce(c)),E=xe.add(g,E,S,re,q),E.proxy)return E;if(S=Dn(),E.proxy=S,S.src=c,S.listener=E,c.addEventListener)V||(j=re),j===void 0&&(j=!1),c.addEventListener(g.toString(),S,j);else if(c.attachEvent)c.attachEvent(Mn(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Dn(){function c(E){return g.call(c.src,c.listener,E)}const g=Ra;return c}function Ai(c,g,E,S,j){if(Array.isArray(g))for(var q=0;q<g.length;q++)Ai(c,g[q],E,S,j);else S=m(S)?!!S.capture:!!S,E=Sr(E),c&&c[ct]?(c=c.i,q=String(g).toString(),q in c.g&&(g=c.g[q],E=Ae(g,E,S,j),E>-1&&(pe(g[E]),Array.prototype.splice.call(g,E,1),g.length==0&&(delete c.g[q],c.h--)))):c&&(c=ei(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Ae(g,E,S,j)),(E=c>-1?g[c]:null)&&En(E))}function En(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ct])Te(g.i,c);else{var E=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(E,S,c.capture):g.detachEvent?g.detachEvent(Mn(E),S):g.addListener&&g.removeListener&&g.removeListener(S),(E=ei(g))?(Te(E,c),E.h==0&&(E.src=null,g[De]=null)):pe(c)}}}function Mn(c){return c in ht?ht[c]:ht[c]="on"+c}function Ra(c,g){if(c.da)c=!0;else{g=new He(g,this);const E=c.listener,S=c.ha||c.src;c.fa&&En(c),c=E.call(S,g)}return c}function ei(c){return c=c[De],c instanceof ce?c:null}var Ln="__closure_events_fn_"+(Math.random()*1e9>>>0);function Sr(c){return typeof c=="function"?c:(c[Ln]||(c[Ln]=function(g){return c.handleEvent(g)}),c[Ln])}function dt(){L.call(this),this.i=new ce(this),this.M=this,this.G=null}A(dt,L),dt.prototype[ct]=!0,dt.prototype.removeEventListener=function(c,g,E,S){Ai(this,c,g,E,S)};function yt(c,g){var E,S=c.G;if(S)for(E=[];S;S=S.G)E.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new O(g,c);else if(g instanceof O)g.target=g.target||c;else{var j=g;g=new O(S,c),le(g,j)}j=!0;let q,re;if(E)for(re=E.length-1;re>=0;re--)q=g.g=E[re],j=ti(q,S,!0,g)&&j;if(q=g.g=c,j=ti(q,S,!0,g)&&j,j=ti(q,S,!1,g)&&j,E)for(re=0;re<E.length;re++)q=g.g=E[re],j=ti(q,S,!1,g)&&j}dt.prototype.N=function(){if(dt.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const E=c.g[g];for(let S=0;S<E.length;S++)pe(E[S]);delete c.g[g],c.h--}}this.G=null},dt.prototype.J=function(c,g,E,S){return this.i.add(String(c),g,!1,E,S)},dt.prototype.K=function(c,g,E,S){return this.i.add(String(c),g,!0,E,S)};function ti(c,g,E,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let j=!0;for(let q=0;q<g.length;++q){const re=g[q];if(re&&!re.da&&re.capture==E){const xe=re.listener,Et=re.ha||re.src;re.fa&&Te(c.i,re),j=xe.call(Et,S)!==!1&&j}}return j&&!S.defaultPrevented}function vs(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:h.setTimeout(c,g||0)}function Na(c){c.g=vs(()=>{c.g=null,c.i&&(c.i=!1,Na(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Ft extends L{constructor(g,E){super(),this.m=g,this.l=E,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Na(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ni(c){L.call(this),this.h=c,this.g={}}A(ni,L);var Ir=[];function xr(c){ke(c.g,function(g,E){this.g.hasOwnProperty(E)&&En(g)},c),c.g={}}ni.prototype.N=function(){ni.Z.N.call(this),xr(this)},ni.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var se=h.JSON.stringify,_t=h.JSON.parse,Vn=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Ts(){}function Nu(){}var ii={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gt(){O.call(this,"d")}A(Gt,O);function Un(){O.call(this,"c")}A(Un,O);var bt={},ku=null;function As(){return ku=ku||new dt}bt.Ia="serverreachability";function Cu(c){O.call(this,bt.Ia,c)}A(Cu,O);function wi(c){const g=As();yt(g,new Cu(g))}bt.STAT_EVENT="statevent";function ka(c,g){O.call(this,bt.STAT_EVENT,c),this.stat=g}A(ka,O);function St(c){const g=As();yt(g,new ka(g,c))}bt.Ja="timingevent";function Si(c,g){O.call(this,bt.Ja,c),this.size=g}A(Si,O);function Ii(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},g)}function ri(){this.g=!0}ri.prototype.ua=function(){this.g=!1};function bd(c,g,E,S,j,q){c.info(function(){if(c.g)if(q){var re="",xe=q.split("&");for(let qe=0;qe<xe.length;qe++){var Et=xe[qe].split("=");if(Et.length>1){const ot=Et[0];Et=Et[1];const Bn=ot.split("_");re=Bn.length>=2&&Bn[1]=="type"?re+(ot+"="+Et+"&"):re+(ot+"=redacted&")}}}else re=null;else re=q;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+g+`
`+E+`
`+re})}function Ou(c,g,E,S,j,q,re){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+g+`
`+E+`
`+q+" "+re})}function xi(c,g,E,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Ed(c,E)+(S?" "+S:"")})}function Ca(c,g){c.info(function(){return"TIMEOUT: "+g})}ri.prototype.info=function(){};function Ed(c,g){if(!c.g)return g;if(!g)return null;try{const q=JSON.parse(g);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var E=q[c];if(!(E.length<2)){var S=E[1];if(Array.isArray(S)&&!(S.length<1)){var j=S[0];if(j!="noop"&&j!="stop"&&j!="close")for(let re=1;re<S.length;re++)S[re]=""}}}}return se(q)}catch{return g}}var Oa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Gl;function Da(){}A(Da,Ts),Da.prototype.g=function(){return new XMLHttpRequest},Gl=new Da;function Zi(c){return encodeURIComponent(String(c))}function Du(c){var g=1;c=c.split(":");const E=[];for(;g>0&&c.length;)E.push(c.shift()),g--;return c.length&&E.push(c.join(":")),E}function ai(c,g,E,S){this.j=c,this.i=g,this.l=E,this.S=S||1,this.V=new ni(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new si}function si(){this.i=null,this.g="",this.h=!1}var It={},jt={};function Ri(c,g,E){c.M=1,c.A=Ma(Rt(g)),c.u=E,c.R=!0,ws(c,null)}function ws(c,g){c.F=Date.now(),Ni(c),c.B=Rt(c.A);var E=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Rs(E.i,"t",S),c.C=0,E=c.j.L,c.h=new si,c.g=Qu(c.j,E?g:null,!c.u),c.P>0&&(c.O=new Ft(y(c.Y,c,c.g),c.P)),g=c.V,E=c.g,S=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(Ir[0]=j.toString()),j=Ir);for(let q=0;q<j.length;q++){const re=it(E,j[q],S||g.handleEvent,!1,g.h||g);if(!re)break;g.g[re.key]=re}g=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),wi(),bd(c.i,c.v,c.B,c.l,c.S,c.u)}ai.prototype.ba=function(c){c=c.target;const g=this.O;g&&ui(c)==3?g.j():this.Y(c)},ai.prototype.Y=function(c){try{if(c==this.g)e:{const xe=ui(this.g),Et=this.g.ya(),qe=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||qt(this.g)))){this.K||xe!=4||Et==7||(Et==8||qe<=0?wi(3):wi(2)),ki(this);var g=this.g.ca();this.X=g;var E=vd(this);if(this.o=g==200,Ou(this.i,this.v,this.B,this.l,this.S,xe,g),this.o){if(this.U&&!this.L){t:{if(this.g){var S,j=this.g;if((S=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(S)){var q=S;break t}}q=null}if(c=q)xi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ci(this,c);else{this.o=!1,this.m=3,St(12),vn(this),Pn(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<E.length;)if(ot=Lu(this,E),ot==jt){xe==4&&(this.m=4,St(14),c=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==It){this.m=4,St(15),xi(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else xi(this.i,this.l,ot,null),Ci(this,ot);if(Mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||E.length!=0||this.h.h||(this.m=1,St(16),c=!1),this.o=this.o&&c,!c)xi(this.i,this.l,E,"[Invalid Chunked Response]"),vn(this),Pn(this);else if(E.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),ao(re),re.P=!0,St(11))}}else xi(this.i,this.l,E,null),Ci(this,E);xe==4&&vn(this),this.o&&!this.K&&(xe==4?Gu(this.j,this):(this.o=!1,Ni(this)))}else tr(this.g),g==400&&E.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),vn(this),Pn(this)}}}catch{}finally{}};function vd(c){if(!Mu(c))return c.g.la();const g=qt(c.g);if(g==="")return"";let E="";const S=g.length,j=ui(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return vn(c),Pn(c),"";c.h.i=new h.TextDecoder}for(let q=0;q<S;q++)c.h.h=!0,E+=c.h.i.decode(g[q],{stream:!(j&&q==S-1)});return g.length=0,c.h.g+=E,c.C=0,c.h.g}function Mu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Lu(c,g){var E=c.C,S=g.indexOf(`
`,E);return S==-1?jt:(E=Number(g.substring(E,S)),isNaN(E)?It:(S+=1,S+E>g.length?jt:(g=g.slice(S,S+E),c.C=S+E,g)))}ai.prototype.cancel=function(){this.K=!0,vn(this)};function Ni(c){c.T=Date.now()+c.H,Ss(c,c.H)}function Ss(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Ii(y(c.aa,c),g)}function ki(c){c.D&&(h.clearTimeout(c.D),c.D=null)}ai.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ca(this.i,this.B),this.M!=2&&(wi(),St(17)),vn(this),this.m=2,Pn(this)):Ss(this,this.T-c)};function Pn(c){c.j.I==0||c.K||Gu(c.j,c)}function vn(c){ki(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,xr(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function Ci(c,g){try{var E=c.j;if(E.I!=0&&(E.g==c||Di(E.h,c))){if(!c.L&&Di(E.h,c)&&E.I==3){try{var S=E.Ba.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)Ds(E),Lr(E);else break e;Ba(E),St(18)}}else E.xa=j[1],0<E.xa-E.K&&j[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ii(y(E.Va,E),6e3));Oi(E.h)<=1&&E.ta&&(E.ta=void 0)}else ji(E,11)}else if((c.L||E.g==c)&&Ds(E),!N(g))for(j=E.Ba.g.parse(g),g=0;g<j.length;g++){let qe=j[g];const ot=qe[0];if(!(ot<=E.K))if(E.K=ot,qe=qe[1],E.I==2)if(qe[0]=="c"){E.M=qe[1],E.ba=qe[2];const Bn=qe[3];Bn!=null&&(E.ka=Bn,E.j.info("VER="+E.ka));const zi=qe[4];zi!=null&&(E.za=zi,E.j.info("SVER="+E.za));const ci=qe[5];ci!=null&&typeof ci=="number"&&ci>0&&(S=1.5*ci,E.O=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const hi=c.g;if(hi){const Ha=hi.g?hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ha){var q=S.h;q.g||Ha.indexOf("spdy")==-1&&Ha.indexOf("quic")==-1&&Ha.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Kl(q,q.h),q.h=null))}if(S.G){const Ms=hi.g?hi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ms&&(S.wa=Ms,Qe(S.J,S.G,Ms))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),S=E;var re=c;if(S.na=Ku(S,S.L?S.ba:null,S.W),re.L){Ql(S.h,re);var xe=re,Et=S.O;Et&&(xe.H=Et),xe.D&&(ki(xe),Ni(xe)),S.g=re}else Hu(S);E.i.length>0&&Pi(E)}else qe[0]!="stop"&&qe[0]!="close"||ji(E,7);else E.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?ji(E,7):io(E):qe[0]!="noop"&&E.l&&E.l.qa(qe),E.A=0)}}wi(4)}catch{}}var xt=class{constructor(c,g){this.g=c,this.map=g}};function ql(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Yl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Oi(c){return c.h?1:c.g?c.g.size:0}function Di(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Kl(c,g){c.g?c.g.add(g):c.h=g}function Ql(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}ql.prototype.cancel=function(){if(this.i=$l(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function $l(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const E of c.g.values())g=g.concat(E.G);return g}return C(c.i)}var Vu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Is(c,g){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const S=c[E].indexOf("=");let j,q=null;S>=0?(j=c[E].substring(0,S),q=c[E].substring(S+1)):j=c[E],g(j,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Tn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof Tn?(this.l=c.l,zt(this,c.j),this.o=c.o,this.g=c.g,Rr(this,c.u),this.h=c.h,Xl(this,zu(c.i)),this.m=c.m):c&&(g=String(c).match(Vu))?(this.l=!1,zt(this,g[1]||"",!0),this.o=Mi(g[2]||""),this.g=Mi(g[3]||"",!0),Rr(this,g[4]),this.h=Mi(g[5]||"",!0),Xl(this,g[6]||"",!0),this.m=Mi(g[7]||"")):(this.l=!1,this.i=new kr(null,this.l))}Tn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(La(g,xs,!0),":");var E=this.g;return(E||g=="file")&&(c.push("//"),(g=this.o)&&c.push(La(g,xs,!0),"@"),c.push(Zi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(La(E,E.charAt(0)=="/"?Jl:Uu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",La(E,Pu)),c.join("")},Tn.prototype.resolve=function(c){const g=Rt(this);let E=!!c.j;E?zt(g,c.j):E=!!c.o,E?g.o=c.o:E=!!c.g,E?g.g=c.g:E=c.u!=null;var S=c.h;if(E)Rr(g,c.u);else if(E=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var j=g.h.lastIndexOf("/");j!=-1&&(S=g.h.slice(0,j+1)+S)}if(j=S,j==".."||j==".")S="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){S=j.lastIndexOf("/",0)==0,j=j.split("/");const q=[];for(let re=0;re<j.length;){const xe=j[re++];xe=="."?S&&re==j.length&&q.push(""):xe==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),S&&re==j.length&&q.push("")):(q.push(xe),S=!0)}S=q.join("/")}else S=j}return E?g.h=S:E=c.i.toString()!=="",E?Xl(g,zu(c.i)):E=!!c.m,E&&(g.m=c.m),g};function Rt(c){return new Tn(c)}function zt(c,g,E){c.j=E?Mi(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Rr(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function Xl(c,g,E){g instanceof kr?(c.i=g,Ns(c.i,c.l)):(E||(g=La(g,Nr)),c.i=new kr(g,c.l))}function Qe(c,g,E){c.i.set(g,E)}function Ma(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Mi(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function La(c,g,E){return typeof c=="string"?(c=encodeURI(c).replace(g,hn),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function hn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var xs=/[#\/\?@]/g,Uu=/[#\?:]/g,Jl=/[#\?]/g,Nr=/[#\?@]/g,Pu=/#/g;function kr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function dn(c){c.g||(c.g=new Map,c.h=0,c.i&&Is(c.i,function(g,E){c.add(decodeURIComponent(g.replace(/\+/g," ")),E)}))}i=kr.prototype,i.add=function(c,g){dn(this),this.i=null,c=Cr(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(g),this.h+=1,this};function ju(c,g){dn(c),g=Cr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Wl(c,g){return dn(c),g=Cr(c,g),c.g.has(g)}i.forEach=function(c,g){dn(this),this.g.forEach(function(E,S){E.forEach(function(j){c.call(g,j,S,this)},this)},this)};function Zl(c,g){dn(c);let E=[];if(typeof g=="string")Wl(c,g)&&(E=E.concat(c.g.get(Cr(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)E=E.concat(c[g]);return E}i.set=function(c,g){return dn(this),this.i=null,c=Cr(this,c),Wl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},i.get=function(c,g){return c?(c=Zl(this,c),c.length>0?String(c[0]):g):g};function Rs(c,g,E){ju(c,g),E.length>0&&(c.i=null,c.g.set(Cr(c,g),C(E)),c.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let S=0;S<g.length;S++){var E=g[S];const j=Zi(E);E=Zl(this,E);for(let q=0;q<E.length;q++){let re=j;E[q]!==""&&(re+="="+Zi(E[q])),c.push(re)}}return this.i=c.join("&")};function zu(c){const g=new kr;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function Cr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Ns(c,g){g&&!c.j&&(dn(c),c.i=null,c.g.forEach(function(E,S){const j=S.toLowerCase();S!=j&&(ju(this,S),Rs(this,j,E))},c)),c.j=g}function li(c,g){const E=new ri;if(h.Image){const S=new Image;S.onload=v(jn,E,"TestLoadImage: loaded",!0,g,S),S.onerror=v(jn,E,"TestLoadImage: error",!1,g,S),S.onabort=v(jn,E,"TestLoadImage: abort",!1,g,S),S.ontimeout=v(jn,E,"TestLoadImage: timeout",!1,g,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function eo(c,g){const E=new ri,S=new AbortController,j=setTimeout(()=>{S.abort(),jn(E,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(q=>{clearTimeout(j),q.ok?jn(E,"TestPingServer: ok",!0,g):jn(E,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),jn(E,"TestPingServer: error",!1,g)})}function jn(c,g,E,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(E)}catch{}}function Or(){this.g=new Vn}function Li(c){this.i=c.Sb||null,this.h=c.ab||!1}A(Li,Ts),Li.prototype.g=function(){return new Va(this.i,this.h)};function Va(c,g){dt.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Va,dt),i=Va.prototype,i.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,oi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||h).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Dr(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ks(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ks(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Dr(this):oi(this),this.readyState==3&&ks(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Dr(this))},i.Na=function(c){this.g&&(this.response=c,Dr(this))},i.ga=function(){this.g&&Dr(this)};function Dr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,oi(c)}i.setRequestHeader=function(c,g){this.A.append(c,g)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var E=g.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=g.next();return c.join(`\r
`)};function oi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Va.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function zn(c){let g="";return ke(c,function(E,S){g+=S,g+=":",g+=E,g+=`\r
`}),g}function Ua(c,g,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=zn(E),typeof c=="string"?E!=null&&Zi(E):Qe(c,g,E))}function Je(c){dt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Je,dt);var Vi=/^https?$/i,to=["POST","PUT"];i=Je.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,g,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Gl.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(q){Pa(this,q);return}if(c=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)E.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())E.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(q=>q.toLowerCase()=="content-type"),j=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(to,g,void 0)>=0)||S||j||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,re]of E)this.g.setRequestHeader(q,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Pa(this,q)}};function Pa(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,no(c),er(c)}function no(c){c.A||(c.A=!0,yt(c,"complete"),yt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,yt(this,"complete"),yt(this,"abort"),er(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),er(this,!0)),Je.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?ja(this):this.Xa())},i.Xa=function(){ja(this)};function ja(c){if(c.h&&typeof u<"u"){if(c.v&&ui(c)==4)setTimeout(c.Ca.bind(c),0);else if(yt(c,"readystatechange"),ui(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var E;if(!(E=g)){var S;if(S=q===0){let re=String(c.D).match(Vu)[1]||null;!re&&h.self&&h.self.location&&(re=h.self.location.protocol.slice(0,-1)),S=!Vi.test(re?re.toLowerCase():"")}E=S}if(E)yt(c,"complete"),yt(c,"success");else{c.o=6;try{var j=ui(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",no(c)}}finally{er(c)}}}}function er(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,g||yt(c,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ui(c){return c.g?c.g.readyState:0}i.ca=function(){try{return ui(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),_t(g)}};function qt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function tr(c){const g={};c=(c.g&&ui(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(N(c[S]))continue;var E=Du(c[S]);const j=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const q=g[j]||[];g[j]=q,q.push(E)}Be(g,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ui(c,g,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||g}function Mr(c){this.za=0,this.i=[],this.j=new ri,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ui("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ui("baseRetryDelayMs",5e3,c),this.Za=Ui("retryDelaySeedMs",1e4,c),this.Ta=Ui("forwardChannelMaxRetries",2,c),this.va=Ui("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ql(c&&c.concurrentRequestLimit),this.Ba=new Or,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Mr.prototype,i.ka=8,i.I=1,i.connect=function(c,g,E,S){St(0),this.W=c,this.H=g||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.J=Ku(this,null,this.W),Pi(this)};function io(c){if(Cs(c),c.I==3){var g=c.V++,E=Rt(c.J);if(Qe(E,"SID",c.M),Qe(E,"RID",g),Qe(E,"TYPE","terminate"),za(c,E),g=new ai(c,c.j,g),g.M=2,g.A=Ma(Rt(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(g.A.toString(),"")}catch{}!E&&h.Image&&(new Image().src=g.A,E=!0),E||(g.g=Qu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),Ni(g)}Yu(c)}function Lr(c){c.g&&(ao(c),c.g.cancel(),c.g=null)}function Cs(c){Lr(c),c.v&&(h.clearTimeout(c.v),c.v=null),Ds(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Pi(c){if(!Yl(c.h)&&!c.m){c.m=!0;var g=c.Ea;ne||I(),_e||(ne(),_e=!0),R.add(g,c),c.D=0}}function Os(c,g){return Oi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Ii(y(c.Ea,c,g),qu(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new ai(this,this.j,c);let q=this.o;if(this.U&&(q?(q=M(q),le(q,this.U)):q=this.U),this.u!==null||this.R||(j.J=q,q=null),this.S)e:{for(var g=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,g>4096){g=E;break e}if(g===4096||E===this.i.length-1){g=E+1;break e}}g=1e3}else g=1e3;g=Bu(this,j,g),E=Rt(this.J),Qe(E,"RID",c),Qe(E,"CVER",22),this.G&&Qe(E,"X-HTTP-Session-Id",this.G),za(this,E),q&&(this.R?g="headers="+Zi(zn(q))+"&"+g:this.u&&Ua(E,this.u,q)),Kl(this.h,j),this.Ra&&Qe(E,"TYPE","init"),this.S?(Qe(E,"$req",g),Qe(E,"SID","null"),j.U=!0,Ri(j,E,null)):Ri(j,E,g),this.I=2}}else this.I==3&&(c?ro(this,c):this.i.length==0||Yl(this.h)||ro(this))};function ro(c,g){var E;g?E=g.l:E=c.V++;const S=Rt(c.J);Qe(S,"SID",c.M),Qe(S,"RID",E),Qe(S,"AID",c.K),za(c,S),c.u&&c.o&&Ua(S,c.u,c.o),E=new ai(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),g&&(c.i=g.G.concat(c.i)),g=Bu(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Kl(c.h,E),Ri(E,S,g)}function za(c,g){c.H&&ke(c.H,function(E,S){Qe(g,S,E)}),c.l&&ke({},function(E,S){Qe(g,S,E)})}function Bu(c,g,E){E=Math.min(c.i.length,E);const S=c.l?y(c.l.Ka,c.l,c):null;e:{var j=c.i;let xe=-1;for(;;){const Et=["count="+E];xe==-1?E>0?(xe=j[0].g,Et.push("ofs="+xe)):xe=0:Et.push("ofs="+xe);let qe=!0;for(let ot=0;ot<E;ot++){var q=j[ot].g;const Bn=j[ot].map;if(q-=xe,q<0)xe=Math.max(0,j[ot].g-100),qe=!1;else try{q="req"+q+"_"||"";try{var re=Bn instanceof Map?Bn:Object.entries(Bn);for(const[zi,ci]of re){let hi=ci;m(ci)&&(hi=se(ci)),Et.push(q+zi+"="+encodeURIComponent(hi))}}catch(zi){throw Et.push(q+"type="+encodeURIComponent("_badmap")),zi}}catch{S&&S(Bn)}}if(qe){re=Et.join("&");break e}}re=void 0}return c=c.i.splice(0,E),g.G=c,re}function Hu(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;ne||I(),_e||(ne(),_e=!0),R.add(g,c),c.A=0}}function Ba(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Ii(y(c.Da,c),qu(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Fu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Ii(y(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),Lr(this),Fu(this))};function ao(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Fu(c){c.g=new ai(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=Rt(c.na);Qe(g,"RID","rpc"),Qe(g,"SID",c.M),Qe(g,"AID",c.K),Qe(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(g,"TO",c.ia),Qe(g,"TYPE","xmlhttp"),za(c,g),c.u&&c.o&&Ua(g,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=Ma(Rt(g)),E.u=null,E.R=!0,ws(E,c)}i.Va=function(){this.C!=null&&(this.C=null,Lr(this),Ba(this),St(19))};function Ds(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Gu(c,g){var E=null;if(c.g==g){Ds(c),ao(c),c.g=null;var S=2}else if(Di(c.h,g))E=g.G,Ql(c.h,g),S=1;else return;if(c.I!=0){if(g.o)if(S==1){E=g.u?g.u.length:0,g=Date.now()-g.F;var j=c.D;S=As(),yt(S,new Si(S,E)),Pi(c)}else Hu(c);else if(j=g.m,j==3||j==0&&g.X>0||!(S==1&&Os(c,g)||S==2&&Ba(c)))switch(E&&E.length>0&&(g=c.h,g.i=g.i.concat(E)),j){case 1:ji(c,5);break;case 4:ji(c,10);break;case 3:ji(c,6);break;default:ji(c,2)}}}function qu(c,g){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*g}function ji(c,g){if(c.j.info("Error code "+g),g==2){var E=y(c.bb,c),S=c.Ua;const j=!S;S=new Tn(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||zt(S,"https"),Ma(S),j?li(S.toString(),E):eo(S.toString(),E)}else St(2);c.I=0,c.l&&c.l.pa(g),Yu(c),Cs(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function Yu(c){if(c.I=0,c.ja=[],c.l){const g=$l(c.h);(g.length!=0||c.i.length!=0)&&(P(c.ja,g),P(c.ja,c.i),c.h.i.length=0,C(c.i),c.i.length=0),c.l.oa()}}function Ku(c,g,E){var S=E instanceof Tn?Rt(E):new Tn(E);if(S.g!="")g&&(S.g=g+"."+S.g),Rr(S,S.u);else{var j=h.location;S=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;const q=new Tn(null);S&&zt(q,S),g&&(q.g=g),j&&Rr(q,j),E&&(q.h=E),S=q}return E=c.G,g=c.wa,E&&g&&Qe(S,E,g),Qe(S,"VER",c.ka),za(c,S),S}function Qu(c,g,E){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new Je(new Li({ab:E})):new Je(c.ma),g.Fa(c.L),g}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function $u(){}i=$u.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Vr(){}Vr.prototype.g=function(c,g){return new sn(c,g)};function sn(c,g){dt.call(this),this.g=new Mr(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!N(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!N(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new nr(this)}A(sn,dt),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){io(this.g)},sn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=se(c),c=E);g.i.push(new xt(g.Ya++,c)),g.I==3&&Pi(g)},sn.prototype.N=function(){this.g.l=null,delete this.j,io(this.g),delete this.g,sn.Z.N.call(this)};function Xu(c){Gt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const E in g){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}A(Xu,Gt);function Ju(){Un.call(this),this.status=1}A(Ju,Un);function nr(c){this.g=c}A(nr,$u),nr.prototype.ra=function(){yt(this.g,"a")},nr.prototype.qa=function(c){yt(this.g,new Xu(c))},nr.prototype.pa=function(c){yt(this.g,new Ju)},nr.prototype.oa=function(){yt(this.g,"b")},Vr.prototype.createWebChannel=Vr.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,VA=function(){return new Vr},LA=function(){return As()},MA=bt,$m={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Oa.NO_ERROR=0,Oa.TIMEOUT=8,Oa.HTTP_ERROR=6,yh=Oa,Fl.COMPLETE="complete",DA=Fl,Nu.EventType=ii,ii.OPEN="a",ii.CLOSE="b",ii.ERROR="c",ii.MESSAGE="d",dt.prototype.listen=dt.prototype.J,$o=Nu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,OA=Je}).apply(typeof nh<"u"?nh:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pl="12.8.0";function Y2(i){Pl=i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new $h("@firebase/firestore");function cl(){return fs.logLevel}function de(i,...e){if(fs.logLevel<=Ve.DEBUG){const n=e.map(Vp);fs.debug(`Firestore (${Pl}): ${i}`,...n)}}function Ar(i,...e){if(fs.logLevel<=Ve.ERROR){const n=e.map(Vp);fs.error(`Firestore (${Pl}): ${i}`,...n)}}function Il(i,...e){if(fs.logLevel<=Ve.WARN){const n=e.map(Vp);fs.warn(`Firestore (${Pl}): ${i}`,...n)}}function Vp(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(i,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,UA(i,a,n)}function UA(i,e,n){let a=`FIRESTORE (${Pl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Ar(a),new Error(a)}function Ke(i,e,n,a){let l="Unexpected state";typeof n=="string"?l=n:a=n,i||UA(e,l,a)}function Ie(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ti{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class K2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(nn.UNAUTHENTICATED)))}shutdown(){}}class Q2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class $2{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let a=this.i;const l=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let u=new os;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new os,e.enqueueRetryable((()=>l(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},m=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new os)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ke(typeof a.accessToken=="string",31837,{l:a}),new PA(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class X2{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class J2{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new X2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class H0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const a=u=>{u.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,de("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const l=u=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new H0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new H0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<i;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=Z2(40);for(let u=0;u<l.length;++u)a.length<20&&l[u]<n&&(a+=e.charAt(l[u]%62))}return a}}function Ue(i,e){return i<e?-1:i>e?1:0}function Xm(i,e){const n=Math.min(i.length,e.length);for(let a=0;a<n;a++){const l=i.charAt(a),u=e.charAt(a);if(l!==u)return Om(l)===Om(u)?Ue(l,u):Om(l)?1:-1}return Ue(i.length,e.length)}const eO=55296,tO=57343;function Om(i){const e=i.charCodeAt(0);return e>=eO&&e<=tO}function xl(i,e,n){return i.length===e.length&&i.every(((a,l)=>n(a,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="__name__";class qi{constructor(e,n,a){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&ve(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return qi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qi?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let l=0;l<a;l++){const u=qi.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return Ue(e.length,n.length)}static compareSegments(e,n){const a=qi.isNumericId(e),l=qi.isNumericId(n);return a&&!l?-1:!a&&l?1:a&&l?qi.extractNumericId(e).compare(qi.extractNumericId(n)):Xm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pa.fromString(e.substring(4,e.length-2))}}class rt extends qi{construct(e,n,a){return new rt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new he(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((l=>l.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const nO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends qi{construct(e,n,a){return new Jt(e,n,a)}static isValidIdentifier(e){return nO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===F0}static keyField(){return new Jt([F0])}static fromServerFormat(e){const n=[];let a="",l=0;const u=()=>{if(a.length===0)throw new he(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let h=!1;for(;l<e.length;){const m=e[l];if(m==="\\"){if(l+1===e.length)throw new he(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,l+=2}else m==="`"?(h=!h,l++):m!=="."||h?(a+=m,l++):(u(),l++)}if(u(),h)throw new he(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(rt.fromString(e))}static fromName(e){return new ye(rt.fromString(e).popFirst(5))}static empty(){return new ye(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(i,e,n){if(!n)throw new he(Z.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function iO(i,e,n,a){if(e===!0&&a===!0)throw new he(Z.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function G0(i){if(!ye.isDocumentKey(i))throw new he(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function q0(i){if(ye.isDocumentKey(i))throw new he(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function zA(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function nd(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ve(12329,{type:typeof i})}function ga(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nd(i);throw new he(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Au(i,e){if(!zA(i))throw new he(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const l=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in i)){n=`JSON missing required field: '${a}'`;break}const h=i[a];if(l&&typeof h!==l){n=`JSON field '${a}' must be a ${l}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new he(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=-62135596800,K0=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*K0);return new lt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Y0)throw new he(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/K0}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Au(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Y0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Lt("string",lt._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new lt(0,0))}static max(){return new we(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=-1;function rO(i,e){const n=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,l=we.fromTimestamp(a===1e9?new lt(n+1,0):new lt(n,a));return new ba(l,ye.empty(),e)}function aO(i){return new ba(i.readTime,i.key,du)}class ba{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new ba(we.min(),ye.empty(),du)}static max(){return new ba(we.max(),ye.empty(),du)}}function sO(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(i.documentKey,e.documentKey),n!==0?n:Ue(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(i){if(i.code!==Z.FAILED_PRECONDITION||i.message!==lO)throw i;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((a,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,a)=>{n(e)}))}static reject(e){return new te(((n,a)=>{a(e)}))}static waitFor(e){return new te(((n,a)=>{let l=0,u=0,h=!1;e.forEach((m=>{++l,m.next((()=>{++u,h&&u===l&&n()}),(p=>a(p)))})),h=!0,u===l&&n()}))}static or(e){let n=te.resolve(!1);for(const a of e)n=n.next((l=>l?te.resolve(l):a()));return n}static forEach(e,n){const a=[];return e.forEach(((l,u)=>{a.push(n.call(this,l,u))})),this.waitFor(a)}static mapArray(e,n){return new te(((a,l)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next((v=>{h[y]=v,++m,m===u&&a(h)}),(v=>l(v)))}}))}static doWhile(e,n){return new te(((a,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):a()};u()}))}}function uO(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zl(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}id.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp=-1;function rd(i){return i==null}function Dh(i){return i===0&&1/i==-1/0}function cO(i){return typeof i=="number"&&Number.isInteger(i)&&!Dh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="";function hO(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Q0(e)),e=dO(i.get(n),e);return Q0(e)}function dO(i,e){let n=e;const a=i.length;for(let l=0;l<a;l++){const u=i.charAt(l);switch(u){case"\0":n+="";break;case BA:n+="";break;default:n+=u}}return n}function Q0(i){return i+BA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ia(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function HA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){this.comparator=e,this.root=n||Xt.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return n+a.left.size;l<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ih(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ih(this.root,e,this.comparator,!1)}getReverseIterator(){return new ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ih(this.root,e,this.comparator,!0)}}class ih{constructor(e,n,a,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,n,a,l,u){this.key=e,this.value=n,this.color=a??Xt.RED,this.left=l??Xt.EMPTY,this.right=u??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,l,u){return new Xt(e??this.key,n??this.value,a??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let l=this;const u=a(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,a),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Xt.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,a,l,u){return this}insert(e,n,a){return new Xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new X0(this.data.getIterator())}getIteratorFrom(e){return new X0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=a.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class X0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Pt(Jt.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xl(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new FA("Invalid base64 string: "+u):u}})(e);return new Wt(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let h=0;h<l.length;++h)u+=String.fromCharCode(l[h]);return u})(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const fO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ea(i){if(Ke(!!i,39018),typeof i=="string"){let e=0;const n=fO.exec(i);if(Ke(!!n,46558,{timestamp:i}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:At(i.seconds),nanos:At(i.nanos)}}function At(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function va(i){return typeof i=="string"?Wt.fromBase64String(i):Wt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="server_timestamp",qA="__type__",YA="__previous_value__",KA="__local_write_time__";function jp(i){var n,a;return((a=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[qA])==null?void 0:a.stringValue)===GA}function ad(i){const e=i.mapValue.fields[YA];return jp(e)?ad(e):e}function fu(i){const e=Ea(i.mapValue.fields[KA].timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,n,a,l,u,h,m,p,y,v,A){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=l,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=v,this.apiKey=A}}const Mh="(default)";class mu{constructor(e,n){this.projectId=e,this.database=n||Mh}static empty(){return new mu("","")}get isDefaultDatabase(){return this.database===Mh}isEqual(e){return e instanceof mu&&e.projectId===this.projectId&&e.database===this.database}}function pO(i,e){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new he(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mu(i.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="__type__",gO="__max__",rh={mapValue:{}},$A="__vector__",Lh="value";function Ta(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?jp(i)?4:_O(i)?9007199254740991:yO(i)?10:11:ve(28295,{value:i})}function Wi(i,e){if(i===e)return!0;const n=Ta(i);if(n!==Ta(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return fu(i).isEqual(fu(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const h=Ea(l.timestampValue),m=Ea(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(l,u){return va(l.bytesValue).isEqual(va(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(l,u){return At(l.geoPointValue.latitude)===At(u.geoPointValue.latitude)&&At(l.geoPointValue.longitude)===At(u.geoPointValue.longitude)})(i,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return At(l.integerValue)===At(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const h=At(l.doubleValue),m=At(u.doubleValue);return h===m?Dh(h)===Dh(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return xl(i.arrayValue.values||[],e.arrayValue.values||[],Wi);case 10:case 11:return(function(l,u){const h=l.mapValue.fields||{},m=u.mapValue.fields||{};if($0(h)!==$0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Wi(h[p],m[p])))return!1;return!0})(i,e);default:return ve(52216,{left:i})}}function pu(i,e){return(i.values||[]).find((n=>Wi(n,e)))!==void 0}function Rl(i,e){if(i===e)return 0;const n=Ta(i),a=Ta(e);if(n!==a)return Ue(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=At(u.integerValue||u.doubleValue),p=At(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return J0(i.timestampValue,e.timestampValue);case 4:return J0(fu(i),fu(e));case 5:return Xm(i.stringValue,e.stringValue);case 6:return(function(u,h){const m=va(u),p=va(h);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let y=0;y<m.length&&y<p.length;y++){const v=Ue(m[y],p[y]);if(v!==0)return v}return Ue(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Ue(At(u.latitude),At(h.latitude));return m!==0?m:Ue(At(u.longitude),At(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return W0(i.arrayValue,e.arrayValue);case 10:return(function(u,h){var w,C,P,Q;const m=u.fields||{},p=h.fields||{},y=(w=m[Lh])==null?void 0:w.arrayValue,v=(C=p[Lh])==null?void 0:C.arrayValue,A=Ue(((P=y==null?void 0:y.values)==null?void 0:P.length)||0,((Q=v==null?void 0:v.values)==null?void 0:Q.length)||0);return A!==0?A:W0(y,v)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===rh.mapValue&&h===rh.mapValue)return 0;if(u===rh.mapValue)return 1;if(h===rh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=h.fields||{},v=Object.keys(y);p.sort(),v.sort();for(let A=0;A<p.length&&A<v.length;++A){const w=Xm(p[A],v[A]);if(w!==0)return w;const C=Rl(m[p[A]],y[v[A]]);if(C!==0)return C}return Ue(p.length,v.length)})(i.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function J0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ue(i,e);const n=Ea(i),a=Ea(e),l=Ue(n.seconds,a.seconds);return l!==0?l:Ue(n.nanos,a.nanos)}function W0(i,e){const n=i.values||[],a=e.values||[];for(let l=0;l<n.length&&l<a.length;++l){const u=Rl(n[l],a[l]);if(u)return u}return Ue(n.length,a.length)}function Nl(i){return Jm(i)}function Jm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const a=Ea(n);return`time(${a.seconds},${a.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return va(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return ye.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let a="[",l=!0;for(const u of n.values||[])l?l=!1:a+=",",a+=Jm(u);return a+"]"})(i.arrayValue):"mapValue"in i?(function(n){const a=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const h of a)u?u=!1:l+=",",l+=`${h}:${Jm(n.fields[h])}`;return l+"}"})(i.mapValue):ve(61005,{value:i})}function _h(i){switch(Ta(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ad(i);return e?16+_h(e):16;case 5:return 2*i.stringValue.length;case 6:return va(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,u)=>l+_h(u)),0)})(i.arrayValue);case 10:case 11:return(function(a){let l=0;return Ia(a.fields,((u,h)=>{l+=u.length+_h(h)})),l})(i.mapValue);default:throw ve(13486,{value:i})}}function Z0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Wm(i){return!!i&&"integerValue"in i}function zp(i){return!!i&&"arrayValue"in i}function eE(i){return!!i&&"nullValue"in i}function tE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function bh(i){return!!i&&"mapValue"in i}function yO(i){var n,a;return((a=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[QA])==null?void 0:a.stringValue)===$A}function ru(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Ia(i.mapValue.fields,((n,a)=>e.mapValue.fields[n]=ru(a))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ru(i.arrayValue.values[n]);return e}return{...i}}function _O(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===gO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!bh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ru(n)}setAll(e){let n=Jt.emptyPath(),a={},l=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,a,l),a={},l=[],n=m.popLast()}h?a[m.lastSegment()]=ru(h):l.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,a,l)}delete(e){const n=this.field(e.popLast());bh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=n.mapValue.fields[e.get(a)];bh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,a){Ia(n,((l,u)=>e[l]=u));for(const l of a)delete e[l]}clone(){return new bn(ru(this.value))}}function XA(i){const e=[];return Ia(i.fields,((n,a)=>{const l=new Jt([n]);if(bh(a)){const u=XA(a.mapValue).fields;if(u.length===0)e.push(l);else for(const h of u)e.push(l.child(h))}else e.push(l)})),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n,a,l,u,h,m){this.key=e,this.documentType=n,this.version=a,this.readTime=l,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new rn(e,0,we.min(),we.min(),we.min(),bn.empty(),0)}static newFoundDocument(e,n,a,l){return new rn(e,1,n,we.min(),a,l,0)}static newNoDocument(e,n){return new rn(e,2,n,we.min(),we.min(),bn.empty(),0)}static newUnknownDocument(e,n){return new rn(e,3,n,we.min(),we.min(),bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n){this.position=e,this.inclusive=n}}function nE(i,e,n){let a=0;for(let l=0;l<i.position.length;l++){const u=e[l],h=i.position[l];if(u.field.isKeyField()?a=ye.comparator(ye.fromName(h.referenceValue),n.key):a=Rl(h,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function iE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Wi(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n="asc"){this.field=e,this.dir=n}}function bO(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{}class Mt extends JA{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new vO(e,n,a):n==="array-contains"?new wO(e,a):n==="in"?new SO(e,a):n==="not-in"?new IO(e,a):n==="array-contains-any"?new xO(e,a):new Mt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new TO(e,a):new AO(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Rl(n,this.value)):n!==null&&Ta(this.value)===Ta(n)&&this.matchesComparison(Rl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends JA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new vi(e,n)}matches(e){return WA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function WA(i){return i.op==="and"}function ZA(i){return EO(i)&&WA(i)}function EO(i){for(const e of i.filters)if(e instanceof vi)return!1;return!0}function Zm(i){if(i instanceof Mt)return i.field.canonicalString()+i.op.toString()+Nl(i.value);if(ZA(i))return i.filters.map((e=>Zm(e))).join(",");{const e=i.filters.map((n=>Zm(n))).join(",");return`${i.op}(${e})`}}function ew(i,e){return i instanceof Mt?(function(a,l){return l instanceof Mt&&a.op===l.op&&a.field.isEqual(l.field)&&Wi(a.value,l.value)})(i,e):i instanceof vi?(function(a,l){return l instanceof vi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((u,h,m)=>u&&ew(h,l.filters[m])),!0):!1})(i,e):void ve(19439)}function tw(i){return i instanceof Mt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Nl(n.value)}`})(i):i instanceof vi?(function(n){return n.op.toString()+" {"+n.getFilters().map(tw).join(" ,")+"}"})(i):"Filter"}class vO extends Mt{constructor(e,n,a){super(e,n,a),this.key=ye.fromName(a.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class TO extends Mt{constructor(e,n){super(e,"in",n),this.keys=nw("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class AO extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=nw("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function nw(i,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((a=>ye.fromName(a.referenceValue)))}class wO extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zp(n)&&pu(n.arrayValue,this.value)}}class SO extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pu(this.value.arrayValue,n)}}class IO extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!pu(this.value.arrayValue,n)}}class xO extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>pu(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,n=null,a=[],l=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=l,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function rE(i,e=null,n=[],a=[],l=null,u=null,h=null){return new RO(i,e,n,a,l,u,h)}function Bp(i){const e=Ie(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>Zm(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),rd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>Nl(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>Nl(a))).join(",")),e.Te=n}return e.Te}function Hp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!bO(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!ew(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!iE(i.startAt,e.startAt)&&iE(i.endAt,e.endAt)}function ep(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n=null,a=[],l=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=l,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function NO(i,e,n,a,l,u,h,m){return new Bl(i,e,n,a,l,u,h,m)}function Fp(i){return new Bl(i)}function aE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function kO(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function iw(i){return i.collectionGroup!==null}function au(i){const e=Ie(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Pt(Jt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new gu(u,a))})),n.has(Jt.keyField().canonicalString())||e.Ie.push(new gu(Jt.keyField(),a))}return e.Ie}function Qi(i){const e=Ie(i);return e.Ee||(e.Ee=CO(e,au(i))),e.Ee}function CO(i,e){if(i.limitType==="F")return rE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new gu(l.field,u)}));const n=i.endAt?new Vh(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new Vh(i.startAt.position,i.startAt.inclusive):null;return rE(i.path,i.collectionGroup,e,i.filters,i.limit,n,a)}}function tp(i,e){const n=i.filters.concat([e]);return new Bl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function OO(i,e){const n=i.explicitOrderBy.concat([e]);return new Bl(i.path,i.collectionGroup,n,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}function np(i,e,n){return new Bl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function sd(i,e){return Hp(Qi(i),Qi(e))&&i.limitType===e.limitType}function rw(i){return`${Bp(Qi(i))}|lt:${i.limitType}`}function hl(i){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((l=>tw(l))).join(", ")}]`),rd(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((l=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(l))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((l=>Nl(l))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((l=>Nl(l))).join(",")),`Target(${a})`})(Qi(i))}; limitType=${i.limitType})`}function ld(i,e){return e.isFoundDocument()&&(function(a,l){const u=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):ye.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(i,e)&&(function(a,l){for(const u of au(a))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(a,l){for(const u of a.filters)if(!u.matches(l))return!1;return!0})(i,e)&&(function(a,l){return!(a.startAt&&!(function(h,m,p){const y=nE(h,m,p);return h.inclusive?y<=0:y<0})(a.startAt,au(a),l)||a.endAt&&!(function(h,m,p){const y=nE(h,m,p);return h.inclusive?y>=0:y>0})(a.endAt,au(a),l))})(i,e)}function DO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function aw(i){return(e,n)=>{let a=!1;for(const l of au(i)){const u=MO(l,e,n);if(u!==0)return u;a=a||l.field.isKeyField()}return 0}}function MO(i,e,n){const a=i.field.isKeyField()?ye.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),y=m.data.field(u);return p!==null&&y!==null?Rl(p,y):ve(42886)})(i.field,e,n);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return ve(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[l,u]of a)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[n]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ia(this.inner,((n,a)=>{for(const[l,u]of a)e(l,u)}))}isEmpty(){return HA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=new mt(ye.comparator);function wr(){return LO}const sw=new mt(ye.comparator);function Xo(...i){let e=sw;for(const n of i)e=e.insert(n.key,n);return e}function lw(i){let e=sw;return i.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function ls(){return su()}function ow(){return su()}function su(){return new _s((i=>i.toString()),((i,e)=>i.isEqual(e)))}const VO=new mt(ye.comparator),UO=new Pt(ye.comparator);function Pe(...i){let e=UO;for(const n of i)e=e.add(n);return e}const PO=new Pt(Ue);function jO(){return PO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dh(e)?"-0":e}}function uw(i){return{integerValue:""+i}}function zO(i,e){return cO(e)?uw(e):Gp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(){this._=void 0}}function BO(i,e,n){return i instanceof Uh?(function(l,u){const h={fields:{[qA]:{stringValue:GA},[KA]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&jp(u)&&(u=ad(u)),u&&(h.fields[YA]=u),{mapValue:h}})(n,e):i instanceof yu?hw(i,e):i instanceof _u?dw(i,e):(function(l,u){const h=cw(l,u),m=sE(h)+sE(l.Ae);return Wm(h)&&Wm(l.Ae)?uw(m):Gp(l.serializer,m)})(i,e)}function HO(i,e,n){return i instanceof yu?hw(i,e):i instanceof _u?dw(i,e):n}function cw(i,e){return i instanceof Ph?(function(a){return Wm(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class Uh extends od{}class yu extends od{constructor(e){super(),this.elements=e}}function hw(i,e){const n=fw(e);for(const a of i.elements)n.some((l=>Wi(l,a)))||n.push(a);return{arrayValue:{values:n}}}class _u extends od{constructor(e){super(),this.elements=e}}function dw(i,e){let n=fw(e);for(const a of i.elements)n=n.filter((l=>!Wi(l,a)));return{arrayValue:{values:n}}}class Ph extends od{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function sE(i){return At(i.integerValue||i.doubleValue)}function fw(i){return zp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function FO(i,e){return i.field.isEqual(e.field)&&(function(a,l){return a instanceof yu&&l instanceof yu||a instanceof _u&&l instanceof _u?xl(a.elements,l.elements,Wi):a instanceof Ph&&l instanceof Ph?Wi(a.Ae,l.Ae):a instanceof Uh&&l instanceof Uh})(i.transform,e.transform)}class GO{constructor(e,n){this.version=e,this.transformResults=n}}class yi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yi}static exists(e){return new yi(void 0,e)}static updateTime(e){return new yi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class ud{}function mw(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new qp(i.key,yi.none()):new wu(i.key,i.data,yi.none());{const n=i.data,a=bn.empty();let l=new Pt(Jt.comparator);for(let u of e.fields)if(!l.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?a.delete(u):a.set(u,h),l=l.add(u)}return new xa(i.key,a,new Cn(l.toArray()),yi.none())}}function qO(i,e,n){i instanceof wu?(function(l,u,h){const m=l.value.clone(),p=oE(l.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):i instanceof xa?(function(l,u,h){if(!Eh(l.precondition,u))return void u.convertToUnknownDocument(h.version);const m=oE(l.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(pw(l)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,n):(function(l,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function lu(i,e,n,a){return i instanceof wu?(function(u,h,m,p){if(!Eh(u.precondition,h))return m;const y=u.value.clone(),v=uE(u.fieldTransforms,p,h);return y.setAll(v),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(i,e,n,a):i instanceof xa?(function(u,h,m,p){if(!Eh(u.precondition,h))return m;const y=uE(u.fieldTransforms,p,h),v=h.data;return v.setAll(pw(u)),v.setAll(y),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(i,e,n,a):(function(u,h,m){return Eh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,n)}function YO(i,e){let n=null;for(const a of i.fieldTransforms){const l=e.data.field(a.field),u=cw(a.transform,l||null);u!=null&&(n===null&&(n=bn.empty()),n.set(a.field,u))}return n||null}function lE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&xl(a,l,((u,h)=>FO(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class wu extends ud{constructor(e,n,a,l=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class xa extends ud{constructor(e,n,a,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function pw(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=i.data.field(n);e.set(n,a)}})),e}function oE(i,e,n){const a=new Map;Ke(i.length===n.length,32656,{Ve:n.length,de:i.length});for(let l=0;l<n.length;l++){const u=i[l],h=u.transform,m=e.data.field(u.field);a.set(u.field,HO(h,m,n[l]))}return a}function uE(i,e,n){const a=new Map;for(const l of i){const u=l.transform,h=n.data.field(l.field);a.set(l.field,BO(u,h,e))}return a}class qp extends ud{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KO extends ud{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,n,a,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&qO(u,e,a[l])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=lu(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=lu(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=ow();return this.mutations.forEach((l=>{const u=e.get(l.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(l.key)?null:m;const p=mw(h,m);p!==null&&a.set(l.key,p),h.isValidDocument()||h.convertToNoDocument(we.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&xl(this.mutations,e.mutations,((n,a)=>lE(n,a)))&&xl(this.baseMutations,e.baseMutations,((n,a)=>lE(n,a)))}}class Yp{constructor(e,n,a,l){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=l}static from(e,n,a){Ke(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return VO})();const u=e.mutations;for(let h=0;h<u.length;h++)l=l.insert(u[h].key,a[h].version);return new Yp(e,n,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,ze;function JO(i){switch(i){case Z.OK:return ve(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return ve(15467,{code:i})}}function gw(i){if(i===void 0)return Ar("GRPC error has no .code"),Z.UNKNOWN;switch(i){case Dt.OK:return Z.OK;case Dt.CANCELLED:return Z.CANCELLED;case Dt.UNKNOWN:return Z.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return Z.INTERNAL;case Dt.UNAVAILABLE:return Z.UNAVAILABLE;case Dt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Dt.NOT_FOUND:return Z.NOT_FOUND;case Dt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Dt.ABORTED:return Z.ABORTED;case Dt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Dt.DATA_LOSS:return Z.DATA_LOSS;default:return ve(39323,{code:i})}}(ze=Dt||(Dt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=new pa([4294967295,4294967295],0);function cE(i){const e=WO().encode(i),n=new CA;return n.update(e),new Uint8Array(n.digest())}function hE(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new pa([n,a],0),new pa([l,u],0)]}class Kp{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Jo(`Invalid padding: ${n}`);if(a<0)throw new Jo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Jo(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Jo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=pa.fromNumber(this.ge)}ye(e,n,a){let l=e.add(n.multiply(pa.fromNumber(a)));return l.compare(ZO)===1&&(l=new pa([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=cE(e),[a,l]=hE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(a,l,u);if(!this.we(h))return!1}return!0}static create(e,n,a){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Kp(u,l,n);return a.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=cE(e),[a,l]=hE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(a,l,u);this.be(h)}}be(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Jo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n,a,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const l=new Map;return l.set(e,Su.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new cd(we.min(),l,new mt(Ue),wr(),Pe())}}class Su{constructor(e,n,a,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Su(a,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n,a,l){this.Se=e,this.removedTargetIds=n,this.key=a,this.De=l}}class yw{constructor(e,n){this.targetId=e,this.Ce=n}}class _w{constructor(e,n,a=Wt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=l}}class dE{constructor(){this.ve=0,this.Fe=fE(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),a=Pe();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:a=a.add(l);break;default:ve(38017,{changeType:u})}})),new Su(this.Me,this.xe,e,n,a)}Ke(){this.Oe=!1,this.Fe=fE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class eD{constructor(e){this.Ge=e,this.ze=new Map,this.je=wr(),this.He=ah(),this.Je=ah(),this.Ze=new mt(Ue)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,a=e.Ce.count,l=this.ot(n);if(l){const u=l.target;if(ep(u))if(a===0){const h=new ye(u.path);this.et(n,h,rn.newNoDocument(h,we.min()))}else Ke(a===1,20013,{expectedCount:a});else{const h=this._t(n);if(h!==a){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:u=0}=n;let h,m;try{h=va(a).toUint8Array()}catch(p){if(p instanceof FA)return Il("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Kp(h,l,u)}catch(p){return Il(p instanceof Jo?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let l=0;return a.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&ep(m.target)){const p=new ye(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,rn.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.Ke())}}));let a=Pe();this.Je.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(a=a.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const l=new cd(e,n,this.Ze,this.je,a);return this.je=wr(),this.He=ah(),this.Je=ah(),this.Ze=new mt(Ue),l}Ye(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,a),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.qe(n,1):l.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new dE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Pt(Ue),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Pt(Ue),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new dE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ah(){return new mt(ye.comparator)}function fE(){return new mt(ye.comparator)}const tD={asc:"ASCENDING",desc:"DESCENDING"},nD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iD={and:"AND",or:"OR"};class rD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ip(i,e){return i.useProto3Json||rd(e)?e:{value:e}}function jh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bw(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function aD(i,e){return jh(i,e.toTimestamp())}function $i(i){return Ke(!!i,49232),we.fromTimestamp((function(n){const a=Ea(n);return new lt(a.seconds,a.nanos)})(i))}function Qp(i,e){return rp(i,e).canonicalString()}function rp(i,e){const n=(function(l){return new rt(["projects",l.projectId,"databases",l.database])})(i).child("documents");return e===void 0?n:n.child(e)}function Ew(i){const e=rt.fromString(i);return Ke(Sw(e),10190,{key:e.toString()}),e}function ap(i,e){return Qp(i.databaseId,e.path)}function Dm(i,e){const n=Ew(e);if(n.get(1)!==i.databaseId.projectId)throw new he(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new he(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ye(Tw(n))}function vw(i,e){return Qp(i.databaseId,e)}function sD(i){const e=Ew(i);return e.length===4?rt.emptyPath():Tw(e)}function sp(i){return new rt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Tw(i){return Ke(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function mE(i,e,n){return{name:ap(i,e),fields:n.value.mapValue.fields}}function lD(i,e){let n;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ve(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(y,v){return y.useProto3Json?(Ke(v===void 0||typeof v=="string",58123),Wt.fromBase64String(v||"")):(Ke(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Wt.fromUint8Array(v||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(y){const v=y.code===void 0?Z.UNKNOWN:gw(y.code);return new he(v,y.message||"")})(h);n=new _w(a,l,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Dm(i,a.document.name),u=$i(a.document.updateTime),h=a.document.createTime?$i(a.document.createTime):we.min(),m=new bn({mapValue:{fields:a.document.fields}}),p=rn.newFoundDocument(l,u,h,m),y=a.targetIds||[],v=a.removedTargetIds||[];n=new vh(y,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Dm(i,a.document),u=a.readTime?$i(a.readTime):we.min(),h=rn.newNoDocument(l,u),m=a.removedTargetIds||[];n=new vh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Dm(i,a.document),u=a.removedTargetIds||[];n=new vh([],u,l,null)}else{if(!("filter"in e))return ve(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:u}=a,h=new XO(l,u),m=a.targetId;n=new yw(m,h)}}return n}function oD(i,e){let n;if(e instanceof wu)n={update:mE(i,e.key,e.value)};else if(e instanceof qp)n={delete:ap(i,e.key)};else if(e instanceof xa)n={update:mE(i,e.key,e.data),updateMask:yD(e.fieldMask)};else{if(!(e instanceof KO))return ve(16599,{dt:e.type});n={verify:ap(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(u,h){const m=h.transform;if(m instanceof Uh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof yu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof _u)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ph)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw ve(20930,{transform:h.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:aD(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve(27497)})(i,e.precondition)),n}function uD(i,e){return i&&i.length>0?(Ke(e!==void 0,14353),i.map((n=>(function(l,u){let h=l.updateTime?$i(l.updateTime):$i(u);return h.isEqual(we.min())&&(h=$i(u)),new GO(h,l.transformResults||[])})(n,e)))):[]}function cD(i,e){return{documents:[vw(i,e.path)]}}function hD(i,e){const n={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=vw(i,l);const u=(function(y){if(y.length!==0)return ww(vi.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(y){if(y.length!==0)return y.map((v=>(function(w){return{field:dl(w.field),direction:mD(w.dir)}})(v)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=ip(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:l}}function dD(i){let e=sD(i.parent);const n=i.structuredQuery,a=n.from?n.from.length:0;let l=null;if(a>0){Ke(a===1,65062);const v=n.from[0];v.allDescendants?l=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=(function(A){const w=Aw(A);return w instanceof vi&&ZA(w)?w.getFilters():[w]})(n.where));let h=[];n.orderBy&&(h=(function(A){return A.map((w=>(function(P){return new gu(fl(P.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(A){let w;return w=typeof A=="object"?A.value:A,rd(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(A){const w=!!A.before,C=A.values||[];return new Vh(C,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(A){const w=!A.before,C=A.values||[];return new Vh(C,w)})(n.endAt)),NO(e,l,h,u,m,"F",p,y)}function fD(i,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Aw(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=fl(n.unaryFilter.field);return Mt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=fl(n.unaryFilter.field);return Mt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=fl(n.unaryFilter.field);return Mt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=fl(n.unaryFilter.field);return Mt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Mt.create(fl(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return vi.create(n.compositeFilter.filters.map((a=>Aw(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(n.compositeFilter.op))})(i):ve(30097,{filter:i})}function mD(i){return tD[i]}function pD(i){return nD[i]}function gD(i){return iD[i]}function dl(i){return{fieldPath:i.canonicalString()}}function fl(i){return Jt.fromServerFormat(i.fieldPath)}function ww(i){return i instanceof Mt?(function(n){if(n.op==="=="){if(tE(n.value))return{unaryFilter:{field:dl(n.field),op:"IS_NAN"}};if(eE(n.value))return{unaryFilter:{field:dl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(tE(n.value))return{unaryFilter:{field:dl(n.field),op:"IS_NOT_NAN"}};if(eE(n.value))return{unaryFilter:{field:dl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dl(n.field),op:pD(n.op),value:n.value}}})(i):i instanceof vi?(function(n){const a=n.getFilters().map((l=>ww(l)));return a.length===1?a[0]:{compositeFilter:{op:gD(n.op),filters:a}}})(i):ve(54877,{filter:i})}function yD(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Sw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function Iw(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n,a,l,u=we.min(),h=we.min(),m=Wt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ha(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this.yt=e}}function bD(i){const e=dD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?np(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(){this.Sn=new vD}addToCollectionParentIndex(e,n){return this.Sn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(ba.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(ba.min())}updateCollectionGroup(e,n,a){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class vD{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n]||new Pt(rt.comparator),u=!l.has(a);return this.index[n]=l.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Pt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xw=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(xw,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new kl(0)}static ar(){return new kl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="LruGarbageCollector",TD=1048576;function yE([i,e],[n,a]){const l=Ue(i,n);return l===0?Ue(e,a):l}class AD{constructor(e){this.Pr=e,this.buffer=new Pt(yE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();yE(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class wD{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){de(gE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){zl(n)?de(gE,"Ignoring IndexedDB error during garbage collection: ",n):await jl(n)}await this.Ar(3e5)}))}}class SD{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(id.ce);const a=new AD(n);return this.Vr.forEachTarget(e,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.Vr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(pE)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pE):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let a,l,u,h,m,p,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,h=Date.now(),this.nthSequenceNumber(e,l)))).next((A=>(a=A,m=Date.now(),this.removeTargets(e,a,n)))).next((A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,a)))).next((A=>(y=Date.now(),cl()<=Ve.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${l} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(y-p)+`ms
Total Duration: ${y-v}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:A}))))}}function ID(i,e){return new SD(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this.changes=new _s((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?te.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n,a,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(a!==null&&lu(a.mutation,l,Cn.empty(),lt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,Pe()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=Pe()){const l=ls();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,a).next((u=>{let h=Xo();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const a=ls();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,Pe())))}populateOverlays(e,n,a){const l=[];return a.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,a,l){let u=wr();const h=su(),m=(function(){return su()})();return n.forEach(((p,y)=>{const v=a.get(y.key);l.has(y.key)&&(v===void 0||v.mutation instanceof xa)?u=u.insert(y.key,y):v!==void 0?(h.set(y.key,v.mutation.getFieldMask()),lu(v.mutation,y,v.mutation.getFieldMask(),lt.now())):h.set(y.key,Cn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,v)=>h.set(y,v))),n.forEach(((y,v)=>m.set(y,new RD(v,h.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const a=su();let l=new mt(((h,m)=>h-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let v=a.get(p)||Cn.empty();v=m.applyToLocalView(y,v),a.set(p,v);const A=(l.get(m.batchId)||Pe()).add(p);l=l.insert(m.batchId,A)}))})).next((()=>{const h=[],m=l.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,v=p.value,A=ow();v.forEach((w=>{if(!u.has(w)){const C=mw(n.get(w),a.get(w));C!==null&&A.set(w,C),u=u.add(w)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,A))}return te.waitFor(h)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,l){return kO(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,l):this.getDocumentsMatchingCollectionQuery(e,n,a,l)}getNextDocuments(e,n,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,l).next((u=>{const h=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,l-u.size):te.resolve(ls());let m=du,p=u;return h.next((y=>te.forEach(y,((v,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(v)?te.resolve():this.remoteDocumentCache.getEntry(e,v).next((w=>{p=p.insert(v,w)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,Pe()))).next((v=>({batchId:m,changes:lw(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((a=>{let l=Xo();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,l){const u=n.collectionGroup;let h=Xo();return this.indexManager.getCollectionParents(e,u).next((m=>te.forEach(m,(p=>{const y=(function(A,w){return new Bl(w,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,a,l).next((v=>{v.forEach(((A,w)=>{h=h.insert(A,w)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,a,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,l)))).next((h=>{u.forEach(((p,y)=>{const v=y.getKey();h.get(v)===null&&(h=h.insert(v,rn.newInvalidDocument(v)))}));let m=Xo();return h.forEach(((p,y)=>{const v=u.get(p);v!==void 0&&lu(v.mutation,y,Cn.empty(),lt.now()),ld(n,y)&&(m=m.insert(p,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return te.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:$i(l.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(l){return{name:l.name,query:bD(l.bundledQuery),readTime:$i(l.readTime)}})(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this.overlays=new mt(ye.comparator),this.Lr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const a=ls();return te.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&a.set(l,u)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((l,u)=>{this.bt(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(a)),te.resolve()}getOverlaysForCollection(e,n,a){const l=ls(),u=n.length+1,h=new ye(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>a&&l.set(p.getKey(),p)}return te.resolve(l)}getOverlaysForCollectionGroup(e,n,a,l){let u=new mt(((y,v)=>y-v));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>a){let v=u.get(y.largestBatchId);v===null&&(v=ls(),u=u.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const m=ls(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,v)=>m.set(y,v))),!(m.size()>=l)););return te.resolve(m)}bt(e,n,a){const l=this.overlays.get(a.key);if(l!==null){const h=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new $O(n,a));let u=this.Lr.get(n);u===void 0&&(u=Pe(),this.Lr.set(n,u)),this.Lr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(){this.kr=new Pt(Ht.Kr),this.qr=new Pt(Ht.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const a=new Ht(e,n);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Wr(new Ht(e,n))}Qr(e,n){e.forEach((a=>this.removeReference(a,n)))}Gr(e){const n=new ye(new rt([])),a=new Ht(n,e),l=new Ht(n,e+1),u=[];return this.qr.forEachInRange([a,l],(h=>{this.Wr(h),u.push(h.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ye(new rt([])),a=new Ht(n,e),l=new Ht(n,e+1);let u=Pe();return this.qr.forEachInRange([a,l],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Ht(e,0),a=this.kr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Ht{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ye.comparator(e.key,n.key)||Ue(e.Hr,n.Hr)}static Ur(e,n){return Ue(e.Hr,n.Hr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Pt(Ht.Kr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,l){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new QO(u,n,a,l);this.mutationQueue.push(h);for(const m of l)this.Jr=this.Jr.add(new Ht(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,n){return te.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,l=this.Xr(a),u=l<0?0:l;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Pp:this.Yn-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Ht(n,0),l=new Ht(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([a,l],(h=>{const m=this.Zr(h.Hr);u.push(m)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Pt(Ue);return n.forEach((l=>{const u=new Ht(l,0),h=new Ht(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,h],(m=>{a=a.add(m.Hr)}))})),te.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,l=a.length+1;let u=a;ye.isDocumentKey(u)||(u=u.child(""));const h=new Ht(new ye(u),0);let m=new Pt(Ue);return this.Jr.forEachWhile((p=>{const y=p.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(m=m.add(p.Hr)),!0)}),h),te.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((a=>{const l=this.Zr(a);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){Ke(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return te.forEach(n.mutations,(l=>{const u=new Ht(l.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,n){const a=new Ht(n,0),l=this.Jr.firstAfterOrEqual(a);return te.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e){this.ti=e,this.docs=(function(){return new mt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,l=this.docs.get(a),u=l?l.size:0,h=this.ti(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return te.resolve(a?a.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(e,n){let a=wr();return n.forEach((l=>{const u=this.docs.get(l);a=a.insert(l,u?u.document.mutableCopy():rn.newInvalidDocument(l))})),te.resolve(a)}getDocumentsMatchingQuery(e,n,a,l){let u=wr();const h=n.path,m=new ye(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:v}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||sO(aO(v),a)<=0||(l.has(v.key)||ld(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,a,l){ve(9500)}ni(e,n){return te.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new LD(this)}getSize(e){return te.resolve(this.size)}}class LD extends xD{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?n.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(a)})),te.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){this.persistence=e,this.ri=new _s((n=>Bp(n)),Hp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.ii=0,this.si=new $p,this.targetCount=0,this.oi=kl._r()}forEachTarget(e,n){return this.ri.forEach(((a,l)=>n(l))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.ii&&(this.ii=n),te.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new kl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.lr(n),te.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,a){let l=0;const u=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.ri.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),l++)})),te.waitFor(u).next((()=>l))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const a=this.ri.get(n)||null;return te.resolve(a)}addMatchingKeys(e,n,a){return this.si.$r(n,a),te.resolve()}removeMatchingKeys(e,n,a){this.si.Qr(n,a);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((h=>{u.push(l.markPotentiallyOrphaned(e,h))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const a=this.si.jr(n);return te.resolve(a)}containsKey(e,n){return te.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,n){this._i={},this.overlays={},this.ai=new id(0),this.ui=!1,this.ui=!0,this.ci=new OD,this.referenceDelegate=e(this),this.li=new VD(this),this.indexManager=new ED,this.remoteDocumentCache=(function(l){return new MD(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new _D(n),this.Pi=new kD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new CD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this._i[e.toKey()];return a||(a=new DD(n,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,a){de("MemoryPersistence","Starting transaction:",e);const l=new UD(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((u=>this.referenceDelegate.Ii(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ei(e,n){return te.or(Object.values(this._i).map((a=>()=>a.containsKey(e,n))))}}class UD extends oO{constructor(e){super(),this.currentSequenceNumber=e}}class Xp{constructor(e){this.persistence=e,this.Ri=new $p,this.Ai=null}static Vi(e){return new Xp(e)}get di(){if(this.Ai)return this.Ai;throw ve(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.di.delete(a.toString()),te.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.di.add(a.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.di.add(u.toString())))})).next((()=>a.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.di,(a=>{const l=ye.fromPath(a);return this.mi(e,l).next((u=>{u||n.removeEntry(l,we.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((a=>{a?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class zh{constructor(e,n){this.persistence=e,this.fi=new _s((a=>hO(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=ID(this,n)}static Vi(e,n){return new zh(e,n)}Ti(){}Ii(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((l=>a+l))))}pr(e){let n=0;return this.mr(e,(a=>{n++})).next((()=>n))}mr(e,n){return te.forEach(this.fi,((a,l)=>this.wr(e,a,l).next((u=>u?te.resolve():n(l)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ni(e,(h=>this.wr(e,h,n).next((m=>{m||(a++,u.removeEntry(h,we.min()))})))).next((()=>u.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.fi.set(a,e.currentSequenceNumber),te.resolve()}removeReference(e,n,a){return this.fi.set(a,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),te.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=_h(e.data.value)),n}wr(e,n,a){return te.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.fi.get(n);return te.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n,a,l){this.targetId=e,this.fromCache=n,this.Ts=a,this.Is=l}static Es(e,n){let a=Pe(),l=Pe();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Jp(e,n.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return q1()?8:uO(an())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,l){const u={result:null};return this.gs(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ps(e,n,l,a).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new PD;return this.ys(e,n,h).next((m=>{if(u.result=m,this.As)return this.ws(e,n,h,m.size)}))})).next((()=>u.result))}ws(e,n,a,l){return a.documentReadCount<this.Vs?(cl()<=Ve.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",hl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),te.resolve()):(cl()<=Ve.DEBUG&&de("QueryEngine","Query:",hl(n),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(cl()<=Ve.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",hl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qi(n))):te.resolve())}gs(e,n){if(aE(n))return te.resolve(null);let a=Qi(n);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=np(n,null,"F"),a=Qi(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const h=Pe(...u);return this.fs.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,a).next((p=>{const y=this.bs(n,m);return this.Ss(n,y,h,p.readTime)?this.gs(e,np(n,null,"F")):this.Ds(e,y,n,p)}))))})))))}ps(e,n,a,l){return aE(n)||l.isEqual(we.min())?te.resolve(null):this.fs.getDocuments(e,a).next((u=>{const h=this.bs(n,u);return this.Ss(n,h,a,l)?te.resolve(null):(cl()<=Ve.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),hl(n)),this.Ds(e,h,n,rO(l,du)).next((m=>m)))}))}bs(e,n){let a=new Pt(aw(e));return n.forEach(((l,u)=>{ld(e,u)&&(a=a.add(u))})),a}Ss(e,n,a,l){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}ys(e,n,a){return cl()<=Ve.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",hl(n)),this.fs.getDocumentsMatchingQuery(e,n,ba.min(),a)}Ds(e,n,a,l){return this.fs.getDocumentsMatchingQuery(e,a,l).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="LocalStore",zD=3e8;class BD{constructor(e,n,a,l){this.persistence=e,this.Cs=n,this.serializer=l,this.vs=new mt(Ue),this.Fs=new _s((u=>Bp(u)),Hp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ND(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function HD(i,e,n,a){return new BD(i,e,n,a)}async function Nw(i,e){const n=Ie(i);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return n.mutationQueue.getAllMutationBatches(a).next((u=>(l=u,n.Os(e),n.mutationQueue.getAllMutationBatches(a)))).next((u=>{const h=[],m=[];let p=Pe();for(const y of l){h.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}for(const y of u){m.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(a,p).next((y=>({Ns:y,removedBatchIds:h,addedBatchIds:m})))}))}))}function FD(i,e){const n=Ie(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,v){const A=y.batch,w=A.keys();let C=te.resolve();return w.forEach((P=>{C=C.next((()=>v.getEntry(p,P))).next((Q=>{const F=y.docVersions.get(P);Ke(F!==null,48541),Q.version.compareTo(F)<0&&(A.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),v.addEntry(Q)))}))})),C.next((()=>m.mutationQueue.removeMutationBatch(p,A)))})(n,a,e,u).next((()=>u.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(m){let p=Pe();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(a,l)))}))}function kw(i){const e=Ie(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function GD(i,e){const n=Ie(i),a=e.snapshotVersion;let l=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});l=n.vs;const m=[];e.targetChanges.forEach(((v,A)=>{const w=l.get(A);if(!w)return;m.push(n.li.removeMatchingKeys(u,v.removedDocuments,A).next((()=>n.li.addMatchingKeys(u,v.addedDocuments,A))));let C=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?C=C.withResumeToken(Wt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,a)),l=l.insert(A,C),(function(Q,F,ie){return Q.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=zD?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0})(w,C,v)&&m.push(n.li.updateTargetData(u,C))}));let p=wr(),y=Pe();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(qD(u,h,e.documentUpdates).next((v=>{p=v.Bs,y=v.Ls}))),!a.isEqual(we.min())){const v=n.li.getLastRemoteSnapshotVersion(u).next((A=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,a)));m.push(v)}return te.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.vs=l,u)))}function qD(i,e,n){let a=Pe(),l=Pe();return n.forEach((u=>a=a.add(u))),e.getEntries(i,a).next((u=>{let h=wr();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):de(Wp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{Bs:h,Ls:l}}))}function YD(i,e){const n=Ie(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Pp),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function KD(i,e){const n=Ie(i);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return n.li.getTargetData(a,e).next((u=>u?(l=u,te.resolve(l)):n.li.allocateTargetId(a).next((h=>(l=new ha(e,h,"TargetPurposeListen",a.currentSequenceNumber),n.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=n.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.vs=n.vs.insert(a.targetId,a),n.Fs.set(e,a.targetId)),a}))}async function lp(i,e,n){const a=Ie(i),l=a.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,(h=>a.persistence.referenceDelegate.removeTarget(h,l)))}catch(h){if(!zl(h))throw h;de(Wp,`Failed to update sequence numbers for target ${e}: ${h}`)}a.vs=a.vs.remove(e),a.Fs.delete(l.target)}function _E(i,e,n){const a=Ie(i);let l=we.min(),u=Pe();return a.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,y,v){const A=Ie(p),w=A.Fs.get(v);return w!==void 0?te.resolve(A.vs.get(w)):A.li.getTargetData(y,v)})(a,h,Qi(e)).next((m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>a.Cs.getDocumentsMatchingQuery(h,e,n?l:we.min(),n?u:Pe()))).next((m=>(QD(a,DO(e),m),{documents:m,ks:u})))))}function QD(i,e,n){let a=i.Ms.get(e)||we.min();n.forEach(((l,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),i.Ms.set(e,a)}class bE{constructor(){this.activeTargetIds=jO()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $D{constructor(){this.vo=new bE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,a){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new bE,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="ConnectivityMonitor";class vE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){de(EE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){de(EE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sh=null;function op(){return sh===null?sh=(function(){return 268435456+Math.round(2147483648*Math.random())})():sh++,"0x"+sh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="RestConnection",JD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class WD{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===Mh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(e,n,a,l,u){const h=op(),m=this.Qo(e,n.toUriEncodedString());de(Mm,`Sending RPC '${e}' ${h}:`,m,a);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,l,u);const{host:y}=new URL(m),v=Ml(y);return this.zo(e,m,p,a,v).then((A=>(de(Mm,`Received RPC '${e}' ${h}: `,A),A)),(A=>{throw Il(Mm,`RPC '${e}' ${h} failed with error: `,A,"url: ",m,"request:",a),A}))}jo(e,n,a,l,u,h){return this.Wo(e,n,a,l,u)}Go(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Pl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),a&&a.headers.forEach(((l,u)=>e[u]=l))}Qo(e,n){const a=JD[e];let l=`${this.qo}/v1/${n}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection",qo=(i,e,n)=>{i.listen(e,(a=>{try{n(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class vl extends WD{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!vl.c_){const e=LA();qo(e,MA.STAT_EVENT,(n=>{n.stat===$m.PROXY?de(tn,"STAT_EVENT: detected buffering proxy"):n.stat===$m.NOPROXY&&de(tn,"STAT_EVENT: detected no buffering proxy")})),vl.c_=!0}}zo(e,n,a,l,u){const h=op();return new Promise(((m,p)=>{const y=new OA;y.setWithCredentials(!0),y.listenOnce(DA.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case yh.NO_ERROR:const A=y.getResponseJson();de(tn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(A)),m(A);break;case yh.TIMEOUT:de(tn,`RPC '${e}' ${h} timed out`),p(new he(Z.DEADLINE_EXCEEDED,"Request time out"));break;case yh.HTTP_ERROR:const w=y.getStatus();if(de(tn,`RPC '${e}' ${h} failed with status:`,w,"response text:",y.getResponseText()),w>0){let C=y.getResponseJson();Array.isArray(C)&&(C=C[0]);const P=C==null?void 0:C.error;if(P&&P.status&&P.message){const Q=(function(ie){const ee=ie.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ee)>=0?ee:Z.UNKNOWN})(P.status);p(new he(Q,P.message))}else p(new he(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new he(Z.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{de(tn,`RPC '${e}' ${h} completed.`)}}));const v=JSON.stringify(l);de(tn,`RPC '${e}' ${h} sending request:`,l),y.send(n,"POST",v,a,15)}))}T_(e,n,a){const l=op(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,a),m.encodeInitMessageHeaders=!0;const y=u.join("");de(tn,`Creating RPC '${e}' stream ${l}: ${y}`,m);const v=h.createWebChannel(y,m);this.I_(v);let A=!1,w=!1;const C=new ZD({Ho:P=>{w?de(tn,`Not sending because RPC '${e}' stream ${l} is closed:`,P):(A||(de(tn,`Opening RPC '${e}' stream ${l} transport.`),v.open(),A=!0),de(tn,`RPC '${e}' stream ${l} sending:`,P),v.send(P))},Jo:()=>v.close()});return qo(v,$o.EventType.OPEN,(()=>{w||(de(tn,`RPC '${e}' stream ${l} transport opened.`),C.i_())})),qo(v,$o.EventType.CLOSE,(()=>{w||(w=!0,de(tn,`RPC '${e}' stream ${l} transport closed`),C.o_(),this.E_(v))})),qo(v,$o.EventType.ERROR,(P=>{w||(w=!0,Il(tn,`RPC '${e}' stream ${l} transport errored. Name:`,P.name,"Message:",P.message),C.o_(new he(Z.UNAVAILABLE,"The operation could not be completed")))})),qo(v,$o.EventType.MESSAGE,(P=>{var Q;if(!w){const F=P.data[0];Ke(!!F,16349);const ie=F,ee=(ie==null?void 0:ie.error)||((Q=ie[0])==null?void 0:Q.error);if(ee){de(tn,`RPC '${e}' stream ${l} received error:`,ee);const $=ee.status;let oe=(function(R){const I=Dt[R];if(I!==void 0)return gw(I)})($),ne=ee.message;oe===void 0&&(oe=Z.INTERNAL,ne="Unknown error status: "+$+" with message "+ee.message),w=!0,C.o_(new he(oe,ne)),v.close()}else de(tn,`RPC '${e}' stream ${l} received:`,F),C.__(F)}})),vl.u_(),setTimeout((()=>{C.s_()}),0),C}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,a){super.Go(e,n,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return VA()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(i){return new vl(i)}function Lm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(i){return new rD(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vl.c_=!1;class Cw{constructor(e,n,a=1e3,l=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=a,this.A_=l,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-a);l>0&&de("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="PersistentStream";class Ow{constructor(e,n,a,l,u,h,m,p){this.Ci=e,this.b_=a,this.S_=l,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Cw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Ar(n.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===n&&this.G_(a,l)}),(a=>{e((()=>{const l=new he(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,n){const a=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(TE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(de(TE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class t4 extends Ow{constructor(e,n,a,l,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,l,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=lD(this.serializer,e),a=(function(u){if(!("targetChange"in u))return we.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?$i(h.readTime):we.min()})(e);return this.listener.J_(n,a)}Z_(e){const n={};n.database=sp(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=ep(p)?{documents:cD(u,p)}:{query:hD(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=bw(u,h.resumeToken);const y=ip(u,h.expectedCount);y!==null&&(m.expectedCount=y)}else if(h.snapshotVersion.compareTo(we.min())>0){m.readTime=jh(u,h.snapshotVersion.toTimestamp());const y=ip(u,h.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const a=fD(this.serializer,e);a&&(n.labels=a),this.K_(n)}X_(e){const n={};n.database=sp(this.serializer),n.removeTarget=e,this.K_(n)}}class n4 extends Ow{constructor(e,n,a,l,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,l,h),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=uD(e.writeResults,e.commitTime),a=$i(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=sp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>oD(this.serializer,a)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{}class r4 extends i4{constructor(e,n,a,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new he(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(e,rp(n,a),l,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(Z.UNKNOWN,u.toString())}))}jo(e,n,a,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(e,rp(n,a),l,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new he(Z.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function a4(i,e,n,a){return new r4(i,e,n,a)}class s4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ar(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="RemoteStore";class l4{constructor(e,n,a,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((h=>{a.enqueueAndForget((async()=>{bs(this)&&(de(ms,"Restarting streams for network reachability change."),await(async function(p){const y=Ie(p);y.Ea.add(4),await Iu(y),y.Va.set("Unknown"),y.Ea.delete(4),await dd(y)})(this))}))})),this.Va=new s4(a,l)}}async function dd(i){if(bs(i))for(const e of i.Ra)await e(!0)}async function Iu(i){for(const e of i.Ra)await e(!1)}function Dw(i,e){const n=Ie(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ng(n)?tg(n):Hl(n).O_()&&eg(n,e))}function Zp(i,e){const n=Ie(i),a=Hl(n);n.Ia.delete(e),a.O_()&&Mw(n,e),n.Ia.size===0&&(a.O_()?a.L_():bs(n)&&n.Va.set("Unknown"))}function eg(i,e){if(i.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Hl(i).Z_(e)}function Mw(i,e){i.da.$e(e),Hl(i).X_(e)}function tg(i){i.da=new eD({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Hl(i).start(),i.Va.ua()}function ng(i){return bs(i)&&!Hl(i).x_()&&i.Ia.size>0}function bs(i){return Ie(i).Ea.size===0}function Lw(i){i.da=void 0}async function o4(i){i.Va.set("Online")}async function u4(i){i.Ia.forEach(((e,n)=>{eg(i,e)}))}async function c4(i,e){Lw(i),ng(i)?(i.Va.ha(e),tg(i)):i.Va.set("Unknown")}async function h4(i,e,n){if(i.Va.set("Online"),e instanceof _w&&e.state===2&&e.cause)try{await(async function(l,u){const h=u.cause;for(const m of u.targetIds)l.Ia.has(m)&&(await l.remoteSyncer.rejectListen(m,h),l.Ia.delete(m),l.da.removeTarget(m))})(i,e)}catch(a){de(ms,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Bh(i,a)}else if(e instanceof vh?i.da.Xe(e):e instanceof yw?i.da.st(e):i.da.tt(e),!n.isEqual(we.min()))try{const a=await kw(i.localStore);n.compareTo(a)>=0&&await(function(u,h){const m=u.da.Tt(h);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(y);v&&u.Ia.set(y,v.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,y)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(Wt.EMPTY_BYTE_STRING,v.snapshotVersion)),Mw(u,p);const A=new ha(v.target,p,y,v.sequenceNumber);eg(u,A)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(a){de(ms,"Failed to raise snapshot:",a),await Bh(i,a)}}async function Bh(i,e,n){if(!zl(e))throw e;i.Ea.add(1),await Iu(i),i.Va.set("Offline"),n||(n=()=>kw(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{de(ms,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await dd(i)}))}function Vw(i,e){return e().catch((n=>Bh(i,n,e)))}async function fd(i){const e=Ie(i),n=Aa(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Pp;for(;d4(e);)try{const l=await YD(e.localStore,a);if(l===null){e.Ta.length===0&&n.L_();break}a=l.batchId,f4(e,l)}catch(l){await Bh(e,l)}Uw(e)&&Pw(e)}function d4(i){return bs(i)&&i.Ta.length<10}function f4(i,e){i.Ta.push(e);const n=Aa(i);n.O_()&&n.Y_&&n.ea(e.mutations)}function Uw(i){return bs(i)&&!Aa(i).x_()&&i.Ta.length>0}function Pw(i){Aa(i).start()}async function m4(i){Aa(i).ra()}async function p4(i){const e=Aa(i);for(const n of i.Ta)e.ea(n.mutations)}async function g4(i,e,n){const a=i.Ta.shift(),l=Yp.from(a,e,n);await Vw(i,(()=>i.remoteSyncer.applySuccessfulWrite(l))),await fd(i)}async function y4(i,e){e&&Aa(i).Y_&&await(async function(a,l){if((function(h){return JO(h)&&h!==Z.ABORTED})(l.code)){const u=a.Ta.shift();Aa(a).B_(),await Vw(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,l))),await fd(a)}})(i,e),Uw(i)&&Pw(i)}async function AE(i,e){const n=Ie(i);n.asyncQueue.verifyOperationInProgress(),de(ms,"RemoteStore received new credentials");const a=bs(n);n.Ea.add(3),await Iu(n),a&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await dd(n)}async function _4(i,e){const n=Ie(i);e?(n.Ea.delete(2),await dd(n)):e||(n.Ea.add(2),await Iu(n),n.Va.set("Unknown"))}function Hl(i){return i.ma||(i.ma=(function(n,a,l){const u=Ie(n);return u.sa(),new t4(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(i.datastore,i.asyncQueue,{Zo:o4.bind(null,i),Yo:u4.bind(null,i),t_:c4.bind(null,i),J_:h4.bind(null,i)}),i.Ra.push((async e=>{e?(i.ma.B_(),ng(i)?tg(i):i.Va.set("Unknown")):(await i.ma.stop(),Lw(i))}))),i.ma}function Aa(i){return i.fa||(i.fa=(function(n,a,l){const u=Ie(n);return u.sa(),new n4(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:m4.bind(null,i),t_:y4.bind(null,i),ta:p4.bind(null,i),na:g4.bind(null,i)}),i.Ra.push((async e=>{e?(i.fa.B_(),await fd(i)):(await i.fa.stop(),i.Ta.length>0&&(de(ms,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n,a,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=l,this.removalCallback=u,this.deferred=new os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,l,u){const h=Date.now()+a,m=new ig(e,n,h,l,u);return m.start(a),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rg(i,e){if(Ar("AsyncQueue",`${e}: ${i}`),zl(i))return new he(Z.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{static emptySet(e){return new Tl(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||ye.comparator(n.key,a.key):(n,a)=>ye.comparator(n.key,a.key),this.keyedMap=Xo(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Tl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=a.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new Tl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(){this.ga=new mt(ye.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class Cl{constructor(e,n,a,l,u,h,m,p,y){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,a,l,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Cl(e,n,Tl.emptySet(n),h,a,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==a[l].type||!n[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class E4{constructor(){this.queries=SE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const l=Ie(n),u=l.queries;l.queries=SE(),u.forEach(((h,m)=>{for(const p of m.ba)p.onError(a)}))})(this,new he(Z.ABORTED,"Firestore shutting down"))}}function SE(){return new _s((i=>rw(i)),sd)}async function v4(i,e){const n=Ie(i);let a=3;const l=e.query;let u=n.queries.get(l);u?!u.Sa()&&e.Da()&&(a=2):(u=new b4,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(h){const m=rg(h,`Initialization of query '${hl(e.query)}' failed`);return void e.onError(m)}n.queries.set(l,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&ag(n)}async function T4(i,e){const n=Ie(i),a=e.query;let l=3;const u=n.queries.get(a);if(u){const h=u.ba.indexOf(e);h>=0&&(u.ba.splice(h,1),u.ba.length===0?l=e.Da()?0:1:!u.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function A4(i,e){const n=Ie(i);let a=!1;for(const l of e){const u=l.query,h=n.queries.get(u);if(h){for(const m of h.ba)m.Fa(l)&&(a=!0);h.wa=l}}a&&ag(n)}function w4(i,e,n){const a=Ie(i),l=a.queries.get(e);if(l)for(const u of l.ba)u.onError(n);a.queries.delete(e)}function ag(i){i.Ca.forEach((e=>{e.next()}))}var up,IE;(IE=up||(up={})).Ma="default",IE.Cache="cache";class S4{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new Cl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Cl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==up.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e){this.key=e}}class zw{constructor(e){this.key=e}}class I4{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pe(),this.mutatedKeys=Pe(),this.eu=aw(e),this.tu=new Tl(this.eu)}get nu(){return this.Za}ru(e,n){const a=n?n.iu:new wE,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=l,m=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((v,A)=>{const w=l.get(v),C=ld(this.query,A)?A:null,P=!!w&&this.mutatedKeys.has(w.key),Q=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let F=!1;w&&C?w.data.isEqual(C.data)?P!==Q&&(a.track({type:3,doc:C}),F=!0):this.su(w,C)||(a.track({type:2,doc:C}),F=!0,(p&&this.eu(C,p)>0||y&&this.eu(C,y)<0)&&(m=!0)):!w&&C?(a.track({type:0,doc:C}),F=!0):w&&!C&&(a.track({type:1,doc:w}),F=!0,(p||y)&&(m=!0)),F&&(C?(h=h.add(C),u=Q?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),a.track({type:1,doc:v})}return{tu:h,iu:a,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((v,A)=>(function(C,P){const Q=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Vt:F})}};return Q(C)-Q(P)})(v.type,A.type)||this.eu(v.doc,A.doc))),this.ou(a),l=l??!1;const m=n&&!l?this._u():[],p=this.Ya.size===0&&this.current&&!l?1:0,y=p!==this.Xa;return this.Xa=p,h.length!==0||y?{snapshot:new Cl(this.query,e.tu,u,h,e.mutatedKeys,p===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new wE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Pe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const n=[];return e.forEach((a=>{this.Ya.has(a)||n.push(new zw(a))})),this.Ya.forEach((a=>{e.has(a)||n.push(new jw(a))})),n}cu(e){this.Za=e.ks,this.Ya=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Cl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const sg="SyncEngine";class x4{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class R4{constructor(e){this.key=e,this.hu=!1}}class N4{constructor(e,n,a,l,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new _s((m=>rw(m)),sd),this.Iu=new Map,this.Eu=new Set,this.Ru=new mt(ye.comparator),this.Au=new Map,this.Vu=new $p,this.du={},this.mu=new Map,this.fu=kl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function k4(i,e,n=!0){const a=Yw(i);let l;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await Bw(a,e,n,!0),l}async function C4(i,e){const n=Yw(i);await Bw(n,e,!0,!1)}async function Bw(i,e,n,a){const l=await KD(i.localStore,Qi(e)),u=l.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await O4(i,e,u,h==="current",l.resumeToken)),i.isPrimaryClient&&n&&Dw(i.remoteStore,l),m}async function O4(i,e,n,a,l){i.pu=(A,w,C)=>(async function(Q,F,ie,ee){let $=F.view.ru(ie);$.Ss&&($=await _E(Q.localStore,F.query,!1).then((({documents:R})=>F.view.ru(R,$))));const oe=ee&&ee.targetChanges.get(F.targetId),ne=ee&&ee.targetMismatches.get(F.targetId)!=null,_e=F.view.applyChanges($,Q.isPrimaryClient,oe,ne);return RE(Q,F.targetId,_e.au),_e.snapshot})(i,A,w,C);const u=await _E(i.localStore,e,!0),h=new I4(e,u.ks),m=h.ru(u.documents),p=Su.createSynthesizedTargetChangeForCurrentChange(n,a&&i.onlineState!=="Offline",l),y=h.applyChanges(m,i.isPrimaryClient,p);RE(i,n,y.au);const v=new x4(e,n,h);return i.Tu.set(e,v),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),y.snapshot}async function D4(i,e,n){const a=Ie(i),l=a.Tu.get(e),u=a.Iu.get(l.targetId);if(u.length>1)return a.Iu.set(l.targetId,u.filter((h=>!sd(h,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await lp(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),n&&Zp(a.remoteStore,l.targetId),cp(a,l.targetId)})).catch(jl)):(cp(a,l.targetId),await lp(a.localStore,l.targetId,!0))}async function M4(i,e){const n=Ie(i),a=n.Tu.get(e),l=n.Iu.get(a.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Zp(n.remoteStore,a.targetId))}async function L4(i,e,n){const a=H4(i);try{const l=await(function(h,m){const p=Ie(h),y=lt.now(),v=m.reduce(((C,P)=>C.add(P.key)),Pe());let A,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let P=wr(),Q=Pe();return p.xs.getEntries(C,v).next((F=>{P=F,P.forEach(((ie,ee)=>{ee.isValidDocument()||(Q=Q.add(ie))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,P))).next((F=>{A=F;const ie=[];for(const ee of m){const $=YO(ee,A.get(ee.key).overlayedDocument);$!=null&&ie.push(new xa(ee.key,$,XA($.value.mapValue),yi.exists(!0)))}return p.mutationQueue.addMutationBatch(C,y,ie,m)})).next((F=>{w=F;const ie=F.applyToLocalDocumentSet(A,Q);return p.documentOverlayCache.saveOverlays(C,F.batchId,ie)}))})).then((()=>({batchId:w.batchId,changes:lw(A)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(h,m,p){let y=h.du[h.currentUser.toKey()];y||(y=new mt(Ue)),y=y.insert(m,p),h.du[h.currentUser.toKey()]=y})(a,l.batchId,n),await xu(a,l.changes),await fd(a.remoteStore)}catch(l){const u=rg(l,"Failed to persist write");n.reject(u)}}async function Hw(i,e){const n=Ie(i);try{const a=await GD(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const h=n.Au.get(u);h&&(Ke(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?h.hu=!0:l.modifiedDocuments.size>0?Ke(h.hu,14607):l.removedDocuments.size>0&&(Ke(h.hu,42227),h.hu=!1))})),await xu(n,a,e)}catch(a){await jl(a)}}function xE(i,e,n){const a=Ie(i);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const l=[];a.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&l.push(m.snapshot)})),(function(h,m){const p=Ie(h);p.onlineState=m;let y=!1;p.queries.forEach(((v,A)=>{for(const w of A.ba)w.va(m)&&(y=!0)})),y&&ag(p)})(a.eventManager,e),l.length&&a.Pu.J_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function V4(i,e,n){const a=Ie(i);a.sharedClientState.updateQueryState(e,"rejected",n);const l=a.Au.get(e),u=l&&l.key;if(u){let h=new mt(ye.comparator);h=h.insert(u,rn.newNoDocument(u,we.min()));const m=Pe().add(u),p=new cd(we.min(),new Map,new mt(Ue),h,m);await Hw(a,p),a.Ru=a.Ru.remove(u),a.Au.delete(e),lg(a)}else await lp(a.localStore,e,!1).then((()=>cp(a,e,n))).catch(jl)}async function U4(i,e){const n=Ie(i),a=e.batch.batchId;try{const l=await FD(n.localStore,e);Gw(n,a,null),Fw(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await xu(n,l)}catch(l){await jl(l)}}async function P4(i,e,n){const a=Ie(i);try{const l=await(function(h,m){const p=Ie(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let v;return p.mutationQueue.lookupMutationBatch(y,m).next((A=>(Ke(A!==null,37113),v=A.keys(),p.mutationQueue.removeMutationBatch(y,A)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v))).next((()=>p.localDocuments.getDocuments(y,v)))}))})(a.localStore,e);Gw(a,e,n),Fw(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await xu(a,l)}catch(l){await jl(l)}}function Fw(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function Gw(i,e,n){const a=Ie(i);let l=a.du[a.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),a.du[a.currentUser.toKey()]=l}}function cp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.Iu.get(e))i.Tu.delete(a),n&&i.Pu.yu(a,n);i.Iu.delete(e),i.isPrimaryClient&&i.Vu.Gr(e).forEach((a=>{i.Vu.containsKey(a)||qw(i,a)}))}function qw(i,e){i.Eu.delete(e.path.canonicalString());const n=i.Ru.get(e);n!==null&&(Zp(i.remoteStore,n),i.Ru=i.Ru.remove(e),i.Au.delete(n),lg(i))}function RE(i,e,n){for(const a of n)a instanceof jw?(i.Vu.addReference(a.key,e),j4(i,a)):a instanceof zw?(de(sg,"Document no longer in limbo: "+a.key),i.Vu.removeReference(a.key,e),i.Vu.containsKey(a.key)||qw(i,a.key)):ve(19791,{wu:a})}function j4(i,e){const n=e.key,a=n.path.canonicalString();i.Ru.get(n)||i.Eu.has(a)||(de(sg,"New document in limbo: "+n),i.Eu.add(a),lg(i))}function lg(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ye(rt.fromString(e)),a=i.fu.next();i.Au.set(a,new R4(n)),i.Ru=i.Ru.insert(n,a),Dw(i.remoteStore,new ha(Qi(Fp(n.path)),a,"TargetPurposeLimboResolution",id.ce))}}async function xu(i,e,n){const a=Ie(i),l=[],u=[],h=[];a.Tu.isEmpty()||(a.Tu.forEach(((m,p)=>{h.push(a.pu(p,e,n).then((y=>{var v;if((y||n)&&a.isPrimaryClient){const A=y?!y.fromCache:(v=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:v.current;a.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(y){l.push(y);const A=Jp.Es(p.targetId,y);u.push(A)}})))})),await Promise.all(h),a.Pu.J_(l),await(async function(p,y){const v=Ie(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>te.forEach(y,(w=>te.forEach(w.Ts,(C=>v.persistence.referenceDelegate.addReference(A,w.targetId,C))).next((()=>te.forEach(w.Is,(C=>v.persistence.referenceDelegate.removeReference(A,w.targetId,C)))))))))}catch(A){if(!zl(A))throw A;de(Wp,"Failed to update sequence numbers: "+A)}for(const A of y){const w=A.targetId;if(!A.fromCache){const C=v.vs.get(w),P=C.snapshotVersion,Q=C.withLastLimboFreeSnapshotVersion(P);v.vs=v.vs.insert(w,Q)}}})(a.localStore,u))}async function z4(i,e){const n=Ie(i);if(!n.currentUser.isEqual(e)){de(sg,"User change. New user:",e.toKey());const a=await Nw(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new he(Z.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await xu(n,a.Ns)}}function B4(i,e){const n=Ie(i),a=n.Au.get(e);if(a&&a.hu)return Pe().add(a.key);{let l=Pe();const u=n.Iu.get(e);if(!u)return l;for(const h of u){const m=n.Tu.get(h);l=l.unionWith(m.view.nu)}return l}}function Yw(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Hw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=V4.bind(null,e),e.Pu.J_=A4.bind(null,e.eventManager),e.Pu.yu=w4.bind(null,e.eventManager),e}function H4(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=U4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=P4.bind(null,e),e}class Hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return HD(this.persistence,new jD,e.initialUser,this.serializer)}Cu(e){return new Rw(Xp.Vi,this.serializer)}Du(e){return new $D}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hh.provider={build:()=>new Hh};class F4 extends Hh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof zh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new wD(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new Rw((a=>zh.Vi(a,n)),this.serializer)}}class hp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>xE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=z4.bind(null,this.syncEngine),await _4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new E4})()}createDatastore(e){const n=hd(e.databaseInfo.databaseId),a=e4(e.databaseInfo);return a4(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,l,u,h,m){return new l4(a,l,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>xE(this.syncEngine,n,0)),(function(){return vE.v()?new vE:new XD})())}createSyncEngine(e,n){return(function(l,u,h,m,p,y,v){const A=new N4(l,u,h,m,p,y);return v&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(l){const u=Ie(l);de(ms,"RemoteStore shutting down."),u.Ea.add(5),await Iu(u),u.Aa.shutdown(),u.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}hp.provider={build:()=>new hp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ar("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="FirestoreClient";class q4{constructor(e,n,a,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this._databaseInfo=l,this.user=nn.UNAUTHENTICATED,this.clientId=Up.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async h=>{de(wa,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(a,(h=>(de(wa,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=rg(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Vm(i,e){i.asyncQueue.verifyOperationInProgress(),de(wa,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let a=n.initialUser;i.setCredentialChangeListener((async l=>{a.isEqual(l)||(await Nw(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function NE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await Y4(i);de(wa,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((a=>AE(e.remoteStore,a))),i.setAppCheckTokenChangeListener(((a,l)=>AE(e.remoteStore,l))),i._onlineComponents=e}async function Y4(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){de(wa,"Using user provided OfflineComponentProvider");try{await Vm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Il("Error using user provided cache. Falling back to memory cache: "+n),await Vm(i,new Hh)}}else de(wa,"Using default OfflineComponentProvider"),await Vm(i,new F4(void 0));return i._offlineComponents}async function Kw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(de(wa,"Using user provided OnlineComponentProvider"),await NE(i,i._uninitializedComponentsProvider._online)):(de(wa,"Using default OnlineComponentProvider"),await NE(i,new hp))),i._onlineComponents}function K4(i){return Kw(i).then((e=>e.syncEngine))}async function kE(i){const e=await Kw(i),n=e.eventManager;return n.onListen=k4.bind(null,e.syncEngine),n.onUnlisten=D4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=C4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=M4.bind(null,e.syncEngine),n}function Q4(i,e,n,a){const l=new G4(a),u=new S4(e,l,n);return i.asyncQueue.enqueueAndForget((async()=>v4(await kE(i),u))),()=>{l.Nu(),i.asyncQueue.enqueueAndForget((async()=>T4(await kE(i),u)))}}function $4(i,e){const n=new os;return i.asyncQueue.enqueueAndForget((async()=>L4(await K4(i),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4="ComponentProvider",CE=new Map;function J4(i,e,n,a,l){return new mO(i,e,n,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,Qw(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="firestore.googleapis.com",OE=!0;class DE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$w,this.ssl=OE}else this.host=e.host,this.ssl=e.ssl??OE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<TD)throw new he(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qw(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class md{constructor(e,n,a,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new K2;switch(a.type){case"firstParty":return new J2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new he(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=CE.get(n);a&&(de(X4,"Removing Datastore"),CE.delete(n),a.terminate())})(this),Promise.resolve()}}function W4(i,e,n,a={}){var y;i=ga(i,md);const l=Ml(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;l&&(bT(`https://${m}`),ET("Firestore",!0)),u.host!==$w&&u.host!==m&&Il("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:l,emulatorOptions:a};if(!_a(p,h)&&(i._setSettings(p),a.mockUserToken)){let v,A;if(typeof a.mockUserToken=="string")v=a.mockUserToken,A=nn.MOCK_USER;else{v=U1(a.mockUserToken,(y=i._app)==null?void 0:y.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new he(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new nn(w)}i._authCredentials=new Q2(new PA(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Es(this.firestore,e,this._query)}}class Vt{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ya(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(Au(n,Vt._jsonSchema))return new Vt(e,a||null,new ye(rt.fromString(n.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:Lt("string",Vt._jsonSchemaVersion),referencePath:Lt("string")};class ya extends Es{constructor(e,n,a){super(e,n,Fp(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new ye(e))}withConverter(e){return new ya(this.firestore,e,this._path)}}function lh(i,e,...n){if(i=wt(i),jA("collection","path",e),i instanceof md){const a=rt.fromString(e,...n);return q0(a),new ya(i,null,a)}{if(!(i instanceof Vt||i instanceof ya))throw new he(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(rt.fromString(e,...n));return q0(a),new ya(i.firestore,null,a)}}function Wo(i,e,...n){if(i=wt(i),arguments.length===1&&(e=Up.newId()),jA("doc","path",e),i instanceof md){const a=rt.fromString(e,...n);return G0(a),new Vt(i,null,new ye(a))}{if(!(i instanceof Vt||i instanceof ya))throw new he(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(rt.fromString(e,...n));return G0(a),new Vt(i.firestore,i instanceof ya?i.converter:null,new ye(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="AsyncQueue";class LE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Cw(this,"async_queue_retry"),this._c=()=>{const a=Lm();a&&de(ME,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=Lm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Lm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new os;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!zl(e))throw e;de(ME,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Ar("INTERNAL UNHANDLED ERROR: ",VE(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=ig.createAndSchedule(this,e,n,a,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&ve(47125,{Pc:VE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function VE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Ol extends md{constructor(e,n,a,l){super(e,n,a,l),this.type="firestore",this._queue=new LE,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new LE(e),this._firestoreClient=void 0,await e}}}function Z4(i,e){const n=typeof i=="object"?i:vp(),a=typeof i=="string"?i:Mh,l=gs(n,"firestore").getImmediate({identifier:a});if(!l._initialized){const u=L1("firestore");u&&W4(l,...u)}return l}function Xw(i){if(i._terminated)throw new he(Z.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||eM(i),i._firestoreClient}function eM(i){var a,l,u,h;const e=i._freezeSettings(),n=J4(i._databaseId,((a=i._app)==null?void 0:a.options.appId)||"",i._persistenceKey,(l=i._app)==null?void 0:l.options.apiKey,e);i._componentsProvider||(u=e.localCache)!=null&&u._offlineComponentProvider&&((h=e.localCache)!=null&&h._onlineComponentProvider)&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new q4(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(p){const y=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(y),_online:y}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(Wt.fromBase64String(e))}catch(n){throw new he(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xn(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Au(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:Lt("string",Xn._jsonSchemaVersion),bytes:Lt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(e){if(Au(e,Xi._jsonSchema))return new Xi(e.latitude,e.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:Lt("string",Xi._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:_i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Au(e,_i._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new _i(e.vectorValues);throw new he(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_i._jsonSchemaVersion="firestore/vectorValue/1.0",_i._jsonSchema={type:Lt("string",_i._jsonSchemaVersion),vectorValues:Lt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=/^__.*__$/;class nM{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new xa(e,this.data,this.fieldMask,n,this.fieldTransforms):new wu(e,this.data,n,this.fieldTransforms)}}class Jw{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new xa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ww(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{dataSource:i})}}class cg{constructor(e,n,a,l,u,h){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=l,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new cg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var l;const n=(l=this.path)==null?void 0:l.child(e),a=this.contextWith({path:n,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){var l;const n=(l=this.path)==null?void 0:l.child(e),a=this.contextWith({path:n,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Fh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Ww(this.dataSource)&&tM.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class iM{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||hd(e)}createContext(e,n,a,l=!1){return new cg({dataSource:e,methodName:n,targetDoc:a,path:Jt.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hg(i){const e=i._freezeSettings(),n=hd(i._databaseId);return new iM(i._databaseId,!!e.ignoreUndefinedProperties,n)}function rM(i,e,n,a,l,u={}){const h=i.createContext(u.merge||u.mergeFields?2:0,e,n,l);dg("Data must be an object, but it was:",h,a);const m=Zw(a,h);let p,y;if(u.merge)p=new Cn(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const A of u.mergeFields){const w=Dl(e,A,n);if(!h.contains(w))throw new he(Z.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);nS(v,w)||v.push(w)}p=new Cn(v),y=h.fieldTransforms.filter((A=>p.covers(A.field)))}else p=null,y=h.fieldTransforms;return new nM(new bn(m),p,y)}class pd extends ug{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pd}}function aM(i,e,n,a){const l=i.createContext(1,e,n);dg("Data must be an object, but it was:",l,a);const u=[],h=bn.empty();Ia(a,((p,y)=>{const v=tS(e,p,n);y=wt(y);const A=l.childContextForFieldPath(v);if(y instanceof pd)u.push(v);else{const w=Ru(y,A);w!=null&&(u.push(v),h.set(v,w))}}));const m=new Cn(u);return new Jw(h,m,l.fieldTransforms)}function sM(i,e,n,a,l,u){const h=i.createContext(1,e,n),m=[Dl(e,a,n)],p=[l];if(u.length%2!=0)throw new he(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(Dl(e,u[w])),p.push(u[w+1]);const y=[],v=bn.empty();for(let w=m.length-1;w>=0;--w)if(!nS(y,m[w])){const C=m[w];let P=p[w];P=wt(P);const Q=h.childContextForFieldPath(C);if(P instanceof pd)y.push(C);else{const F=Ru(P,Q);F!=null&&(y.push(C),v.set(C,F))}}const A=new Cn(y);return new Jw(v,A,h.fieldTransforms)}function lM(i,e,n,a=!1){return Ru(n,i.createContext(a?4:3,e))}function Ru(i,e){if(eS(i=wt(i)))return dg("Unsupported field value:",e,i),Zw(i,e);if(i instanceof ug)return(function(a,l){if(!Ww(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,l){const u=[];let h=0;for(const m of a){let p=Ru(m,l.childContextForArray(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(i,e)}return(function(a,l){if((a=wt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return zO(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=lt.fromDate(a);return{timestampValue:jh(l.serializer,u)}}if(a instanceof lt){const u=new lt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:jh(l.serializer,u)}}if(a instanceof Xi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Xn)return{bytesValue:bw(l.serializer,a._byteString)};if(a instanceof Vt){const u=l.databaseId,h=a.firestore._databaseId;if(!h.isEqual(u))throw l.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Qp(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof _i)return(function(h,m){const p=h instanceof _i?h.toArray():h;return{mapValue:{fields:{[QA]:{stringValue:$A},[Lh]:{arrayValue:{values:p.map((v=>{if(typeof v!="number")throw m.createError("VectorValues must only contain numeric values.");return Gp(m.serializer,v)}))}}}}}})(a,l);if(Iw(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${nd(a)}`)})(i,e)}function Zw(i,e){const n={};return HA(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ia(i,((a,l)=>{const u=Ru(l,e.childContextForField(a));u!=null&&(n[a]=u)})),{mapValue:{fields:n}}}function eS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof lt||i instanceof Xi||i instanceof Xn||i instanceof Vt||i instanceof ug||i instanceof _i||Iw(i))}function dg(i,e,n){if(!eS(n)||!zA(n)){const a=nd(n);throw a==="an object"?e.createError(i+" a custom object"):e.createError(i+" "+a)}}function Dl(i,e,n){if((e=wt(e))instanceof og)return e._internalPath;if(typeof e=="string")return tS(i,e);throw Fh("Field path arguments must be of type string or ",i,!1,void 0,n)}const oM=new RegExp("[~\\*/\\[\\]]");function tS(i,e,n){if(e.search(oM)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new og(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Fh(i,e,n,a,l){const u=a&&!a.isEmpty(),h=l!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${a}`),h&&(p+=` in document ${l}`),p+=")"),new he(Z.INVALID_ARGUMENT,m+i+p)}function nS(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{convertValue(e,n="none"){switch(Ta(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return Ia(e,((l,u)=>{a[l]=this.convertValue(u,n)})),a}convertVectorValue(e){var a,l,u;const n=(u=(l=(a=e.fields)==null?void 0:a[Lh].arrayValue)==null?void 0:l.values)==null?void 0:u.map((h=>At(h.doubleValue)));return new _i(n)}convertGeoPoint(e){return new Xi(At(e.latitude),At(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=ad(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(fu(e));default:return null}}convertTimestamp(e){const n=Ea(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=rt.fromString(e);Ke(Sw(a),9688,{name:e});const l=new mu(a.get(1),a.get(3)),u=new ye(a.popFirst(5));return l.isEqual(n)||Ar(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS extends uM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}const UE="@firebase/firestore",PE="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(i){return(function(n,a){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of a)if(u in l&&typeof l[u]=="function")return!0;return!1})(i,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,n,a,l,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Dl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cM extends rS{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fg{}class aS extends fg{}function zE(i,e,...n){let a=[];e instanceof fg&&a.push(e),a=a.concat(n),(function(u){const h=u.filter((p=>p instanceof pg)).length,m=u.filter((p=>p instanceof mg)).length;if(h>1||h>0&&m>0)throw new he(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)i=l._apply(i);return i}class mg extends aS{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new mg(e,n,a)}_apply(e){const n=this._parse(e);return sS(e._query,n),new Es(e.firestore,e.converter,tp(e._query,n))}_parse(e){const n=hg(e.firestore);return(function(u,h,m,p,y,v,A){let w;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new he(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){FE(A,v);const P=[];for(const Q of A)P.push(HE(p,u,Q));w={arrayValue:{values:P}}}else w=HE(p,u,A)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||FE(A,v),w=lM(m,h,A,v==="in"||v==="not-in");return Mt.create(y,v,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class pg extends fg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new pg(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:vi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,u){let h=l;const m=u.getFlattenedFilters();for(const p of m)sS(h,p),h=tp(h,p)})(e._query,n),new Es(e.firestore,e.converter,tp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class gg extends aS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new gg(e,n)}_apply(e){const n=(function(l,u,h){if(l.startAt!==null)throw new he(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new he(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gu(u,h)})(e._query,this._field,this._direction);return new Es(e.firestore,e.converter,OO(e._query,n))}}function BE(i,e="asc"){const n=e,a=Dl("orderBy",i);return gg._create(a,n)}function HE(i,e,n){if(typeof(n=wt(n))=="string"){if(n==="")throw new he(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iw(e)&&n.indexOf("/")!==-1)throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(rt.fromString(n));if(!ye.isDocumentKey(a))throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Z0(i,new ye(a))}if(n instanceof Vt)return Z0(i,n._key);throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nd(n)}.`)}function FE(i,e){if(!Array.isArray(i)||i.length===0)throw new he(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sS(i,e){const n=(function(l,u){for(const h of l)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function dM(i,e,n){let a;return a=i?i.toFirestore(e):e,a}class Zo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class us extends rS{constructor(e,n,a,l,u,h){super(e,n,a,l,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(Dl("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=us._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}us._jsonSchemaVersion="firestore/documentSnapshot/1.0",us._jsonSchema={type:Lt("string",us._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class Th extends us{data(e={}){return super.data(e)}}class Al{constructor(e,n,a,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Zo(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new Th(this._firestore,this._userDataWriter,a.key,a,new Zo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let h=0;return l._snapshot.docChanges.map((m=>{const p=new Th(l._firestore,l._userDataWriter,m.doc.key,m.doc,new Zo(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Th(l._firestore,l._userDataWriter,m.doc.key,m.doc,new Zo(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,v=-1;return m.type!==0&&(y=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),v=h.indexOf(m.doc.key)),{type:fM(m.type),doc:p,oldIndex:y,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Al._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Up.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function fM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:i})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Al._jsonSchemaVersion="firestore/querySnapshot/1.0",Al._jsonSchema={type:Lt("string",Al._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};function GE(i,e,n,...a){i=ga(i,Vt);const l=ga(i.firestore,Ol),u=hg(l);let h;return h=typeof(e=wt(e))=="string"||e instanceof og?sM(u,"updateDoc",i._key,e,n,a):aM(u,"updateDoc",i._key,e),yg(l,[h.toMutation(i._key,yi.exists(!0))])}function qE(i){return yg(ga(i.firestore,Ol),[new qp(i._key,yi.none())])}function YE(i,e){const n=ga(i.firestore,Ol),a=Wo(i),l=dM(i.converter,e),u=hg(i.firestore);return yg(n,[rM(u,"addDoc",a._key,l,i.converter!==null,{}).toMutation(a._key,yi.exists(!1))]).then((()=>a))}function KE(i,...e){var y,v,A;i=wt(i);let n={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||jE(e[a])||(n=e[a++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(jE(e[a])){const w=e[a];e[a]=(y=w.next)==null?void 0:y.bind(w),e[a+1]=(v=w.error)==null?void 0:v.bind(w),e[a+2]=(A=w.complete)==null?void 0:A.bind(w)}let u,h,m;if(i instanceof Vt)h=ga(i.firestore,Ol),m=Fp(i._key.path),u={next:w=>{e[a]&&e[a](mM(h,i,w))},error:e[a+1],complete:e[a+2]};else{const w=ga(i,Es);h=ga(w.firestore,Ol),m=w._query;const C=new iS(h);u={next:P=>{e[a]&&e[a](new Al(h,C,w,P))},error:e[a+1],complete:e[a+2]},hM(i._query)}const p=Xw(h);return Q4(p,m,l,u)}function yg(i,e){const n=Xw(i);return $4(n,e)}function mM(i,e,n){const a=n.docs.get(e._key),l=new iS(i);return new us(i,l,e._key,a,new Zo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){Y2(Ll),Ji(new bi("firestore",((a,{instanceIdentifier:l,options:u})=>{const h=a.getProvider("app").getImmediate(),m=new Ol(new $2(a.getProvider("auth-internal")),new W2(h,a.getProvider("app-check-internal")),pO(h,l),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Jn(UE,PE,e),Jn(UE,PE,"esm2020")})();const pM={apiKey:"AIzaSyAPC-PciJOrOYTMt9fFLQup1SQ7n31QCro",authDomain:"benim-televizyonum-6791f.firebaseapp.com",projectId:"benim-televizyonum-6791f",storageBucket:"benim-televizyonum-6791f.firebasestorage.app",messagingSenderId:"360775517129",appId:"1:360775517129:web:a9db393cc0bca6058c5e18",measurementId:"G-4XP0D3C927"},_g=xT(pM);B2(_g);const sa=Z4(_g),bg=vC(_g),gM=({isOpen:i,onClose:e,onLoginSuccess:n})=>{const[a,l]=ue.useState(""),[u,h]=ue.useState(""),[m,p]=ue.useState(""),[y,v]=ue.useState(!1);if(!i)return null;const A=async w=>{w.preventDefault(),v(!0),p("");try{await ok(bg,a,u),n(),e()}catch(C){console.error("Login Error:",C),p("Giri baarsz. Bilgilerinizi kontrol edin.")}finally{v(!1)}};return _.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/90 p-4",children:_.jsxs("div",{className:"w-full max-w-md bg-neutral-900 border-2 border-white p-8 relative shadow-[0_0_20px_rgba(255,255,255,0.2)]",children:[_.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-neutral-500 hover:text-white",children:_.jsx(_r,{size:24})}),_.jsxs("div",{className:"flex flex-col items-center mb-6",children:[_.jsx("div",{className:"bg-neutral-800 p-4 rounded-full mb-4",children:_.jsx(Bx,{size:32,className:"text-yellow-400"})}),_.jsx("h2",{className:"text-2xl font-bold text-white uppercase tracking-widest",children:"Ynetici Girii"})]}),m&&_.jsx("div",{className:"bg-red-900/50 border border-red-500 text-red-200 p-3 mb-4 text-center text-sm font-bold",children:m}),_.jsxs("form",{onSubmit:A,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-neutral-400 text-sm font-bold mb-2",children:"E-POSTA"}),_.jsx("input",{type:"email",value:a,onChange:w=>l(w.target.value),className:"w-full bg-black border border-neutral-700 text-white p-3 focus:border-yellow-400 focus:outline-none transition-colors",placeholder:"yonetici@benimtv.com",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-neutral-400 text-sm font-bold mb-2",children:"FRE"}),_.jsx("input",{type:"password",value:u,onChange:w=>h(w.target.value),className:"w-full bg-black border border-neutral-700 text-white p-3 focus:border-yellow-400 focus:outline-none transition-colors",placeholder:"",required:!0})]}),_.jsx("button",{type:"submit",disabled:y,className:"w-full bg-white text-black font-bold py-3 mt-4 hover:bg-yellow-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:y?"GR YAPILIYOR...":"GR YAP"})]})]})})},yM=({post:i,onClick:e})=>_.jsxs("div",{onClick:()=>e(i),className:"group relative bg-neutral-900 border-2 border-white hover:border-yellow-400 transition-all cursor-pointer overflow-hidden flex flex-col h-full",children:[i.coverImage&&_.jsxs("div",{className:"h-48 w-full overflow-hidden border-b border-white relative group-hover:border-yellow-400 transition-colors",children:[_.jsx("img",{src:i.coverImage,alt:i.title,className:"w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-500"}),_.jsx("div",{className:"absolute inset-0 bg-yellow-400/10 mix-blend-overlay opacity-0 group-hover:opacity-100 transition-opacity"})]}),_.jsx("div",{className:"bg-neutral-800 h-2 w-full border-b border-white group-hover:bg-yellow-400 transition-colors"}),_.jsxs("div",{className:"p-6 flex flex-col flex-1",children:[_.jsxs("div",{className:"flex items-center gap-2 text-xs text-neutral-500 font-mono mb-3",children:[_.jsx(jm,{size:14}),_.jsx("span",{children:i.date})]}),_.jsx("h3",{className:"text-xl font-bold text-white mb-3 group-hover:text-yellow-400 transition-colors line-clamp-3 leading-snug",children:i.title}),_.jsx("p",{className:"text-neutral-400 text-sm line-clamp-4 leading-relaxed mb-6 flex-1 font-inter font-normal",children:i.summary}),_.jsxs("div",{className:"flex items-center justify-between mt-auto pt-4 border-t border-neutral-800",children:[_.jsx("span",{className:"text-xs text-neutral-600 font-mono uppercase tracking-widest",children:i.author}),_.jsxs("button",{className:"flex items-center gap-1 text-sm font-bold text-white group-hover:text-yellow-400 transition-colors",children:["OKU ",_.jsx(Sx,{size:16})]})]})]}),_.jsx("div",{className:"absolute inset-0 bg-yellow-400/5 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"})]}),_M=({post:i,onClose:e})=>(tu.useEffect(()=>(i?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[i]),i?_.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center bg-black/95 p-4 overflow-y-auto",children:_.jsxs("div",{className:"relative w-full max-w-3xl bg-neutral-900 border-x-4 border-white shadow-[0_0_30px_rgba(255,255,255,0.1)] my-8",children:[_.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 bg-black text-white p-2 border border-white hover:bg-white hover:text-black transition-colors rounded-full",children:_.jsx(_r,{size:24})}),_.jsxs("div",{className:"bg-neutral-100 text-black border-b-4 border-black",children:[i.coverImage&&_.jsxs("div",{className:"w-full h-64 md:h-96 overflow-hidden border-b-4 border-black relative",children:[_.jsx("img",{src:i.coverImage,alt:i.title,className:"w-full h-full object-cover"}),_.jsx("div",{className:"absolute inset-0 bg-black/10 scanlines pointer-events-none"})]}),_.jsxs("div",{className:"p-8 md:p-12 pb-8",children:[_.jsxs("div",{className:"flex flex-wrap gap-4 text-sm font-bold opacity-60 mb-4 font-mono uppercase",children:[_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(vx,{size:14})," ",i.date]}),_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(Kh,{size:14})," ",i.author]})]}),_.jsx("h1",{className:"text-3xl md:text-5xl font-black leading-tight mb-4 tracking-normal",children:i.title})]})]}),_.jsxs("div",{className:"p-8 md:p-12 bg-neutral-900 text-neutral-300 text-lg md:text-xl leading-relaxed font-inter font-normal",children:[_.jsx("div",{className:`prose prose-invert prose-lg md:prose-xl max-w-none 
                        prose-headings:font-sans prose-headings:font-bold prose-headings:text-yellow-400
                        prose-p:mb-8 prose-p:leading-loose
                        prose-strong:text-white`,dangerouslySetInnerHTML:{__html:i.content}}),_.jsxs("div",{className:"mt-12 pt-8 border-t border-neutral-700 text-center",children:[_.jsx("span",{className:"text-4xl text-neutral-600",children:"***"}),_.jsxs("div",{className:"mt-8",children:[_.jsx("p",{className:"text-neutral-400 mb-4 text-base",children:"Bu ierii beendiyseniz, sradaki filmimi semek iin Patreon'a gz atabilirsiniz:"}),_.jsxs("a",{href:"https://www.patreon.com/bolvitamin",target:"_blank",rel:"noopener noreferrer",className:"w-full bg-cyan-400 text-black px-8 py-4 text-xl font-bold hover:bg-white hover:text-cyan-500 transition-colors flex items-center justify-center gap-2 font-mono uppercase tracking-wider",children:[_.jsx("span",{children:"BR FLM ISMARLA (PATREON)"}),_.jsx(_p,{size:20})]})]})]})]})]})}):null),QE=[{id:"8",title:"Jenerik Bitti, ile Balad: Hollywood Yldzlarnn artan Yeni Meslekleri",summary:"Vaktiyle dnyay kurtaran o dev isimler, jenerik bittikten sonra hangi antiyede ter dkyor, hangi dkkanda kepenk ayor? te Hollywoodun gizli emeklilik dosyas.",content:`
            <p class="mb-4">Vaktiyle dnyay kurtaran o dev isimler, jenerik bittikten sonra hangi antiyede ter dkyor, hangi dkkanda kepenk ayor? te Hollywoodun gizli emeklilik dosyas.</p>
            
            <h3 class="text-xl font-bold text-yellow-400 mb-2 mt-6">WALL-E: antiyelerin Sessiz Fedaisi, "Kp Sleyman"</h3>
            <img src="/blog-images/wall_e_construction.jpg" alt="WALL-E naatta" class="w-full h-auto rounded-lg mb-2 border border-neutral-700" />
            <p class="mb-4 text-sm text-neutral-500 italic">Akam paydosunda ayn yudumlarken...</p>
            
            <p class="mb-4">Gne panelleriyle arj olup dnyay kurtard gnler ok geride kald. nsanlk dnyaya dndnde grd ki; her yer inaat, her yer kentsel dnm. WALL-Enin o mehur p sktrma yetenei, byk mteahhitlerin itahn kabartt. imdi onu, sabah ezanyla birlikte antiyeye giren, zerinde yal bir amele yelei ve gneten solmu sar bir baretle gryoruz.</p>

            <p class="mb-4">Dier iiler ona "Kp Sleyman" diyor. Neden mi? nk yklan binalarn molozlarn saniyeler iinde tertemiz kpler haline getirip kamyonlara yklyor. le molasnda dier iiler ay ocanda kat oynarken, bizimki bir kede pas skc spreyini skp gnein altnda "ak tazelemeye" alyor. Eskiden binalarn arasndan hznl hznl bakard, imdi ise "Usta, imento nerede kald?" dercesine o mehur dijital sesiyle vin operatrlerine sinyal veriyor.</p>

            <p class="mb-4">En byk derdi ise i gvenlii uzmanlar. Paletleri and iin srekli "Arza bildirimi" veriyorlar ama o, bir damla 10-40 numara motor yayla akama kadar moloz kplemeye devam ediyor. Akam olduunda ise antiye konteynerinin arkasnda, pasl bir tenekenin iinde yaktklar atein banda oturup, eski psk kaydedicisinden "Hello, Dolly!" yerine Mslm Grses alyor. Hayat zor, dnya beton ama o hala o kplerin arasna gizlice bir para yeillik sktrmaktan vazgemiyor.</p>

            <h3 class="text-xl font-bold text-yellow-400 mb-2 mt-6">Vahi Doann Aristokratyd, Mahallenin 'Tilki Abisi' Oldu</h3>
            <img src="/blog-images/mr_fox.jpg" alt="Mr. Fox Kahvehanede" class="w-full h-auto rounded-lg mb-2 border border-neutral-700" />
            <p class="mb-4 text-sm text-neutral-500 italic">"Sen artk bir esnafsn Mr. Fox!"</p>

            <p class="mb-4">Vaktiyle iftileri parmanda oynatan, her soygunu bir sanat eserine dntren o "Yaman Tilki", imdi bir Ege kasabasnda gndelik ilere gidiyor. O mehur turuncu kadife ceketi artk dirseklerinden yamal, cebinde ise yarm bir paket ucuz ttn var. "Vahi bir hayvan mym, yoksa bir aile babas m?" sorusuna cevab hayat ok sert vermi: "Sen artk bir esnafsn Mr. Fox!"</p>

            <p class="mb-4">imdilerde onu yerel bir tavuk iftliinin kapsnda, "Gvenlik Danman" kartvizitiyle grebilirsiniz. iftlik sahibi, "Tilkiye kmesi emanet etmek" deyimini ciddiye alm ama Mr. Fox artk o eski heyecannda deil. Emeklilik ikramiyesini bir tarla iine batrd iin, geceleri elinde fenerle kmesin etrafnda turlayp kendi hemehrilerini (dier tilkileri) kovalyor. Arada bir eski alkanlkla parmaklarn klatp o mehur sln alyor ama tek gelen tepki, uykusu blnen bir horozun kfr oluyor. Akamlar kahvehanede okeye drdnc ararken, "Biz zamannda  byk iftiyi ayn gece paketledik..." diye balad hikayeleri kimse dinlemiyor; herkes ona "Amma salladn be Tilki abi, bas okeyi!" diyor.</p>

            <h3 class="text-xl font-bold text-yellow-400 mb-2 mt-6">Cybertron'un Gururuydu, kitelli'nin 'Sar Ustas' Oldu</h3>
            <img src="/blog-images/bumblebee.jpg" alt="Bumblebee Oto Kaporta" class="w-full h-auto rounded-lg mb-2 border border-neutral-700" />
            <p class="mb-4 text-sm text-neutral-500 italic">"Usta, bu araba kendi kendine konuuyor!"</p>

            <p class="mb-4">Galaksiler aras sava bitti, Cybertron kurtuldu, Optimus Prime emekli olup bir kenara ekildi. Peki ya bizim sadk sar dev? Dnyada kalp "insanlara yardm etme" szn biraz fazla ciddiye alm olacak ki, kendini bir anda kitelli Organize Sanayi Blgesi'nde, "Bumblebee Oto Kaporta & Radyatr" dkkann aarken buldu.</p>

            <p class="mb-4">Artk o haval Camaro formuna sadece pazar gnleri, o da hanm (eer bir gn bulursa) gezmeye gtrmek iin giriyor. Hafta ii ise dkkann nnde, zerine devasa bir mavi i nl ekmi, elinde prmzle kaza yapm Broadway'lerin aselerini dzeltiyor. Ses modl hala tamir edilemedii iin mterilerle radyo frekanslarndan arklarla anlayor; pazarlk yaparken Mslm Grsesten "Ykla Ykla" alnca mteri durumun ciddiyetini anlayp indirimi kapyor.</p>

            <p class="mb-4">En byk sknts ise rak bulamamak. "Usta, bu araba kendi kendine konuuyor!" diyen raklar kat iin btn i ona kalyor. Akamlar dkkann kepengini indirirken eklemlerinden gelen gcrtlar "WD-40" ile susturmaya alyor. Eski gnlerdeki gibi dnyay kurtarmyor belki ama, hararet yapm bir kamyoneti yola dndrmenin verdii o kk ama samimi gururla, dkkann arkasndaki konteynerde yal elleriyle msrn patlatp eski sava anlarn ieren VHS kasetleri izliyor.</p>

            <h3 class="text-xl font-bold text-yellow-400 mb-2 mt-6">anzelize Dn Salonunda Bir "Metal Yorgunu"</h3>
            <img src="/blog-images/terminator.jpg" alt="Terminator Gvenlik" class="w-full h-auto rounded-lg mb-2 border border-neutral-700" />
            <p class="mb-4 text-sm text-neutral-500 italic">"Damsz girilmez dedim!"</p>

            <p class="mb-4">Aslnda her ey kyametin bir trl kopmamasyla balad. John Connor byd, Skynet hi kurulmad; T-800 ise elinde ilevsiz bir "gelecei kurtarma" greviyle ortada kald. Bir sre inaatlarda ar yk tad ama eklemleri gcrdaynca daha az hareket edecei bir ie, zel gvenlie geti.</p>

            <p class="mb-4">imdi onu Baclar tarafndaki anzelize Dn Salonunun kapsnda grebilirsiniz. zerinde dikileri zorlanan, ter kokan beyaz bir gmlek... Gzndeki o mehur siyah gzlkleri artk haval durmak iin deil, kaynak yaparken bozulan ve srekli krmz parlayan sol gzn gizlemek iin takyor. Gece boyunca tek yapt, ieriye damsz girmeye alan genleri "I'll be back" soukluuyla ama bkkn bir sesle geri evirmek.</p>

            <p class="mb-4">Tak treninde altn kesesinin banda beklerken o kzltesi tarayclaryla hala potansiyel tehditleri hesaplyor ama tek grd; yorgunluktan alayan bebekler ve grltden patlam hoparlrler. Mesai bitip herkes daldnda, sandalyelerin zerine devrilip bir bardak soumu ay iiyor. Gelecei kurtarmak kolayd, asl zor olan bu bitmek bilmeyen dnler ve insan drdrym; anlad.</p>
        `,author:"BOLVITAMIN",date:"OCAK 2026",readTime:"3 dk",coverImage:"/blog-images/wall_e_construction.jpg"},{id:"1",title:"Kt Film zlemek in Hayat ok Ksa Diye Dnenlerin Kesinlikle Karmas Gereken 10 aheser",summary:"Yapay zekann hayatmza koar adm girmesini takiben artk gerek iyiyi de gerek kty de bulmak olduka zorlayor.",content:`
            <p class="mb-4">Yapay zekann hayatmza koar adm girmesini takiben artk gerek iyiyi de gerek kty de bulmak olduka zorlayor. Anlalan o ki, netflixi mumla arayacamz gnler ok yaknmzda sevgili dostlarm.</p>
            
            <p class="mb-4">Her gn nmze tonlarca yapmn dt, tketim lgnl andan tketememe lgnl ana gei yapmamza ramak kalan u gnlerde insan eliyle yaplm kt filmlerden bir derleme yapaym istedim sizlere.</p>

            <h3 class="text-xl font-bold text-yellow-400 mb-2 mt-6">Megalopolis (2024)</h3>
            <img src="/blog-images/megalopolis.png" alt="Megalopolis Damacana Sahnesi" class="w-full h-auto rounded-lg mb-2 border border-neutral-700" />
            <p class="mb-4 text-sm text-neutral-500 italic">Kutsal damacana filmi dnda su damacanasn sadece getir reklamlarnda grm olabilirim. Artk bir de Megalopoliste.</p>
            <p class="mb-4">Francis Ford Coppola. Byle bir listede byle bir ismin olmas mmkn deil diye dnyorsunuz muhakkak ama var. u an tam u noktada bu yaanyor ne yazk ki. 86 yanda zerine kaytl 2 dnm arsay satacak olsan devlet senden akl sal raporu istiyor. Oysa Coppola, 120 milyon dolarn bu samala harcam ve ne devlet ne de evresinden bir kii kp da koko, sen ne yapyorsun diyememi. Coppola harcad 120 milyonun yalnzca 10 milyonunu geri alabilmi. Zarar 110 milyon yani. Hadi diyelim ki masraflar abarttlar her kaleme 2 katn yazdlar. Hadi olsun zarar 55 milyon. Basit bir hesapla, ayda 100 bin lira maa aldnz dnelim. Ylda 1 milyon 200 bin lira yapar ki bu da 55 milyonu ancak 46 sene sonra kazanabileceiniz anlamna gelir. Dikkatinizi ekerim, henz, trk liras cinsinden 55 milyondan bahsediyorum. Daha bunu bir de 42,08 ile arpmamz gerekecek. Ben endim siz hesabn yaparsnz artk. Ar para konutuk biraz da filme dair bir eyler syleyeyim diyeceim ama maaalesef.</p>

            <h3 class="text-xl font-bold text-yellow-400 mb-2 mt-6">Nope (2022)</h3>
            <img src="/blog-images/nope.png" alt="Nope Film Sahnesi" class="w-full h-auto rounded-lg mb-2 border border-neutral-700" />
            <p class="mb-4 text-sm text-neutral-500 italic">Grsel: Imdb</p>
            <p class="mb-4">Get Out ile gnlleri fetheden Jordan Peelenin ok ey vaat ederek balayan ama ksa srede toparlanmas zor bir samaln iinde olduunuzu anladnz filmi. Nopeun ardndan yaklak 3 yldr yeni bir projede ad gemedi Peelenin. Filmin ok kt olmas ile ilgisi olduunu sanmyorum ama umuyorum ki Get Outu aratmayan yeni bir i ile dn yapar.</p>

            <h3 class="text-xl font-bold text-yellow-400 mb-2 mt-6">Black Panther: Wakanda Forever (2022)</h3>
            <img src="/blog-images/black_panther.png" alt="Black Panther Film Sahnesi" class="w-full h-auto rounded-lg mb-2 border border-neutral-700" />
            <p class="mb-4 text-sm text-neutral-500 italic">Baz sahneler trtde yaynlanan bir osmanl dizisinden gibi. Grsel: Imdb</p>
            <p class="mb-4">Kahramanlarn kadn yapyorlar diye marvelclar alklamal myz? Tam tersine kadn kahraman filmlerini ok kt yaptklar iin marvelclardan hesap sormalyz.</p>

            <h3 class="text-xl font-bold text-yellow-400 mb-2 mt-6">Nobody 2 (2025)</h3>
            <img src="/blog-images/nobody2.png" alt="Nobody 2 Film Sahnesi" class="w-full h-auto rounded-lg mb-2 border border-neutral-700" />
            <p class="mb-4 text-sm text-neutral-500 italic">Meer tm aile psikopatm. Vauv. Grsel: Imdb</p>
            <p class="mb-4">lki tutunca hemen ikincisini ekelim 2000'lerin modasyd diye dnyorsanz Nobody serisine bir bakmanz neririm.</p>

            <h3 class="text-xl font-bold text-yellow-400 mb-2 mt-6">Kingdom of the Planets of the Apes (2024)</h3>
            <img src="/blog-images/kingdom_apes.jpg" alt="Kingdom of the Planets of the Apes Film Sahnesi" class="w-full h-auto rounded-lg mb-2 border border-neutral-700" />
            <p class="mb-4 text-sm text-neutral-500 italic">Grsel: Nano Banana</p>
            <p class="mb-4">Sezarn saltanatndan yllar sonra gen bir maymun, gemie dair rendii her eyi sorgulamasna ve hem maymunlar hem de insanlar iin bir gelecei belirleyecek seimler yapmasna yol aacak bir yolculua kar. 162 bin kiinin oyu ile Imdb puan 6,8 filmin. Trumpn 72 milyon oy alarak bakan seildii bir dnyada gzme arym gibi gzkmedi.</p>

            <h3 class="text-xl font-bold text-yellow-400 mb-2 mt-6">Nyad (2023)</h3>
            <img src="/blog-images/nyad.png" alt="Nyad Film Sahnesi" class="w-full h-auto rounded-lg mb-2 border border-neutral-700" />
            <p class="mb-4 text-sm text-neutral-500 italic">Grsel: Imdb</p>
            <p class="mb-4">Imdbde 7.1 puan alm film. Bir filmin kahraman kadnsa ve filmin ierisinde lgbt birey ve/veya bireyler bulunuyorsa puan 7'nin altna dmyor genellikle. Imdbde byle bir dayanma grubu var sanyorum. Bir ounun filmi izlediini bile dnmyorum.</p>

            <h3 class="text-xl font-bold text-yellow-400 mb-2 mt-6">The Adam Project (2022)</h3>
            <img src="/blog-images/adam_project.jpg" alt="The Adam Project Film Sahnesi" class="w-full h-auto rounded-lg mb-2 border border-neutral-700" />
            <p class="mb-4 text-sm text-neutral-500 italic">Grsel: Nano Banana</p>
            <p class="mb-4">Bu filmi izlemek yerine amar makinasnn karsna oturup 1 saat 46 dakika boyunca ykanan amarlar seyretmi olsaydm elimde eminim daha ok ey olurdu. Bu kadar uzun sre dnmesi iin pamuklu moduna almam gerekir ama olsun buna deer.</p>

            <h3 class="text-xl font-bold text-yellow-400 mb-2 mt-6">Terrifier 2 (2022)</h3>
            <p class="mb-4">Kt filmler asndan 2022 yl olduka verimli gemi grnyor. Bunlar arasnda da en baarls kukusuz Terrifier 2.</p>

            <h3 class="text-xl font-bold text-yellow-400 mb-2 mt-6">Onlar izlemeyenler bunlar da izlemedi;</h3>
            <p class="mb-4">
                Monster (2023)<br>
                Shang-Chi and the Legend of the Ten Rings (2021)
            </p>

            <p class="mb-4">Byle bir liste yapmaya karar verdiimde uzun sredir izlemeyi ertelediim The Substancei de aradan karaym dedim. Bu listede kendine yer bulacan umuyordum. Dorusunu sylemek gerekirse hi de dndm gibi olmad. Filmi keyifle izledim. Ynetmen Coralie Fargeat (Revenge filminin de yazar ayn zamanda) 1 saat 50 dakika civarlarnda gen karakterin dellenmesinin ardndan bitirmi filmi bana kalrsa. Lakin yapmclar tatmin olmam ve daha kanl bir son istemi olmal ki iler oradan sonra rndan km. Ancak bylesine samasapan bir son bile filmi kt bir film snfna sokamam.</p>
            
            <p class="mb-4">evremden de ok duyuyorum, internette de ska denk geliyorum. nsanlar bir buuk saat sresince dikkatlerini toparlayp film seyredememekten olduka ikayeti. Bunun dikkat srelerinin dmesinden ziyade korkun sayda ierie ve ounlukla kt ierie maruz kalmamzla ilgisi olduunu dnyorum. Gerekten iyi bir filmi 4 gnde izlemezsiniz mesela. Bana oturur, bitince de kalkarsnz. En fazla suyunuzu imek iinizi yapmak iin durdurursunuz.</p>
        `,author:"BOLVITAMIN",date:"KASIM 2025",readTime:"3 dk",coverImage:"/blog-images/1.jpg"},{id:"2",title:"2015ten 2024e; Annecy Cristal for a Feature Film",summary:"Animasyon dnyasnn en prestijli dllerinden biri olan Annecy Cristal dl kazanan filmlere bir bak.",content:`
            <p class="mb-4">Bundan 1718 sene evvel animasyon konusunda olduka istekli ve itahlydm. O dnem Animasyon Enstits amak iin bir proje yazdm. Grmeler ayarlayp stanbul, zmir ve birka ehrimizin daha belediyelerine ve niversitelerine sunumlar yaptm. Hibirinden hibir ey kmad. Sanrm tek kazancm dnemin dnyaca nl animasyon film ynetmenleri ve emekileri ile yazmak, tanmak ve ileriye dnk szler almak oldu. Neden sonra bilmiyorum bir sre ticari olarak animasyon ile ilgilendikten sonra zerine dnmeyi kestim.</p>
            
            <p class="mb-4">Hatrlyorum, her eyden uzaklap haftalarca kapanp oturup uzun metraj stop motion animasyon film yapmak istei korkun basknd o yllar. Bu fikir ve istek gereklemesi zor olsa da beni hep mutlu etmitir.</p>

            <p class="mb-6">Her neyse, bu uzun girizgahn ardndan esas konumuza dnelim;</p>

            <p class="mb-6 font-bold text-yellow-400">DEVAMI GELECEK...</p>
        `,author:"BOLVITAMIN",date:"OCAK 2025",readTime:"2 dk",coverImage:"/blog-images/annecy_cristal.jpg"},{id:"3",title:"zlemenize Lzum Olmayan 17 Film",summary:"anakkalenin plaka kodu 17 olduu iin burada her eyin adnda bir ekilde 17'yi grmek mmkn.",content:`
            <p class="mb-4">Neden mi 17? anakkalenin plaka kodu 17 olduu iin burada her eyin adnda bir ekilde 17'yi grmek mmkn. Yer yer On Yedi, zaman zaman On7, bazen dmdz 17, bazense 10 Yedi eklinde.</p>
            
            <p class="mb-4">Kalelilikte 5. yla girerken orbada tuzum bulunsun istedim ve izlemenize hi gerek olmayan tam 17 filmi listeledim.</p>

            <p class="mb-6 font-bold text-yellow-400">DEVAMI GELECEK...</p>
        `,author:"BOLVITAMIN",date:"ARALIK 2024",readTime:"4 dk",coverImage:"/blog-images/useless_17.jpg"},{id:"4",title:"Kann Gvdeyi Gtrd Filmler",summary:"Kan gvdeyi gtryor diye bir deyim var. Kann bolca aktn anlatmakta kullanlyor. Anlam bir yana cmleyi kafanzda canlandrdnzda dehet verici bir grnt ile karlayorsunuz.",content:`
            <p class="mb-4">Kan gvdeyi gtryor diye bir deyim var. Kann bolca aktn anlatmakta kullanlyor. Anlam bir yana cmleyi kafanzda canlandrdnzda dehet verici bir grnt ile karlayorsunuz.</p>
            
            <p class="mb-4">Kan ylesine ok akyor ki bedenleri bir dere misali alp gtryor. Gerekten manyaka bir yaklam.</p>
            
            <p class="mb-4">Trkiyede yaayanlarn korku - gerilim trnde aradn bulmas, tatmin olmas pek de kolay deil takdir edersiniz ki. Ben yine de son dnemde kann gvdeyi gtrd filmlerden bir demet sunmak istedim sizlere.</p>

            <p class="mb-4">Adam taksici kadnlar karp ikence ediyor. Ihh, grdk, ge. Psikopat bir katil random insan doruyor. Pff, bizde her gn oluyor, skc.</p>

            <p class="mb-4">Ya, alakasz imdi ama yeni bir ey rendim. Jaluzi var ya jaluzi, bildiin ingilizce jealousyden (kskanlk) geliyormu. Yani ben bunu duydum bir yerden -iin dorusu aratrmadm da- ama bana gayet mantkl geldi. Size gelmedi mi?</p>

            <p class="mb-4">Her neyse, konumuza geri dnelim. Son dnemde korku filmi piyasasndaki kpran gznze arpmtr. Benim arpt, oturup pek ounu da izledim.</p>
            
            <p class="mb-4">Bugn pazara giderken ky yolunda en az iki yz kilo bir domuzu ldrp yolun kenarna attklarn grdm. zerinde de bir kartal duruyordu. Bana kalrsa, mslmanlarn israf kampanyalar klliyen hikaye. Ekmeinizi atmayn, israf etmeyin cart curt. 200 kilo et haram diye yol kenarnda rmeyi bekliyor yahu. Neyin israf?</p>

            <p class="mb-4">Arkada, u hayvan vuruyorsunuz bari yiyin yahu yiyin. karn yeni-gncel bir fetva, ecnebiden ithal edilen et daha da gnah, o nedenle domuz artk yenebilir deyin.</p>

            <p class="mb-6">Yazk, gnah ama yine siz bilirsiniz tabii.</p>

            <p class="mb-6 font-bold text-yellow-400">DEVAMI GELECEK...</p>
        `,author:"BOLVITAMIN",date:"KASIM 2024",readTime:"5 dk",coverImage:"/blog-images/kan_films.jpg"},{id:"5",title:"zlemediinizde Hibir ey Kaybetmeyeceiniz 10 Film",summary:"Bir eyler izleyeyim, sonunda izlemesem de olurmu diye dneyim diyorsanz ite tam sizlik bir liste.",content:`
            <p class="mb-4">Bir eyler izleyeyim, sonunda izlemesem de olurmu diye dneyim diyorsanz ite tam sizlik bir liste.</p>
            
            <p class="mb-4">Sklmak imdi sizin elinizde!</p>
            
            <p class="mb-4">Uyaryorum, yaz ok youn spoiler ierir. Hatta spoilerdan ziyade direkt filmlerin sonlarn syleyeceim. Spoilern Trke karl datc-bozucu imi. Datacaz yani ortal deerli medyumdalarm.</p>

            <p class="mb-4">Biri u Tdkya doru dzgn bir web sitesi yapsn, Allah rzas in.</p>

            <p class="mb-6 font-bold text-yellow-400">DEVAMI GELECEK...</p>
        `,author:"BOLVITAMIN",date:"EKM 2024",readTime:"3 dk",coverImage:"/blog-images/dont_watch.jpg"},{id:"6",title:"Barolde Vinnie Jones",summary:"Yeil sahalarn baltas, beyaz perdeye kariyerini bullet-tooth tony adyla tayal neredeyse 20 yl oluyor.",content:`
            <p class="mb-4">Yeil sahalarn baltas, beyaz perdeye kariyerini bullet-tooth tony adyla tayal neredeyse 20 yl oluyor. Bu srede neler yaand bir bakalm.</p>
            <p class="mb-4">Vinnie Jones bu geii kukusuz Guy Ritchienin Snatchi sayesinde bu kadar rahat yapabildi. Snatchdeki rolne benzer bir rol daha nce Lock, Stock and Two Smoking Barrels ile sergilemi ve Snatch kadar olmasa da yine beeni toplamt. Bu iki filmde de Ritchie, Jonesun futbol sahalarndaki karakterini beyaz perdede srdrmesini, yani kendisini oynamasn istiyordu ve yle de oldu.</p>

            <p class="mb-6 font-bold text-yellow-400">DEVAMI GELECEK...</p>
        `,author:"BOLVITAMIN",date:"AUSTOS 2019",readTime:"2 dk",coverImage:"/blog-images/vinnie_jones.jpg"},{id:"7",title:"Spel Eycnt Brus Vils",summary:"Cmleye, 2 Emmy dll diye balaynca haval geliyor olabilir ama sz konusu isim bugne dein 100'n zerinde yapmda boy gsteren Bruce Willis olduunda gerek bir baardan bahsedebilir miyiz emin deilim.",content:`
            <p class="mb-4">Cmleye, 2 Emmy dll diye balaynca haval geliyor olabilir ama sz konusu isim bugne dein 100'n zerinde yapmda boy gsteren Bruce Willis olduunda gerek bir baardan bahsedebilir miyiz emin deilim.</p>
            
            <p class="mb-4">Moonlight (80 ve 90 kua Mavi Ay efsanesini ok iyi hatrlar) ve Friendsteki rolleri ile Emmy dl alan Willis bir rportajnda yle diyor;</p>

            <p class="mb-4">Oyuncu olmaktan ok baba olmaktan gurur duyuyorum.</p>

            <p class="mb-4">Son 10 ylda oynad filmlere baktmzda Willisin beyannda (itirafnda) hakl olduunu rahatlkla syleyebiliriz. Ortada gururlanmay gerektirecek bir oyunculuk hibir zaman olmad. Oscar alamad diye Willise kzacak halimiz de yok elbette. Lakin Willis, 40 yla yaklaan kariyerinde Oscara aday dahi gsterilmedi. Peki, bu adamn dnya genelinde 3 milyar dolarn zerinde gie yapmasn salayan ey nedir?</p>

            <p class="mb-4">Belirtmem gerekir ki, bu yazda yukardaki soruyu yantlamaya almayacaz. 66 yandaki milyoner oyuncunun son 10 ylda -oynad demeyelim de- iinde yer ald filmleri konuacaz.</p>

            <p class="mb-4">imdi takvimlerimizi biraz geri alalm ve 2012 ylna dnelim. 2012 ylndan nce de Willisin ok kt filmleri yok mu? Elbette var. Ben, Wes Andersonn Moonrise Kingdomnda Captain Sharp oynadktan sonrasn konumak istiyorum. Filmi izlemi olsanz bile filmde Bruce Willisi hatrlamayabilirsiniz. yi ynetmenin fark da tam olarak bu olsa gerek.</p>

            <p class="mb-4">The Expendables 2 Willisin yer ald en iyi filmlerden biri diyebiliriz. Hikayesini Stallonenin yazd ve ayn zamanda ynettii serinin ilk filmi tutulunca kanlmaz ekilde devam gelmi ve ilk filmin dev kadrosu ikinci filmde de yerini almt. Stallone, Hemsworth, Van Damme, Chuck Norris, Schwarzeneger, Statham, Jet Li, Lundgren (Rocky 4'teki Ivan Drago) ve daha niceleri. Filmin oyuncu kadrosunun yarsndan ou kariyerini benzer ekilde yani 3. snf filmlerde oynayarak srdryor. Bol patlamal, merminin yamur misali yad, kann oluk oluk akt Expendables serisinin 3. filminde ise Willis yer almad. ok para talep ettii iin Stallone kendisiyle almaktan vazgemi. Merak edenler iin serinin 4. filmi de sanyorum yolda. Ama byk ihtimalle Willis kadroda yine yer almayacak.</p>

            <p class="mb-4">Willisin kt kariyerinden bahsetmek iin baladk ama baladmz yer sanrm uygun olmad. nk hemen ardndan gelen film Star Wars 8 ve Knives Out filmlerinin ynetmenliini yapm Rian Johnsondan Looper. Filmde Joseph Gordon-Levittin yalln oynuyor ve iyi bir ynetmenin elinde belki de kariyerinin son iyi yapmlarndan birinde yer alyor Willis.</p>

            <p class="mb-4">Ve nihayet balyoruz. Fire with Fire. Her filmde asker rolnde oynayan Josh Duhamel her filmde polisi canlandran Bruce Willis ile beraber. 2012 tarihli yapmn imdb puan Willis filmleri iinde yksek diyebileceimiz trden. 5.6</p>

            <p class="mb-4">Kariyerinin byk ksmn borlu olduu Die Hard serisinin kt devam filmi A Good Day to Die Hard 2013 tarihli yapm imdbde 5.3 puan yapm.</p>

            <p class="mb-4">Tahmin edin bakalm G.I Joedaki General Joe kim? Ta kendisi! 2013 tarihli Retaliationn puan 5.8</p>

            <p class="mb-4">Yine bir polisi ama bu kez emekli bir polisi oynad, yine dnyay kurtarmak zorunda kald klielerle dolu filmin kadrosunda Hopkins, Malkovich, Jessica Parker, Mirren gibi st dzey oyuncular bulunuyor ve en azndan bu ynyle izlenmeyi hakediyor. 2013 yapm RED 2'nin imdb puan 6.6</p>

            <p class="mb-4">izgi roman uyarlamas Sin City (2014) ise atmosferi gerei onun iin bir ans oluyor. izgi romann grsel dnyasna sadk kalnmas Willisin oyunculuk konusundaki zayflklarn da grnmez klyor. 6.5</p>

            <p class="mb-4">Bruce Willis muhtemelen kz karlan eski polis/tetiki senaryolu filmlerin yzde 80'inde oynuyordur. Yine bunlardan biri olan the Princein puan 4.6</p>

            <p class="mb-4">Aslnda senaryosu hi de fena olmayan ama ynetmenlik ve oyunculukta snfta kalan bilim kurgu filmi Vice 4.2</p>

            <p class="mb-4">Biliyorsunuz, Bruce Willis Almanya doumlu olsa da koyu bir Amerikan milliyetisi. Irak, Afganistan gibi lkelerde amerikan kamplarn ziyaret edip askerlere eitli hediyeler vererek motivasyon salyor. Herhalde iinde Afganistan getii iin kadrosuna alnm olduu, byk oyuncu Bill Murrayin bile kurtaramad Rock the Kasbah 5.5</p>

            <p class="mb-4">Eski bir CIA ajan bir grup terrist tarafndan karlr 2015 yapm Extraction 4.1</p>

            <p class="mb-4">Precious Cargo 4.6</p>

            <p class="mb-4">2016 yapm Marauders 5.5</p>

            <p class="mb-4">Srada Shyamalann Spliti var. Film baarl, nk, -Bruce Willsin ksack bir rol var- demek isterdim ama James McAvoyun hakkn yemek olurdu bu. 7.3</p>

            <p class="mb-4">Once Upon a Time in Venice. Bir dedektif kpeini alan etenin peine der.. Bilin bakalm detektif rolnde kim oynuyor? 5.3</p>

            <p class="mb-4">Bir polis efi 2017 yapm First Kill 5.0</p>

            <p class="mb-4">Dedektif James Avery rolnde Bruce Willis. Acts of Violencein imdb puan 5.3</p>

            <p class="mb-4">Bu kez bir doktor rolnde karmza ksa da adaletin peinde sululara dersini veren Willsin nispeten iyi filmlerinden biri, 2018 yapm Death Wish. 6.3</p>

            <p class="mb-4">Eski bir polis memuru adaletin peinde. Reprisal 4.3</p>

            <p class="mb-4">One Mans Courage.. Bu fiyaskoya Adrian Brodyi de alet etmiler nasl baarmlarsa. Air Strike. 3.2</p>

            <p class="mb-4">Shyamalann lemesinin (Unbreakable  Split) son filmi Glass 6.6</p>

            <p class="mb-4">Edward Nortonun yazd ynettii ve barolnde olduu Motherless Brooklyn 6.8 Norton burada belki de bilerek ironik bir ey yapm. Tutunamayan baarsz bir dedektifi oynayan Nortonn akl hocas rolnde Bruce Willis bulunuyor. Bu rol iin kariyerinde srekli dedektifi oynam birinden daha uygun kim olabilirdi ki?</p>

            <p class="mb-4">Yine bir banka soygunu maceras 10 Minutes Gone. 3.6</p>

            <p class="mb-4">Yl 2019. Dedektif yine Bruce Willis. Trauma Center. 4.2</p>

            <p class="mb-4">2020 yapm Survive the Night. 4.1</p>

            <p class="mb-4">Teknoloji alannda faaliyet gsteren milyarder i adam Bruce Willis, kendisini korumas iin paral asker ordusu tutuyor. Evet, Willis asndan sra d bir senaryo ama Hard Killin puan 3.3</p>

            <p class="mb-4">Hep ayn eyleri yapmaktan bkm olmal ki Willisi bu kez bir bilim kurgu filminde uzay arac tamircisi olarak gryoruz. Bu kez yalnzca dnyay deil evreni kurtarmak zorunda kalr. Breach 3.0</p>

            <p class="mb-4">Willis uzay filmlerini sevdi. Cosmic Sin. Yl 2021 imdb puan ise 2.5</p>

            <p class="mb-4">Bir FBI ajan ve bir polis memuru ok gizemli bir seri cinayeti zyor. Willise bu kez Megan Fox elik ediyor. Midnight in the Switchgrass. 4.4</p>

            <p class="mb-4">Bir polis memuru yozlam polis memurlarn dize getirir. Out of the Death. 3.1</p>

            <p class="mb-4">Bir polis memuru aka deil yle. Survive the Game. 5.5</p>

            <p class="mb-4">zleyiciye mesaj iletmek iin filmlerde oynamyorum. Benim iim elendirmek. Avrupa filmlerinin farkl bir bak as var. zleyiciler kendilerine vaaz verildiini hissettiklerinde isyan ederler.</p>

            <p class="mb-4">Hemen hemen her filminde dnyay kurtaran birinin bunlar sylemesi komik elbette. Willis oynad 3. snf filmlerden gn bana para ald iin genellikle onun tm sahneleri ayn gn veya rol uzunsa birka gnde aralksz olarak ekiliyormu ve kendisi bir daha sete uramyormu. Fiks tarife, gnlk 1 milyon dolar ald syleniyor. Hatrlarsanz, Acun Ilcal tarafndan kutu amal yarmaya da davet edilmi yine o zaman da 1 milyon dolar istedii sylentileri dolamt. Yani 1 milyon dolar gzden karrsanz Bruce Willis ile 1 gn geirebilirsiniz.</p>

            <p class="mb-4">Willisin yazy yazdm tarih itibariyle (Ekim 2021) 2'si tamamlanm gsterim tarihini bekleyen ve 10'u post prodksiyon aamasnda toplam 12 yeni filmi bulunuyor. Neredeyse hepsinde polis veya dnyay kurtarmakla ykml bir karakter rolnde oynuyor. ocukluumuzun kahramanlarndan biri olan Willis, artk syleyecek sz kalmayan Hollywood sinemasnn syleyecek hibir sz olmayan bir dier aktr.</p>

            <p class="mb-4">Daha nce yaptm Vinnie Jones incelemesindeki gibi sadece Imdb puanlarn dikkate alarak bir karm yapmak hakkaniyetli olmaz ancak, tm bu liste bize Bruce Willisin oyunculuk kariyerine dair bireyler sylyor kukusuz.</p>
        `,author:"BOLVITAMIN",date:"EKM 2021",readTime:"6 dk",coverImage:"/blog-images/bruce_willis.jpg"}];var bM={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $E;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})($E||($E={}));var XE;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(XE||(XE={}));var JE;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(JE||(JE={}));var kn;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(kn||(kn={}));var WE;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(WE||(WE={}));var ZE;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(ZE||(ZE={}));var ev;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(ev||(ev={}));var tv;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(tv||(tv={}));var nv;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(nv||(nv={}));var iv;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(iv||(iv={}));var rv;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(rv||(rv={}));var av;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(av||(av={}));var sv;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(sv||(sv={}));var lv;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(lv||(lv={}));var ov;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(ov||(ov={}));var uv;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(uv||(uv={}));var cv;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(cv||(cv={}));var hv;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(hv||(hv={}));var dv;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(dv||(dv={}));var fv;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(fv||(fv={}));var mv;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(mv||(mv={}));var pv;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(pv||(pv={}));var gv;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(gv||(gv={}));var yv;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(yv||(yv={}));var _v;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(_v||(_v={}));var bv;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(bv||(bv={}));var Ev;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Ev||(Ev={}));var vv;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(vv||(vv={}));var Tv;(function(i){i.COLLECTION="COLLECTION"})(Tv||(Tv={}));var Av;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Av||(Av={}));var wv;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(wv||(wv={}));var Sv;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Sv||(Sv={}));var Iv;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Iv||(Iv={}));var xv;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(xv||(xv={}));var Rv;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Rv||(Rv={}));var Nv;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Nv||(Nv={}));var kv;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(kv||(kv={}));var Cv;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Cv||(Cv={}));var Ov;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Ov||(Ov={}));var Dv;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Dv||(Dv={}));var Mv;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Mv||(Mv={}));var Lv;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Lv||(Lv={}));var Vv;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Vv||(Vv={}));var Uv;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Uv||(Uv={}));var Pv;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Pv||(Pv={}));var jv;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(jv||(jv={}));var zv;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(zv||(zv={}));var Bv;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Bv||(Bv={}));var Hv;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Hv||(Hv={}));var Fv;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.ACTIVITY_START="ACTIVITY_START",i.ACTIVITY_END="ACTIVITY_END"})(Fv||(Fv={}));var Gv;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Gv||(Gv={}));var qv;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(qv||(qv={}));var Yv;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Yv||(Yv={}));var Kv;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Kv||(Kv={}));var Qv;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Qv||(Qv={}));var $v;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})($v||($v={}));var Xv;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(Xv||(Xv={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Jv;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(Jv||(Jv={}));function Gh(i,e){var n={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&e.indexOf(a)<0&&(n[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(i);l<a.length;l++)e.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(i,a[l])&&(n[a[l]]=i[a[l]]);return n}function Wv(i){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&i[e],a=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ft(i){return this instanceof ft?(this.v=i,this):new ft(i)}function ou(i,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(i,e||[]),l,u=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",h),l[Symbol.asyncIterator]=function(){return this},l;function h(C){return function(P){return Promise.resolve(P).then(C,A)}}function m(C,P){a[C]&&(l[C]=function(Q){return new Promise(function(F,ie){u.push([C,Q,F,ie])>1||p(C,Q)})},P&&(l[C]=P(l[C])))}function p(C,P){try{y(a[C](P))}catch(Q){w(u[0][3],Q)}}function y(C){C.value instanceof ft?Promise.resolve(C.value.v).then(v,A):w(u[0][2],C)}function v(C){p("next",C)}function A(C){p("throw",C)}function w(C,P){C(P),u.shift(),u.length&&p(u[0][0],u[0][1])}}function wl(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],n;return e?e.call(i):(i=typeof Wv=="function"?Wv(i):i[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(u){n[u]=i[u]&&function(h){return new Promise(function(m,p){h=i[u](h),l(m,p,h.done,h.value)})}}function l(u,h,m,p){Promise.resolve(p).then(function(y){u({value:y,done:m})},h)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let lS=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return lS=i.randomUUID.bind(i),i.randomUUID();const e=new Uint8Array(1),n=i?()=>i.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^n()&15>>+a/4).toString(16))};const EM=()=>lS();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dp(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const fp=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const e=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(e.stack=i.stack),i.cause&&!e.cause&&(e.cause=i.cause),i.name&&(e.name=i.name),e}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wn extends Error{}class cn extends Wn{constructor(e,n,a,l){super(`${cn.makeMessage(e,n,a)}`),this.status=e,this.headers=l,this.error=n}static makeMessage(e,n,a){const l=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):a;return e&&l?`${e} ${l}`:e?`${e} status code (no body)`:l||"(no status code or body)"}static generate(e,n,a,l){if(!e||!l)return new gd({message:a,cause:fp(n)});const u=n;return e===400?new uS(e,u,a,l):e===401?new cS(e,u,a,l):e===403?new hS(e,u,a,l):e===404?new dS(e,u,a,l):e===409?new fS(e,u,a,l):e===422?new mS(e,u,a,l):e===429?new pS(e,u,a,l):e>=500?new gS(e,u,a,l):new cn(e,u,a,l)}}class mp extends cn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class gd extends cn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class oS extends gd{constructor({message:e}={}){super({message:e??"Request timed out."})}}class uS extends cn{}class cS extends cn{}class hS extends cn{}class dS extends cn{}class fS extends cn{}class mS extends cn{}class pS extends cn{}class gS extends cn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vM=/^[a-z][a-z0-9+.-]*:/i,TM=i=>vM.test(i);let pp=i=>(pp=Array.isArray,pp(i));const AM=pp;let wM=AM;const Zv=wM;function SM(i){if(!i)return!0;for(const e in i)return!1;return!0}function IM(i,e){return Object.prototype.hasOwnProperty.call(i,e)}const xM=(i,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Wn(`${i} must be an integer`);if(e<0)throw new Wn(`${i} must be a positive integer`);return e},RM=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NM=i=>new Promise(e=>setTimeout(e,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ml="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kM(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const CM=()=>{var i,e,n,a,l;const u=kM();if(u==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ml,"X-Stainless-OS":tT(Deno.build.os),"X-Stainless-Arch":eT(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ml,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(u==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ml,"X-Stainless-OS":tT((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":eT((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(l=globalThis.process.version)!==null&&l!==void 0?l:"unknown"};const h=OM();return h?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ml,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${h.browser}`,"X-Stainless-Runtime-Version":h.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ml,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function OM(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of i){const a=n.exec(navigator.userAgent);if(a){const l=a[1]||0,u=a[2]||0,h=a[3]||0;return{browser:e,version:`${l}.${u}.${h}`}}}return null}const eT=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",tT=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let oh;const DM=()=>oh??(oh=CM());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MM(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function yS(...i){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...i)}function LM(i){let e=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return yS({start(){},async pull(n){const{done:a,value:l}=await e.next();a?n.close():n.enqueue(l)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function _S(i){if(i[Symbol.asyncIterator])return i;const e=i.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function VM(i){var e,n;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((n=(e=i[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const a=i.getReader(),l=a.cancel();a.releaseLock(),await l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UM=({headers:i,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bS=()=>{var i;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((i=e==null?void 0:e.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Um(i,e,n){return bS(),new File(i,e??"unknown_file",n)}function PM(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const jM=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ES=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",zM=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&ES(i),BM=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function HM(i,e,n){if(bS(),i=await i,zM(i))return i instanceof File?i:Um([await i.arrayBuffer()],i.name);if(BM(i)){const l=await i.blob();return e||(e=new URL(i.url).pathname.split(/[\\/]/).pop()),Um(await gp(l),e,n)}const a=await gp(i);if(e||(e=PM(i)),!(n!=null&&n.type)){const l=a.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof l=="string"&&(n=Object.assign(Object.assign({},n),{type:l}))}return Um(a,e,n)}async function gp(i){var e,n,a,l,u;let h=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)h.push(i);else if(ES(i))h.push(i instanceof Blob?i:await i.arrayBuffer());else if(jM(i))try{for(var m=!0,p=wl(i),y;y=await p.next(),e=y.done,!e;m=!0){l=y.value,m=!1;const v=l;h.push(...await gp(v))}}catch(v){n={error:v}}finally{try{!m&&!e&&(a=p.return)&&await a.call(p)}finally{if(n)throw n.error}}else{const v=(u=i==null?void 0:i.constructor)===null||u===void 0?void 0:u.name;throw new Error(`Unexpected data type: ${typeof i}${v?`; constructor: ${v}`:""}${FM(i)}`)}return h}function FM(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vS{constructor(e){this._client=e}}vS._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TS(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const nT=Object.freeze(Object.create(null)),GM=(i=TS)=>(function(n,...a){if(n.length===1)return n[0];let l=!1;const u=[],h=n.reduce((v,A,w)=>{var C,P,Q;/[?#]/.test(A)&&(l=!0);const F=a[w];let ie=(l?encodeURIComponent:i)(""+F);return w!==a.length&&(F==null||typeof F=="object"&&F.toString===((Q=Object.getPrototypeOf((P=Object.getPrototypeOf((C=F.hasOwnProperty)!==null&&C!==void 0?C:nT))!==null&&P!==void 0?P:nT))===null||Q===void 0?void 0:Q.toString))&&(ie=F+"",u.push({start:v.length+A.length,length:ie.length,error:`Value of type ${Object.prototype.toString.call(F).slice(8,-1)} is not a valid path parameter`})),v+A+(w===a.length?"":ie)},""),m=h.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let y;for(;(y=p.exec(m))!==null;)u.push({start:y.index,length:y[0].length,error:`Value "${y[0]}" can't be safely passed as a path parameter`});if(u.sort((v,A)=>v.start-A.start),u.length>0){let v=0;const A=u.reduce((w,C)=>{const P=" ".repeat(C.start-v),Q="^".repeat(C.length);return v=C.start+C.length,w+P+Q},"");throw new Wn(`Path parameters result in path with invalid segments:
${u.map(w=>w.error).join(`
`)}
${h}
${A}`)}return h}),uh=GM(TS);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AS extends vS{create(e,n){var a;const{api_version:l=this._client.apiVersion}=e,u=Gh(e,["api_version"]);if("model"in u&&"agent_config"in u)throw new Wn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in u&&"generation_config"in u)throw new Wn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(uh`/${l}/interactions`,Object.assign(Object.assign({body:u},n),{stream:(a=e.stream)!==null&&a!==void 0?a:!1}))}delete(e,n={},a){const{api_version:l=this._client.apiVersion}=n??{};return this._client.delete(uh`/${l}/interactions/${e}`,a)}cancel(e,n={},a){const{api_version:l=this._client.apiVersion}=n??{};return this._client.post(uh`/${l}/interactions/${e}/cancel`,a)}get(e,n={},a){var l;const u=n??{},{api_version:h=this._client.apiVersion}=u,m=Gh(u,["api_version"]);return this._client.get(uh`/${h}/interactions/${e}`,Object.assign(Object.assign({query:m},a),{stream:(l=n==null?void 0:n.stream)!==null&&l!==void 0?l:!1}))}}AS._key=Object.freeze(["interactions"]);class wS extends AS{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qM(i){let e=0;for(const l of i)e+=l.length;const n=new Uint8Array(e);let a=0;for(const l of i)n.set(l,a),a+=l.length;return n}let ch;function Eg(i){let e;return(ch??(e=new globalThis.TextEncoder,ch=e.encode.bind(e)))(i)}let hh;function iT(i){let e;return(hh??(e=new globalThis.TextDecoder,hh=e.decode.bind(e)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yd{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Eg(e):e;this.buffer=qM([this.buffer,n]);const a=[];let l;for(;(l=YM(this.buffer,this.carriageReturnIndex))!=null;){if(l.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=l.index;continue}if(this.carriageReturnIndex!=null&&(l.index!==this.carriageReturnIndex+1||l.carriage)){a.push(iT(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const u=this.carriageReturnIndex!==null?l.preceding-1:l.preceding,h=iT(this.buffer.subarray(0,u));a.push(h),this.buffer=this.buffer.subarray(l.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}yd.NEWLINE_CHARS=new Set([`
`,"\r"]);yd.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function YM(i,e){for(let l=e??0;l<i.length;l++){if(i[l]===10)return{preceding:l,index:l+1,carriage:!1};if(i[l]===13)return{preceding:l,index:l+1,carriage:!0}}return null}function KM(i){for(let a=0;a<i.length-1;a++){if(i[a]===10&&i[a+1]===10||i[a]===13&&i[a+1]===13)return a+2;if(i[a]===13&&i[a+1]===10&&a+3<i.length&&i[a+2]===13&&i[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qh={off:0,error:200,warn:300,info:400,debug:500},rT=(i,e,n)=>{if(i){if(IM(qh,i))return i;on(n).warn(`${e} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(qh))}`)}};function eu(){}function dh(i,e,n){return!e||qh[i]>qh[n]?eu:e[i].bind(e)}const QM={error:eu,warn:eu,info:eu,debug:eu};let aT=new WeakMap;function on(i){var e;const n=i.logger,a=(e=i.logLevel)!==null&&e!==void 0?e:"off";if(!n)return QM;const l=aT.get(n);if(l&&l[0]===a)return l[1];const u={error:dh("error",n,a),warn:dh("warn",n,a),info:dh("info",n,a),debug:dh("debug",n,a)};return aT.set(n,[a,u]),u}const as=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gl{constructor(e,n,a){this.iterator=e,this.controller=n,this.client=a}static fromSSEResponse(e,n,a){let l=!1;const u=a?on(a):console;function h(){return ou(this,arguments,function*(){var p,y,v,A;if(l)throw new Wn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");l=!0;let w=!1;try{try{for(var C=!0,P=wl($M(e,n)),Q;Q=yield ft(P.next()),p=Q.done,!p;C=!0){A=Q.value,C=!1;const F=A;if(!w)if(F.data.startsWith("[DONE]")){w=!0;continue}else try{yield yield ft(JSON.parse(F.data))}catch(ie){throw u.error("Could not parse message into JSON:",F.data),u.error("From chunk:",F.raw),ie}}}catch(F){y={error:F}}finally{try{!C&&!p&&(v=P.return)&&(yield ft(v.call(P)))}finally{if(y)throw y.error}}w=!0}catch(F){if(dp(F))return yield ft(void 0);throw F}finally{w||n.abort()}})}return new gl(h,n,a)}static fromReadableStream(e,n,a){let l=!1;function u(){return ou(this,arguments,function*(){var p,y,v,A;const w=new yd,C=_S(e);try{for(var P=!0,Q=wl(C),F;F=yield ft(Q.next()),p=F.done,!p;P=!0){A=F.value,P=!1;const ie=A;for(const ee of w.decode(ie))yield yield ft(ee)}}catch(ie){y={error:ie}}finally{try{!P&&!p&&(v=Q.return)&&(yield ft(v.call(Q)))}finally{if(y)throw y.error}}for(const ie of w.flush())yield yield ft(ie)})}function h(){return ou(this,arguments,function*(){var p,y,v,A;if(l)throw new Wn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");l=!0;let w=!1;try{try{for(var C=!0,P=wl(u()),Q;Q=yield ft(P.next()),p=Q.done,!p;C=!0){A=Q.value,C=!1;const F=A;w||F&&(yield yield ft(JSON.parse(F)))}}catch(F){y={error:F}}finally{try{!C&&!p&&(v=P.return)&&(yield ft(v.call(P)))}finally{if(y)throw y.error}}w=!0}catch(F){if(dp(F))return yield ft(void 0);throw F}finally{w||n.abort()}})}return new gl(h,n,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],a=this.iterator(),l=u=>({next:()=>{if(u.length===0){const h=a.next();e.push(h),n.push(h)}return u.shift()}});return[new gl(()=>l(e),this.controller,this.client),new gl(()=>l(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return yS({async start(){n=e[Symbol.asyncIterator]()},async pull(a){try{const{value:l,done:u}=await n.next();if(u)return a.close();const h=Eg(JSON.stringify(l)+`
`);a.enqueue(h)}catch(l){a.error(l)}},async cancel(){var a;await((a=n.return)===null||a===void 0?void 0:a.call(n))}})}}function $M(i,e){return ou(this,arguments,function*(){var a,l,u,h;if(!i.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Wn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Wn("Attempted to iterate over a response with no body");const m=new JM,p=new yd,y=_S(i.body);try{for(var v=!0,A=wl(XM(y)),w;w=yield ft(A.next()),a=w.done,!a;v=!0){h=w.value,v=!1;const C=h;for(const P of p.decode(C)){const Q=m.decode(P);Q&&(yield yield ft(Q))}}}catch(C){l={error:C}}finally{try{!v&&!a&&(u=A.return)&&(yield ft(u.call(A)))}finally{if(l)throw l.error}}for(const C of p.flush()){const P=m.decode(C);P&&(yield yield ft(P))}})}function XM(i){return ou(this,arguments,function*(){var n,a,l,u;let h=new Uint8Array;try{for(var m=!0,p=wl(i),y;y=yield ft(p.next()),n=y.done,!n;m=!0){u=y.value,m=!1;const v=u;if(v==null)continue;const A=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?Eg(v):v;let w=new Uint8Array(h.length+A.length);w.set(h),w.set(A,h.length),h=w;let C;for(;(C=KM(h))!==-1;)yield yield ft(h.slice(0,C)),h=h.slice(C)}}catch(v){a={error:v}}finally{try{!m&&!n&&(l=p.return)&&(yield ft(l.call(p)))}finally{if(a)throw a.error}}h.length>0&&(yield yield ft(h))})}class JM{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,a,l]=WM(e,":");return l.startsWith(" ")&&(l=l.substring(1)),n==="event"?this.event=l:n==="data"&&this.data.push(l),null}}function WM(i,e){const n=i.indexOf(e);return n!==-1?[i.substring(0,n),e,i.substring(n+e.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function ZM(i,e){const{response:n,requestLogID:a,retryOfRequestLogID:l,startTime:u}=e,h=await(async()=>{var m;if(e.options.stream)return on(i).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,i):gl.fromSSEResponse(n,e.controller,i);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const p=n.headers.get("content-type"),y=(m=p==null?void 0:p.split(";")[0])===null||m===void 0?void 0:m.trim();return(y==null?void 0:y.includes("application/json"))||(y==null?void 0:y.endsWith("+json"))?await n.json():await n.text()})();return on(i).debug(`[${a}] response parsed`,as({retryOfRequestLogID:l,url:n.url,status:n.status,body:h,durationMs:Date.now()-u})),h}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vg extends Promise{constructor(e,n,a=ZM){super(l=>{l(null)}),this.responsePromise=n,this.parseResponse=a,this.client=e}_thenUnwrap(e){return new vg(this.client,this.responsePromise,async(n,a)=>e(await this.parseResponse(n,a),a))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SS=Symbol("brand.privateNullableHeaders");function*eL(i){if(!i)return;if(SS in i){const{values:a,nulls:l}=i;yield*a.entries();for(const u of l)yield[u,null];return}let e=!1,n;i instanceof Headers?n=i.entries():Zv(i)?n=i:(e=!0,n=Object.entries(i??{}));for(let a of n){const l=a[0];if(typeof l!="string")throw new TypeError("expected header name to be a string");const u=Zv(a[1])?a[1]:[a[1]];let h=!1;for(const m of u)m!==void 0&&(e&&!h&&(h=!0,yield[l,null]),yield[l,m])}}const Yo=i=>{const e=new Headers,n=new Set;for(const a of i){const l=new Set;for(const[u,h]of eL(a)){const m=u.toLowerCase();l.has(m)||(e.delete(u),l.add(m)),h===null?(e.delete(u),n.add(m)):(e.append(u,h),n.delete(m))}}return{[SS]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pm=i=>{var e,n,a,l,u,h;if(typeof globalThis.process<"u")return(a=(n=(e=bM)===null||e===void 0?void 0:e[i])===null||n===void 0?void 0:n.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(h=(u=(l=globalThis.Deno.env)===null||l===void 0?void 0:l.get)===null||u===void 0?void 0:u.call(l,i))===null||h===void 0?void 0:h.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var IS;class _d{constructor(e){var n,a,l,u,h,m,p,{baseURL:y=Pm("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(n=Pm("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:A="v1beta"}=e,w=Gh(e,["baseURL","apiKey","apiVersion"]);const C=Object.assign(Object.assign({apiKey:v,apiVersion:A},w),{baseURL:y||"https://generativelanguage.googleapis.com"});this.baseURL=C.baseURL,this.timeout=(a=C.timeout)!==null&&a!==void 0?a:_d.DEFAULT_TIMEOUT,this.logger=(l=C.logger)!==null&&l!==void 0?l:console;const P="warn";this.logLevel=P,this.logLevel=(h=(u=rT(C.logLevel,"ClientOptions.logLevel",this))!==null&&u!==void 0?u:rT(Pm("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&h!==void 0?h:P,this.fetchOptions=C.fetchOptions,this.maxRetries=(m=C.maxRetries)!==null&&m!==void 0?m:2,this.fetch=(p=C.fetch)!==null&&p!==void 0?p:MM(),this.encoder=UM,this._options=C,this.apiKey=v,this.apiVersion=A,this.clientAdapter=C.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Yo([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Yo([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Yo([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,a])=>typeof a<"u").map(([n,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(n)}=`;throw new Wn(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ml}`}defaultIdempotencyKey(){return`stainless-node-retry-${EM()}`}makeStatusError(e,n,a,l){return cn.generate(e,n,a,l)}buildURL(e,n,a){const l=!this.baseURLOverridden()&&a||this.baseURL,u=TM(e)?new URL(e):new URL(l+(l.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),h=this.defaultQuery();return SM(h)||(n=Object.assign(Object.assign({},h),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(u.search=this.stringifyQuery(n)),u.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:a}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,a){return this.request(Promise.resolve(a).then(l=>Object.assign({method:e,path:n},l)))}request(e,n=null){return new vg(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,a){var l,u,h;const m=await e,p=(l=m.maxRetries)!==null&&l!==void 0?l:this.maxRetries;n==null&&(n=p),await this.prepareOptions(m);const{req:y,url:v,timeout:A}=await this.buildRequest(m,{retryCount:p-n});await this.prepareRequest(y,{url:v,options:m});const w="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),C=a===void 0?"":`, retryOf: ${a}`,P=Date.now();if(on(this).debug(`[${w}] sending request`,as({retryOfRequestLogID:a,method:m.method,url:v,options:m,headers:y.headers})),!((u=m.signal)===null||u===void 0)&&u.aborted)throw new mp;const Q=new AbortController,F=await this.fetchWithTimeout(v,y,A,Q).catch(fp),ie=Date.now();if(F instanceof globalThis.Error){const $=`retrying, ${n} attempts remaining`;if(!((h=m.signal)===null||h===void 0)&&h.aborted)throw new mp;const oe=dp(F)||/timed? ?out/i.test(String(F)+("cause"in F?String(F.cause):""));if(n)return on(this).info(`[${w}] connection ${oe?"timed out":"failed"} - ${$}`),on(this).debug(`[${w}] connection ${oe?"timed out":"failed"} (${$})`,as({retryOfRequestLogID:a,url:v,durationMs:ie-P,message:F.message})),this.retryRequest(m,n,a??w);throw on(this).info(`[${w}] connection ${oe?"timed out":"failed"} - error; no more retries left`),on(this).debug(`[${w}] connection ${oe?"timed out":"failed"} (error; no more retries left)`,as({retryOfRequestLogID:a,url:v,durationMs:ie-P,message:F.message})),oe?new oS:new gd({cause:F})}const ee=`[${w}${C}] ${y.method} ${v} ${F.ok?"succeeded":"failed"} with status ${F.status} in ${ie-P}ms`;if(!F.ok){const $=await this.shouldRetry(F);if(n&&$){const x=`retrying, ${n} attempts remaining`;return await VM(F.body),on(this).info(`${ee} - ${x}`),on(this).debug(`[${w}] response error (${x})`,as({retryOfRequestLogID:a,url:F.url,status:F.status,headers:F.headers,durationMs:ie-P})),this.retryRequest(m,n,a??w,F.headers)}const oe=$?"error; no more retries left":"error; not retryable";on(this).info(`${ee} - ${oe}`);const ne=await F.text().catch(x=>fp(x).message),_e=RM(ne),R=_e?void 0:ne;throw on(this).debug(`[${w}] response error (${oe})`,as({retryOfRequestLogID:a,url:F.url,status:F.status,headers:F.headers,message:R,durationMs:Date.now()-P})),this.makeStatusError(F.status,_e,R,F.headers)}return on(this).info(ee),on(this).debug(`[${w}] response start`,as({retryOfRequestLogID:a,url:F.url,status:F.status,headers:F.headers,durationMs:ie-P})),{response:F,options:m,controller:Q,requestLogID:w,retryOfRequestLogID:a,startTime:P}}async fetchWithTimeout(e,n,a,l){const u=n||{},{signal:h,method:m}=u,p=Gh(u,["signal","method"]);h&&h.addEventListener("abort",()=>l.abort());const y=setTimeout(()=>l.abort(),a),v=globalThis.ReadableStream&&p.body instanceof globalThis.ReadableStream||typeof p.body=="object"&&p.body!==null&&Symbol.asyncIterator in p.body,A=Object.assign(Object.assign(Object.assign({signal:l.signal},v?{duplex:"half"}:{}),{method:"GET"}),p);m&&(A.method=m.toUpperCase());try{return await this.fetch.call(void 0,e,A)}finally{clearTimeout(y)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,a,l){var u;let h;const m=l==null?void 0:l.get("retry-after-ms");if(m){const y=parseFloat(m);Number.isNaN(y)||(h=y)}const p=l==null?void 0:l.get("retry-after");if(p&&!h){const y=parseFloat(p);Number.isNaN(y)?h=Date.parse(p)-Date.now():h=y*1e3}if(!(h&&0<=h&&h<60*1e3)){const y=(u=e.maxRetries)!==null&&u!==void 0?u:this.maxRetries;h=this.calculateDefaultRetryTimeoutMillis(n,y)}return await NM(h),this.makeRequest(e,n-1,a)}calculateDefaultRetryTimeoutMillis(e,n){const u=n-e,h=Math.min(.5*Math.pow(2,u),8),m=1-Math.random()*.25;return h*m*1e3}async buildRequest(e,{retryCount:n=0}={}){var a,l,u;const h=Object.assign({},e),{method:m,path:p,query:y,defaultBaseURL:v}=h,A=this.buildURL(p,y,v);"timeout"in h&&xM("timeout",h.timeout),h.timeout=(a=h.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:w,body:C}=this.buildBody({options:h}),P=await this.buildHeaders({options:e,method:m,bodyHeaders:w,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:m,headers:P},h.signal&&{signal:h.signal}),globalThis.ReadableStream&&C instanceof globalThis.ReadableStream&&{duplex:"half"}),C&&{body:C}),(l=this.fetchOptions)!==null&&l!==void 0?l:{}),(u=h.fetchOptions)!==null&&u!==void 0?u:{}),url:A,timeout:h.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:a,retryCount:l}){let u={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=e.idempotencyKey);const h=await this.authHeaders(e);let m=Yo([u,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(l)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),DM()),this._options.defaultHeaders,a,e.headers,h]);return this.validateHeaders(m),m.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const a=Yo([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&a.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:LM(e)}:this.encoder({body:e,headers:a})}}_d.DEFAULT_TIMEOUT=6e4;class Zt extends _d{constructor(){super(...arguments),this.interactions=new wS(this)}}IS=Zt;Zt.GeminiNextGenAPIClient=IS;Zt.GeminiNextGenAPIClientError=Wn;Zt.APIError=cn;Zt.APIConnectionError=gd;Zt.APIConnectionTimeoutError=oS;Zt.APIUserAbortError=mp;Zt.NotFoundError=dS;Zt.ConflictError=fS;Zt.RateLimitError=pS;Zt.BadRequestError=uS;Zt.AuthenticationError=cS;Zt.InternalServerError=gS;Zt.PermissionDeniedError=hS;Zt.UnprocessableEntityError=mS;Zt.toFile=HM;Zt.Interactions=wS;const tL=()=>(console.warn("GEMINI_API_KEY is missing. AI features will be disabled."),null),nL=async(i,e=!1)=>{const n=tL();let a={title:i,originalTitle:i,year:"???",genre:["Bilinmiyor"],director:"Bilinmiyor",summary:"Film detaylar alnamad (API Anahtar eksik).",emoji:"",themeColor:"#64748b",imdbUrl:`https://www.imdb.com/find?q=${encodeURIComponent(i)}`};if(!n)return a;try{const l=n.models.generateContent({model:"gemini-2.0-flash",contents:`Find details for the movie "${i}". Return the summary in Turkish. Provide the official IMDb URL.`,config:{responseMimeType:"application/json",responseSchema:{type:kn.OBJECT,properties:{title:{type:kn.STRING,description:"Official Turkish title of the movie"},originalTitle:{type:kn.STRING,description:"Original title of the movie"},year:{type:kn.STRING,description:"Release year"},genre:{type:kn.ARRAY,items:{type:kn.STRING},description:"List of genres (in Turkish)"},director:{type:kn.STRING,description:"Director name"},summary:{type:kn.STRING,description:"Short plot summary in Turkish (max 30 words)"},emoji:{type:kn.STRING,description:"A single emoji best describing the movie"},themeColor:{type:kn.STRING,description:"A hex color code matching the movie poster mood"},imdbUrl:{type:kn.STRING,description:"Full URL to the movie's IMDb page"}},required:["title","originalTitle","year","genre","director","summary","emoji","themeColor","imdbUrl"]}}});let u=null;e||(u=n.models.generateContent({model:"gemini-2.0-flash",contents:{parts:[{text:`A high quality, cinematic movie poster for the movie "${i}". The title "${i}" should be prominently displayed and integrated into the poster design. Minimalist, official style, vertical.`}]}}));let h,m=null;if(u){const p=await Promise.allSettled([l,u]);h=p[0],m=p[1]}else h=(await Promise.allSettled([l]))[0];if(h.status==="fulfilled"&&h.value.text)try{a={...a,...JSON.parse(h.value.text)}}catch(p){console.error("Failed to parse metadata JSON",p)}return a}catch(l){return console.error("AI Error:",l),a}},iL=()=>{const[i,e]=ue.useState([]),[n,a]=ue.useState("watched"),[l,u]=ue.useState(!1),[h,m]=ue.useState(!0);ue.useEffect(()=>{const ee=zE(lh(sa,"movies"),BE("watchedDate","desc")),$=KE(ee,oe=>{const ne=oe.docs.map(_e=>({id:_e.id,..._e.data()}));e(ne),m(!1)});return()=>$()},[]);const[p,y]=ue.useState([]),[v,A]=ue.useState(!1);return ue.useEffect(()=>{const ee=ZT(bg,$=>{A(!!$)});return()=>ee()},[]),ue.useEffect(()=>{if(!v){y([]);return}const ee=zE(lh(sa,"suggestions"),BE("createdAt","desc")),$=KE(ee,oe=>{const ne=oe.docs.map(_e=>({id:_e.id,..._e.data()}));y(ne)},oe=>{console.error("Suggestion fetch error (likely permission):",oe)});return()=>$()},[v]),{movies:i,activeTab:n,setActiveTab:a,addMovie:async ee=>{u(!0);try{const $=!!ee.manualPosterBase64,oe=!!(ee.manualYear&&ee.manualSummary);let ne;ne=await nL(ee.rawTitle,$);const _e={title:ee.rawTitle,originalTitle:ne.originalTitle||ee.rawTitle,year:ee.manualYear||ne.year||"???",genre:ee.manualGenres||ne.genre||["Bilinmiyor"],director:ee.manualDirector||ne.director||"Bilinmiyor",summary:ee.manualSummary||ne.summary||"zet bulunamad.",emoji:ne.emoji||"",themeColor:ne.themeColor||"#64748b",imdbUrl:ee.imdbUrl?ee.imdbUrl:ne.imdbUrl||"",posterBase64:ee.manualPosterBase64||ne.posterBase64||null,status:ee.status,userRating:ee.userRating||null,userReview:ee.userReview||null,watchedDate:ee.status==="watched"?new Date().toISOString():null,createdAt:new Date().toISOString(),isApproved:!1},R=JSON.parse(JSON.stringify(_e));await YE(lh(sa,"movies"),R)}catch($){throw console.error("Error adding movie:",$),$}finally{u(!1)}},updateMovieStatus:async(ee,$,oe={})=>{try{const ne=Wo(sa,"movies",ee),_e=Object.entries(oe).reduce((R,[I,x])=>(x!==void 0&&(R[I]=x),R),{});await GE(ne,{status:$,..._e})}catch(ne){console.error("Error updating movie:",ne)}},approveMovie:async ee=>{try{const $=Wo(sa,"movies",ee);await GE($,{isApproved:!0})}catch($){console.error("Error approving movie:",$)}},deleteMovie:async ee=>{try{await qE(Wo(sa,"movies",ee))}catch($){console.error("Error deleting movie:",$)}},isSubmitting:l,suggestions:p,addSuggestion:async ee=>{u(!0);try{await YE(lh(sa,"suggestions"),{...ee,createdAt:new Date().toISOString()})}catch($){throw console.error("Error adding suggestion:",$),$}finally{u(!1)}},deleteSuggestion:async ee=>{try{await qE(Wo(sa,"suggestions",ee))}catch($){console.error("Error deleting suggestion:",$)}},isLoading:h}},rL=i=>{const[e,n]=ue.useState({searchTerm:"",genre:"",year:"",rating:"",director:""}),[a,l]=ue.useState(1),u=30,[h,m]=ue.useState("date_desc"),p=(ee,$)=>{n(oe=>({...oe,[ee]:$}))},y=()=>{n({searchTerm:"",genre:"",year:"",rating:"",director:""}),m("date_desc")};ue.useEffect(()=>{l(1)},[e,h]);const v=ue.useMemo(()=>{const ee=new Set;return i.forEach($=>$.genre.forEach(oe=>ee.add(oe))),Array.from(ee).sort()},[i]),A=ue.useMemo(()=>{const ee=new Set;return i.forEach($=>ee.add($.year)),Array.from(ee).sort().reverse()},[i]),w=ue.useMemo(()=>{const ee=new Set;return i.forEach($=>{$.director&&$.director!=="Bilinmiyor"&&$.director.split(",").map(oe=>oe.trim()).forEach(oe=>{oe&&ee.add(oe)})}),Array.from(ee).sort()},[i]),C=ue.useMemo(()=>i.filter($=>{const oe=$.title.toLowerCase().includes(e.searchTerm.toLowerCase())||$.originalTitle.toLowerCase().includes(e.searchTerm.toLowerCase())||$.director.toLowerCase().includes(e.searchTerm.toLowerCase()),ne=e.genre?$.genre.includes(e.genre):!0,_e=e.year?$.year===e.year:!0,R=e.rating!==""?$.userRating===Number(e.rating):!0,I=$.director?$.director.split(",").map(L=>L.trim()):[],x=e.director?I.includes(e.director):!0;return oe&&ne&&_e&&R&&x}).sort(($,oe)=>{switch(h){case"year_asc":return $.year.localeCompare(oe.year);case"year_desc":return oe.year.localeCompare($.year);case"title_asc":return $.title.localeCompare(oe.title);case"title_desc":return oe.title.localeCompare($.title);case"date_asc":return($.createdAt||"").localeCompare(oe.createdAt||"");case"date_desc":return(oe.createdAt||"").localeCompare($.createdAt||"");default:return 0}}),[i,e,h]),P=Math.ceil(C.length/u),Q=ue.useMemo(()=>{const ee=(a-1)*u;return C.slice(ee,ee+u)},[C,a]);return{filters:e,setFilter:p,resetFilters:y,sortOption:h,setSortOption:m,filteredMovies:C,paginatedMovies:Q,availableGenres:v,availableYears:A,availableDirectors:w,pagination:{currentPage:a,totalPages:P,goToNextPage:()=>l(ee=>Math.min(ee+1,P)),goToPrevPage:()=>l(ee=>Math.max(ee-1,1)),setCurrentPage:l}}};function aL(){const{movies:i,activeTab:e,setActiveTab:n,addMovie:a,isSubmitting:l,deleteMovie:u,updateMovieStatus:h,approveMovie:m,addSuggestion:p,suggestions:y,deleteSuggestion:v,isLoading:A}=iL(),[w,C]=ue.useState("watched"),P=i.filter(se=>se.isApproved!==!1),Q=P.filter(se=>se.status===e),{filters:F,setFilter:ie,resetFilters:ee,paginatedMovies:$,filteredMovies:oe,availableGenres:ne,availableYears:_e,availableDirectors:R,pagination:I,sortOption:x,setSortOption:L}=rL(Q),[O,V]=ue.useState(!1),[N,He]=ue.useState(!1),[ct,H]=ue.useState(!1),[ae,pe]=ue.useState(!1),[ke,Be]=ue.useState(!1),[M,J]=ue.useState(!1),[le,ce]=ue.useState(null),[Te,Ae]=ue.useState(!1),[De,ht]=ue.useState(!1),[it,Zn]=ue.useState(null),[Dn,Ai]=ue.useState(null),[En,Mn]=ue.useState(!1),[Ra,ei]=ue.useState(!1);tu.useEffect(()=>{const se=ZT(bg,_t=>{Mn(!!_t)});return()=>se()},[]),tu.useEffect(()=>{const _t=new URLSearchParams(window.location.search).get("blogId");if(_t){const Vn=QE.find(Ts=>Ts.id===_t);Vn&&(C("blog"),Ai(Vn))}},[]),tu.useEffect(()=>{const se=new URLSearchParams(window.location.search);if(Dn){if(se.get("blogId")!==Dn.id){se.set("blogId",Dn.id);const _t=`${window.location.pathname}?${se.toString()}`;window.history.pushState({path:_t},"",_t)}}else if(se.has("blogId")){se.delete("blogId");const _t=se.toString()?`${window.location.pathname}?${se.toString()}`:window.location.pathname;window.history.pushState({path:_t},"",_t)}},[Dn]);const Ln=se=>{C(se),se!=="admin"&&n(se)},[Sr,dt]=ue.useState(null),[yt,ti]=ue.useState(""),vs=se=>{dt(se.id),ti(se.title),He(!0)},Na=()=>{l||(He(!1),dt(null),ti(""))},Ft=async se=>{try{Sr?h(Sr,"watched",{userRating:se.userRating,userReview:se.userReview,watchedDate:new Date().toISOString()}):(await a(se),alert("ISLEM BASARILI. YENI KAYIT ONAY SURECINE ALINDI.")),Na()}catch{alert("Islem sirasinda bir hata telegrafi olustu.")}},ni=se=>{const Vn=e==="watchlist"?"BU FILMI SILMEK ISTEDIGINIZE EMIN MISINIZ?":"BU KAYDI SILMEK ISTEDIGINIZE EMIN MISINIZ?";window.confirm(Vn)&&u(se)},Ir=()=>{const se=P.filter(Vn=>Vn.status==="watched"&&(Vn.userRating||0)>=4);if(se.length===0){alert("ANSINIZ YOKMU! KOLEKSIYONDA 4 VEYA 5 YILDIZLI FILM BULUNAMADI.");return}const _t=Math.floor(Math.random()*se.length);ce(se[_t])},xr=se=>{w==="watched"&&F.director===se?ie("director",""):(Ln("watched"),ie("searchTerm",""),ie("genre",""),ie("year",""),ie("rating",""),ie("director",se))};return _.jsxs("div",{className:"min-h-screen pb-24 bg-black text-white font-mono selection:bg-yellow-400 selection:text-black",children:[_.jsx(E1,{activeTab:w,setActiveTab:Ln,onSurpriseMe:Ir,isSearchVisible:O,toggleSearch:()=>V(!O),searchTerm:F.searchTerm,onSearchChange:se=>ie("searchTerm",se),onHoroscopeClick:()=>H(!0),onBlogClick:()=>Ln("blog"),onMusicClick:()=>J(!0),onPatreonClick:()=>Be(!0),onAddMovieClick:()=>He(!0),onLoginClick:()=>{En?Ln(w==="admin"?"watched":"admin"):ei(!0)},onSuggestionClick:()=>ht(!0),onAboutClick:()=>Ae(!0),isAdminLoggedIn:En}),_.jsx("main",{className:"max-w-[1800px] mx-auto px-4 py-6",children:w==="admin"&&En?_.jsx(A1,{movies:i,onApprove:async se=>await m(se),onDelete:async se=>await u(se),onUpdate:async(se,_t)=>await h(se,_t.status,_t),suggestions:y,onDeleteSuggestion:v}):w==="blog"?_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:QE.map(se=>_.jsx(yM,{post:se,onClick:Ai},se.id))}):A?_.jsxs("div",{className:"flex flex-col items-center justify-center h-[50vh] text-center",children:[_.jsx(jx,{className:"w-16 h-16 text-yellow-400 animate-spin mb-4"}),_.jsx("h2",{className:"text-3xl text-white animate-pulse teletext-shadow",children:"BULUT BALANTISI KURULUYOR..."}),_.jsx("p",{className:"text-neutral-500 mt-2 font-mono text-sm tracking-widest",children:"SNYAL ARANIYOR"})]}):_.jsxs(_.Fragment,{children:[Q.length>0&&_.jsx(v1,{activeTab:w,selectedGenre:F.genre,setSelectedGenre:se=>ie("genre",se),selectedDirector:F.director,setSelectedDirector:se=>ie("director",se),selectedYear:F.year,setSelectedYear:se=>ie("year",se),selectedRating:F.rating,setSelectedRating:se=>ie("rating",se),availableGenres:ne,availableDirectors:R,availableYears:_e,sortOption:x,setSortOption:L}),Q.length===0?_.jsxs("div",{className:"border-4 border-white border-dashed p-12 text-center bg-neutral-900",children:[_.jsx(u1,{size:64,className:"mx-auto text-neutral-600 mb-4"}),_.jsx("h2",{className:"text-3xl text-yellow-400 mb-2",children:"SINYAL YOK"}),_.jsx("p",{className:"text-xl text-white",children:"LTFEN YEN KAYIT EKLEYNZ..."}),_.jsx("button",{onClick:()=>He(!0),className:"mt-6 bg-yellow-400 text-black px-6 py-2 text-xl font-bold hover:bg-white",children:"[ KAYIT EKLE ]"})]}):oe.length===0?_.jsxs("div",{className:"bg-red-900/50 border-2 border-red-600 p-8 text-center",children:[_.jsx("p",{className:"text-2xl text-red-400 blink",children:"ARAMA SONUCU BULUNAMADI"}),_.jsx("button",{onClick:ee,className:"mt-4 text-white underline decoration-2 underline-offset-4 hover:text-yellow-400",children:"FILTRELERI SIFIRLA"})]}):_.jsxs(_.Fragment,{children:[w==="watchlist"?_.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-6",children:$.map(se=>_.jsx(m1,{movie:se},se.id))}):_.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-6",children:$.map(se=>_.jsx(f1,{movie:se,onDelete:ni,onMoveToWatched:vs,onDirectorClick:xr,onClick:Zn,className:"h-full"},se.id))}),I.totalPages>1&&_.jsxs("div",{className:"flex justify-between items-center bg-neutral-900 border-2 border-white p-4 mt-8 font-bold text-xl select-none",children:[_.jsx("button",{onClick:I.goToPrevPage,disabled:I.currentPage===1,className:`transition-colors ${I.currentPage===1?"text-neutral-700 cursor-not-allowed":"text-white hover:text-yellow-400 hover:bg-neutral-800 px-4"}`,children:"< NCEK"}),_.jsxs("div",{className:"text-yellow-400 font-mono text-2xl",children:["SAYFA [ 100-",I.currentPage.toString().padStart(2,"0")," ]"]}),_.jsx("button",{onClick:I.goToNextPage,disabled:I.currentPage===I.totalPages,className:`transition-colors ${I.currentPage===I.totalPages?"text-neutral-700 cursor-not-allowed":"text-white hover:text-yellow-400 hover:bg-neutral-800 px-4"}`,children:"SONRAK >"})]})]})]})}),O&&_.jsxs("div",{className:"fixed bottom-[73px] sm:bottom-[77px] left-0 w-full bg-blue-800 p-2 border-y-2 border-white flex items-center gap-2 z-50 animate-in slide-in-from-bottom duration-200 shadow-[0_-10px_40px_rgba(0,0,0,0.8)]",children:[_.jsx("span",{className:"text-white font-bold whitespace-nowrap px-2",children:"ARAMA >"}),_.jsx("input",{autoFocus:!0,type:"text",value:F.searchTerm,onChange:se=>ie("searchTerm",se.target.value.toUpperCase()),placeholder:"FLM VEYA YNETMEN ARA...",className:"w-full bg-black text-yellow-400 p-2 text-xl font-bold border-none outline-none placeholder-neutral-700"}),_.jsx("button",{onClick:()=>V(!1),className:"bg-red-600 text-white px-3 py-1 font-bold hover:bg-red-500 whitespace-nowrap",children:"KAPAT"})]}),_.jsxs("footer",{className:"fixed bottom-0 left-0 w-full bg-black border-t-2 border-white p-2 z-40 hidden md:grid grid-cols-2 gap-2",children:[_.jsxs("button",{onClick:()=>Be(!0),className:"w-full bg-cyan-400 text-black font-bold text-lg sm:text-2xl py-3 border-2 border-transparent hover:border-white hover:bg-cyan-300 transition-colors flex items-center justify-center gap-2",children:[_.jsx(hT,{className:"w-6 h-6 sm:w-8 sm:h-8"}),_.jsx("span",{children:"[ BR FLM ISMARLA ]"})]}),_.jsxs("div",{className:"flex gap-2 w-full",children:[_.jsx("button",{onClick:()=>He(!0),className:"flex-1 bg-yellow-400 text-black font-bold text-lg sm:text-2xl py-3 border-2 border-transparent hover:border-white hover:bg-yellow-300 transition-colors",children:"[ + YEN KAYIT ]"}),_.jsx("button",{onClick:()=>V(!O),className:"bg-neutral-800 text-neutral-500 font-bold text-lg px-4 border-2 border-transparent hover:border-white hover:text-white transition-colors flex items-center justify-center",title:"ARAMA",children:_.jsx(Wx,{className:"w-6 h-6"})}),_.jsx("button",{onClick:()=>{En?Ln(w==="admin"?"watched":"admin"):ei(!0)},className:`bg-neutral-800 text-neutral-500 font-bold text-lg px-4 border-2 border-transparent hover:border-white hover:text-white transition-colors flex items-center justify-center ${w==="admin"?"bg-red-900/50 text-white border-red-500":""}`,title:En?"YONETIM PANELI (AKTIF)":"YONETICI GIRISI",children:En?w==="admin"?"IKI":"ADMN":"GR"}),_.jsx("button",{onClick:()=>Ae(!0),className:"bg-neutral-800 text-neutral-500 font-bold text-lg px-4 border-2 border-transparent hover:border-white hover:text-white transition-colors flex items-center justify-center",children:"?"}),_.jsx("button",{onClick:()=>ht(!0),className:"bg-neutral-800 text-neutral-500 font-bold text-lg px-4 border-2 border-transparent hover:border-white hover:text-white transition-colors flex items-center justify-center",title:"ONERI FORMU",children:"F"})]})]}),_.jsx(dT,{isOpen:N,onClose:Na,onSubmit:Ft,isSubmitting:l,initialTitle:yt}),_.jsx(g1,{isOpen:ct,onClose:()=>H(!1),movies:P.filter(se=>se.status==="watched"&&(se.userRating||0)>=4)}),_.jsx(y1,{isOpen:ae,onClose:()=>pe(!1)}),_.jsx(_1,{isOpen:ke,onClose:()=>Be(!1)}),_.jsx(b1,{isOpen:M,onClose:()=>J(!1)}),_.jsx(T1,{movie:le,onClose:()=>ce(null),onTryAgain:Ir,onDelete:ni,onMoveToWatched:vs,onDirectorClick:xr}),_.jsx(w1,{isOpen:Te,onClose:()=>Ae(!1),watchedCount:P.filter(se=>se.status==="watched").length,watchlistCount:P.filter(se=>se.status==="watchlist").length}),_.jsx(S1,{isOpen:De,onClose:()=>ht(!1),onSubmit:p,isSubmitting:l}),_.jsx(I1,{movie:it,onClose:()=>Zn(null),onDelete:se=>{ni(se),Zn(null)}}),_.jsx(gM,{isOpen:Ra,onClose:()=>ei(!1),onLoginSuccess:()=>Ln("admin")}),_.jsx(_M,{post:Dn,onClose:()=>Ai(null)})]})}const xS=document.getElementById("root");if(!xS)throw new Error("Could not find root element to mount to");const sL=mx.createRoot(xS);sL.render(_.jsx(tu.StrictMode,{children:_.jsx(aL,{})}));
