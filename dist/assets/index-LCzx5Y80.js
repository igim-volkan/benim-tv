(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function sT(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var gm={exports:{}},Fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BE;function r1(){if(BE)return Fl;BE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:c}}return Fl.Fragment=e,Fl.jsx=n,Fl.jsxs=n,Fl}var HE;function s1(){return HE||(HE=1,gm.exports=r1()),gm.exports}var _=s1(),ym={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE;function a1(){if(FE)return Se;FE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),w=Symbol.iterator;function O(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,F={};function ie(k,J,oe){this.props=k,this.context=J,this.refs=F,this.updater=oe||P}ie.prototype.isReactComponent={},ie.prototype.setState=function(k,J){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,J,"setState")},ie.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function ee(){}ee.prototype=ie.prototype;function $(k,J,oe){this.props=k,this.context=J,this.refs=F,this.updater=oe||P}var le=$.prototype=new ee;le.constructor=$,Q(le,ie.prototype),le.isPureReactComponent=!0;var ne=Array.isArray;function _e(){}var R={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function x(k,J,oe){var ue=oe.ref;return{$$typeof:i,type:k,key:J,ref:ue!==void 0?ue:null,props:oe}}function L(k,J){return x(k.type,J,k.props)}function D(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function U(k){var J={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(oe){return J[oe]})}var N=/\/+/g;function He(k,J){return typeof k=="object"&&k!==null&&k.key!=null?U(""+k.key):J.toString(36)}function ut(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(_e,_e):(k.status="pending",k.then(function(J){k.status==="pending"&&(k.status="fulfilled",k.value=J)},function(J){k.status==="pending"&&(k.status="rejected",k.reason=J)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function H(k,J,oe,ue,Te){var Ae=typeof k;(Ae==="undefined"||Ae==="boolean")&&(k=null);var Me=!1;if(k===null)Me=!0;else switch(Ae){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(k.$$typeof){case i:case e:Me=!0;break;case b:return Me=k._init,H(Me(k._payload),J,oe,ue,Te)}}if(Me)return Te=Te(k),Me=ue===""?"."+He(k,0):ue,ne(Te)?(oe="",Me!=null&&(oe=Me.replace(N,"$&/")+"/"),H(Te,J,oe,"",function(Wn){return Wn})):Te!=null&&(D(Te)&&(Te=L(Te,oe+(Te.key==null||k&&k.key===Te.key?"":(""+Te.key).replace(N,"$&/")+"/")+Me)),J.push(Te)),1;Me=0;var ht=ue===""?".":ue+":";if(ne(k))for(var it=0;it<k.length;it++)ue=k[it],Ae=ht+He(ue,it),Me+=H(ue,J,oe,Ae,Te);else if(it=O(k),typeof it=="function")for(k=it.call(k),it=0;!(ue=k.next()).done;)ue=ue.value,Ae=ht+He(ue,it++),Me+=H(ue,J,oe,Ae,Te);else if(Ae==="object"){if(typeof k.then=="function")return H(ut(k),J,oe,ue,Te);throw J=String(k),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Me}function se(k,J,oe){if(k==null)return k;var ue=[],Te=0;return H(k,ue,"","",function(Ae){return J.call(oe,Ae,Te++)}),ue}function pe(k){if(k._status===-1){var J=k._result;J=J(),J.then(function(oe){(k._status===0||k._status===-1)&&(k._status=1,k._result=oe)},function(oe){(k._status===0||k._status===-1)&&(k._status=2,k._result=oe)}),k._status===-1&&(k._status=0,k._result=J)}if(k._status===1)return k._result.default;throw k._result}var Ce=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Be={map:se,forEach:function(k,J,oe){se(k,function(){J.apply(this,arguments)},oe)},count:function(k){var J=0;return se(k,function(){J++}),J},toArray:function(k){return se(k,function(J){return J})||[]},only:function(k){if(!D(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Se.Activity=A,Se.Children=Be,Se.Component=ie,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=$,Se.StrictMode=s,Se.Suspense=p,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Se.__COMPILER_RUNTIME={__proto__:null,c:function(k){return R.H.useMemoCache(k)}},Se.cache=function(k){return function(){return k.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(k,J,oe){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ue=Q({},k.props),Te=k.key;if(J!=null)for(Ae in J.key!==void 0&&(Te=""+J.key),J)!I.call(J,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&J.ref===void 0||(ue[Ae]=J[Ae]);var Ae=arguments.length-2;if(Ae===1)ue.children=oe;else if(1<Ae){for(var Me=Array(Ae),ht=0;ht<Ae;ht++)Me[ht]=arguments[ht+2];ue.children=Me}return x(k.type,Te,ue)},Se.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:c,_context:k},k},Se.createElement=function(k,J,oe){var ue,Te={},Ae=null;if(J!=null)for(ue in J.key!==void 0&&(Ae=""+J.key),J)I.call(J,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Te[ue]=J[ue]);var Me=arguments.length-2;if(Me===1)Te.children=oe;else if(1<Me){for(var ht=Array(Me),it=0;it<Me;it++)ht[it]=arguments[it+2];Te.children=ht}if(k&&k.defaultProps)for(ue in Me=k.defaultProps,Me)Te[ue]===void 0&&(Te[ue]=Me[ue]);return x(k,Ae,Te)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(k){return{$$typeof:m,render:k}},Se.isValidElement=D,Se.lazy=function(k){return{$$typeof:b,_payload:{_status:-1,_result:k},_init:pe}},Se.memo=function(k,J){return{$$typeof:y,type:k,compare:J===void 0?null:J}},Se.startTransition=function(k){var J=R.T,oe={};R.T=oe;try{var ue=k(),Te=R.S;Te!==null&&Te(oe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(_e,Ce)}catch(Ae){Ce(Ae)}finally{J!==null&&oe.types!==null&&(J.types=oe.types),R.T=J}},Se.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Se.use=function(k){return R.H.use(k)},Se.useActionState=function(k,J,oe){return R.H.useActionState(k,J,oe)},Se.useCallback=function(k,J){return R.H.useCallback(k,J)},Se.useContext=function(k){return R.H.useContext(k)},Se.useDebugValue=function(){},Se.useDeferredValue=function(k,J){return R.H.useDeferredValue(k,J)},Se.useEffect=function(k,J){return R.H.useEffect(k,J)},Se.useEffectEvent=function(k){return R.H.useEffectEvent(k)},Se.useId=function(){return R.H.useId()},Se.useImperativeHandle=function(k,J,oe){return R.H.useImperativeHandle(k,J,oe)},Se.useInsertionEffect=function(k,J){return R.H.useInsertionEffect(k,J)},Se.useLayoutEffect=function(k,J){return R.H.useLayoutEffect(k,J)},Se.useMemo=function(k,J){return R.H.useMemo(k,J)},Se.useOptimistic=function(k,J){return R.H.useOptimistic(k,J)},Se.useReducer=function(k,J,oe){return R.H.useReducer(k,J,oe)},Se.useRef=function(k){return R.H.useRef(k)},Se.useState=function(k){return R.H.useState(k)},Se.useSyncExternalStore=function(k,J,oe){return R.H.useSyncExternalStore(k,J,oe)},Se.useTransition=function(){return R.H.useTransition()},Se.version="19.2.3",Se}var GE;function yp(){return GE||(GE=1,ym.exports=a1()),ym.exports}var ce=yp();const fh=sT(ce);var _m={exports:{}},Gl={},Em={exports:{}},vm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qE;function o1(){return qE||(qE=1,(function(i){function e(H,se){var pe=H.length;H.push(se);e:for(;0<pe;){var Ce=pe-1>>>1,Be=H[Ce];if(0<o(Be,se))H[Ce]=se,H[pe]=Be,pe=Ce;else break e}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var se=H[0],pe=H.pop();if(pe!==se){H[0]=pe;e:for(var Ce=0,Be=H.length,k=Be>>>1;Ce<k;){var J=2*(Ce+1)-1,oe=H[J],ue=J+1,Te=H[ue];if(0>o(oe,pe))ue<Be&&0>o(Te,oe)?(H[Ce]=Te,H[ue]=pe,Ce=ue):(H[Ce]=oe,H[J]=pe,Ce=J);else if(ue<Be&&0>o(Te,pe))H[Ce]=Te,H[ue]=pe,Ce=ue;else break e}}return se}function o(H,se){var pe=H.sortIndex-se.sortIndex;return pe!==0?pe:H.id-se.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],y=[],b=1,A=null,w=3,O=!1,P=!1,Q=!1,F=!1,ie=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function le(H){for(var se=n(y);se!==null;){if(se.callback===null)s(y);else if(se.startTime<=H)s(y),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(y)}}function ne(H){if(Q=!1,le(H),!P)if(n(p)!==null)P=!0,_e||(_e=!0,U());else{var se=n(y);se!==null&&ut(ne,se.startTime-H)}}var _e=!1,R=-1,I=5,x=-1;function L(){return F?!0:!(i.unstable_now()-x<I)}function D(){if(F=!1,_e){var H=i.unstable_now();x=H;var se=!0;try{e:{P=!1,Q&&(Q=!1,ee(R),R=-1),O=!0;var pe=w;try{t:{for(le(H),A=n(p);A!==null&&!(A.expirationTime>H&&L());){var Ce=A.callback;if(typeof Ce=="function"){A.callback=null,w=A.priorityLevel;var Be=Ce(A.expirationTime<=H);if(H=i.unstable_now(),typeof Be=="function"){A.callback=Be,le(H),se=!0;break t}A===n(p)&&s(p),le(H)}else s(p);A=n(p)}if(A!==null)se=!0;else{var k=n(y);k!==null&&ut(ne,k.startTime-H),se=!1}}break e}finally{A=null,w=pe,O=!1}se=void 0}}finally{se?U():_e=!1}}}var U;if(typeof $=="function")U=function(){$(D)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,He=N.port2;N.port1.onmessage=D,U=function(){He.postMessage(null)}}else U=function(){ie(D,0)};function ut(H,se){R=ie(function(){H(i.unstable_now())},se)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(H){H.callback=null},i.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<H?Math.floor(1e3/H):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(H){switch(w){case 1:case 2:case 3:var se=3;break;default:se=w}var pe=w;w=se;try{return H()}finally{w=pe}},i.unstable_requestPaint=function(){F=!0},i.unstable_runWithPriority=function(H,se){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var pe=w;w=H;try{return se()}finally{w=pe}},i.unstable_scheduleCallback=function(H,se,pe){var Ce=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ce+pe:Ce):pe=Ce,H){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=pe+Be,H={id:b++,callback:se,priorityLevel:H,startTime:pe,expirationTime:Be,sortIndex:-1},pe>Ce?(H.sortIndex=pe,e(y,H),n(p)===null&&H===n(y)&&(Q?(ee(R),R=-1):Q=!0,ut(ne,pe-Ce))):(H.sortIndex=Be,e(p,H),P||O||(P=!0,_e||(_e=!0,U()))),H},i.unstable_shouldYield=L,i.unstable_wrapCallback=function(H){var se=w;return function(){var pe=w;w=se;try{return H.apply(this,arguments)}finally{w=pe}}}})(vm)),vm}var YE;function l1(){return YE||(YE=1,Em.exports=o1()),Em.exports}var bm={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KE;function c1(){if(KE)return en;KE=1;var i=yp();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:y,implementation:b}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,en.createPortal=function(p,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,b)},en.flushSync=function(p){var y=h.T,b=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=y,s.p=b,s.d.f()}},en.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},en.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},en.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var b=y.as,A=m(b,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,O=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:O}):b==="script"&&s.d.X(p,{crossOrigin:A,integrity:w,fetchPriority:O,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},en.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},en.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,A=m(b,y.crossOrigin);s.d.L(p,b,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},en.preloadModule=function(p,y){if(typeof p=="string")if(y){var b=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},en.requestFormReset=function(p){s.d.r(p)},en.unstable_batchedUpdates=function(p,y){return p(y)},en.useFormState=function(p,y,b){return h.H.useFormState(p,y,b)},en.useFormStatus=function(){return h.H.useHostTransitionStatus()},en.version="19.2.3",en}var QE;function u1(){if(QE)return bm.exports;QE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),bm.exports=c1(),bm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $E;function h1(){if($E)return Gl;$E=1;var i=l1(),e=yp(),n=u1();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(s(188))}function y(t){var r=t.alternate;if(!r){if(r=c(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var E=!1,T=f.child;T;){if(T===a){E=!0,a=f,l=d;break}if(T===l){E=!0,l=f,a=d;break}T=T.sibling}if(!E){for(T=d.child;T;){if(T===a){E=!0,a=d,l=f;break}if(T===l){E=!0,l=d,a=f;break}T=T.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function b(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=b(t),r!==null)return r;t=t.sibling}return null}var A=Object.assign,w=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),ee=Symbol.for("react.consumer"),$=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function He(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case ie:return"Profiler";case F:return"StrictMode";case ne:return"Suspense";case _e:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case $:return t.displayName||"Context";case ee:return(t._context.displayName||"Context")+".Consumer";case le:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return r=t.displayName||null,r!==null?r:He(t.type)||"Memo";case I:r=t._payload,t=t._init;try{return He(t(r))}catch{}}return null}var ut=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Ce=[],Be=-1;function k(t){return{current:t}}function J(t){0>Be||(t.current=Ce[Be],Ce[Be]=null,Be--)}function oe(t,r){Be++,Ce[Be]=t.current,t.current=r}var ue=k(null),Te=k(null),Ae=k(null),Me=k(null);function ht(t,r){switch(oe(Ae,r),oe(Te,t),oe(ue,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?uE(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=uE(r),t=hE(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(ue),oe(ue,t)}function it(){J(ue),J(Te),J(Ae)}function Wn(t){t.memoizedState!==null&&oe(Me,t);var r=ue.current,a=hE(r,t.type);r!==a&&(oe(Te,t),oe(ue,a))}function Mn(t){Te.current===t&&(J(ue),J(Te)),Me.current===t&&(J(Me),jl._currentValue=pe)}var Ai,vn;function kn(t){if(Ai===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ai=r&&r[1]||"",vn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ai+t+vn}var Rs=!1;function ei(t,r){if(!t||Rs)return"";Rs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(Y){var G=Y}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(Y){G=Y}t.call(Z.prototype)}}else{try{throw Error()}catch(Y){G=Y}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],T=d[1];if(E&&T){var C=E.split(`
`),B=T.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===B.length)for(l=C.length-1,f=B.length-1;1<=l&&0<=f&&C[l]!==B[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==B[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==B[f]){var K=`
`+C[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=f);break}}}finally{Rs=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?kn(a):""}function Ln(t,r){switch(t.tag){case 26:case 27:case 5:return kn(t.type);case 16:return kn("Lazy");case 13:return t.child!==r&&r!==null?kn("Suspense Fallback"):kn("Suspense");case 19:return kn("SuspenseList");case 0:case 15:return ei(t.type,!1);case 11:return ei(t.type.render,!1);case 1:return ei(t.type,!0);case 31:return kn("Activity");default:return""}}function Sr(t){try{var r="",a=null;do r+=Ln(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ft=Object.prototype.hasOwnProperty,yt=i.unstable_scheduleCallback,ti=i.unstable_cancelCallback,ba=i.unstable_shouldYield,Ns=i.unstable_requestPaint,Ft=i.unstable_now,ni=i.unstable_getCurrentPriorityLevel,Ir=i.unstable_ImmediatePriority,xr=i.unstable_UserBlockingPriority,ae=i.unstable_NormalPriority,_t=i.unstable_LowPriority,Un=i.unstable_IdlePriority,Ta=i.log,Rc=i.unstable_setDisableYieldValue,ii=null,Gt=null;function Vn(t){if(typeof Ta=="function"&&Rc(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(ii,t)}catch{}}var Et=Math.clz32?Math.clz32:Cc,Nc=Math.log,Aa=Math.LN2;function Cc(t){return t>>>=0,t===0?32:31-(Nc(t)/Aa|0)|0}var wi=256,Cs=262144,St=4194304;function Si(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ii(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?f=Si(l):(E&=T,E!==0?f=Si(E):a||(a=T&~t,a!==0&&(f=Si(a))))):(T=l&~d,T!==0?f=Si(T):E!==0?f=Si(E):a||(a=l&~t,a!==0&&(f=Si(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function ri(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function vf(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oc(){var t=St;return St<<=1,(St&62914560)===0&&(St=4194304),t}function xi(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Os(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function bf(t,r,a,l,f,d){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,B=t.hiddenUpdates;for(a=E&~a;0<a;){var K=31-Et(a),Z=1<<K;T[K]=0,C[K]=-1;var G=B[K];if(G!==null)for(B[K]=null,K=0;K<G.length;K++){var Y=G[K];Y!==null&&(Y.lane&=-536870913)}a&=~Z}l!==0&&Ds(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~r))}function Ds(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Et(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Go(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Et(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function qo(t,r){var a=r&-r;return a=(a&42)!==0?1:Ms(a),(a&(t.suspendedLanes|r))!==0?0:a}function Ms(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Wi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Dc(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:kE(t.type))}function si(t,r){var a=se.p;try{return se.p=t,r()}finally{se.p=a}}var ai=Math.random().toString(36).slice(2),It="__reactFiber$"+ai,jt="__reactProps$"+ai,Ri="__reactContainer$"+ai,wa="__reactEvents$"+ai,Tf="__reactListeners$"+ai,Mc="__reactHandles$"+ai,kc="__reactResources$"+ai,Ni="__reactMarker$"+ai;function Sa(t){delete t[It],delete t[jt],delete t[wa],delete t[Tf],delete t[Mc]}function Ci(t){var r=t[It];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Ri]||a[It]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=_E(t);t!==null;){if(a=t[It])return a;t=_E(t)}return r}t=a,a=t.parentNode}return null}function Pn(t){if(t=t[It]||t[Ri]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function bn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Oi(t){var r=t[kc];return r||(r=t[kc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function xt(t){t[Ni]=!0}var Yo=new Set,Ko={};function Di(t,r){Mi(t,r),Mi(t+"Capture",r)}function Mi(t,r){for(Ko[t]=r,t=0;t<r.length;t++)Yo.add(r[t])}var Qo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$o={},Xo={};function Lc(t){return ft.call(Xo,t)?!0:ft.call($o,t)?!1:Qo.test(t)?Xo[t]=!0:($o[t]=!0,!1)}function Ia(t,r,a){if(Lc(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Tn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Rt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Rr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Jo(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){a=""+E,d.call(this,E)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(E){a=""+E},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Qe(t){if(!t._valueTracker){var r=Rr(t)?"checked":"value";t._valueTracker=Jo(t,r,""+t[r])}}function ks(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Rr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function ki(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ls=/[\n"\\]/g;function hn(t){return t.replace(Ls,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function xa(t,r,a,l,f,d,E,T){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),r!=null?E==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+zt(r)):t.value!==""+zt(r)&&(t.value=""+zt(r)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),r!=null?Zo(t,E,zt(r)):a!=null?Zo(t,E,zt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+zt(T):t.removeAttribute("name")}function Uc(t,r,a,l,f,d,E,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Qe(t);return}a=a!=null?""+zt(a):"",r=r!=null?""+zt(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E),Qe(t)}function Zo(t,r,a){r==="number"&&ki(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Nr(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+zt(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Vc(t,r,a){if(r!=null&&(r=""+zt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+zt(a):""}function Cr(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ut(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=zt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Qe(t)}function fn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Pc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wo(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Pc.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function el(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Wo(t,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Wo(t,d,r[d])}function Ra(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Or=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Na(t){return Or.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function oi(){}var tl=null;function jn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dr=null,Li=null;function Us(t){var r=Pn(t);if(r&&(t=r.stateNode)){var a=t[jt]||null;e:switch(t=r.stateNode,r.type){case"input":if(xa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+hn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[jt]||null;if(!f)throw Error(s(90));xa(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&ks(l)}break e;case"textarea":Vc(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Nr(t,!!a.multiple,r,!1)}}}var Ca=!1;function Mr(t,r,a){if(Ca)return t(r,a);Ca=!0;try{var l=t(r);return l}finally{if(Ca=!1,(Dr!==null||Li!==null)&&(Du(),Dr&&(r=Dr,t=Li,Li=Dr=null,Us(r),t)))for(r=0;r<t.length;r++)Us(t[r])}}function li(t,r){var a=t.stateNode;if(a===null)return null;var l=a[jt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vs=!1;if(zn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){Vs=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{Vs=!1}var Ui=null,nl=null,Ps=null;function il(){if(Ps)return Ps;var t,r=nl,a=r.length,l,f="value"in Ui?Ui.value:Ui.textContent,d=f.length;for(t=0;t<a&&r[t]===f[t];t++);var E=a-t;for(l=1;l<=E&&r[a-l]===f[d-l];l++);return Ps=f.slice(t,1<l?1-l:void 0)}function js(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function er(){return!0}function ci(){return!1}function qt(t){function r(a,l,f,d,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?er:ci,this.isPropagationStopped=ci,this}return A(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=er)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=er)},persist:function(){},isPersistent:er}),r}var tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=qt(tr),kr=A({},tr,{view:0,detail:0}),rl=qt(kr),Lr,Oa,Pi,Da=A({},kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ur,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pi&&(Pi&&t.type==="mousemove"?(Lr=t.screenX-Pi.screenX,Oa=t.screenY-Pi.screenY):Oa=Lr=0,Pi=t),Lr)},movementY:function(t){return"movementY"in t?t.movementY:Oa}}),sl=qt(Da),zs=A({},Da,{dataTransfer:0}),zc=qt(zs),Bc=A({},kr,{relatedTarget:0}),Bs=qt(Bc),al=A({},tr,{animationName:0,elapsedTime:0,pseudoElement:0}),Hc=qt(al),Ma=A({},tr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fc=qt(Ma),Gc=A({},tr,{data:0}),ji=qt(Gc),qc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qc(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Kc[t])?!!r[t]:!1}function Ur(){return Qc}var an=A({},kr,{key:function(t){if(t.key){var r=qc[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=js(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ur,charCode:function(t){return t.type==="keypress"?js(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?js(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$c=qt(an),Xc=A({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nr=qt(Xc),u=A({},kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ur}),g=qt(u),v=A({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=qt(v),j=A({},Da,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=qt(j),re=A({},tr,{newState:0,oldState:0}),xe=qt(re),vt=[9,13,27,32],qe=zn&&"CompositionEvent"in window,lt=null;zn&&"documentMode"in document&&(lt=document.documentMode);var Bn=zn&&"TextEvent"in window&&!lt,zi=zn&&(!qe||lt&&8<lt&&11>=lt),ui=" ",hi=!1;function Hs(t,r){switch(t){case"keyup":return vt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ka(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var La=!1;function RS(t,r){switch(t){case"compositionend":return ka(r);case"keypress":return r.which!==32?null:(hi=!0,ui);case"textInput":return t=r.data,t===ui&&hi?null:t;default:return null}}function NS(t,r){if(La)return t==="compositionend"||!qe&&Hs(t,r)?(t=il(),Ps=nl=Ui=null,La=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return zi&&r.locale!=="ko"?null:r.data;default:return null}}var CS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!CS[t.type]:r==="textarea"}function Tg(t,r,a,l){Dr?Li?Li.push(l):Li=[l]:Dr=l,r=ju(r,"onChange"),0<r.length&&(a=new Vi("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var ol=null,ll=null;function OS(t){rE(t,0)}function Jc(t){var r=bn(t);if(ks(r))return t}function Ag(t,r){if(t==="change")return r}var wg=!1;if(zn){var Af;if(zn){var wf="oninput"in document;if(!wf){var Sg=document.createElement("div");Sg.setAttribute("oninput","return;"),wf=typeof Sg.oninput=="function"}Af=wf}else Af=!1;wg=Af&&(!document.documentMode||9<document.documentMode)}function Ig(){ol&&(ol.detachEvent("onpropertychange",xg),ll=ol=null)}function xg(t){if(t.propertyName==="value"&&Jc(ll)){var r=[];Tg(r,ll,t,jn(t)),Mr(OS,r)}}function DS(t,r,a){t==="focusin"?(Ig(),ol=r,ll=a,ol.attachEvent("onpropertychange",xg)):t==="focusout"&&Ig()}function MS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jc(ll)}function kS(t,r){if(t==="click")return Jc(r)}function LS(t,r){if(t==="input"||t==="change")return Jc(r)}function US(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var An=typeof Object.is=="function"?Object.is:US;function cl(t,r){if(An(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ft.call(r,f)||!An(t[f],r[f]))return!1}return!0}function Rg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ng(t,r){var a=Rg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Rg(a)}}function Cg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Cg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Og(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=ki(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=ki(t.document)}return r}function Sf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var VS=zn&&"documentMode"in document&&11>=document.documentMode,Ua=null,If=null,ul=null,xf=!1;function Dg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xf||Ua==null||Ua!==ki(l)||(l=Ua,"selectionStart"in l&&Sf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ul&&cl(ul,l)||(ul=l,l=ju(If,"onSelect"),0<l.length&&(r=new Vi("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ua)))}function Fs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Va={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionrun:Fs("Transition","TransitionRun"),transitionstart:Fs("Transition","TransitionStart"),transitioncancel:Fs("Transition","TransitionCancel"),transitionend:Fs("Transition","TransitionEnd")},Rf={},Mg={};zn&&(Mg=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function Gs(t){if(Rf[t])return Rf[t];if(!Va[t])return t;var r=Va[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Mg)return Rf[t]=r[a];return t}var kg=Gs("animationend"),Lg=Gs("animationiteration"),Ug=Gs("animationstart"),PS=Gs("transitionrun"),jS=Gs("transitionstart"),zS=Gs("transitioncancel"),Vg=Gs("transitionend"),Pg=new Map,Nf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nf.push("scrollEnd");function fi(t,r){Pg.set(t,r),Di(r,[t])}var Zc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Hn=[],Pa=0,Cf=0;function Wc(){for(var t=Pa,r=Cf=Pa=0;r<t;){var a=Hn[r];Hn[r++]=null;var l=Hn[r];Hn[r++]=null;var f=Hn[r];Hn[r++]=null;var d=Hn[r];if(Hn[r++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}d!==0&&jg(a,f,d)}}function eu(t,r,a,l){Hn[Pa++]=t,Hn[Pa++]=r,Hn[Pa++]=a,Hn[Pa++]=l,Cf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Of(t,r,a,l){return eu(t,r,a,l),tu(t)}function qs(t,r){return eu(t,null,null,r),tu(t)}function jg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&r!==null&&(f=31-Et(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function tu(t){if(50<Dl)throw Dl=0,zd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var ja={};function BS(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,r,a,l){return new BS(t,r,a,l)}function Df(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ir(t,r){var a=t.alternate;return a===null?(a=wn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function zg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function nu(t,r,a,l,f,d){var E=0;if(l=t,typeof t=="function")Df(t)&&(E=1);else if(typeof t=="string")E=YI(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=wn(31,a,r,f),t.elementType=x,t.lanes=d,t;case Q:return Ys(a.children,f,d,r);case F:E=8,f|=24;break;case ie:return t=wn(12,a,r,f|2),t.elementType=ie,t.lanes=d,t;case ne:return t=wn(13,a,r,f),t.elementType=ne,t.lanes=d,t;case _e:return t=wn(19,a,r,f),t.elementType=_e,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $:E=10;break e;case ee:E=9;break e;case le:E=11;break e;case R:E=14;break e;case I:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=wn(E,a,r,f),r.elementType=t,r.type=l,r.lanes=d,r}function Ys(t,r,a,l){return t=wn(7,t,l,r),t.lanes=a,t}function Mf(t,r,a){return t=wn(6,t,null,r),t.lanes=a,t}function Bg(t){var r=wn(18,null,null,0);return r.stateNode=t,r}function kf(t,r,a){return r=wn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Hg=new WeakMap;function Fn(t,r){if(typeof t=="object"&&t!==null){var a=Hg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Sr(r)},Hg.set(t,r),r)}return{value:t,source:r,stack:Sr(r)}}var za=[],Ba=0,iu=null,hl=0,Gn=[],qn=0,Vr=null,Bi=1,Hi="";function rr(t,r){za[Ba++]=hl,za[Ba++]=iu,iu=t,hl=r}function Fg(t,r,a){Gn[qn++]=Bi,Gn[qn++]=Hi,Gn[qn++]=Vr,Vr=t;var l=Bi;t=Hi;var f=32-Et(l)-1;l&=~(1<<f),a+=1;var d=32-Et(r)+f;if(30<d){var E=f-f%5;d=(l&(1<<E)-1).toString(32),l>>=E,f-=E,Bi=1<<32-Et(r)+f|a<<f|l,Hi=d+t}else Bi=1<<d|a<<f|l,Hi=t}function Lf(t){t.return!==null&&(rr(t,1),Fg(t,1,0))}function Uf(t){for(;t===iu;)iu=za[--Ba],za[Ba]=null,hl=za[--Ba],za[Ba]=null;for(;t===Vr;)Vr=Gn[--qn],Gn[qn]=null,Hi=Gn[--qn],Gn[qn]=null,Bi=Gn[--qn],Gn[qn]=null}function Gg(t,r){Gn[qn++]=Bi,Gn[qn++]=Hi,Gn[qn++]=Vr,Bi=r.id,Hi=r.overflow,Vr=t}var Yt=null,st=null,je=!1,Pr=null,Yn=!1,Vf=Error(s(519));function jr(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fl(Fn(r,t)),Vf}function qg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[It]=t,r[jt]=l,a){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(a=0;a<kl.length;a++)De(kl[a],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":De("invalid",r),Uc(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":De("invalid",r);break;case"textarea":De("invalid",r),Cr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||lE(r.textContent,a)?(l.popover!=null&&(De("beforetoggle",r),De("toggle",r)),l.onScroll!=null&&De("scroll",r),l.onScrollEnd!=null&&De("scrollend",r),l.onClick!=null&&(r.onclick=oi),r=!0):r=!1,r||jr(t,!0)}function Yg(t){for(Yt=t.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Yt=Yt.return}}function Ha(t){if(t!==Yt)return!1;if(!je)return Yg(t),je=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||tm(t.type,t.memoizedProps)),a=!a),a&&st&&jr(t),Yg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));st=yE(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));st=yE(t)}else r===27?(r=st,Wr(t.type)?(t=am,am=null,st=t):st=r):st=Yt?Qn(t.stateNode.nextSibling):null;return!0}function Ks(){st=Yt=null,je=!1}function Pf(){var t=Pr;return t!==null&&(gn===null?gn=t:gn.push.apply(gn,t),Pr=null),t}function fl(t){Pr===null?Pr=[t]:Pr.push(t)}var jf=k(null),Qs=null,sr=null;function zr(t,r,a){oe(jf,r._currentValue),r._currentValue=a}function ar(t){t._currentValue=jf.current,J(jf)}function zf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Bf(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=f;for(var C=0;C<r.length;C++)if(T.context===r[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),zf(d.return,a,t),l||(E=null);break e}d=T.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),zf(E,a,t),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===t){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Fa(t,r,a,l){t=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var T=f.type;An(f.pendingProps.value,E.value)||(t!==null?t.push(T):t=[T])}}else if(f===Me.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(jl):t=[jl])}f=f.return}t!==null&&Bf(r,t,a,l),r.flags|=262144}function ru(t){for(t=t.firstContext;t!==null;){if(!An(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function $s(t){Qs=t,sr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return Kg(Qs,t)}function su(t,r){return Qs===null&&$s(t),Kg(t,r)}function Kg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},sr===null){if(t===null)throw Error(s(308));sr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else sr=sr.next=r;return a}var HS=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},FS=i.unstable_scheduleCallback,GS=i.unstable_NormalPriority,Nt={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hf(){return{controller:new HS,data:new Map,refCount:0}}function dl(t){t.refCount--,t.refCount===0&&FS(GS,function(){t.controller.abort()})}var ml=null,Ff=0,Ga=0,qa=null;function qS(t,r){if(ml===null){var a=ml=[];Ff=0,Ga=Yd(),qa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ff++,r.then(Qg,Qg),r}function Qg(){if(--Ff===0&&ml!==null){qa!==null&&(qa.status="fulfilled");var t=ml;ml=null,Ga=0,qa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function YS(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var $g=H.S;H.S=function(t,r){D_=Ft(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&qS(t,r),$g!==null&&$g(t,r)};var Xs=k(null);function Gf(){var t=Xs.current;return t!==null?t:nt.pooledCache}function au(t,r){r===null?oe(Xs,Xs.current):oe(Xs,r.pool)}function Xg(){var t=Gf();return t===null?null:{parent:Nt._currentValue,pool:t}}var Ya=Error(s(460)),qf=Error(s(474)),ou=Error(s(542)),lu={then:function(){}};function Jg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Zg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(oi,oi),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,ey(t),t;default:if(typeof r.status=="string")r.then(oi,oi);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,ey(t),t}throw Zs=r,Ya}}function Js(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Zs=a,Ya):a}}var Zs=null;function Wg(){if(Zs===null)throw Error(s(459));var t=Zs;return Zs=null,t}function ey(t){if(t===Ya||t===ou)throw Error(s(483))}var Ka=null,pl=0;function cu(t){var r=pl;return pl+=1,Ka===null&&(Ka=[]),Zg(Ka,t,r)}function gl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function uu(t,r){throw r.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function ty(t){function r(V,M){if(t){var z=V.deletions;z===null?(V.deletions=[M],V.flags|=16):z.push(M)}}function a(V,M){if(!t)return null;for(;M!==null;)r(V,M),M=M.sibling;return null}function l(V){for(var M=new Map;V!==null;)V.key!==null?M.set(V.key,V):M.set(V.index,V),V=V.sibling;return M}function f(V,M){return V=ir(V,M),V.index=0,V.sibling=null,V}function d(V,M,z){return V.index=z,t?(z=V.alternate,z!==null?(z=z.index,z<M?(V.flags|=67108866,M):z):(V.flags|=67108866,M)):(V.flags|=1048576,M)}function E(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function T(V,M,z,X){return M===null||M.tag!==6?(M=Mf(z,V.mode,X),M.return=V,M):(M=f(M,z),M.return=V,M)}function C(V,M,z,X){var ge=z.type;return ge===Q?K(V,M,z.props.children,X,z.key):M!==null&&(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===I&&Js(ge)===M.type)?(M=f(M,z.props),gl(M,z),M.return=V,M):(M=nu(z.type,z.key,z.props,null,V.mode,X),gl(M,z),M.return=V,M)}function B(V,M,z,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=kf(z,V.mode,X),M.return=V,M):(M=f(M,z.children||[]),M.return=V,M)}function K(V,M,z,X,ge){return M===null||M.tag!==7?(M=Ys(z,V.mode,X,ge),M.return=V,M):(M=f(M,z),M.return=V,M)}function Z(V,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Mf(""+M,V.mode,z),M.return=V,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case O:return z=nu(M.type,M.key,M.props,null,V.mode,z),gl(z,M),z.return=V,z;case P:return M=kf(M,V.mode,z),M.return=V,M;case I:return M=Js(M),Z(V,M,z)}if(ut(M)||U(M))return M=Ys(M,V.mode,z,null),M.return=V,M;if(typeof M.then=="function")return Z(V,cu(M),z);if(M.$$typeof===$)return Z(V,su(V,M),z);uu(V,M)}return null}function G(V,M,z,X){var ge=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ge!==null?null:T(V,M,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case O:return z.key===ge?C(V,M,z,X):null;case P:return z.key===ge?B(V,M,z,X):null;case I:return z=Js(z),G(V,M,z,X)}if(ut(z)||U(z))return ge!==null?null:K(V,M,z,X,null);if(typeof z.then=="function")return G(V,M,cu(z),X);if(z.$$typeof===$)return G(V,M,su(V,z),X);uu(V,z)}return null}function Y(V,M,z,X,ge){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return V=V.get(z)||null,T(M,V,""+X,ge);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case O:return V=V.get(X.key===null?z:X.key)||null,C(M,V,X,ge);case P:return V=V.get(X.key===null?z:X.key)||null,B(M,V,X,ge);case I:return X=Js(X),Y(V,M,z,X,ge)}if(ut(X)||U(X))return V=V.get(z)||null,K(M,V,X,ge,null);if(typeof X.then=="function")return Y(V,M,z,cu(X),ge);if(X.$$typeof===$)return Y(V,M,z,su(M,X),ge);uu(M,X)}return null}function de(V,M,z,X){for(var ge=null,Fe=null,me=M,Ne=M=0,Le=null;me!==null&&Ne<z.length;Ne++){me.index>Ne?(Le=me,me=null):Le=me.sibling;var Ge=G(V,me,z[Ne],X);if(Ge===null){me===null&&(me=Le);break}t&&me&&Ge.alternate===null&&r(V,me),M=d(Ge,M,Ne),Fe===null?ge=Ge:Fe.sibling=Ge,Fe=Ge,me=Le}if(Ne===z.length)return a(V,me),je&&rr(V,Ne),ge;if(me===null){for(;Ne<z.length;Ne++)me=Z(V,z[Ne],X),me!==null&&(M=d(me,M,Ne),Fe===null?ge=me:Fe.sibling=me,Fe=me);return je&&rr(V,Ne),ge}for(me=l(me);Ne<z.length;Ne++)Le=Y(me,V,Ne,z[Ne],X),Le!==null&&(t&&Le.alternate!==null&&me.delete(Le.key===null?Ne:Le.key),M=d(Le,M,Ne),Fe===null?ge=Le:Fe.sibling=Le,Fe=Le);return t&&me.forEach(function(rs){return r(V,rs)}),je&&rr(V,Ne),ge}function Ee(V,M,z,X){if(z==null)throw Error(s(151));for(var ge=null,Fe=null,me=M,Ne=M=0,Le=null,Ge=z.next();me!==null&&!Ge.done;Ne++,Ge=z.next()){me.index>Ne?(Le=me,me=null):Le=me.sibling;var rs=G(V,me,Ge.value,X);if(rs===null){me===null&&(me=Le);break}t&&me&&rs.alternate===null&&r(V,me),M=d(rs,M,Ne),Fe===null?ge=rs:Fe.sibling=rs,Fe=rs,me=Le}if(Ge.done)return a(V,me),je&&rr(V,Ne),ge;if(me===null){for(;!Ge.done;Ne++,Ge=z.next())Ge=Z(V,Ge.value,X),Ge!==null&&(M=d(Ge,M,Ne),Fe===null?ge=Ge:Fe.sibling=Ge,Fe=Ge);return je&&rr(V,Ne),ge}for(me=l(me);!Ge.done;Ne++,Ge=z.next())Ge=Y(me,V,Ne,Ge.value,X),Ge!==null&&(t&&Ge.alternate!==null&&me.delete(Ge.key===null?Ne:Ge.key),M=d(Ge,M,Ne),Fe===null?ge=Ge:Fe.sibling=Ge,Fe=Ge);return t&&me.forEach(function(i1){return r(V,i1)}),je&&rr(V,Ne),ge}function et(V,M,z,X){if(typeof z=="object"&&z!==null&&z.type===Q&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case O:e:{for(var ge=z.key;M!==null;){if(M.key===ge){if(ge=z.type,ge===Q){if(M.tag===7){a(V,M.sibling),X=f(M,z.props.children),X.return=V,V=X;break e}}else if(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===I&&Js(ge)===M.type){a(V,M.sibling),X=f(M,z.props),gl(X,z),X.return=V,V=X;break e}a(V,M);break}else r(V,M);M=M.sibling}z.type===Q?(X=Ys(z.props.children,V.mode,X,z.key),X.return=V,V=X):(X=nu(z.type,z.key,z.props,null,V.mode,X),gl(X,z),X.return=V,V=X)}return E(V);case P:e:{for(ge=z.key;M!==null;){if(M.key===ge)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){a(V,M.sibling),X=f(M,z.children||[]),X.return=V,V=X;break e}else{a(V,M);break}else r(V,M);M=M.sibling}X=kf(z,V.mode,X),X.return=V,V=X}return E(V);case I:return z=Js(z),et(V,M,z,X)}if(ut(z))return de(V,M,z,X);if(U(z)){if(ge=U(z),typeof ge!="function")throw Error(s(150));return z=ge.call(z),Ee(V,M,z,X)}if(typeof z.then=="function")return et(V,M,cu(z),X);if(z.$$typeof===$)return et(V,M,su(V,z),X);uu(V,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(a(V,M.sibling),X=f(M,z),X.return=V,V=X):(a(V,M),X=Mf(z,V.mode,X),X.return=V,V=X),E(V)):a(V,M)}return function(V,M,z,X){try{pl=0;var ge=et(V,M,z,X);return Ka=null,ge}catch(me){if(me===Ya||me===ou)throw me;var Fe=wn(29,me,null,V.mode);return Fe.lanes=X,Fe.return=V,Fe}finally{}}}var Ws=ty(!0),ny=ty(!1),Br=!1;function Yf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Hr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Fr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=tu(t),jg(t,null,a),r}return eu(t,l,r,a),tu(t)}function yl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Go(t,a)}}function Qf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var $f=!1;function _l(){if($f){var t=qa;if(t!==null)throw t}}function El(t,r,a,l){$f=!1;var f=t.updateQueue;Br=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var C=T,B=C.next;C.next=null,E===null?d=B:E.next=B,E=C;var K=t.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==E&&(T===null?K.firstBaseUpdate=B:T.next=B,K.lastBaseUpdate=C))}if(d!==null){var Z=f.baseState;E=0,K=B=C=null,T=d;do{var G=T.lane&-536870913,Y=G!==T.lane;if(Y?(ke&G)===G:(l&G)===G){G!==0&&G===Ga&&($f=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var de=t,Ee=T;G=r;var et=a;switch(Ee.tag){case 1:if(de=Ee.payload,typeof de=="function"){Z=de.call(et,Z,G);break e}Z=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=Ee.payload,G=typeof de=="function"?de.call(et,Z,G):de,G==null)break e;Z=A({},Z,G);break e;case 2:Br=!0}}G=T.callback,G!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(B=K=Y,C=Z):K=K.next=Y,E|=G;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);K===null&&(C=Z),f.baseState=C,f.firstBaseUpdate=B,f.lastBaseUpdate=K,d===null&&(f.shared.lanes=0),Qr|=E,t.lanes=E,t.memoizedState=Z}}function iy(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function ry(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)iy(a[t],r)}var Qa=k(null),hu=k(0);function sy(t,r){t=pr,oe(hu,t),oe(Qa,r),pr=t|r.baseLanes}function Xf(){oe(hu,pr),oe(Qa,Qa.current)}function Jf(){pr=hu.current,J(Qa),J(hu)}var Sn=k(null),Kn=null;function Gr(t){var r=t.alternate;oe(bt,bt.current&1),oe(Sn,t),Kn===null&&(r===null||Qa.current!==null||r.memoizedState!==null)&&(Kn=t)}function Zf(t){oe(bt,bt.current),oe(Sn,t),Kn===null&&(Kn=t)}function ay(t){t.tag===22?(oe(bt,bt.current),oe(Sn,t),Kn===null&&(Kn=t)):qr()}function qr(){oe(bt,bt.current),oe(Sn,Sn.current)}function In(t){J(Sn),Kn===t&&(Kn=null),J(bt)}var bt=k(0);function fu(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||rm(a)||sm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var or=0,Re=null,Ze=null,Ct=null,du=!1,$a=!1,ea=!1,mu=0,vl=0,Xa=null,KS=0;function pt(){throw Error(s(321))}function Wf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!An(t[a],r[a]))return!1;return!0}function ed(t,r,a,l,f,d){return or=d,Re=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,H.H=t===null||t.memoizedState===null?Fy:pd,ea=!1,d=a(l,f),ea=!1,$a&&(d=ly(r,a,l,f)),oy(t),d}function oy(t){H.H=Al;var r=Ze!==null&&Ze.next!==null;if(or=0,Ct=Ze=Re=null,du=!1,vl=0,Xa=null,r)throw Error(s(300));t===null||Ot||(t=t.dependencies,t!==null&&ru(t)&&(Ot=!0))}function ly(t,r,a,l){Re=t;var f=0;do{if($a&&(Xa=null),vl=0,$a=!1,25<=f)throw Error(s(301));if(f+=1,Ct=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}H.H=Gy,d=r(a,l)}while($a);return d}function QS(){var t=H.H,r=t.useState()[0];return r=typeof r.then=="function"?bl(r):r,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Re.flags|=1024),r}function td(){var t=mu!==0;return mu=0,t}function nd(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function id(t){if(du){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}du=!1}or=0,Ct=Ze=Re=null,$a=!1,vl=mu=0,Xa=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Re.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function Tt(){if(Ze===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var r=Ct===null?Re.memoizedState:Ct.next;if(r!==null)Ct=r,Ze=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Ct===null?Re.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function pu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bl(t){var r=vl;return vl+=1,Xa===null&&(Xa=[]),t=Zg(Xa,t,r),r=Re,(Ct===null?r.memoizedState:Ct.next)===null&&(r=r.alternate,H.H=r===null||r.memoizedState===null?Fy:pd),t}function gu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return bl(t);if(t.$$typeof===$)return Kt(t)}throw Error(s(438,String(t)))}function rd(t){var r=null,a=Re.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=pu(),Re.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=L;return r.index++,a}function lr(t,r){return typeof r=="function"?r(t):r}function yu(t){var r=Tt();return sd(r,Ze,t)}function sd(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}r.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{r=f.next;var T=E=null,C=null,B=r,K=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(ke&Z)===Z:(or&Z)===Z){var G=B.revertLane;if(G===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===Ga&&(K=!0);else if((or&G)===G){B=B.next,G===Ga&&(K=!0);continue}else Z={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(T=C=Z,E=d):C=C.next=Z,Re.lanes|=G,Qr|=G;Z=B.action,ea&&a(d,Z),d=B.hasEagerState?B.eagerState:a(d,Z)}else G={lane:Z,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(T=C=G,E=d):C=C.next=G,Re.lanes|=Z,Qr|=Z;B=B.next}while(B!==null&&B!==r);if(C===null?E=d:C.next=T,!An(d,t.memoizedState)&&(Ot=!0,K&&(a=qa,a!==null)))throw a;t.memoizedState=d,t.baseState=E,t.baseQueue=C,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ad(t){var r=Tt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do d=t(d,E.action),E=E.next;while(E!==f);An(d,r.memoizedState)||(Ot=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function cy(t,r,a){var l=Re,f=Tt(),d=je;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!An((Ze||f).memoizedState,a);if(E&&(f.memoizedState=a,Ot=!0),f=f.queue,cd(fy.bind(null,l,f,t),[t]),f.getSnapshot!==r||E||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,Ja(9,{destroy:void 0},hy.bind(null,l,f,a,r),null),nt===null)throw Error(s(349));d||(or&127)!==0||uy(l,r,a)}return a}function uy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Re.updateQueue,r===null?(r=pu(),Re.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function hy(t,r,a,l){r.value=a,r.getSnapshot=l,dy(r)&&my(t)}function fy(t,r,a){return a(function(){dy(r)&&my(t)})}function dy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!An(t,a)}catch{return!0}}function my(t){var r=qs(t,2);r!==null&&yn(r,t,2)}function od(t){var r=on();if(typeof t=="function"){var a=t;if(t=a(),ea){Vn(!0);try{a()}finally{Vn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:t},r}function py(t,r,a,l){return t.baseState=a,sd(t,Ze,typeof l=="function"?l:lr)}function $S(t,r,a,l,f){if(vu(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};H.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,gy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function gy(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var d=H.T,E={};H.T=E;try{var T=a(f,l),C=H.S;C!==null&&C(E,T),yy(t,r,T)}catch(B){ld(t,r,B)}finally{d!==null&&E.types!==null&&(d.types=E.types),H.T=d}}else try{d=a(f,l),yy(t,r,d)}catch(B){ld(t,r,B)}}function yy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){_y(t,r,l)},function(l){return ld(t,r,l)}):_y(t,r,a)}function _y(t,r,a){r.status="fulfilled",r.value=a,Ey(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,gy(t,a)))}function ld(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Ey(r),r=r.next;while(r!==l)}t.action=null}function Ey(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function vy(t,r){return r}function by(t,r){if(je){var a=nt.formState;if(a!==null){e:{var l=Re;if(je){if(st){t:{for(var f=st,d=Yn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Qn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){st=Qn(f.nextSibling),l=f.data==="F!";break e}}jr(l)}l=!1}l&&(r=a[0])}}return a=on(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vy,lastRenderedState:r},a.queue=l,a=zy.bind(null,Re,l),l.dispatch=a,l=od(!1),d=md.bind(null,Re,!1,l.queue),l=on(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=$S.bind(null,Re,f,d,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function Ty(t){var r=Tt();return Ay(r,Ze,t)}function Ay(t,r,a){if(r=sd(t,r,vy)[0],t=yu(lr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=bl(r)}catch(E){throw E===Ya?ou:E}else l=r;r=Tt();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Re.flags|=2048,Ja(9,{destroy:void 0},XS.bind(null,f,a),null)),[l,d,t]}function XS(t,r){t.action=r}function wy(t){var r=Tt(),a=Ze;if(a!==null)return Ay(r,a,t);Tt(),r=r.memoizedState,a=Tt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Ja(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Re.updateQueue,r===null&&(r=pu(),Re.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function Sy(){return Tt().memoizedState}function _u(t,r,a,l){var f=on();Re.flags|=t,f.memoizedState=Ja(1|r,{destroy:void 0},a,l===void 0?null:l)}function Eu(t,r,a,l){var f=Tt();l=l===void 0?null:l;var d=f.memoizedState.inst;Ze!==null&&l!==null&&Wf(l,Ze.memoizedState.deps)?f.memoizedState=Ja(r,d,a,l):(Re.flags|=t,f.memoizedState=Ja(1|r,d,a,l))}function Iy(t,r){_u(8390656,8,t,r)}function cd(t,r){Eu(2048,8,t,r)}function JS(t){Re.flags|=4;var r=Re.updateQueue;if(r===null)r=pu(),Re.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function xy(t){var r=Tt().memoizedState;return JS({ref:r,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Ry(t,r){return Eu(4,2,t,r)}function Ny(t,r){return Eu(4,4,t,r)}function Cy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Oy(t,r,a){a=a!=null?a.concat([t]):null,Eu(4,4,Cy.bind(null,r,t),a)}function ud(){}function Dy(t,r){var a=Tt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Wf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function My(t,r){var a=Tt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Wf(r,l[1]))return l[0];if(l=t(),ea){Vn(!0);try{t()}finally{Vn(!1)}}return a.memoizedState=[l,r],l}function hd(t,r,a){return a===void 0||(or&1073741824)!==0&&(ke&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=k_(),Re.lanes|=t,Qr|=t,a)}function ky(t,r,a,l){return An(a,r)?a:Qa.current!==null?(t=hd(t,a,l),An(t,r)||(Ot=!0),t):(or&42)===0||(or&1073741824)!==0&&(ke&261930)===0?(Ot=!0,t.memoizedState=a):(t=k_(),Re.lanes|=t,Qr|=t,r)}function Ly(t,r,a,l,f){var d=se.p;se.p=d!==0&&8>d?d:8;var E=H.T,T={};H.T=T,md(t,!1,r,a);try{var C=f(),B=H.S;if(B!==null&&B(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var K=YS(C,l);Tl(t,r,K,Nn(t))}else Tl(t,r,l,Nn(t))}catch(Z){Tl(t,r,{then:function(){},status:"rejected",reason:Z},Nn())}finally{se.p=d,E!==null&&T.types!==null&&(E.types=T.types),H.T=E}}function ZS(){}function fd(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=Uy(t).queue;Ly(t,f,r,pe,a===null?ZS:function(){return Vy(t),a(l)})}function Uy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:pe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Vy(t){var r=Uy(t);r.next===null&&(r=t.alternate.memoizedState),Tl(t,r.next.queue,{},Nn())}function dd(){return Kt(jl)}function Py(){return Tt().memoizedState}function jy(){return Tt().memoizedState}function WS(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Nn();t=Hr(a);var l=Fr(r,t,a);l!==null&&(yn(l,r,a),yl(l,r,a)),r={cache:Hf()},t.payload=r;return}r=r.return}}function eI(t,r,a){var l=Nn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},vu(t)?By(r,a):(a=Of(t,r,a,l),a!==null&&(yn(a,t,l),Hy(a,r,l)))}function zy(t,r,a){var l=Nn();Tl(t,r,a,l)}function Tl(t,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(vu(t))By(r,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var E=r.lastRenderedState,T=d(E,a);if(f.hasEagerState=!0,f.eagerState=T,An(T,E))return eu(t,r,f,0),nt===null&&Wc(),!1}catch{}finally{}if(a=Of(t,r,f,l),a!==null)return yn(a,t,l),Hy(a,r,l),!0}return!1}function md(t,r,a,l){if(l={lane:2,revertLane:Yd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},vu(t)){if(r)throw Error(s(479))}else r=Of(t,a,l,2),r!==null&&yn(r,t,2)}function vu(t){var r=t.alternate;return t===Re||r!==null&&r===Re}function By(t,r){$a=du=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Hy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Go(t,a)}}var Al={readContext:Kt,use:gu,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};Al.useEffectEvent=pt;var Fy={readContext:Kt,use:gu,useCallback:function(t,r){return on().memoizedState=[t,r===void 0?null:r],t},useContext:Kt,useEffect:Iy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,_u(4194308,4,Cy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return _u(4194308,4,t,r)},useInsertionEffect:function(t,r){_u(4,2,t,r)},useMemo:function(t,r){var a=on();r=r===void 0?null:r;var l=t();if(ea){Vn(!0);try{t()}finally{Vn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=on();if(a!==void 0){var f=a(r);if(ea){Vn(!0);try{a(r)}finally{Vn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=eI.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var r=on();return t={current:t},r.memoizedState=t},useState:function(t){t=od(t);var r=t.queue,a=zy.bind(null,Re,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:ud,useDeferredValue:function(t,r){var a=on();return hd(a,t,r)},useTransition:function(){var t=od(!1);return t=Ly.bind(null,Re,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Re,f=on();if(je){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),nt===null)throw Error(s(349));(ke&127)!==0||uy(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,Iy(fy.bind(null,l,d,t),[t]),l.flags|=2048,Ja(9,{destroy:void 0},hy.bind(null,l,d,a,r),null),a},useId:function(){var t=on(),r=nt.identifierPrefix;if(je){var a=Hi,l=Bi;a=(l&~(1<<32-Et(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=mu++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=KS++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:dd,useFormState:by,useActionState:by,useOptimistic:function(t){var r=on();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=md.bind(null,Re,!0,a),a.dispatch=r,[t,r]},useMemoCache:rd,useCacheRefresh:function(){return on().memoizedState=WS.bind(null,Re)},useEffectEvent:function(t){var r=on(),a={impl:t};return r.memoizedState=a,function(){if((Ye&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},pd={readContext:Kt,use:gu,useCallback:Dy,useContext:Kt,useEffect:cd,useImperativeHandle:Oy,useInsertionEffect:Ry,useLayoutEffect:Ny,useMemo:My,useReducer:yu,useRef:Sy,useState:function(){return yu(lr)},useDebugValue:ud,useDeferredValue:function(t,r){var a=Tt();return ky(a,Ze.memoizedState,t,r)},useTransition:function(){var t=yu(lr)[0],r=Tt().memoizedState;return[typeof t=="boolean"?t:bl(t),r]},useSyncExternalStore:cy,useId:Py,useHostTransitionStatus:dd,useFormState:Ty,useActionState:Ty,useOptimistic:function(t,r){var a=Tt();return py(a,Ze,t,r)},useMemoCache:rd,useCacheRefresh:jy};pd.useEffectEvent=xy;var Gy={readContext:Kt,use:gu,useCallback:Dy,useContext:Kt,useEffect:cd,useImperativeHandle:Oy,useInsertionEffect:Ry,useLayoutEffect:Ny,useMemo:My,useReducer:ad,useRef:Sy,useState:function(){return ad(lr)},useDebugValue:ud,useDeferredValue:function(t,r){var a=Tt();return Ze===null?hd(a,t,r):ky(a,Ze.memoizedState,t,r)},useTransition:function(){var t=ad(lr)[0],r=Tt().memoizedState;return[typeof t=="boolean"?t:bl(t),r]},useSyncExternalStore:cy,useId:Py,useHostTransitionStatus:dd,useFormState:wy,useActionState:wy,useOptimistic:function(t,r){var a=Tt();return Ze!==null?py(a,Ze,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:rd,useCacheRefresh:jy};Gy.useEffectEvent=xy;function gd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:A({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var yd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=Nn(),f=Hr(l);f.payload=r,a!=null&&(f.callback=a),r=Fr(t,f,l),r!==null&&(yn(r,t,l),yl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=Nn(),f=Hr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Fr(t,f,l),r!==null&&(yn(r,t,l),yl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Nn(),l=Hr(a);l.tag=2,r!=null&&(l.callback=r),r=Fr(t,l,a),r!==null&&(yn(r,t,a),yl(r,t,a))}};function qy(t,r,a,l,f,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):r.prototype&&r.prototype.isPureReactComponent?!cl(a,l)||!cl(f,d):!0}function Yy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&yd.enqueueReplaceState(r,r.state,null)}function ta(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=A({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function Ky(t){Zc(t)}function Qy(t){console.error(t)}function $y(t){Zc(t)}function bu(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Xy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function _d(t,r,a){return a=Hr(a),a.tag=3,a.payload={element:null},a.callback=function(){bu(t,r)},a}function Jy(t){return t=Hr(t),t.tag=3,t}function Zy(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){Xy(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){Xy(r,a,l),typeof f!="function"&&($r===null?$r=new Set([this]):$r.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function tI(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Fa(r,a,f,!0),a=Sn.current,a!==null){switch(a.tag){case 31:case 13:return Kn===null?Mu():a.alternate===null&&gt===0&&(gt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===lu?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Fd(t,l,f)),!1;case 22:return a.flags|=65536,l===lu?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Fd(t,l,f)),!1}throw Error(s(435,a.tag))}return Fd(t,l,f),Mu(),!1}if(je)return r=Sn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Vf&&(t=Error(s(422),{cause:l}),fl(Fn(t,a)))):(l!==Vf&&(r=Error(s(423),{cause:l}),fl(Fn(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Fn(l,a),f=_d(t.stateNode,l,f),Qf(t,f),gt!==4&&(gt=2)),!1;var d=Error(s(520),{cause:l});if(d=Fn(d,a),Ol===null?Ol=[d]:Ol.push(d),gt!==4&&(gt=2),r===null)return!0;l=Fn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=_d(a.stateNode,l,t),Qf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&($r===null||!$r.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Jy(f),Zy(f,t,a,l),Qf(a,f),!1}a=a.return}while(a!==null);return!1}var Ed=Error(s(461)),Ot=!1;function Qt(t,r,a,l){r.child=t===null?ny(r,null,a,l):Ws(r,t.child,a,l)}function Wy(t,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var E={};for(var T in l)T!=="ref"&&(E[T]=l[T])}else E=l;return $s(r),l=ed(t,r,a,E,d,f),T=td(),t!==null&&!Ot?(nd(t,r,f),cr(t,r,f)):(je&&T&&Lf(r),r.flags|=1,Qt(t,r,l,f),r.child)}function e_(t,r,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Df(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,t_(t,r,d,l,f)):(t=nu(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!xd(t,f)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:cl,a(E,l)&&t.ref===r.ref)return cr(t,r,f)}return r.flags|=1,t=ir(d,l),t.ref=r.ref,t.return=r,r.child=t}function t_(t,r,a,l,f){if(t!==null){var d=t.memoizedProps;if(cl(d,l)&&t.ref===r.ref)if(Ot=!1,r.pendingProps=l=d,xd(t,f))(t.flags&131072)!==0&&(Ot=!0);else return r.lanes=t.lanes,cr(t,r,f)}return vd(t,r,a,l,f)}function n_(t,r,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=r.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return i_(t,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&au(r,d!==null?d.cachePool:null),d!==null?sy(r,d):Xf(),ay(r);else return l=r.lanes=536870912,i_(t,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(au(r,d.cachePool),sy(r,d),qr(),r.memoizedState=null):(t!==null&&au(r,null),Xf(),qr());return Qt(t,r,f,a),r.child}function wl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function i_(t,r,a,l,f){var d=Gf();return d=d===null?null:{parent:Nt._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},t!==null&&au(r,null),Xf(),ay(r),t!==null&&Fa(t,r,l,!0),r.childLanes=f,null}function Tu(t,r){return r=wu({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function r_(t,r,a){return Ws(r,t.child,null,a),t=Tu(r,r.pendingProps),t.flags|=2,In(r),r.memoizedState=null,t}function nI(t,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(je){if(l.mode==="hidden")return t=Tu(r,l),r.lanes=536870912,wl(null,t);if(Zf(r),(t=st)?(t=gE(t,Yn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Vr!==null?{id:Bi,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},a=Bg(t),a.return=r,r.child=a,Yt=r,st=null)):t=null,t===null)throw jr(r);return r.lanes=536870912,null}return Tu(r,l)}var d=t.memoizedState;if(d!==null){var E=d.dehydrated;if(Zf(r),f)if(r.flags&256)r.flags&=-257,r=r_(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ot||Fa(t,r,a,!1),f=(a&t.childLanes)!==0,Ot||f){if(l=nt,l!==null&&(E=qo(l,a),E!==0&&E!==d.retryLane))throw d.retryLane=E,qs(t,E),yn(l,t,E),Ed;Mu(),r=r_(t,r,a)}else t=d.treeContext,st=Qn(E.nextSibling),Yt=r,je=!0,Pr=null,Yn=!1,t!==null&&Gg(r,t),r=Tu(r,l),r.flags|=4096;return r}return t=ir(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Au(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function vd(t,r,a,l,f){return $s(r),a=ed(t,r,a,l,void 0,f),l=td(),t!==null&&!Ot?(nd(t,r,f),cr(t,r,f)):(je&&l&&Lf(r),r.flags|=1,Qt(t,r,a,f),r.child)}function s_(t,r,a,l,f,d){return $s(r),r.updateQueue=null,a=ly(r,l,a,f),oy(t),l=td(),t!==null&&!Ot?(nd(t,r,d),cr(t,r,d)):(je&&l&&Lf(r),r.flags|=1,Qt(t,r,a,d),r.child)}function a_(t,r,a,l,f){if($s(r),r.stateNode===null){var d=ja,E=a.contextType;typeof E=="object"&&E!==null&&(d=Kt(E)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=yd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Yf(r),E=a.contextType,d.context=typeof E=="object"&&E!==null?Kt(E):ja,d.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(gd(r,a,E,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&yd.enqueueReplaceState(d,d.state,null),El(r,l,d,f),_l(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,C=ta(a,T);d.props=C;var B=d.context,K=a.contextType;E=ja,typeof K=="object"&&K!==null&&(E=Kt(K));var Z=a.getDerivedStateFromProps;K=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==E)&&Yy(r,d,l,E),Br=!1;var G=r.memoizedState;d.state=G,El(r,l,d,f),_l(),B=r.memoizedState,T||G!==B||Br?(typeof Z=="function"&&(gd(r,a,Z,l),B=r.memoizedState),(C=Br||qy(r,a,C,l,G,B,E))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=B),d.props=l,d.state=B,d.context=E,l=C):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Kf(t,r),E=r.memoizedProps,K=ta(a,E),d.props=K,Z=r.pendingProps,G=d.context,B=a.contextType,C=ja,typeof B=="object"&&B!==null&&(C=Kt(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==Z||G!==C)&&Yy(r,d,l,C),Br=!1,G=r.memoizedState,d.state=G,El(r,l,d,f),_l();var Y=r.memoizedState;E!==Z||G!==Y||Br||t!==null&&t.dependencies!==null&&ru(t.dependencies)?(typeof T=="function"&&(gd(r,a,T,l),Y=r.memoizedState),(K=Br||qy(r,a,K,l,G,Y,C)||t!==null&&t.dependencies!==null&&ru(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,C)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),d.props=l,d.state=Y,d.context=C,l=K):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Au(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Ws(r,t.child,null,f),r.child=Ws(r,null,a,f)):Qt(t,r,a,f),r.memoizedState=d.state,t=r.child):t=cr(t,r,f),t}function o_(t,r,a,l){return Ks(),r.flags|=256,Qt(t,r,a,l),r.child}var bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Td(t){return{baseLanes:t,cachePool:Xg()}}function Ad(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Rn),t}function l_(t,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(bt.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,t===null){if(je){if(f?Gr(r):qr(),(t=st)?(t=gE(t,Yn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Vr!==null?{id:Bi,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},a=Bg(t),a.return=r,r.child=a,Yt=r,st=null)):t=null,t===null)throw jr(r);return sm(t)?r.lanes=32:r.lanes=536870912,null}var T=l.children;return l=l.fallback,f?(qr(),f=r.mode,T=wu({mode:"hidden",children:T},f),l=Ys(l,f,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,l=r.child,l.memoizedState=Td(a),l.childLanes=Ad(t,E,a),r.memoizedState=bd,wl(null,l)):(Gr(r),wd(r,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(d)r.flags&256?(Gr(r),r.flags&=-257,r=Sd(t,r,a)):r.memoizedState!==null?(qr(),r.child=t.child,r.flags|=128,r=null):(qr(),T=l.fallback,f=r.mode,l=wu({mode:"visible",children:l.children},f),T=Ys(T,f,a,null),T.flags|=2,l.return=r,T.return=r,l.sibling=T,r.child=l,Ws(r,t.child,null,a),l=r.child,l.memoizedState=Td(a),l.childLanes=Ad(t,E,a),r.memoizedState=bd,r=wl(null,l));else if(Gr(r),sm(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var B=E.dgst;E=B,l=Error(s(419)),l.stack="",l.digest=E,fl({value:l,source:null,stack:null}),r=Sd(t,r,a)}else if(Ot||Fa(t,r,a,!1),E=(a&t.childLanes)!==0,Ot||E){if(E=nt,E!==null&&(l=qo(E,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,qs(t,l),yn(E,t,l),Ed;rm(T)||Mu(),r=Sd(t,r,a)}else rm(T)?(r.flags|=192,r.child=t.child,r=null):(t=C.treeContext,st=Qn(T.nextSibling),Yt=r,je=!0,Pr=null,Yn=!1,t!==null&&Gg(r,t),r=wd(r,l.children),r.flags|=4096);return r}return f?(qr(),T=l.fallback,f=r.mode,C=t.child,B=C.sibling,l=ir(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,B!==null?T=ir(B,T):(T=Ys(T,f,a,null),T.flags|=2),T.return=r,l.return=r,l.sibling=T,r.child=l,wl(null,l),l=r.child,T=t.child.memoizedState,T===null?T=Td(a):(f=T.cachePool,f!==null?(C=Nt._currentValue,f=f.parent!==C?{parent:C,pool:C}:f):f=Xg(),T={baseLanes:T.baseLanes|a,cachePool:f}),l.memoizedState=T,l.childLanes=Ad(t,E,a),r.memoizedState=bd,wl(t.child,l)):(Gr(r),a=t.child,t=a.sibling,a=ir(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(E=r.deletions,E===null?(r.deletions=[t],r.flags|=16):E.push(t)),r.child=a,r.memoizedState=null,a)}function wd(t,r){return r=wu({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function wu(t,r){return t=wn(22,t,null,r),t.lanes=0,t}function Sd(t,r,a){return Ws(r,t.child,null,a),t=wd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function c_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),zf(t.return,r,a)}function Id(t,r,a,l,f,d){var E=t.memoizedState;E===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(E.isBackwards=r,E.rendering=null,E.renderingStartTime=0,E.last=l,E.tail=a,E.tailMode=f,E.treeForkCount=d)}function u_(t,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var E=bt.current,T=(E&2)!==0;if(T?(E=E&1|2,r.flags|=128):E&=1,oe(bt,E),Qt(t,r,l,a),l=je?hl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&c_(t,a,r);else if(t.tag===19)c_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&fu(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Id(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&fu(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Id(r,!0,a,null,d,l);break;case"together":Id(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function cr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Qr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Fa(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=ir(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=ir(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function xd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&ru(t)))}function iI(t,r,a){switch(r.tag){case 3:ht(r,r.stateNode.containerInfo),zr(r,Nt,t.memoizedState.cache),Ks();break;case 27:case 5:Wn(r);break;case 4:ht(r,r.stateNode.containerInfo);break;case 10:zr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Zf(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Gr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?l_(t,r,a):(Gr(r),t=cr(t,r,a),t!==null?t.sibling:null);Gr(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Fa(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return u_(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe(bt,bt.current),l)break;return null;case 22:return r.lanes=0,n_(t,r,a,r.pendingProps);case 24:zr(r,Nt,t.memoizedState.cache)}return cr(t,r,a)}function h_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Ot=!0;else{if(!xd(t,a)&&(r.flags&128)===0)return Ot=!1,iI(t,r,a);Ot=(t.flags&131072)!==0}else Ot=!1,je&&(r.flags&1048576)!==0&&Fg(r,hl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=Js(r.elementType),r.type=t,typeof t=="function")Df(t)?(l=ta(t,l),r.tag=1,r=a_(null,r,t,l,a)):(r.tag=0,r=vd(null,r,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===le){r.tag=11,r=Wy(null,r,t,l,a);break e}else if(f===R){r.tag=14,r=e_(null,r,t,l,a);break e}}throw r=He(t)||t,Error(s(306,r,""))}}return r;case 0:return vd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=ta(l,r.pendingProps),a_(t,r,l,f,a);case 3:e:{if(ht(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,Kf(t,r),El(r,l,null,a);var E=r.memoizedState;if(l=E.cache,zr(r,Nt,l),l!==d.cache&&Bf(r,[Nt],a,!0),_l(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=o_(t,r,l,a);break e}else if(l!==f){f=Fn(Error(s(424)),r),fl(f),r=o_(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(st=Qn(t.firstChild),Yt=r,je=!0,Pr=null,Yn=!0,a=ny(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ks(),l===f){r=cr(t,r,a);break e}Qt(t,r,l,a)}r=r.child}return r;case 26:return Au(t,r),t===null?(a=TE(r.type,null,r.pendingProps,null))?r.memoizedState=a:je||(a=r.type,t=r.pendingProps,l=zu(Ae.current).createElement(a),l[It]=r,l[jt]=t,$t(l,a,t),xt(l),r.stateNode=l):r.memoizedState=TE(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Wn(r),t===null&&je&&(l=r.stateNode=EE(r.type,r.pendingProps,Ae.current),Yt=r,Yn=!0,f=st,Wr(r.type)?(am=f,st=Qn(l.firstChild)):st=f),Qt(t,r,r.pendingProps.children,a),Au(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&je&&((f=l=st)&&(l=MI(l,r.type,r.pendingProps,Yn),l!==null?(r.stateNode=l,Yt=r,st=Qn(l.firstChild),Yn=!1,f=!0):f=!1),f||jr(r)),Wn(r),f=r.type,d=r.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,tm(f,d)?l=null:E!==null&&tm(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=ed(t,r,QS,null,null,a),jl._currentValue=f),Au(t,r),Qt(t,r,l,a),r.child;case 6:return t===null&&je&&((t=a=st)&&(a=kI(a,r.pendingProps,Yn),a!==null?(r.stateNode=a,Yt=r,st=null,t=!0):t=!1),t||jr(r)),null;case 13:return l_(t,r,a);case 4:return ht(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Ws(r,null,l,a):Qt(t,r,l,a),r.child;case 11:return Wy(t,r,r.type,r.pendingProps,a);case 7:return Qt(t,r,r.pendingProps,a),r.child;case 8:return Qt(t,r,r.pendingProps.children,a),r.child;case 12:return Qt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,zr(r,r.type,l.value),Qt(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,$s(r),f=Kt(f),l=l(f),r.flags|=1,Qt(t,r,l,a),r.child;case 14:return e_(t,r,r.type,r.pendingProps,a);case 15:return t_(t,r,r.type,r.pendingProps,a);case 19:return u_(t,r,a);case 31:return nI(t,r,a);case 22:return n_(t,r,a,r.pendingProps);case 24:return $s(r),l=Kt(Nt),t===null?(f=Gf(),f===null&&(f=nt,d=Hf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},Yf(r),zr(r,Nt,f)):((t.lanes&a)!==0&&(Kf(t,r),El(r,null,null,a),_l()),f=t.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),zr(r,Nt,l)):(l=d.cache,zr(r,Nt,l),l!==f.cache&&Bf(r,[Nt],a,!0))),Qt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ur(t){t.flags|=4}function Rd(t,r,a,l,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(P_())t.flags|=8192;else throw Zs=lu,qf}else t.flags&=-16777217}function f_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!xE(r))if(P_())t.flags|=8192;else throw Zs=lu,qf}function Su(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Oc():536870912,t.lanes|=r,to|=r)}function Sl(t,r){if(!je)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function rI(t,r,a){var l=r.pendingProps;switch(Uf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(r),null;case 1:return at(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ar(Nt),it(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ha(r)?ur(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Pf())),at(r),null;case 26:var f=r.type,d=r.memoizedState;return t===null?(ur(r),d!==null?(at(r),f_(r,d)):(at(r),Rd(r,f,null,l,a))):d?d!==t.memoizedState?(ur(r),at(r),f_(r,d)):(at(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&ur(r),at(r),Rd(r,f,t,l,a)),null;case 27:if(Mn(r),a=Ae.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&ur(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return at(r),null}t=ue.current,Ha(r)?qg(r):(t=EE(f,l,a),r.stateNode=t,ur(r))}return at(r),null;case 5:if(Mn(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&ur(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return at(r),null}if(d=ue.current,Ha(r))qg(r);else{var E=zu(Ae.current);switch(d){case 1:d=E.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=E.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=E.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?E.createElement("select",{is:l.is}):E.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?E.createElement(f,{is:l.is}):E.createElement(f)}}d[It]=r,d[jt]=l;e:for(E=r.child;E!==null;){if(E.tag===5||E.tag===6)d.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===r)break e;for(;E.sibling===null;){if(E.return===null||E.return===r)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}r.stateNode=d;e:switch($t(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ur(r)}}return at(r),Rd(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&ur(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Ae.current,Ha(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=Yt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[It]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||lE(t.nodeValue,a)),t||jr(r,!0)}else t=zu(t).createTextNode(l),t[It]=r,r.stateNode=t}return at(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=Ha(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[It]=r}else Ks(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),t=!1}else a=Pf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(In(r),r):(In(r),null);if((r.flags&128)!==0)throw Error(s(558))}return at(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ha(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[It]=r}else Ks(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),f=!1}else f=Pf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(In(r),r):(In(r),null)}return In(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),Su(r,r.updateQueue),at(r),null);case 4:return it(),t===null&&Xd(r.stateNode.containerInfo),at(r),null;case 10:return ar(r.type),at(r),null;case 19:if(J(bt),l=r.memoizedState,l===null)return at(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)Sl(l,!1);else{if(gt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=fu(t),d!==null){for(r.flags|=128,Sl(l,!1),t=d.updateQueue,r.updateQueue=t,Su(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)zg(a,t),a=a.sibling;return oe(bt,bt.current&1|2),je&&rr(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&Ft()>Cu&&(r.flags|=128,f=!0,Sl(l,!1),r.lanes=4194304)}else{if(!f)if(t=fu(d),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,Su(r,t),Sl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!je)return at(r),null}else 2*Ft()-l.renderingStartTime>Cu&&a!==536870912&&(r.flags|=128,f=!0,Sl(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(t=l.last,t!==null?t.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ft(),t.sibling=null,a=bt.current,oe(bt,f?a&1|2:a&1),je&&rr(r,l.treeForkCount),t):(at(r),null);case 22:case 23:return In(r),Jf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(at(r),r.subtreeFlags&6&&(r.flags|=8192)):at(r),a=r.updateQueue,a!==null&&Su(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&J(Xs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ar(Nt),at(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function sI(t,r){switch(Uf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ar(Nt),it(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Mn(r),null;case 31:if(r.memoizedState!==null){if(In(r),r.alternate===null)throw Error(s(340));Ks()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(In(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ks()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return J(bt),null;case 4:return it(),null;case 10:return ar(r.type),null;case 22:case 23:return In(r),Jf(),t!==null&&J(Xs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return ar(Nt),null;case 25:return null;default:return null}}function d_(t,r){switch(Uf(r),r.tag){case 3:ar(Nt),it();break;case 26:case 27:case 5:Mn(r);break;case 4:it();break;case 31:r.memoizedState!==null&&In(r);break;case 13:In(r);break;case 19:J(bt);break;case 10:ar(r.type);break;case 22:case 23:In(r),Jf(),t!==null&&J(Xs);break;case 24:ar(Nt)}}function Il(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==f)}}catch(T){Xe(r,r.return,T)}}function Yr(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var E=l.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,f=r;var C=a,B=T;try{B()}catch(K){Xe(f,C,K)}}}l=l.next}while(l!==d)}}catch(K){Xe(r,r.return,K)}}function m_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{ry(r,a)}catch(l){Xe(t,t.return,l)}}}function p_(t,r,a){a.props=ta(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,r,l)}}function xl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Xe(t,r,f)}}function Fi(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Xe(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xe(t,r,f)}else a.current=null}function g_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Xe(t,t.return,f)}}function Nd(t,r,a){try{var l=t.stateNode;xI(l,t.type,a,r),l[jt]=r}catch(f){Xe(t,t.return,f)}}function y_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Wr(t.type)||t.tag===4}function Cd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||y_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Wr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Od(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=oi));else if(l!==4&&(l===27&&Wr(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Od(t,r,a),t=t.sibling;t!==null;)Od(t,r,a),t=t.sibling}function Iu(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Wr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Iu(t,r,a),t=t.sibling;t!==null;)Iu(t,r,a),t=t.sibling}function __(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);$t(r,l,a),r[It]=t,r[jt]=a}catch(d){Xe(t,t.return,d)}}var hr=!1,Dt=!1,Dd=!1,E_=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function aI(t,r){if(t=t.containerInfo,Wd=Ku,t=Og(t),Sf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,T=-1,C=-1,B=0,K=0,Z=t,G=null;t:for(;;){for(var Y;Z!==a||f!==0&&Z.nodeType!==3||(T=E+f),Z!==d||l!==0&&Z.nodeType!==3||(C=E+l),Z.nodeType===3&&(E+=Z.nodeValue.length),(Y=Z.firstChild)!==null;)G=Z,Z=Y;for(;;){if(Z===t)break t;if(G===a&&++B===f&&(T=E),G===d&&++K===l&&(C=E),(Y=Z.nextSibling)!==null)break;Z=G,G=Z.parentNode}Z=Y}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(em={focusedElem:t,selectionRange:a},Ku=!1,Bt=r;Bt!==null;)if(r=Bt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Bt=t;else for(;Bt!==null;){switch(r=Bt,d=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var de=ta(a.type,f);t=l.getSnapshotBeforeUpdate(de,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){Xe(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)im(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":im(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Bt=t;break}Bt=r.return}}function v_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:dr(t,a),l&4&&Il(5,a);break;case 1:if(dr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(E){Xe(a,a.return,E)}else{var f=ta(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Xe(a,a.return,E)}}l&64&&m_(a),l&512&&xl(a,a.return);break;case 3:if(dr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{ry(t,r)}catch(E){Xe(a,a.return,E)}}break;case 27:r===null&&l&4&&__(a);case 26:case 5:dr(t,a),r===null&&l&4&&g_(a),l&512&&xl(a,a.return);break;case 12:dr(t,a);break;case 31:dr(t,a),l&4&&A_(t,a);break;case 13:dr(t,a),l&4&&w_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=pI.bind(null,a),LI(t,a))));break;case 22:if(l=a.memoizedState!==null||hr,!l){r=r!==null&&r.memoizedState!==null||Dt,f=hr;var d=Dt;hr=l,(Dt=r)&&!d?mr(t,a,(a.subtreeFlags&8772)!==0):dr(t,a),hr=f,Dt=d}break;case 30:break;default:dr(t,a)}}function b_(t){var r=t.alternate;r!==null&&(t.alternate=null,b_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Sa(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,dn=!1;function fr(t,r,a){for(a=a.child;a!==null;)T_(t,r,a),a=a.sibling}function T_(t,r,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ii,a)}catch{}switch(a.tag){case 26:Dt||Fi(a,r),fr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Dt||Fi(a,r);var l=ct,f=dn;Wr(a.type)&&(ct=a.stateNode,dn=!1),fr(t,r,a),Ul(a.stateNode),ct=l,dn=f;break;case 5:Dt||Fi(a,r);case 6:if(l=ct,f=dn,ct=null,fr(t,r,a),ct=l,dn=f,ct!==null)if(dn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(d){Xe(a,r,d)}else try{ct.removeChild(a.stateNode)}catch(d){Xe(a,r,d)}break;case 18:ct!==null&&(dn?(t=ct,mE(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),co(t)):mE(ct,a.stateNode));break;case 4:l=ct,f=dn,ct=a.stateNode.containerInfo,dn=!0,fr(t,r,a),ct=l,dn=f;break;case 0:case 11:case 14:case 15:Yr(2,a,r),Dt||Yr(4,a,r),fr(t,r,a);break;case 1:Dt||(Fi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&p_(a,r,l)),fr(t,r,a);break;case 21:fr(t,r,a);break;case 22:Dt=(l=Dt)||a.memoizedState!==null,fr(t,r,a),Dt=l;break;default:fr(t,r,a)}}function A_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{co(t)}catch(a){Xe(r,r.return,a)}}}function w_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{co(t)}catch(a){Xe(r,r.return,a)}}function oI(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new E_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new E_),r;default:throw Error(s(435,t.tag))}}function xu(t,r){var a=oI(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=gI.bind(null,t,l);l.then(f,f)}})}function mn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,E=r,T=E;e:for(;T!==null;){switch(T.tag){case 27:if(Wr(T.type)){ct=T.stateNode,dn=!1;break e}break;case 5:ct=T.stateNode,dn=!1;break e;case 3:case 4:ct=T.stateNode.containerInfo,dn=!0;break e}T=T.return}if(ct===null)throw Error(s(160));T_(d,E,f),ct=null,dn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)S_(r,t),r=r.sibling}var di=null;function S_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(r,t),pn(t),l&4&&(Yr(3,t,t.return),Il(3,t),Yr(5,t,t.return));break;case 1:mn(r,t),pn(t),l&512&&(Dt||a===null||Fi(a,a.return)),l&64&&hr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=di;if(mn(r,t),pn(t),l&512&&(Dt||a===null||Fi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Ni]||d[It]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),$t(d,l,a),d[It]=t,xt(d),l=d;break e;case"link":var E=SE("link","href",f).get(l+(a.href||""));if(E){for(var T=0;T<E.length;T++)if(d=E[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(T,1);break t}}d=f.createElement(l),$t(d,l,a),f.head.appendChild(d);break;case"meta":if(E=SE("meta","content",f).get(l+(a.content||""))){for(T=0;T<E.length;T++)if(d=E[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(T,1);break t}}d=f.createElement(l),$t(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[It]=t,xt(d),l=d}t.stateNode=l}else IE(f,t.type,t.stateNode);else t.stateNode=wE(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?IE(f,t.type,t.stateNode):wE(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Nd(t,t.memoizedProps,a.memoizedProps)}break;case 27:mn(r,t),pn(t),l&512&&(Dt||a===null||Fi(a,a.return)),a!==null&&l&4&&Nd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(mn(r,t),pn(t),l&512&&(Dt||a===null||Fi(a,a.return)),t.flags&32){f=t.stateNode;try{fn(f,"")}catch(de){Xe(t,t.return,de)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Nd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Dd=!0);break;case 6:if(mn(r,t),pn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(de){Xe(t,t.return,de)}}break;case 3:if(Fu=null,f=di,di=Bu(r.containerInfo),mn(r,t),di=f,pn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{co(r.containerInfo)}catch(de){Xe(t,t.return,de)}Dd&&(Dd=!1,I_(t));break;case 4:l=di,di=Bu(t.stateNode.containerInfo),mn(r,t),pn(t),di=l;break;case 12:mn(r,t),pn(t);break;case 31:mn(r,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,xu(t,l)));break;case 13:mn(r,t),pn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Nu=Ft()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,xu(t,l)));break;case 22:f=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,B=hr,K=Dt;if(hr=B||f,Dt=K||C,mn(r,t),Dt=K,hr=B,pn(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||C||hr||Dt||na(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){C=a=r;try{if(d=C.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=C.stateNode;var Z=C.memoizedProps.style,G=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(de){Xe(C,C.return,de)}}}else if(r.tag===6){if(a===null){C=r;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(de){Xe(C,C.return,de)}}}else if(r.tag===18){if(a===null){C=r;try{var Y=C.stateNode;f?pE(Y,!0):pE(C.stateNode,!1)}catch(de){Xe(C,C.return,de)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,xu(t,a))));break;case 19:mn(r,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,xu(t,l)));break;case 30:break;case 21:break;default:mn(r,t),pn(t)}}function pn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(y_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Cd(t);Iu(t,d,f);break;case 5:var E=a.stateNode;a.flags&32&&(fn(E,""),a.flags&=-33);var T=Cd(t);Iu(t,T,E);break;case 3:case 4:var C=a.stateNode.containerInfo,B=Cd(t);Od(t,B,C);break;default:throw Error(s(161))}}catch(K){Xe(t,t.return,K)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function I_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;I_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function dr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)v_(t,r.alternate,r),r=r.sibling}function na(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Yr(4,r,r.return),na(r);break;case 1:Fi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&p_(r,r.return,a),na(r);break;case 27:Ul(r.stateNode);case 26:case 5:Fi(r,r.return),na(r);break;case 22:r.memoizedState===null&&na(r);break;case 30:na(r);break;default:na(r)}t=t.sibling}}function mr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,d=r,E=d.flags;switch(d.tag){case 0:case 11:case 15:mr(f,d,a),Il(4,d);break;case 1:if(mr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Xe(l,l.return,B)}if(l=d,f=l.updateQueue,f!==null){var T=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)iy(C[f],T)}catch(B){Xe(l,l.return,B)}}a&&E&64&&m_(d),xl(d,d.return);break;case 27:__(d);case 26:case 5:mr(f,d,a),a&&l===null&&E&4&&g_(d),xl(d,d.return);break;case 12:mr(f,d,a);break;case 31:mr(f,d,a),a&&E&4&&A_(f,d);break;case 13:mr(f,d,a),a&&E&4&&w_(f,d);break;case 22:d.memoizedState===null&&mr(f,d,a),xl(d,d.return);break;case 30:break;default:mr(f,d,a)}r=r.sibling}}function Md(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&dl(a))}function kd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&dl(t))}function mi(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)x_(t,r,a,l),r=r.sibling}function x_(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:mi(t,r,a,l),f&2048&&Il(9,r);break;case 1:mi(t,r,a,l);break;case 3:mi(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&dl(t)));break;case 12:if(f&2048){mi(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,E=d.id,T=d.onPostCommit;typeof T=="function"&&T(E,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Xe(r,r.return,C)}}else mi(t,r,a,l);break;case 31:mi(t,r,a,l);break;case 13:mi(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,E=r.alternate,r.memoizedState!==null?d._visibility&2?mi(t,r,a,l):Rl(t,r):d._visibility&2?mi(t,r,a,l):(d._visibility|=2,Za(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Md(E,r);break;case 24:mi(t,r,a,l),f&2048&&kd(r.alternate,r);break;default:mi(t,r,a,l)}}function Za(t,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=t,E=r,T=a,C=l,B=E.flags;switch(E.tag){case 0:case 11:case 15:Za(d,E,T,C,f),Il(8,E);break;case 23:break;case 22:var K=E.stateNode;E.memoizedState!==null?K._visibility&2?Za(d,E,T,C,f):Rl(d,E):(K._visibility|=2,Za(d,E,T,C,f)),f&&B&2048&&Md(E.alternate,E);break;case 24:Za(d,E,T,C,f),f&&B&2048&&kd(E.alternate,E);break;default:Za(d,E,T,C,f)}r=r.sibling}}function Rl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:Rl(a,l),f&2048&&Md(l.alternate,l);break;case 24:Rl(a,l),f&2048&&kd(l.alternate,l);break;default:Rl(a,l)}r=r.sibling}}var Nl=8192;function Wa(t,r,a){if(t.subtreeFlags&Nl)for(t=t.child;t!==null;)R_(t,r,a),t=t.sibling}function R_(t,r,a){switch(t.tag){case 26:Wa(t,r,a),t.flags&Nl&&t.memoizedState!==null&&KI(a,di,t.memoizedState,t.memoizedProps);break;case 5:Wa(t,r,a);break;case 3:case 4:var l=di;di=Bu(t.stateNode.containerInfo),Wa(t,r,a),di=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Nl,Nl=16777216,Wa(t,r,a),Nl=l):Wa(t,r,a));break;default:Wa(t,r,a)}}function N_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Cl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Bt=l,O_(l,t)}N_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)C_(t),t=t.sibling}function C_(t){switch(t.tag){case 0:case 11:case 15:Cl(t),t.flags&2048&&Yr(9,t,t.return);break;case 3:Cl(t);break;case 12:Cl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Ru(t)):Cl(t);break;default:Cl(t)}}function Ru(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Bt=l,O_(l,t)}N_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Yr(8,r,r.return),Ru(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Ru(r));break;default:Ru(r)}t=t.sibling}}function O_(t,r){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:Yr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:dl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Bt=l;else e:for(a=t;Bt!==null;){l=Bt;var f=l.sibling,d=l.return;if(b_(l),l===a){Bt=null;break e}if(f!==null){f.return=d,Bt=f;break e}Bt=d}}}var lI={getCacheForType:function(t){var r=Kt(Nt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return Kt(Nt).controller.signal}},cI=typeof WeakMap=="function"?WeakMap:Map,Ye=0,nt=null,Oe=null,ke=0,$e=0,xn=null,Kr=!1,eo=!1,Ld=!1,pr=0,gt=0,Qr=0,ia=0,Ud=0,Rn=0,to=0,Ol=null,gn=null,Vd=!1,Nu=0,D_=0,Cu=1/0,Ou=null,$r=null,Vt=0,Xr=null,no=null,gr=0,Pd=0,jd=null,M_=null,Dl=0,zd=null;function Nn(){return(Ye&2)!==0&&ke!==0?ke&-ke:H.T!==null?Yd():Dc()}function k_(){if(Rn===0)if((ke&536870912)===0||je){var t=Cs;Cs<<=1,(Cs&3932160)===0&&(Cs=262144),Rn=t}else Rn=536870912;return t=Sn.current,t!==null&&(t.flags|=32),Rn}function yn(t,r,a){(t===nt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(io(t,0),Jr(t,ke,Rn,!1)),Os(t,a),((Ye&2)===0||t!==nt)&&(t===nt&&((Ye&2)===0&&(ia|=a),gt===4&&Jr(t,ke,Rn,!1)),Gi(t))}function L_(t,r,a){if((Ye&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||ri(t,r),f=l?fI(t,r):Hd(t,r,!0),d=l;do{if(f===0){eo&&!l&&Jr(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!uI(a)){f=Hd(t,r,!1),d=!1;continue}if(f===2){if(d=r,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var T=t;f=Ol;var C=T.current.memoizedState.isDehydrated;if(C&&(io(T,E).flags|=256),E=Hd(T,E,!1),E!==2){if(Ld&&!C){T.errorRecoveryDisabledLanes|=d,ia|=d,f=4;break e}d=gn,gn=f,d!==null&&(gn===null?gn=d:gn.push.apply(gn,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){io(t,0),Jr(t,r,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Jr(l,r,Rn,!Kr);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Nu+300-Ft(),10<f)){if(Jr(l,r,Rn,!Kr),Ii(l,0,!0)!==0)break e;gr=r,l.timeoutHandle=fE(U_.bind(null,l,a,gn,Ou,Vd,r,Rn,ia,to,Kr,d,"Throttled",-0,0),f);break e}U_(l,a,gn,Ou,Vd,r,Rn,ia,to,Kr,d,null,-0,0)}}break}while(!0);Gi(t)}function U_(t,r,a,l,f,d,E,T,C,B,K,Z,G,Y){if(t.timeoutHandle=-1,Z=r.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oi},R_(r,d,Z);var de=(d&62914560)===d?Nu-Ft():(d&4194048)===d?D_-Ft():0;if(de=QI(Z,de),de!==null){gr=d,t.cancelPendingCommit=de(G_.bind(null,t,r,d,a,l,f,E,T,C,K,Z,null,G,Y)),Jr(t,d,E,!B);return}}G_(t,r,d,a,l,f,E,T,C)}function uI(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!An(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Jr(t,r,a,l){r&=~Ud,r&=~ia,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var d=31-Et(f),E=1<<d;l[d]=-1,f&=~E}a!==0&&Ds(t,a,r)}function Du(){return(Ye&6)===0?(Ml(0),!1):!0}function Bd(){if(Oe!==null){if($e===0)var t=Oe.return;else t=Oe,sr=Qs=null,id(t),Ka=null,pl=0,t=Oe;for(;t!==null;)d_(t.alternate,t),t=t.return;Oe=null}}function io(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,CI(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),gr=0,Bd(),nt=t,Oe=a=ir(t.current,null),ke=r,$e=0,xn=null,Kr=!1,eo=ri(t,r),Ld=!1,to=Rn=Ud=ia=Qr=gt=0,gn=Ol=null,Vd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-Et(l),d=1<<f;r|=t[f],l&=~d}return pr=r,Wc(),a}function V_(t,r){Re=null,H.H=Al,r===Ya||r===ou?(r=Wg(),$e=3):r===qf?(r=Wg(),$e=4):$e=r===Ed?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,xn=r,Oe===null&&(gt=1,bu(t,Fn(r,t.current)))}function P_(){var t=Sn.current;return t===null?!0:(ke&4194048)===ke?Kn===null:(ke&62914560)===ke||(ke&536870912)!==0?t===Kn:!1}function j_(){var t=H.H;return H.H=Al,t===null?Al:t}function z_(){var t=H.A;return H.A=lI,t}function Mu(){gt=4,Kr||(ke&4194048)!==ke&&Sn.current!==null||(eo=!0),(Qr&134217727)===0&&(ia&134217727)===0||nt===null||Jr(nt,ke,Rn,!1)}function Hd(t,r,a){var l=Ye;Ye|=2;var f=j_(),d=z_();(nt!==t||ke!==r)&&(Ou=null,io(t,r)),r=!1;var E=gt;e:do try{if($e!==0&&Oe!==null){var T=Oe,C=xn;switch($e){case 8:Bd(),E=6;break e;case 3:case 2:case 9:case 6:Sn.current===null&&(r=!0);var B=$e;if($e=0,xn=null,ro(t,T,C,B),a&&eo){E=0;break e}break;default:B=$e,$e=0,xn=null,ro(t,T,C,B)}}hI(),E=gt;break}catch(K){V_(t,K)}while(!0);return r&&t.shellSuspendCounter++,sr=Qs=null,Ye=l,H.H=f,H.A=d,Oe===null&&(nt=null,ke=0,Wc()),E}function hI(){for(;Oe!==null;)B_(Oe)}function fI(t,r){var a=Ye;Ye|=2;var l=j_(),f=z_();nt!==t||ke!==r?(Ou=null,Cu=Ft()+500,io(t,r)):eo=ri(t,r);e:do try{if($e!==0&&Oe!==null){r=Oe;var d=xn;t:switch($e){case 1:$e=0,xn=null,ro(t,r,d,1);break;case 2:case 9:if(Jg(d)){$e=0,xn=null,H_(r);break}r=function(){$e!==2&&$e!==9||nt!==t||($e=7),Gi(t)},d.then(r,r);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:Jg(d)?($e=0,xn=null,H_(r)):($e=0,xn=null,ro(t,r,d,7));break;case 5:var E=null;switch(Oe.tag){case 26:E=Oe.memoizedState;case 5:case 27:var T=Oe;if(E?xE(E):T.stateNode.complete){$e=0,xn=null;var C=T.sibling;if(C!==null)Oe=C;else{var B=T.return;B!==null?(Oe=B,ku(B)):Oe=null}break t}}$e=0,xn=null,ro(t,r,d,5);break;case 6:$e=0,xn=null,ro(t,r,d,6);break;case 8:Bd(),gt=6;break e;default:throw Error(s(462))}}dI();break}catch(K){V_(t,K)}while(!0);return sr=Qs=null,H.H=l,H.A=f,Ye=a,Oe!==null?0:(nt=null,ke=0,Wc(),gt)}function dI(){for(;Oe!==null&&!ba();)B_(Oe)}function B_(t){var r=h_(t.alternate,t,pr);t.memoizedProps=t.pendingProps,r===null?ku(t):Oe=r}function H_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=s_(a,r,r.pendingProps,r.type,void 0,ke);break;case 11:r=s_(a,r,r.pendingProps,r.type.render,r.ref,ke);break;case 5:id(r);default:d_(a,r),r=Oe=zg(r,pr),r=h_(a,r,pr)}t.memoizedProps=t.pendingProps,r===null?ku(t):Oe=r}function ro(t,r,a,l){sr=Qs=null,id(r),Ka=null,pl=0;var f=r.return;try{if(tI(t,f,r,a,ke)){gt=1,bu(t,Fn(a,t.current)),Oe=null;return}}catch(d){if(f!==null)throw Oe=f,d;gt=1,bu(t,Fn(a,t.current)),Oe=null;return}r.flags&32768?(je||l===1?t=!0:eo||(ke&536870912)!==0?t=!1:(Kr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),F_(r,t)):ku(r)}function ku(t){var r=t;do{if((r.flags&32768)!==0){F_(r,Kr);return}t=r.return;var a=rI(r.alternate,r,pr);if(a!==null){Oe=a;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=t}while(r!==null);gt===0&&(gt=5)}function F_(t,r){do{var a=sI(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);gt=6,Oe=null}function G_(t,r,a,l,f,d,E,T,C){t.cancelPendingCommit=null;do Lu();while(Vt!==0);if((Ye&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Cf,bf(t,a,d,E,T,C),t===nt&&(Oe=nt=null,ke=0),no=r,Xr=t,gr=a,Pd=d,jd=f,M_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,yI(ae,function(){return $_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,f=se.p,se.p=2,E=Ye,Ye|=4;try{aI(t,r,a)}finally{Ye=E,se.p=f,H.T=l}}Vt=1,q_(),Y_(),K_()}}function q_(){if(Vt===1){Vt=0;var t=Xr,r=no,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=se.p;se.p=2;var f=Ye;Ye|=4;try{S_(r,t);var d=em,E=Og(t.containerInfo),T=d.focusedElem,C=d.selectionRange;if(E!==T&&T&&T.ownerDocument&&Cg(T.ownerDocument.documentElement,T)){if(C!==null&&Sf(T)){var B=C.start,K=C.end;if(K===void 0&&(K=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(K,T.value.length);else{var Z=T.ownerDocument||document,G=Z&&Z.defaultView||window;if(G.getSelection){var Y=G.getSelection(),de=T.textContent.length,Ee=Math.min(C.start,de),et=C.end===void 0?Ee:Math.min(C.end,de);!Y.extend&&Ee>et&&(E=et,et=Ee,Ee=E);var V=Ng(T,Ee),M=Ng(T,et);if(V&&M&&(Y.rangeCount!==1||Y.anchorNode!==V.node||Y.anchorOffset!==V.offset||Y.focusNode!==M.node||Y.focusOffset!==M.offset)){var z=Z.createRange();z.setStart(V.node,V.offset),Y.removeAllRanges(),Ee>et?(Y.addRange(z),Y.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),Y.addRange(z))}}}}for(Z=[],Y=T;Y=Y.parentNode;)Y.nodeType===1&&Z.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var X=Z[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Ku=!!Wd,em=Wd=null}finally{Ye=f,se.p=l,H.T=a}}t.current=r,Vt=2}}function Y_(){if(Vt===2){Vt=0;var t=Xr,r=no,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=se.p;se.p=2;var f=Ye;Ye|=4;try{v_(t,r.alternate,r)}finally{Ye=f,se.p=l,H.T=a}}Vt=3}}function K_(){if(Vt===4||Vt===3){Vt=0,Ns();var t=Xr,r=no,a=gr,l=M_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Vt=5:(Vt=0,no=Xr=null,Q_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&($r=null),Wi(a),r=r.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ii,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=H.T,f=se.p,se.p=2,H.T=null;try{for(var d=t.onRecoverableError,E=0;E<l.length;E++){var T=l[E];d(T.value,{componentStack:T.stack})}}finally{H.T=r,se.p=f}}(gr&3)!==0&&Lu(),Gi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===zd?Dl++:(Dl=0,zd=t):Dl=0,Ml(0)}}function Q_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,dl(r)))}function Lu(){return q_(),Y_(),K_(),$_()}function $_(){if(Vt!==5)return!1;var t=Xr,r=Pd;Pd=0;var a=Wi(gr),l=H.T,f=se.p;try{se.p=32>a?32:a,H.T=null,a=jd,jd=null;var d=Xr,E=gr;if(Vt=0,no=Xr=null,gr=0,(Ye&6)!==0)throw Error(s(331));var T=Ye;if(Ye|=4,C_(d.current),x_(d,d.current,E,a),Ye=T,Ml(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ii,d)}catch{}return!0}finally{se.p=f,H.T=l,Q_(t,r)}}function X_(t,r,a){r=Fn(a,r),r=_d(t.stateNode,r,2),t=Fr(t,r,2),t!==null&&(Os(t,2),Gi(t))}function Xe(t,r,a){if(t.tag===3)X_(t,t,a);else for(;r!==null;){if(r.tag===3){X_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($r===null||!$r.has(l))){t=Fn(a,t),a=Jy(2),l=Fr(r,a,2),l!==null&&(Zy(a,l,r,t),Os(l,2),Gi(l));break}}r=r.return}}function Fd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new cI;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Ld=!0,f.add(a),t=mI.bind(null,t,r,a),r.then(t,t))}function mI(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(ke&a)===a&&(gt===4||gt===3&&(ke&62914560)===ke&&300>Ft()-Nu?(Ye&2)===0&&io(t,0):Ud|=a,to===ke&&(to=0)),Gi(t)}function J_(t,r){r===0&&(r=Oc()),t=qs(t,r),t!==null&&(Os(t,r),Gi(t))}function pI(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),J_(t,a)}function gI(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),J_(t,a)}function yI(t,r){return yt(t,r)}var Uu=null,so=null,Gd=!1,Vu=!1,qd=!1,Zr=0;function Gi(t){t!==so&&t.next===null&&(so===null?Uu=so=t:so=so.next=t),Vu=!0,Gd||(Gd=!0,EI())}function Ml(t,r){if(!qd&&Vu){qd=!0;do for(var a=!1,l=Uu;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var E=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Et(42|t)+1)-1,d&=f&~(E&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,tE(l,d))}else d=ke,d=Ii(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ri(l,d)||(a=!0,tE(l,d));l=l.next}while(a);qd=!1}}function _I(){Z_()}function Z_(){Vu=Gd=!1;var t=0;Zr!==0&&NI()&&(t=Zr);for(var r=Ft(),a=null,l=Uu;l!==null;){var f=l.next,d=W_(l,r);d===0?(l.next=null,a===null?Uu=f:a.next=f,f===null&&(so=a)):(a=l,(t!==0||(d&3)!==0)&&(Vu=!0)),l=f}Vt!==0&&Vt!==5||Ml(t),Zr!==0&&(Zr=0)}function W_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-Et(d),T=1<<E,C=f[E];C===-1?((T&a)===0||(T&l)!==0)&&(f[E]=vf(T,r)):C<=r&&(t.expiredLanes|=T),d&=~T}if(r=nt,a=ke,a=Ii(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ti(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ri(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&ti(l),Wi(a)){case 2:case 8:a=xr;break;case 32:a=ae;break;case 268435456:a=Un;break;default:a=ae}return l=eE.bind(null,t),a=yt(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&ti(l),t.callbackPriority=2,t.callbackNode=null,2}function eE(t,r){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Lu()&&t.callbackNode!==a)return null;var l=ke;return l=Ii(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(L_(t,l,r),W_(t,Ft()),t.callbackNode!=null&&t.callbackNode===a?eE.bind(null,t):null)}function tE(t,r){if(Lu())return null;L_(t,r,!0)}function EI(){OI(function(){(Ye&6)!==0?yt(Ir,_I):Z_()})}function Yd(){if(Zr===0){var t=Ga;t===0&&(t=wi,wi<<=1,(wi&261888)===0&&(wi=256)),Zr=t}return Zr}function nE(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Na(""+t)}function iE(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function vI(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=nE((f[jt]||null).action),E=l.submitter;E&&(r=(r=E[jt]||null)?nE(r.formAction):E.getAttribute("formAction"),r!==null&&(d=r,E=null));var T=new Vi("action","action",null,l,f);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Zr!==0){var C=E?iE(f,E):new FormData(f);fd(a,{pending:!0,data:C,method:f.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=E?iE(f,E):new FormData(f),fd(a,{pending:!0,data:C,method:f.method,action:d},d,C))},currentTarget:f}]})}}for(var Kd=0;Kd<Nf.length;Kd++){var Qd=Nf[Kd],bI=Qd.toLowerCase(),TI=Qd[0].toUpperCase()+Qd.slice(1);fi(bI,"on"+TI)}fi(kg,"onAnimationEnd"),fi(Lg,"onAnimationIteration"),fi(Ug,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(PS,"onTransitionRun"),fi(jS,"onTransitionStart"),fi(zS,"onTransitionCancel"),fi(Vg,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Di("onBeforeInput",["compositionend","keypress","textInput","paste"]),Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function rE(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var E=l.length-1;0<=E;E--){var T=l[E],C=T.instance,B=T.currentTarget;if(T=T.listener,C!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=B;try{d(f)}catch(K){Zc(K)}f.currentTarget=null,d=C}else for(E=0;E<l.length;E++){if(T=l[E],C=T.instance,B=T.currentTarget,T=T.listener,C!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=B;try{d(f)}catch(K){Zc(K)}f.currentTarget=null,d=C}}}}function De(t,r){var a=r[wa];a===void 0&&(a=r[wa]=new Set);var l=t+"__bubble";a.has(l)||(sE(r,t,2,!1),a.add(l))}function $d(t,r,a){var l=0;r&&(l|=4),sE(a,t,l,r)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function Xd(t){if(!t[Pu]){t[Pu]=!0,Yo.forEach(function(a){a!=="selectionchange"&&(AI.has(a)||$d(a,!1,t),$d(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Pu]||(r[Pu]=!0,$d("selectionchange",!1,r))}}function sE(t,r,a,l){switch(kE(r)){case 2:var f=JI;break;case 8:f=ZI;break;default:f=hm}a=f.bind(null,r,a,t),f=void 0,!Vs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function Jd(t,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var T=l.stateNode.containerInfo;if(T===f)break;if(E===4)for(E=l.return;E!==null;){var C=E.tag;if((C===3||C===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;T!==null;){if(E=Ci(T),E===null)return;if(C=E.tag,C===5||C===6||C===26||C===27){l=d=E;continue e}T=T.parentNode}}l=l.return}Mr(function(){var B=d,K=jn(a),Z=[];e:{var G=Pg.get(t);if(G!==void 0){var Y=Vi,de=t;switch(t){case"keypress":if(js(a)===0)break e;case"keydown":case"keyup":Y=$c;break;case"focusin":de="focus",Y=Bs;break;case"focusout":de="blur",Y=Bs;break;case"beforeblur":case"afterblur":Y=Bs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=zc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=g;break;case kg:case Lg:case Ug:Y=Hc;break;case Vg:Y=S;break;case"scroll":case"scrollend":Y=rl;break;case"wheel":Y=q;break;case"copy":case"cut":case"paste":Y=Fc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=nr;break;case"toggle":case"beforetoggle":Y=xe}var Ee=(r&4)!==0,et=!Ee&&(t==="scroll"||t==="scrollend"),V=Ee?G!==null?G+"Capture":null:G;Ee=[];for(var M=B,z;M!==null;){var X=M;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||V===null||(X=li(M,V),X!=null&&Ee.push(Ll(M,X,z))),et)break;M=M.return}0<Ee.length&&(G=new Y(G,de,null,a,K),Z.push({event:G,listeners:Ee}))}}if((r&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",G&&a!==tl&&(de=a.relatedTarget||a.fromElement)&&(Ci(de)||de[Ri]))break e;if((Y||G)&&(G=K.window===K?K:(G=K.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(de=a.relatedTarget||a.toElement,Y=B,de=de?Ci(de):null,de!==null&&(et=c(de),Ee=de.tag,de!==et||Ee!==5&&Ee!==27&&Ee!==6)&&(de=null)):(Y=null,de=B),Y!==de)){if(Ee=sl,X="onMouseLeave",V="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=nr,X="onPointerLeave",V="onPointerEnter",M="pointer"),et=Y==null?G:bn(Y),z=de==null?G:bn(de),G=new Ee(X,M+"leave",Y,a,K),G.target=et,G.relatedTarget=z,X=null,Ci(K)===B&&(Ee=new Ee(V,M+"enter",de,a,K),Ee.target=z,Ee.relatedTarget=et,X=Ee),et=X,Y&&de)t:{for(Ee=wI,V=Y,M=de,z=0,X=V;X;X=Ee(X))z++;X=0;for(var ge=M;ge;ge=Ee(ge))X++;for(;0<z-X;)V=Ee(V),z--;for(;0<X-z;)M=Ee(M),X--;for(;z--;){if(V===M||M!==null&&V===M.alternate){Ee=V;break t}V=Ee(V),M=Ee(M)}Ee=null}else Ee=null;Y!==null&&aE(Z,G,Y,Ee,!1),de!==null&&et!==null&&aE(Z,et,de,Ee,!0)}}e:{if(G=B?bn(B):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var Fe=Ag;else if(bg(G))if(wg)Fe=LS;else{Fe=MS;var me=DS}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?B&&Ra(B.elementType)&&(Fe=Ag):Fe=kS;if(Fe&&(Fe=Fe(t,B))){Tg(Z,Fe,a,K);break e}me&&me(t,G,B),t==="focusout"&&B&&G.type==="number"&&B.memoizedProps.value!=null&&Zo(G,"number",G.value)}switch(me=B?bn(B):window,t){case"focusin":(bg(me)||me.contentEditable==="true")&&(Ua=me,If=B,ul=null);break;case"focusout":ul=If=Ua=null;break;case"mousedown":xf=!0;break;case"contextmenu":case"mouseup":case"dragend":xf=!1,Dg(Z,a,K);break;case"selectionchange":if(VS)break;case"keydown":case"keyup":Dg(Z,a,K)}var Ne;if(qe)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else La?Hs(t,a)&&(Le="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Le="onCompositionStart");Le&&(zi&&a.locale!=="ko"&&(La||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&La&&(Ne=il()):(Ui=K,nl="value"in Ui?Ui.value:Ui.textContent,La=!0)),me=ju(B,Le),0<me.length&&(Le=new ji(Le,t,null,a,K),Z.push({event:Le,listeners:me}),Ne?Le.data=Ne:(Ne=ka(a),Ne!==null&&(Le.data=Ne)))),(Ne=Bn?RS(t,a):NS(t,a))&&(Le=ju(B,"onBeforeInput"),0<Le.length&&(me=new ji("onBeforeInput","beforeinput",null,a,K),Z.push({event:me,listeners:Le}),me.data=Ne)),vI(Z,t,B,a,K)}rE(Z,r)})}function Ll(t,r,a){return{instance:t,listener:r,currentTarget:a}}function ju(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=li(t,a),f!=null&&l.unshift(Ll(t,f,d)),f=li(t,r),f!=null&&l.push(Ll(t,f,d))),t.tag===3)return l;t=t.return}return[]}function wI(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function aE(t,r,a,l,f){for(var d=r._reactName,E=[];a!==null&&a!==l;){var T=a,C=T.alternate,B=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||B===null||(C=B,f?(B=li(a,d),B!=null&&E.unshift(Ll(a,B,C))):f||(B=li(a,d),B!=null&&E.push(Ll(a,B,C)))),a=a.return}E.length!==0&&t.push({event:r,listeners:E})}var SI=/\r\n?/g,II=/\u0000|\uFFFD/g;function oE(t){return(typeof t=="string"?t:""+t).replace(SI,`
`).replace(II,"")}function lE(t,r){return r=oE(r),oE(t)===r}function We(t,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||fn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&fn(t,""+l);break;case"className":Tn(t,"class",l);break;case"tabIndex":Tn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(t,a,l);break;case"style":el(t,l,d);break;case"data":if(r!=="object"){Tn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Na(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&We(t,r,"name",f.name,f,null),We(t,r,"formEncType",f.formEncType,f,null),We(t,r,"formMethod",f.formMethod,f,null),We(t,r,"formTarget",f.formTarget,f,null)):(We(t,r,"encType",f.encType,f,null),We(t,r,"method",f.method,f,null),We(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Na(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=oi);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Na(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),Ia(t,"popover",l);break;case"xlinkActuate":Rt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Rt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Rt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Rt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Rt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Rt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ia(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=jc.get(a)||a,Ia(t,a,l))}}function Zd(t,r,a,l,f,d){switch(a){case"style":el(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?fn(t,l):(typeof l=="number"||typeof l=="bigint")&&fn(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ko.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=t[jt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ia(t,a,l)}}}function $t(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(t,r,d,E,a,null)}}f&&We(t,r,"srcSet",a.srcSet,a,null),l&&We(t,r,"src",a.src,a,null);return;case"input":De("invalid",t);var T=d=E=f=null,C=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":f=K;break;case"type":E=K;break;case"checked":C=K;break;case"defaultChecked":B=K;break;case"value":d=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:We(t,r,l,K,a,null)}}Uc(t,d,T,C,B,E,f,!1);return;case"select":De("invalid",t),l=E=d=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":E=T;break;case"multiple":l=T;default:We(t,r,f,T,a,null)}r=d,a=E,t.multiple=!!l,r!=null?Nr(t,!!l,r,!1):a!=null&&Nr(t,!!l,a,!0);return;case"textarea":De("invalid",t),d=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(T=a[E],T!=null))switch(E){case"value":l=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:We(t,r,E,T,a,null)}Cr(t,l,f,d);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,r,C,l,a,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<kl.length;l++)De(kl[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(t,r,B,l,a,null)}return;default:if(Ra(r)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&Zd(t,r,K,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&We(t,r,T,l,a,null))}function xI(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,T=null,C=null,B=null,K=null;for(Y in a){var Z=a[Y];if(a.hasOwnProperty(Y)&&Z!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":C=Z;default:l.hasOwnProperty(Y)||We(t,r,Y,null,l,Z)}}for(var G in l){var Y=l[G];if(Z=a[G],l.hasOwnProperty(G)&&(Y!=null||Z!=null))switch(G){case"type":d=Y;break;case"name":f=Y;break;case"checked":B=Y;break;case"defaultChecked":K=Y;break;case"value":E=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==Z&&We(t,r,G,Y,l,Z)}}xa(t,E,T,C,B,K,d,f);return;case"select":Y=E=T=G=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":Y=C;default:l.hasOwnProperty(d)||We(t,r,d,null,l,C)}for(f in l)if(d=l[f],C=a[f],l.hasOwnProperty(f)&&(d!=null||C!=null))switch(f){case"value":G=d;break;case"defaultValue":T=d;break;case"multiple":E=d;default:d!==C&&We(t,r,f,d,l,C)}r=T,a=E,l=Y,G!=null?Nr(t,!!a,G,!1):!!l!=!!a&&(r!=null?Nr(t,!!a,r,!0):Nr(t,!!a,a?[]:"",!1));return;case"textarea":Y=G=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:We(t,r,T,null,l,f)}for(E in l)if(f=l[E],d=a[E],l.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":G=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&We(t,r,E,f,l,d)}Vc(t,G,Y);return;case"option":for(var de in a)if(G=a[de],a.hasOwnProperty(de)&&G!=null&&!l.hasOwnProperty(de))switch(de){case"selected":t.selected=!1;break;default:We(t,r,de,null,l,G)}for(C in l)if(G=l[C],Y=a[C],l.hasOwnProperty(C)&&G!==Y&&(G!=null||Y!=null))switch(C){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:We(t,r,C,G,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)G=a[Ee],a.hasOwnProperty(Ee)&&G!=null&&!l.hasOwnProperty(Ee)&&We(t,r,Ee,null,l,G);for(B in l)if(G=l[B],Y=a[B],l.hasOwnProperty(B)&&G!==Y&&(G!=null||Y!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:We(t,r,B,G,l,Y)}return;default:if(Ra(r)){for(var et in a)G=a[et],a.hasOwnProperty(et)&&G!==void 0&&!l.hasOwnProperty(et)&&Zd(t,r,et,void 0,l,G);for(K in l)G=l[K],Y=a[K],!l.hasOwnProperty(K)||G===Y||G===void 0&&Y===void 0||Zd(t,r,K,G,l,Y);return}}for(var V in a)G=a[V],a.hasOwnProperty(V)&&G!=null&&!l.hasOwnProperty(V)&&We(t,r,V,null,l,G);for(Z in l)G=l[Z],Y=a[Z],!l.hasOwnProperty(Z)||G===Y||G==null&&Y==null||We(t,r,Z,G,l,Y)}function cE(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function RI(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,E=f.initiatorType,T=f.duration;if(d&&T&&cE(E)){for(E=0,T=f.responseEnd,l+=1;l<a.length;l++){var C=a[l],B=C.startTime;if(B>T)break;var K=C.transferSize,Z=C.initiatorType;K&&cE(Z)&&(C=C.responseEnd,E+=K*(C<T?1:(T-B)/(C-B)))}if(--l,r+=8*(d+E)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Wd=null,em=null;function zu(t){return t.nodeType===9?t:t.ownerDocument}function uE(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hE(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function tm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var nm=null;function NI(){var t=window.event;return t&&t.type==="popstate"?t===nm?!1:(nm=t,!0):(nm=null,!1)}var fE=typeof setTimeout=="function"?setTimeout:void 0,CI=typeof clearTimeout=="function"?clearTimeout:void 0,dE=typeof Promise=="function"?Promise:void 0,OI=typeof queueMicrotask=="function"?queueMicrotask:typeof dE<"u"?function(t){return dE.resolve(null).then(t).catch(DI)}:fE;function DI(t){setTimeout(function(){throw t})}function Wr(t){return t==="head"}function mE(t,r){var a=r,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),co(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ul(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ul(a);for(var d=a.firstChild;d;){var E=d.nextSibling,T=d.nodeName;d[Ni]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=E}}else a==="body"&&Ul(t.ownerDocument.body);a=f}while(a);co(r)}function pE(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function im(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":im(a),Sa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function MI(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ni])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Qn(t.nextSibling),t===null)break}return null}function kI(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Qn(t.nextSibling),t===null))return null;return t}function gE(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Qn(t.nextSibling),t===null))return null;return t}function rm(t){return t.data==="$?"||t.data==="$~"}function sm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function LI(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Qn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var am=null;function yE(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return Qn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function _E(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function EE(t,r,a){switch(r=zu(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ul(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Sa(t)}var $n=new Map,vE=new Set;function Bu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var yr=se.d;se.d={f:UI,r:VI,D:PI,C:jI,L:zI,m:BI,X:FI,S:HI,M:GI};function UI(){var t=yr.f(),r=Du();return t||r}function VI(t){var r=Pn(t);r!==null&&r.tag===5&&r.type==="form"?Vy(r):yr.r(t)}var ao=typeof document>"u"?null:document;function bE(t,r,a){var l=ao;if(l&&typeof r=="string"&&r){var f=hn(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),vE.has(f)||(vE.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),$t(r,"link",t),xt(r),l.head.appendChild(r)))}}function PI(t){yr.D(t),bE("dns-prefetch",t,null)}function jI(t,r){yr.C(t,r),bE("preconnect",t,r)}function zI(t,r,a){yr.L(t,r,a);var l=ao;if(l&&t&&r){var f='link[rel="preload"][as="'+hn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+hn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+hn(a.imageSizes)+'"]')):f+='[href="'+hn(t)+'"]';var d=f;switch(r){case"style":d=oo(t);break;case"script":d=lo(t)}$n.has(d)||(t=A({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),$n.set(d,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(Vl(d))||r==="script"&&l.querySelector(Pl(d))||(r=l.createElement("link"),$t(r,"link",t),xt(r),l.head.appendChild(r)))}}function BI(t,r){yr.m(t,r);var a=ao;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+hn(l)+'"][href="'+hn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=lo(t)}if(!$n.has(d)&&(t=A({rel:"modulepreload",href:t},r),$n.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Pl(d)))return}l=a.createElement("link"),$t(l,"link",t),xt(l),a.head.appendChild(l)}}}function HI(t,r,a){yr.S(t,r,a);var l=ao;if(l&&t){var f=Oi(l).hoistableStyles,d=oo(t);r=r||"default";var E=f.get(d);if(!E){var T={loading:0,preload:null};if(E=l.querySelector(Vl(d)))T.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":r},a),(a=$n.get(d))&&om(t,a);var C=E=l.createElement("link");xt(C),$t(C,"link",t),C._p=new Promise(function(B,K){C.onload=B,C.onerror=K}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Hu(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:T},f.set(d,E)}}}function FI(t,r){yr.X(t,r);var a=ao;if(a&&t){var l=Oi(a).hoistableScripts,f=lo(t),d=l.get(f);d||(d=a.querySelector(Pl(f)),d||(t=A({src:t,async:!0},r),(r=$n.get(f))&&lm(t,r),d=a.createElement("script"),xt(d),$t(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function GI(t,r){yr.M(t,r);var a=ao;if(a&&t){var l=Oi(a).hoistableScripts,f=lo(t),d=l.get(f);d||(d=a.querySelector(Pl(f)),d||(t=A({src:t,async:!0,type:"module"},r),(r=$n.get(f))&&lm(t,r),d=a.createElement("script"),xt(d),$t(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function TE(t,r,a,l){var f=(f=Ae.current)?Bu(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=oo(a.href),a=Oi(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=oo(a.href);var d=Oi(f).hoistableStyles,E=d.get(t);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=f.querySelector(Vl(t)))&&!d._p&&(E.instance=d,E.state.loading=5),$n.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$n.set(t,a),d||qI(f,t,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=lo(a),a=Oi(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function oo(t){return'href="'+hn(t)+'"'}function Vl(t){return'link[rel="stylesheet"]['+t+"]"}function AE(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function qI(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),$t(r,"link",a),xt(r),t.head.appendChild(r))}function lo(t){return'[src="'+hn(t)+'"]'}function Pl(t){return"script[async]"+t}function wE(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+hn(a.href)+'"]');if(l)return r.instance=l,xt(l),l;var f=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),xt(l),$t(l,"style",f),Hu(l,a.precedence,t),r.instance=l;case"stylesheet":f=oo(a.href);var d=t.querySelector(Vl(f));if(d)return r.state.loading|=4,r.instance=d,xt(d),d;l=AE(a),(f=$n.get(f))&&om(l,f),d=(t.ownerDocument||t).createElement("link"),xt(d);var E=d;return E._p=new Promise(function(T,C){E.onload=T,E.onerror=C}),$t(d,"link",l),r.state.loading|=4,Hu(d,a.precedence,t),r.instance=d;case"script":return d=lo(a.src),(f=t.querySelector(Pl(d)))?(r.instance=f,xt(f),f):(l=a,(f=$n.get(d))&&(l=A({},a),lm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),xt(f),$t(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Hu(l,a.precedence,t));return r.instance}function Hu(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,E=0;E<l.length;E++){var T=l[E];if(T.dataset.precedence===r)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function om(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function lm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Fu=null;function SE(t,r,a){if(Fu===null){var l=new Map,f=Fu=new Map;f.set(a,l)}else f=Fu,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[Ni]||d[It]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(r)||"";E=t+E;var T=l.get(E);T?T.push(d):l.set(E,[d])}}return l}function IE(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function YI(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function xE(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function KI(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=oo(l.href),d=r.querySelector(Vl(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=Gu.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=d,xt(d);return}d=r.ownerDocument||r,l=AE(l),(f=$n.get(f))&&om(l,f),d=d.createElement("link"),xt(d);var E=d;E._p=new Promise(function(T,C){E.onload=T,E.onerror=C}),$t(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Gu.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var cm=0;function QI(t,r){return t.stylesheets&&t.count===0&&Yu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Yu(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+r);0<t.imgBytes&&cm===0&&(cm=62500*RI());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Yu(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>cm?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Gu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var qu=null;function Yu(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,qu=new Map,r.forEach($I,t),qu=null,Gu.call(t))}function $I(t,r){if(!(r.state.loading&4)){var a=qu.get(t);if(a)var l=a.get(null);else{a=new Map,qu.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=r.instance,E=f.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,f),a.set(E,f),this.count++,l=Gu.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var jl={$$typeof:$,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function XI(t,r,a,l,f,d,E,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xi(0),this.hiddenUpdates=xi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function RE(t,r,a,l,f,d,E,T,C,B,K,Z){return t=new XI(t,r,a,E,C,B,K,Z,T),r=1,d===!0&&(r|=24),d=wn(3,null,null,r),t.current=d,d.stateNode=t,r=Hf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Yf(d),t}function NE(t){return t?(t=ja,t):ja}function CE(t,r,a,l,f,d){f=NE(f),l.context===null?l.context=f:l.pendingContext=f,l=Hr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Fr(t,l,r),a!==null&&(yn(a,t,r),yl(a,t,r))}function OE(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function um(t,r){OE(t,r),(t=t.alternate)&&OE(t,r)}function DE(t){if(t.tag===13||t.tag===31){var r=qs(t,67108864);r!==null&&yn(r,t,67108864),um(t,67108864)}}function ME(t){if(t.tag===13||t.tag===31){var r=Nn();r=Ms(r);var a=qs(t,r);a!==null&&yn(a,t,r),um(t,r)}}var Ku=!0;function JI(t,r,a,l){var f=H.T;H.T=null;var d=se.p;try{se.p=2,hm(t,r,a,l)}finally{se.p=d,H.T=f}}function ZI(t,r,a,l){var f=H.T;H.T=null;var d=se.p;try{se.p=8,hm(t,r,a,l)}finally{se.p=d,H.T=f}}function hm(t,r,a,l){if(Ku){var f=fm(l);if(f===null)Jd(t,r,l,Qu,a),LE(t,l);else if(e1(f,t,r,a,l))l.stopPropagation();else if(LE(t,l),r&4&&-1<WI.indexOf(t)){for(;f!==null;){var d=Pn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Si(d.pendingLanes);if(E!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var C=1<<31-Et(E);T.entanglements[1]|=C,E&=~C}Gi(d),(Ye&6)===0&&(Cu=Ft()+500,Ml(0))}}break;case 31:case 13:T=qs(d,2),T!==null&&yn(T,d,2),Du(),um(d,2)}if(d=fm(l),d===null&&Jd(t,r,l,Qu,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Jd(t,r,l,null,a)}}function fm(t){return t=jn(t),dm(t)}var Qu=null;function dm(t){if(Qu=null,t=Ci(t),t!==null){var r=c(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Qu=t,null}function kE(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ni()){case Ir:return 2;case xr:return 8;case ae:case _t:return 32;case Un:return 268435456;default:return 32}default:return 32}}var mm=!1,es=null,ts=null,ns=null,zl=new Map,Bl=new Map,is=[],WI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function LE(t,r){switch(t){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":zl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(r.pointerId)}}function Hl(t,r,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Pn(r),r!==null&&DE(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function e1(t,r,a,l,f){switch(r){case"focusin":return es=Hl(es,t,r,a,l,f),!0;case"dragenter":return ts=Hl(ts,t,r,a,l,f),!0;case"mouseover":return ns=Hl(ns,t,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return zl.set(d,Hl(zl.get(d)||null,t,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Bl.set(d,Hl(Bl.get(d)||null,t,r,a,l,f)),!0}return!1}function UE(t){var r=Ci(t.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,si(t.priority,function(){ME(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,si(t.priority,function(){ME(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $u(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=fm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);tl=l,a.target.dispatchEvent(l),tl=null}else return r=Pn(a),r!==null&&DE(r),t.blockedOn=a,!1;r.shift()}return!0}function VE(t,r,a){$u(t)&&a.delete(r)}function t1(){mm=!1,es!==null&&$u(es)&&(es=null),ts!==null&&$u(ts)&&(ts=null),ns!==null&&$u(ns)&&(ns=null),zl.forEach(VE),Bl.forEach(VE)}function Xu(t,r){t.blockedOn===r&&(t.blockedOn=null,mm||(mm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,t1)))}var Ju=null;function PE(t){Ju!==t&&(Ju=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ju===t&&(Ju=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(dm(l||a)===null)continue;break}var d=Pn(a);d!==null&&(t.splice(r,3),r-=3,fd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function co(t){function r(C){return Xu(C,t)}es!==null&&Xu(es,t),ts!==null&&Xu(ts,t),ns!==null&&Xu(ns,t),zl.forEach(r),Bl.forEach(r);for(var a=0;a<is.length;a++){var l=is[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<is.length&&(a=is[0],a.blockedOn===null);)UE(a),a.blockedOn===null&&is.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],E=f[jt]||null;if(typeof d=="function")E||PE(a);else if(E){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[jt]||null)T=E.formAction;else if(dm(f)!==null)continue}else T=E.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),PE(a)}}}function jE(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(E){return f=E})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function pm(t){this._internalRoot=t}Zu.prototype.render=pm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Nn();CE(a,l,t,r,null,null)},Zu.prototype.unmount=pm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;CE(t.current,2,null,t,null,null),Du(),r[Ri]=null}};function Zu(t){this._internalRoot=t}Zu.prototype.unstable_scheduleHydration=function(t){if(t){var r=Dc();t={blockedOn:null,target:t,priority:r};for(var a=0;a<is.length&&r!==0&&r<is[a].priority;a++);is.splice(a,0,t),a===0&&UE(t)}};var zE=e.version;if(zE!=="19.2.3")throw Error(s(527,zE,"19.2.3"));se.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(r),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var n1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wu.isDisabled&&Wu.supportsFiber)try{ii=Wu.inject(n1),Gt=Wu}catch{}}return Gl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=Ky,d=Qy,E=$y;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError)),r=RE(t,1,!1,null,null,a,l,null,f,d,E,jE),t[Ri]=r.current,Xd(t),new pm(r)},Gl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=Ky,E=Qy,T=$y,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),r=RE(t,1,!0,r,a??null,l,f,C,d,E,T,jE),r.context=NE(null),a=r.current,l=Nn(),l=Ms(l),f=Hr(l),f.callback=null,Fr(a,f,l),a=l,r.current.lanes=a,Os(r,a),Gi(r),t[Ri]=r.current,Xd(t),new Zu(r)},Gl.version="19.2.3",Gl}var XE;function f1(){if(XE)return _m.exports;XE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),_m.exports=h1(),_m.exports}var d1=f1();const m1=sT(d1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),g1=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),JE=i=>{const e=g1(i);return e.charAt(0).toUpperCase()+e.slice(1)},aT=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),y1=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=ce.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:h,...m},p)=>ce.createElement("svg",{ref:p,..._1,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:aT("lucide",o),...!c&&!y1(m)&&{"aria-hidden":"true"},...m},[...h.map(([y,b])=>ce.createElement(y,b)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=(i,e)=>{const n=ce.forwardRef(({className:s,...o},c)=>ce.createElement(E1,{ref:c,iconNode:e,className:aT(`lucide-${p1(JE(i))}`,`lucide-${i}`,s),...o}));return n.displayName=JE(i),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],b1=tt("calendar",v1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],A1=tt("check",T1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],S1=tt("chevron-right",w1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],x1=tt("circle-question-mark",I1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],oT=tt("external-link",R1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],C1=tt("eye",N1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],lT=tt("film",O1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],M1=tt("image",D1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M11 19H3",key:"zflm78"}],["path",{d:"M21 16V5",key:"yxg4q8"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],L1=tt("list-music",k1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],V1=tt("loader-circle",U1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],j1=tt("loader",P1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],B1=tt("lock",z1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],F1=tt("mail",H1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],q1=tt("menu",G1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],K1=tt("music",Y1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],jm=tt("newspaper",Q1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],cT=tt("quote",$1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],uT=tt("refresh-cw",X1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Z1=tt("search",J1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ex=tt("send",W1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],nx=tt("sparkles",tx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],rx=tt("square-pen",ix);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Yh=tt("star",sx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],hT=tt("ticket",ax);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ZE=tt("trash-2",ox);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=[["path",{d:"m17 2-5 5-5-5",key:"16satq"}],["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",key:"1e6viu"}]],cx=tt("tv",lx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Kh=tt("user",ux);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_r=tt("x",hx),_p=({rating:i,maxRating:e=5,onRate:n,readOnly:s=!1,size:o=24})=>{const[c,h]=ce.useState(null),m=c!==null?c:i;return _.jsx("div",{className:"flex space-x-1",children:Array.from({length:e}).map((p,y)=>{const b=y+1,A=b<=m;return _.jsx("button",{type:"button",disabled:s,onClick:()=>!s&&n&&n(b),onMouseEnter:()=>!s&&h(b),onMouseLeave:()=>!s&&h(null),className:"focus:outline-none",children:_.jsx(Yh,{size:o,className:`${A?"fill-yellow-400 text-yellow-400":"fill-transparent text-neutral-700"}`,strokeWidth:A?0:2})},y)})})},fx=["Aksiyon","Bilim Kurgu","Drama","Komedi","Korku","Macera","Romantik","Gerilim","Animasyon","Belgesel","Fantastik","Suc","Gizem","Savas","Western"],fT=({isOpen:i,onClose:e,onSubmit:n,isSubmitting:s,initialTitle:o="",editMovie:c})=>{const[h,m]=ce.useState("watched"),[p,y]=ce.useState(""),[b,A]=ce.useState(""),[w,O]=ce.useState(0),[P,Q]=ce.useState(""),[F,ie]=ce.useState(""),[ee,$]=ce.useState(""),[le,ne]=ce.useState([]),[_e,R]=ce.useState(""),[I,x]=ce.useState(""),[L,D]=ce.useState(null),U=ce.useRef(null);ce.useEffect(()=>{i&&(c?(y(c.title),A(c.imdbUrl||""),D(c.posterBase64||null),m(c.status),O(c.userRating||0),Q(c.userReview||""),ie(c.year!=="???"?c.year:""),$(c.director!=="Bilinmiyor"?c.director:""),ne(c.genre&&c.genre[0]!=="Bilinmiyor"?c.genre:[]),R(c.summary!=="zet bulunamad."?c.summary:"")):(y(o),A(""),D(null),m("watched"),O(0),Q(""),ie(""),$(""),ne([]),R("")),x(""))},[i,o,c]);const N=H=>{var pe;const se=(pe=H.target.files)==null?void 0:pe[0];if(se){if(se.size>5*1024*1024){x("DOSYA COK BUYUK (MAX 5MB)");return}const Ce=new FileReader;Ce.onloadend=()=>{D(Ce.result),x("")},Ce.readAsDataURL(se)}},He=()=>{D(null),U.current&&(U.current.value="")};if(!i)return null;const ut=async H=>{if(H.preventDefault(),!p.trim()){x("FILM ADI GIRINIZ");return}if(h==="watched"&&w===0){x("PUAN VERINIZ");return}await n({rawTitle:p,status:h,userRating:h==="watched"?w:void 0,userReview:h==="watched"?P:void 0,imdbUrl:b.trim()||void 0,manualPosterBase64:L||void 0,manualYear:F.trim()||void 0,manualDirector:ee.trim()||void 0,manualGenres:le.length>0?le:void 0,manualSummary:_e.trim()||void 0}),!o&&!c&&(y(""),A(""),D(null),O(0),Q(""),ie(""),$(""),ne([]),R("")),x("")};return _.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-4",children:_.jsxs("div",{className:"bg-black border-4 border-white w-full max-w-lg shadow-[20px_20px_0px_#222] relative max-h-[90vh] overflow-y-auto",children:[_.jsxs("div",{className:"bg-white text-black px-4 py-2 flex justify-between items-center font-bold text-xl sticky top-0 z-10",children:[_.jsx("span",{children:c?"> KAYIT DUZENLE":o?"> PUANLAMA EKRANI":"> YEN KAYIT EKLE"}),_.jsx("button",{onClick:e,disabled:s,className:"hover:bg-red-600 hover:text-white px-2",children:"[IKI]"})]}),!o&&!c&&_.jsxs("div",{className:"flex border-b-4 border-white",children:[_.jsx("button",{type:"button",onClick:()=>m("watched"),className:`flex-1 py-2 text-xl font-bold ${h==="watched"?"bg-red-600 text-white":"bg-neutral-900 text-neutral-500"}`,children:"ZLEDM [+]"}),_.jsx("button",{type:"button",onClick:()=>m("watchlist"),className:`flex-1 py-2 text-xl font-bold ${h==="watchlist"?"bg-green-600 text-white":"bg-neutral-900 text-neutral-500"}`,children:"ZLEYECEM [+]"})]}),_.jsxs("form",{onSubmit:ut,className:"p-6 space-y-6",children:[_.jsxs("div",{className:"flex gap-4",children:[_.jsxs("div",{className:"w-1/3",children:[_.jsxs("div",{onClick:()=>{var H;return(H=U.current)==null?void 0:H.click()},className:`aspect-[2/3] border-4 border-dashed ${L?"border-white":"border-neutral-700 hover:border-yellow-400"} flex flex-col items-center justify-center cursor-pointer bg-neutral-900`,children:[L?_.jsx("img",{src:L,alt:"Preview",className:"w-full h-full object-cover grayscale contrast-125"}):_.jsxs("div",{className:"text-center text-neutral-500 p-2",children:[_.jsx(M1,{className:"mx-auto mb-2"}),_.jsx("span",{className:"text-sm font-bold",children:"FOTO YUKLE"})]}),_.jsx("input",{type:"file",ref:U,onChange:N,accept:"image/*",className:"hidden",disabled:s})]}),L&&_.jsx("button",{type:"button",onClick:H=>{H.stopPropagation(),He()},className:"w-full bg-red-600 text-white text-sm font-bold mt-2",children:"SIL"})]}),_.jsxs("div",{className:"flex-1 space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-yellow-400 font-bold mb-1",children:"FILM ADI:"}),_.jsx("input",{type:"text",value:p,onChange:H=>y(H.target.value.toUpperCase()),className:"w-full bg-neutral-900 border-b-4 border-white text-white p-2 text-xl font-bold outline-none focus:bg-neutral-800 focus:border-yellow-400",placeholder:"ISIM GIRINIZ...",autoFocus:!0,disabled:s||!!o})]}),h==="watched"&&_.jsxs("div",{children:[_.jsx("label",{className:"block text-orange-400 font-bold mb-1",children:"YONETMEN:"}),_.jsx("input",{type:"text",value:ee,onChange:H=>$(H.target.value),className:"w-full bg-neutral-900 border-b-4 border-white text-white p-2 text-lg font-bold outline-none focus:bg-neutral-800 focus:border-orange-400",placeholder:"YONETMEN ADI...",disabled:s||!!o})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-cyan-400 font-bold mb-1",children:"IMDB LINK:"}),_.jsx("input",{type:"url",value:b,onChange:H=>A(H.target.value),className:"w-full bg-neutral-900 border-b-4 border-white text-white p-2 text-lg font-bold outline-none focus:bg-neutral-800 focus:border-cyan-400",placeholder:"HTTPS://...",disabled:s||!!o})]}),h==="watched"&&_.jsxs("div",{children:[_.jsx("label",{className:"block text-pink-500 font-bold mb-1",children:"TUR SEM:"}),_.jsxs("select",{value:le[0]||"",onChange:H=>ne(H.target.value?[H.target.value]:[]),className:"w-full bg-neutral-900 border-b-4 border-white text-white p-2 text-lg font-bold outline-none focus:bg-neutral-800 focus:border-pink-500 appearance-none",children:[_.jsx("option",{value:"",children:"TUR SECINIZ..."}),fx.map(H=>_.jsx("option",{value:H,children:H},H))]})]}),h==="watched"&&_.jsxs("div",{className:"grid grid-cols-2 gap-4 items-end",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-white font-bold mb-1",children:"YIL:"}),_.jsx("input",{type:"text",value:F,onChange:H=>ie(H.target.value),className:"w-full bg-neutral-900 border-b-4 border-white text-white p-2 text-lg font-bold outline-none focus:bg-neutral-800 focus:border-white",placeholder:"2024",disabled:s||!!o})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-green-400 font-bold mb-1",children:"PUANLAMA:"}),_.jsx("div",{className:"bg-neutral-900 p-2 border-2 border-green-600 flex justify-center",children:_.jsx(_p,{rating:w,onRate:O,size:18,readOnly:s})})]})]}),h==="watched"&&_.jsxs("div",{children:[_.jsx("label",{className:"block text-purple-400 font-bold mb-1",children:"DETAY / ZET:"}),_.jsx("textarea",{value:_e,onChange:H=>R(H.target.value),rows:3,className:"w-full bg-neutral-900 border-2 border-white text-white p-2 font-bold outline-none focus:border-purple-400 resize-none",placeholder:"AI YERINE MANUEL OZET...",disabled:s||!!o})]}),h==="watched"&&_.jsxs("div",{children:[_.jsx("label",{className:"block text-fuchsia-500 font-bold mb-1",children:"YORUMUNUZ:"}),_.jsx("textarea",{value:P,onChange:H=>Q(H.target.value.toUpperCase()),rows:3,className:"w-full bg-neutral-900 border-2 border-white text-white p-2 font-bold outline-none focus:border-fuchsia-500 resize-none",placeholder:"...",disabled:s})]})]})]}),I&&_.jsxs("div",{className:"bg-red-600 text-white p-2 font-bold blink text-center",children:["*** ",I," ***"]}),_.jsxs("div",{className:"flex gap-4 pt-2",children:[_.jsx("button",{type:"button",onClick:e,disabled:s,className:"flex-1 border-2 border-white text-white font-bold py-3 hover:bg-white hover:text-black",children:"PTAL"}),_.jsx("button",{type:"submit",disabled:s,className:`flex-1 font-bold py-3 text-white border-2 border-white ${s?"bg-neutral-700":"bg-yellow-400 text-black hover:bg-yellow-300"}`,children:s?"BEKLEYINIZ...":c?"GUNCELLE":"KAYDET"})]})]})]})})},dx=({movie:i,onDelete:e,onDirectorClick:n,onClick:s,className:o=""})=>{var h;const c=i.status==="watched";return _.jsxs("div",{onClick:()=>s&&s(i),className:`group relative bg-black border-4 ${c?"border-neutral-700 hover:border-yellow-400":"border-neutral-600"} flex flex-col shadow-[8px_8px_0px_#333] transition-all cursor-pointer h-full ${o}`,children:[_.jsxs("div",{className:"w-full aspect-[2/3] relative bg-neutral-900 border-b-4 border-neutral-700 overflow-hidden",children:[i.posterBase64?_.jsx("img",{src:i.posterBase64,alt:i.title,className:"w-full h-full object-cover contrast-125 saturate-150 pixelated group-hover:scale-105 transition-transform duration-500",style:{imageRendering:"pixelated"}}):_.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-blue-800 text-white",children:[_.jsx("span",{className:"text-4xl",children:i.emoji}),_.jsx("span",{className:"text-sm mt-2 text-yellow-400 font-bold",children:"NO IMAGE"})]}),c&&((h=i.genre)==null?void 0:h[0])&&_.jsx("div",{className:"absolute top-2 left-2 bg-yellow-400 text-black text-xs font-bold px-2 py-1 shadow-sm border border-black uppercase",children:i.genre[0]})]}),_.jsxs("div",{className:"p-4 flex flex-col gap-2 bg-black flex-1",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"text-2xl text-yellow-400 leading-none font-bold uppercase tracking-wide line-clamp-2 mb-1",children:i.title.toLocaleUpperCase("tr-TR")}),_.jsx("div",{className:"text-neutral-500 font-bold text-sm uppercase truncate",children:i.director})]}),_.jsxs("div",{className:"mt-auto pt-3 border-t-2 border-neutral-800 flex items-center justify-between",children:[_.jsx("div",{className:"bg-neutral-800 text-white px-2 py-0.5 text-sm font-bold border border-neutral-600",children:i.year}),c&&i.userRating&&_.jsxs("div",{className:"flex items-center gap-1.5",children:[_.jsx(Yh,{size:14,className:"text-yellow-400 fill-yellow-400"}),_.jsx("span",{className:"text-white font-bold text-lg",children:i.userRating})]})]})]})]})},mx=({movie:i})=>_.jsxs("div",{className:"group relative bg-black border-4 border-neutral-700 shadow-[8px_8px_0px_#333] flex flex-col h-full hover:border-yellow-400 transition-colors",children:[_.jsx("div",{className:"w-full aspect-[2/3] relative bg-neutral-900 border-b-4 border-neutral-700 overflow-hidden",children:i.posterBase64?_.jsx("img",{src:i.posterBase64,alt:i.title,className:"w-full h-full object-cover contrast-125 saturate-150 pixelated group-hover:scale-105 transition-transform duration-500",style:{imageRendering:"pixelated"}}):_.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-blue-800 text-white p-4",children:[_.jsx("span",{className:"text-4xl",children:i.emoji||""}),_.jsx("span",{className:"text-xs mt-2 text-yellow-400 text-center font-bold",children:"NO IMAGE"})]})}),_.jsx("div",{className:"p-3 bg-black flex flex-col items-center justify-center flex-1",children:_.jsx("h3",{className:"text-xl text-yellow-400 leading-tight font-bold uppercase tracking-wide text-center line-clamp-2",children:i.title.toLocaleUpperCase("tr-TR")})})]}),px=["KO","BOA","KZLER","YENGE","ASLAN","BAAK","TERAZ","AKREP","YAY","OLAK","KOVA","BALIK"],gx=({isOpen:i,onClose:e,movies:n})=>{const[s,o]=ce.useState(null),[c,h]=ce.useState(null),[m,p]=ce.useState(!1);if(!i)return null;const y=async b=>{o(b),p(!0),h(null),setTimeout(()=>{const A=n.filter(w=>w.status==="watched"&&w.isApproved!==!1);if(A.length>0){const w=A[Math.floor(Math.random()*A.length)];h(w)}p(!1)},1500)};return _.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/90 p-4",children:_.jsxs("div",{className:"w-full max-w-4xl bg-purple-900 border-4 border-yellow-400 p-1 shadow-[10px_10px_0px_#fff] overflow-y-auto max-h-[90vh]",children:[_.jsxs("div",{className:"bg-yellow-400 text-purple-900 px-4 py-2 flex justify-between items-center font-bold text-lg md:text-2xl mb-4 sticky top-0 z-20",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(nx,{size:20}),_.jsx("span",{children:"ASTRO SNEMA"})]}),_.jsx("button",{onClick:e,className:"hover:bg-purple-900 hover:text-white px-2",children:"[IKI]"})]}),_.jsxs("div",{className:"flex flex-col md:flex-row gap-4 p-2 md:p-4",children:[_.jsx("div",{className:"grid grid-cols-3 gap-2 w-full md:w-1/2 shrink-0",children:px.map(b=>_.jsx("button",{onClick:()=>y(b),disabled:m,className:`p-2 md:p-3 text-sm md:text-xl font-bold border-2 transition-all text-center
                            ${s===b?"bg-white text-purple-900 border-white blink":"bg-purple-800 text-yellow-400 border-purple-600 hover:border-yellow-400 hover:bg-purple-700"}`,children:b},b))}),_.jsxs("div",{className:"w-full md:w-1/2 bg-black border-2 border-white p-4 md:p-6 flex flex-col items-center justify-center min-h-[250px] md:min-h-[300px] text-center relative overflow-hidden",children:[!s&&_.jsxs("div",{className:"text-neutral-500 animate-pulse",children:[_.jsx("p",{className:"text-xl md:text-2xl mb-2",children:"LTFEN BURCUNUZU SENZ"}),_.jsx("p",{children:"---"})]}),m&&_.jsxs("div",{className:"text-yellow-400 flex flex-col items-center z-10",children:[_.jsx(V1,{className:"animate-spin w-10 h-10 md:w-12 md:h-12 mb-4"}),_.jsx("span",{className:"text-lg md:text-xl blink",children:"YILDIZLAR OKUNUYOR..."})]}),c&&!m&&_.jsxs("div",{className:"animate-in fade-in zoom-in duration-500 flex flex-col items-center w-full h-full justify-between",children:[_.jsxs("h3",{className:"text-lg md:text-2xl text-cyan-400 mb-2 border-b-2 border-cyan-400",children:[s," N NER:"]}),c.posterBase64&&_.jsx("img",{src:c.posterBase64,alt:c.title,className:"w-24 h-36 md:w-32 md:h-48 object-cover border-2 border-white mb-4 shadow-[4px_4px_0px_#333]"}),_.jsx("h2",{className:"text-2xl md:text-3xl text-yellow-400 font-bold mb-2 break-words max-w-full leading-none",children:c.title}),_.jsxs("div",{className:"text-purple-400 text-xs md:text-sm mt-auto font-bold uppercase",children:["YIL: ",c.year," | ",c.director]})]}),s&&!m&&!c&&_.jsx("div",{className:"text-red-500 text-lg md:text-xl font-bold",children:"MALESEF KOLEKSIYONDA FILM BULUNAMADI."})]})]}),_.jsx("div",{className:"text-center text-yellow-400 text-sm md:text-lg mt-2 pb-2 px-2",children:"*** GELECENZ BR FLM SENARYOSU KADAR SRPRZL OLABLR ***"})]})})},yx=({isOpen:i,onClose:e})=>i?_.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/90 p-4",children:_.jsxs("div",{className:"w-full max-w-4xl bg-blue-900 border-4 border-yellow-400 p-1 shadow-[10px_10px_0px_#fff]",children:[_.jsxs("div",{className:"bg-yellow-400 text-blue-900 px-4 py-2 flex justify-between items-center font-bold text-2xl mb-4",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(jm,{}),_.jsx("span",{children:"SNEMA GNL - SAYFA 600"})]}),_.jsx("button",{onClick:e,className:"hover:bg-blue-900 hover:text-white px-2",children:"[IKI]"})]}),_.jsxs("div",{className:"p-8 text-center min-h-[300px] flex flex-col items-center justify-center bg-black border-2 border-white",children:[_.jsx(jm,{className:"w-16 h-16 text-yellow-400 mb-4 animate-bounce"}),_.jsx("h2",{className:"text-3xl text-white mb-2 blink",children:"BLOG YAKINDA HZMETNZDE"}),_.jsx("p",{className:"text-xl text-neutral-400",children:"FLM ELETRLER, LSTELER VE DAHA FAZLASI N BEKLEMEDE KALIN."}),_.jsx("div",{className:"mt-8 text-cyan-400 text-sm",children:"* * *"})]})]})}):null,_x=({isOpen:i,onClose:e})=>i?_.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center bg-black/90 p-4",children:_.jsxs("div",{className:"w-full max-w-2xl bg-neutral-900 border-4 border-white p-1 shadow-[10px_10px_0px_#000]",children:[_.jsxs("div",{className:"bg-cyan-400 text-black px-4 py-2 flex justify-between items-center font-bold text-2xl mb-1",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(hT,{}),_.jsx("span",{children:"BR FLM ISMARLA"})]}),_.jsx("button",{onClick:e,className:"hover:bg-black hover:text-white px-2 transition-colors",children:"[X]"})]}),_.jsxs("div",{className:"bg-black border-2 border-neutral-700 p-8 text-white flex flex-col items-center text-center gap-6 max-h-[70vh] overflow-y-auto custom-scrollbar font-inter font-normal",children:[_.jsx("h2",{className:"text-2xl font-bold text-cyan-400",children:'"Sradaki Filmim Sizin Ellerinizde: Ynetmen Koltuuna Siz Gein!"'}),_.jsx("p",{className:"text-lg text-neutral-300 leading-relaxed",children:"Bir filmsever iin en byk keyif, 'Acaba ne hissedecek?' diye merak ettii o filmi bir bakasna izletip tepkisini grmektir. imdi bu gc size devrediyorum! Patreon zerinden bana bir 'Bilet' smarlayarak, bir sonraki filmimi seebilir ve beni sinematik bir maceraya (ya da bir felakete!) srkleyebilirsiniz."}),_.jsxs("div",{className:"bg-red-900/20 border border-red-500/50 p-4 rounded-lg w-full",children:[_.jsx("p",{className:"text-red-400 font-bold mb-2",children:" Ancak uyaryorum:"}),_.jsx("p",{className:"text-neutral-300",children:"Bu sadece bir neri deil, bir sinematik dello!"})]}),_.jsxs("div",{className:"w-full text-left space-y-4",children:[_.jsx("h3",{className:"text-xl font-bold text-white border-b border-neutral-700 pb-2",children:"Snrlar Zorlamaya Var Msnz?"}),_.jsxs("div",{children:[_.jsx("span",{className:"text-cyan-400 font-bold block mb-1",children:'"kence Seans"'}),_.jsx("p",{className:"text-neutral-400 text-lg",children:`IMDb puan yerlerde srnen (evet, o 2.4'lk felaketlerden bahsediyorum), mantk hatalaryla dolu, bitmek bilmeyen o korkun filmi izlemem iin bana meydan okuyabilirsiniz. Acm, detayl bir "Neden izlememelisiniz?" yazsyla burada paylaacam.`})]}),_.jsxs("div",{children:[_.jsx("span",{className:"text-cyan-400 font-bold block mb-1",children:'"Sanat Sabr idir"'}),_.jsx("p",{className:"text-neutral-400 text-lg",children:"Siyah-beyaz, tek mekanda geen ve karakterin 45 dakika boyunca sadece duvara bakt 6 saatlik o Macar sanat filmini mi merak ediyorsunuz? Gnderin gelsin! Uykumla olan savam ve filmin derinliklerindeki (varsa) anlam sizin iin deifre edeyim."})]}),_.jsxs("div",{children:[_.jsx("span",{className:"text-cyan-400 font-bold block mb-1",children:'"Gizli Hazineni Payla"'}),_.jsx("p",{className:"text-neutral-400 text-lg",children:'Ya da "Bunu benden baka kimse bilmez ama harikadr" dediiniz o klt yapm gnderin, hakkn beraber teslim edelim.'})]})]}),_.jsxs("div",{className:"w-full text-left space-y-4 pt-4 border-t border-neutral-800",children:[_.jsx("h3",{className:"text-xl font-bold text-white border-b border-neutral-700 pb-2",children:"Sre Nasl liyor?"}),_.jsxs("ul",{className:"space-y-2 text-neutral-300 list-disc list-inside",children:[_.jsxs("li",{children:[_.jsx("strong",{className:"text-white",children:"Biletini Al:"})," Patreon'dan biletini se ve meydan okuman balat."]}),_.jsxs("li",{children:[_.jsx("strong",{className:"text-white",children:"Grevi Ver:"})," zlememi istediin filmi (ne kadar tuhaf veya uzun olduu fark etmez) bana ilet."]}),_.jsxs("li",{children:[_.jsx("strong",{className:"text-white",children:"ncelemeyi Bekle:"})," O filmi bizzat izleyip, tm drstlmle (ve bazen gzyalarmla) hazrladm detayl incelemeyi burada, ismine zel bir teekkrle yaynlayaym."]})]})]}),_.jsx("p",{className:"text-neutral-400 text-lg mt-2",children:"Spend your time watching great movies... Ama bazen de en ktlerini izleyelim ki iyilerin kymetini bilelim, deil mi?"}),_.jsx("p",{className:"text-cyan-400 font-bold",children:'Hadi, msrlar hazrlayn ve bana ne izleyeceimi syleyin. En "absrt" istei sabrszlkla bekliyorum!'}),_.jsxs("a",{href:"https://www.patreon.com/",target:"_blank",rel:"noopener noreferrer",className:"w-full bg-cyan-400 text-black px-8 py-4 text-2xl font-bold hover:bg-white hover:text-cyan-500 transition-colors flex items-center justify-center gap-2 mt-4 font-mono uppercase tracking-wider",children:[_.jsx("span",{children:"PATREON'A GT"}),_.jsx(oT,{size:24})]})]})]})}):null,WE=[{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/7GlsxNI4LVI?si=BhifaelrwxrVQsih" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Dnyann grltsn susturup evrenin sonsuzluunu hissetmek istediinizde bu paray balatn. Sadece bir film mzii deil, bir zaman makinesi."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/f1w4qnfux-o?si=EaiJsH4Soxgb1J27" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Baz aklar kelimelerle deil, bu keman sesindeki o ar admlarla anlatlr. Sinema tarihinin en zarif melankolisi."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/30jrmzzgHLc?si=xVD80KxJDJmCexTD" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Darda neon klar, elinizde direksiyon ve kafanzda binbir dnce... ehri bir film sahnesine dntrmek iin tek ihtiyacnz olan bu ritim."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/07xTvC5a9YQ?si=5c9YmglAB0NQCjp2" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Bugn her ey ok mu gri grnyor? Bu akordeon sesiyle kendinize bir Paris sabah smarlayn. Kk eylerin bysne kaplma vakti."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/D9OhQVuupdY?si=xbdhdV_9xd3xVDMT" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Yamurlu bir cam kenar, lo bir k ve dijital bir huzur. Gelecein yalnzln bu seste bulacaksnz."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/Flb01Ni3p3M?si=KpN0s37OONQatJzJ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Baz melodiler ilk notasndan itibaren size bir hikaye anlatmaya balar. Bu para, sinemann 'dokunulamaz' zirvesinden gelen bir miras gibi."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/aOHmfq2AUaU?si=-itaNVtBJBHmx6z4" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Zamann daraldn, ilerin ciddiye bindiini hissettiiniz o anlarn mzii. Nabznz hzlandrmak istiyorsanz sesi biraz daha an."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/1hLIXrlpRe8?si=cdb3r4Bdh3d8Ke45" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Gne enerjik bir giri yapmak iin daha iyisi yok. Bir restoranda masaya kp dans etme istei uyandrabilir, hazrlkl olun!"},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/ppzoBclWpaA?si=UHYlFlSNgQUZqK6y" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Unutmak istediiniz ama bir yandan da smsk sarldnz o anlara adanm bir para. Kar yaarken camdan bakmalk."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/PYI09PMNazw?si=RNWXitF9Fu_kF13M" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Efsanevi Ennio Morricone'den bir aheser. Adm adm ykselen bu melodiyle kendinizi bir ln ortasnda, byk bir macerann eiinde hissedeceksiniz."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/K61-tK7Xlzg?si=Npodep-wyu6RaETM" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Bir karakterin krln ve yeniden douunu anlatan en hznl ello sesi. Kendi iinizdeki sessiz dansa elik edecek bir bayapt."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/HSW9UPQbeVQ?si=rReYPU7OyjTOmjW1" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"sko yaylalarnn rzgarn yznzde hissettiren, zgrlk ve akn o muazzam karm. Gzlerinizi kapatn ve o usuz bucaksz yeillii hayal edin."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/LF9_9MZyQGo?si=EGowbvmlr0Nc0YV0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Modern klasik mziin dhisi Sakamotodan kalbe dokunan bir piyano melodisi. Sadece bir film mzii deil, ruhu dinlendiren bir terapi seans."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/_DxjFs_dsR8?si=tC6Yhgq57Zx6Mjle" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"En karanlk hikayelerin bile iinde bir zarafet vardr. Bu vals sizi bir yandan dansa davet ederken, dier yandan kalbinize ince bir sz brakacak."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/mqgEYRtWMJU?si=HgrKzbTxWL2eEQA-" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Daft Punkn sinematik evrene brakt en byk miras. Gece kl bir caddede yrrken veya alrken odaklanmak iin birebir."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/yRh-dzrI4Z4?si=J8poy-EJBafh-sMx" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Hayatn rutininden skldnzda bu ritme tutunun. Sizi koltuunuzdan alp usuz bucaksz denizlerde bir maceraya srkleyecek kadar gl."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/057A1RdssoU?si=0XCqLp69bHawuZRq" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Kemann alad o an. nsan ruhunun en karanlk ve en aydnlk yanlarn ayn anda hissettiren, kalbe kaznan bir at."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/-bzWSJG93P8?si=qFmII-Lfe7vLYPaO" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Sadece bir 'kt adam' mzii deil, bir gvde gsterisi. Bu paray dinlerken kendinizi galaksiyi ynetmeye hazr hissetmemeniz imkansz."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/6lRqY7eu0BU?si=KwtY_vevloIYX0Kx" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Bu siteyi ama sebebim olan o sinema tutkusunun bestelenmi hali. Eski bir sinema salonunun tozlu koltuklarn ve film makinelerinin sesini hatrlatr."},{embed:'<iframe width="560" height="315" src="https://www.youtube.com/embed/c56t7upa8Bk?si=yORzihYFJnjyudnH" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>',text:"Ve final... Usulca balayp devasa bir dalgaya dnen bu para, her notasnda zamann akn ve geri gelmeyecek anlarn arln hissettiriyor. Derin bir nefes aln ve kendinizi bu ykselie brakn."}],Ex=({isOpen:i,onClose:e})=>{const[n,s]=ce.useState(0);ce.useEffect(()=>{i&&o()},[i]);const o=()=>{const h=Math.floor(Math.random()*WE.length);s(h)};if(!i)return null;const c=WE[n];return _.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center bg-black/90 p-4",children:_.jsxs("div",{className:"w-full max-w-4xl bg-neutral-900 border-4 border-white p-1 shadow-[10px_10px_0px_#000]",children:[_.jsxs("div",{className:"bg-pink-500 text-black px-4 py-2 flex justify-between items-center font-bold text-2xl mb-1",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(K1,{}),_.jsx("span",{children:"600 MZK KUTUSU"})]}),_.jsx("button",{onClick:e,className:"hover:bg-black hover:text-white px-2 transition-colors",children:"[X]"})]}),_.jsxs("div",{className:"bg-black border-2 border-neutral-700 p-4 sm:p-8 text-white flex flex-col items-center gap-6",children:[_.jsx("div",{className:"w-full aspect-video border-2 border-neutral-800",children:_.jsx("div",{className:"w-full h-full [&>iframe]:w-full [&>iframe]:h-full",dangerouslySetInnerHTML:{__html:c.embed}})}),_.jsxs("p",{className:"text-xl text-center font-medium text-pink-400 max-w-2xl leading-relaxed",children:['"',c.text,'"']}),_.jsxs("div",{className:"flex gap-4",children:[_.jsxs("button",{onClick:o,className:"bg-neutral-800 hover:bg-neutral-700 text-white px-6 py-3 font-bold border-2 border-transparent hover:border-pink-500 transition-colors flex items-center gap-2",children:[_.jsx(uT,{size:20}),_.jsx("span",{children:"KARITIR"})]}),_.jsxs("a",{href:"https://www.youtube.com/watch?v=JuSsvM8B4Jc&list=PLh15T1z9GF_G3CcazBAjoBZeTiOEIAdd7",target:"_blank",rel:"noopener noreferrer",className:"bg-neutral-800 hover:bg-neutral-700 text-white px-6 py-3 font-bold border-2 border-transparent hover:border-pink-500 transition-colors flex items-center gap-2",children:[_.jsx(L1,{size:20}),_.jsx("span",{children:"OYNATMA LSTES"})]})]}),_.jsx("p",{className:"text-neutral-600 text-xs",children:"* Rastgele bir para seildi."})]})]})})},vx=({activeTab:i,setActiveTab:e,onSurpriseMe:n,isSearchVisible:s,toggleSearch:o,searchTerm:c,onSearchChange:h,onHoroscopeClick:m,onBlogClick:p,onMusicClick:y,onPatreonClick:b,onAddMovieClick:A,onLoginClick:w,onSuggestionClick:O,onAboutClick:P,isAdminLoggedIn:Q})=>{const F=ce.useRef(null),[ie,ee]=ce.useState(!1);ce.useEffect(()=>{s&&setTimeout(()=>{var le;(le=F.current)==null||le.focus()},50)},[s]);const $=le=>{le(),ee(!1)};return _.jsxs("div",{className:"sticky top-0 z-50",children:[_.jsxs("div",{className:"bg-black border-b-2 border-white px-4 py-3 flex flex-wrap justify-between items-center text-xl sm:text-2xl font-bold gap-x-4 gap-y-2 relative",children:[_.jsxs("div",{className:"flex items-center gap-1 mr-auto",children:[_.jsx("span",{className:"bg-white text-black px-2 font-bold",children:"BLVTMN"}),_.jsx("span",{className:"text-yellow-400 font-bold teletext-shadow",children:"TV"}),_.jsx("span",{className:"text-red-500 text-xs border border-red-500 px-1 ml-1 self-start",children:"TEST"})]}),_.jsx("button",{onClick:()=>ee(!ie),className:"md:hidden text-white hover:text-yellow-400",children:ie?_.jsx(_r,{size:32}):_.jsx(q1,{size:32})}),_.jsxs("div",{className:"hidden md:flex flex-wrap gap-2 sm:gap-4",children:[_.jsx("button",{onClick:()=>e("watched"),className:`hover:bg-white hover:text-black px-2 ${i==="watched"?"text-yellow-400":"text-neutral-500"}`,children:"100 KOLEKSYON"}),_.jsx("button",{onClick:()=>e("watchlist"),className:`hover:bg-white hover:text-black px-2 ${i==="watchlist"?"text-green-400":"text-neutral-500"}`,children:"200 LSTE"}),_.jsx("button",{onClick:n,className:"text-cyan-400 hover:bg-white hover:text-black px-2",children:"300 ANS"}),_.jsx("button",{onClick:m,className:"text-purple-400 hover:bg-white hover:text-black px-2",children:"400 HOROSCOPE"}),_.jsx("button",{onClick:p,className:"text-blue-400 hover:bg-white hover:text-black px-2",children:"500 BLOG"}),_.jsx("button",{onClick:y,className:"text-pink-400 hover:bg-white hover:text-black px-2",children:"600 MZK"})]})]}),ie&&_.jsx("div",{className:"fixed inset-0 top-[60px] bg-black/95 z-40 flex flex-col p-4 gap-4 overflow-y-auto pb-20 border-t-2 border-white md:hidden",children:_.jsxs("div",{className:"grid grid-cols-1 gap-4 text-center text-2xl",children:[_.jsx("button",{onClick:()=>$(()=>e("watched")),className:"text-yellow-400 border-2 border-white py-3 hover:bg-white hover:text-black",children:"100 KOLEKSYON"}),_.jsx("button",{onClick:()=>$(()=>e("watchlist")),className:"text-green-400 border-2 border-white py-3 hover:bg-white hover:text-black",children:"200 LSTE"}),_.jsx("button",{onClick:()=>$(n),className:"text-cyan-400 border-2 border-white py-3 hover:bg-white hover:text-black",children:"300 ANS"}),_.jsx("button",{onClick:()=>$(m),className:"text-purple-400 border-2 border-white py-3 hover:bg-white hover:text-black",children:"400 HOROSCOPE"}),_.jsx("button",{onClick:()=>$(p),className:"text-blue-400 border-2 border-white py-3 hover:bg-white hover:text-black",children:"500 BLOG"}),_.jsx("button",{onClick:()=>$(y),className:"text-pink-400 border-2 border-white py-3 hover:bg-white hover:text-black",children:"600 MZK"}),_.jsx("div",{className:"h-px bg-white/30 my-2"}),_.jsx("button",{onClick:()=>$(b),className:"border-2 border-cyan-400 text-cyan-400 py-3 hover:bg-cyan-400 hover:text-black font-bold",children:"[ BR FLM ISMARLA ]"}),_.jsx("button",{onClick:()=>$(A),className:"border-2 border-yellow-400 text-yellow-400 py-3 hover:bg-yellow-400 hover:text-black font-bold",children:"[ + YEN KAYIT ]"}),_.jsx("button",{onClick:()=>$(o),className:"border-2 border-white text-white py-3 hover:bg-white hover:text-black",children:"ARAMA"}),_.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[_.jsx("button",{onClick:()=>$(O),className:"border-2 border-white text-white py-3 hover:bg-white hover:text-black",children:"F"}),_.jsx("button",{onClick:()=>$(w),className:`border-2 border-white text-white py-3 hover:bg-white hover:text-black ${Q?"text-red-500 border-red-500":""}`,children:Q?"IKI":"GR"}),_.jsx("button",{onClick:()=>$(P),className:"border-2 border-white text-white py-3 hover:bg-white hover:text-black",children:"?"})]})]})})]})},bx=({activeTab:i,selectedGenre:e,setSelectedGenre:n,selectedDirector:s,setSelectedDirector:o,selectedYear:c,setSelectedYear:h,selectedRating:m,setSelectedRating:p,availableGenres:y,availableDirectors:b,availableYears:A,sortOption:w,setSortOption:O})=>_.jsxs("div",{className:"mb-8 space-y-4",children:[i!=="watchlist"&&_.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[_.jsxs("div",{className:"relative",children:[_.jsxs("select",{value:e,onChange:P=>n(P.target.value),className:`w-full bg-black border-2 p-2 text-lg font-bold outline-none cursor-pointer rounded-none appearance-none text-center ${e?"text-orange-400 border-orange-400":"text-cyan-400 border-cyan-400 hover:bg-cyan-900"}`,children:[_.jsx("option",{value:"",children:"TM TRLER"}),y.map(P=>_.jsx("option",{value:P,children:P},P))]}),e&&_.jsx("button",{onClick:()=>n(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-red-500 hover:text-white bg-black/50 rounded-full",title:"FLTREY TEMZLE",children:_.jsx(_r,{size:20})})]}),_.jsxs("div",{className:"relative",children:[_.jsxs("select",{value:s,onChange:P=>o(P.target.value),className:`w-full bg-black border-2 p-2 text-lg font-bold outline-none cursor-pointer rounded-none appearance-none text-center ${s?"text-orange-400 border-orange-400":"text-cyan-400 border-cyan-400 hover:bg-cyan-900"}`,children:[_.jsx("option",{value:"",children:"YNETMENLER"}),b.map(P=>_.jsx("option",{value:P,children:P},P))]}),s&&_.jsx("button",{onClick:()=>o(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-red-500 hover:text-white bg-black/50 rounded-full",title:"FLTREY TEMZLE",children:_.jsx(_r,{size:20})})]}),_.jsxs("div",{className:"relative",children:[_.jsxs("select",{value:c,onChange:P=>h(P.target.value),className:`w-full bg-black border-2 p-2 text-lg font-bold outline-none cursor-pointer rounded-none appearance-none text-center ${c?"text-orange-400 border-orange-400":"text-cyan-400 border-cyan-400 hover:bg-cyan-900"}`,children:[_.jsx("option",{value:"",children:"YILLAR"}),A.map(P=>_.jsx("option",{value:P,children:P},P))]}),c&&_.jsx("button",{onClick:()=>h(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-red-500 hover:text-white bg-black/50 rounded-full",title:"FLTREY TEMZLE",children:_.jsx(_r,{size:20})})]}),i==="watched"&&_.jsxs("div",{className:"relative",children:[_.jsxs("select",{value:m,onChange:P=>p(P.target.value===""?"":Number(P.target.value)),className:`w-full bg-black border-2 p-2 text-lg font-bold outline-none cursor-pointer rounded-none appearance-none text-center ${m!==""?"text-orange-400 border-orange-400":"text-cyan-400 border-cyan-400 hover:bg-cyan-900"}`,children:[_.jsx("option",{value:"",children:"PUANLAR"}),[5,4,3,2,1].map(P=>_.jsxs("option",{value:P,children:[P," YILDIZ"]},P))]}),m!==""&&_.jsx("button",{onClick:()=>p(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-red-500 hover:text-white bg-black/50 rounded-full",title:"FLTREY TEMZLE",children:_.jsx(_r,{size:20})})]})]}),_.jsxs("div",{className:"flex justify-center gap-4 border-t border-neutral-800 pt-4",children:[i!=="watchlist"&&_.jsxs("button",{onClick:()=>O(w==="year_desc"?"year_asc":"year_desc"),className:`flex items-center gap-2 px-4 py-2 font-bold transition-colors ${w.startsWith("year")?"text-yellow-400 bg-neutral-800":"text-neutral-500 hover:text-white"}`,children:[_.jsx("span",{children:"YIL"}),_.jsx("span",{className:"text-xl",children:w==="year_desc"?"":w==="year_asc"?"":""})]}),_.jsxs("button",{onClick:()=>O(w==="title_asc"?"title_desc":"title_asc"),className:`flex items-center gap-2 px-4 py-2 font-bold transition-colors ${w.startsWith("title")?"text-yellow-400 bg-neutral-800":"text-neutral-500 hover:text-white"}`,children:[_.jsx("span",{children:"SM"}),_.jsx("span",{className:"text-xl",children:w==="title_asc"?"":w==="title_desc"?"":""})]}),_.jsxs("button",{onClick:()=>O(w==="date_desc"?"date_asc":"date_desc"),className:`flex items-center gap-2 px-4 py-2 font-bold transition-colors ${w.startsWith("date")?"text-yellow-400 bg-neutral-800":"text-neutral-500 hover:text-white"}`,children:[_.jsx("span",{children:"YKLENME"}),_.jsx("span",{className:"text-xl",children:w==="date_desc"?"":w==="date_asc"?"":""})]})]})]}),Tx=({movie:i,onClose:e,onTryAgain:n})=>(ce.useEffect(()=>{const s=o=>{o.key==="Escape"&&e()};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[e]),i?_.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",children:_.jsxs("div",{className:"relative w-full max-w-4xl bg-neutral-900 border-4 border-white shadow-[0_0_50px_rgba(255,255,255,0.1)] flex flex-col md:flex-row overflow-hidden max-h-[90vh] md:max-h-[800px]",onClick:s=>s.stopPropagation(),children:[_.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 bg-black text-white hover:text-red-500 border-2 border-white p-2 transition-colors",children:_.jsx(_r,{size:24})}),_.jsxs("div",{className:"hidden md:block w-[400px] shrink-0 bg-black relative border-r-4 border-white",children:[i.posterBase64?_.jsx("img",{src:i.posterBase64,alt:i.title,className:"w-full h-full object-cover contrast-125 saturate-150 pixelated"}):_.jsx("div",{className:"w-full h-full flex flex-col items-center justify-center text-6xl text-neutral-700",children:i.emoji}),_.jsx("div",{className:"absolute top-4 left-4 bg-cyan-400 text-black font-bold px-4 py-1 border-2 border-black shadow-[4px_4px_0px_#000] z-10",children:"300 SRPRZ"})]}),_.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-neutral-900",children:_.jsxs("div",{className:"p-4 md:p-8 flex flex-col gap-6",children:[_.jsxs("div",{className:"flex gap-4 md:hidden items-start pr-12",children:[_.jsxs("div",{className:"w-1/3 shrink-0 border-2 border-white relative",children:[i.posterBase64?_.jsx("img",{src:i.posterBase64,alt:i.title,className:"w-full h-auto object-cover aspect-[2/3] contrast-125 saturate-150 pixelated"}):_.jsx("div",{className:"w-full aspect-[2/3] bg-neutral-800 flex items-center justify-center text-4xl",children:i.emoji}),_.jsx("div",{className:"absolute top-1 left-1 bg-cyan-400 text-black text-[10px] font-bold px-2 py-0 border border-black shadow-[2px_2px_0px_#000] z-10",children:"300"})]}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("h2",{className:"text-3xl font-bold text-yellow-400 leading-none uppercase mb-2 text-shadow-sm break-words",children:i.title.toLocaleUpperCase("tr-TR")}),_.jsxs("div",{className:"flex flex-wrap gap-2 text-xs font-bold",children:[_.jsx("div",{className:"bg-yellow-400 text-black px-2 py-0.5 border border-transparent",children:i.year}),i.genre.slice(0,2).map(s=>_.jsx("div",{className:"bg-cyan-900 text-cyan-200 px-2 py-0.5 border border-cyan-700 uppercase",children:s},s))]})]})]}),_.jsxs("div",{className:"hidden md:block",children:[_.jsx("div",{className:"flex items-start justify-between gap-4",children:_.jsx("div",{children:_.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-yellow-400 leading-none uppercase mb-2 text-shadow-sm",children:i.title.toLocaleUpperCase("tr-TR")})})}),_.jsxs("div",{className:"flex flex-wrap gap-2 text-sm md:text-base font-bold",children:[_.jsx("div",{className:"bg-yellow-400 text-black px-3 py-1 border-2 border-transparent",children:i.year}),i.genre.map(s=>_.jsx("div",{className:"bg-cyan-900 text-cyan-200 px-3 py-1 border-2 border-cyan-700 uppercase",children:s},s))]})]}),_.jsx("div",{className:"h-px bg-neutral-700 w-full"}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 text-base md:text-lg",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-2 text-neutral-500 mb-1 uppercase text-sm font-bold",children:[_.jsx(Kh,{size:16})," Ynetmen"]}),_.jsx("div",{className:"text-white text-lg md:text-xl",children:i.director})]}),i.userRating&&_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-2 text-neutral-500 mb-1 uppercase text-sm font-bold",children:[_.jsx(Yh,{size:16})," Puanm"]}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(_p,{rating:i.userRating,readOnly:!0,size:20}),_.jsxs("span",{className:"text-yellow-400 font-bold text-xl md:text-2xl",children:[i.userRating,"/5"]})]})]})]}),_.jsxs("div",{className:"bg-black/30 p-4 md:p-6 border-l-4 border-yellow-400",children:[_.jsxs("div",{className:"flex items-center gap-2 text-yellow-400 mb-2 md:mb-3 uppercase font-bold tracking-widest text-sm",children:[_.jsx(lT,{size:16})," zet"]}),_.jsx("p",{className:"text-lg md:text-xl leading-relaxed text-neutral-200 font-serif",children:i.summary})]}),i.userReview&&_.jsxs("div",{className:"bg-neutral-800 p-4 md:p-6 border border-neutral-700 relative group",children:[_.jsx(cT,{className:"absolute top-4 right-4 text-neutral-700 w-8 h-8 md:w-12 md:h-12 rotate-180"}),_.jsxs("div",{className:"relative z-10",children:[_.jsx("div",{className:"text-magenta-500 font-bold mb-2 uppercase text-sm",children:"ncelemem"}),_.jsxs("p",{className:"text-xl md:text-2xl text-white italic font-serif leading-relaxed",children:['"',i.userReview,'"']})]})]}),_.jsx("div",{className:"mt-4 md:mt-8 flex flex-col gap-4 pt-6 border-t border-neutral-700",children:_.jsxs("button",{onClick:n,className:"w-full bg-cyan-500 hover:bg-cyan-400 text-black font-bold text-xl py-4 flex items-center justify-center gap-3 transition-colors border-2 border-transparent hover:border-white shadow-lg",children:[_.jsx(uT,{size:24,className:"animate-spin-slow"}),_.jsx("span",{children:"BAKA FLM SE"})]})})]})})]})}):null),Ax=({movies:i,onApprove:e,onDelete:n,onUpdate:s,suggestions:o,onDeleteSuggestion:c})=>{const[h,m]=ce.useState("pending"),p=i.filter(ne=>ne.isApproved===!1),y=i.filter(ne=>ne.isApproved!==!1),[b,A]=ce.useState(null),[w,O]=ce.useState(!1),[P,Q]=ce.useState(!1),F=ne=>{A(ne),O(!0)},ie=async ne=>{if(b){Q(!0);try{await s(b.id,{title:ne.rawTitle,status:ne.status,userRating:ne.userRating,userReview:ne.userReview,imdbUrl:ne.imdbUrl,posterBase64:ne.manualPosterBase64,year:ne.manualYear||b.year,director:ne.manualDirector||b.director,genre:ne.manualGenres||b.genre,summary:ne.manualSummary||b.summary}),O(!1),A(null)}catch(_e){console.error("Update failed",_e),alert("Guncelleme basarisiz")}finally{Q(!1)}}},ee=async ne=>{window.confirm("BU KAYDI REDDETMEK VE SILMEK ISTEDIGINIZE EMIN MISINIZ?")&&await n(ne)},$=ne=>_.jsxs("div",{className:"flex flex-col gap-2",children:[h==="pending"&&_.jsx("button",{onClick:()=>e(ne.id),className:"bg-green-600 hover:bg-green-500 text-white p-2",title:"ONAYLA",children:_.jsx(A1,{size:24})}),ne.status!=="watched"&&_.jsx("button",{onClick:()=>s(ne.id,{status:"watched",watchedDate:new Date().toISOString()}),className:"bg-purple-600 hover:bg-purple-500 text-white p-2",title:"IZLENDI OLARAK ISARETLE",children:_.jsx(C1,{size:24})}),_.jsx("button",{onClick:()=>F(ne),className:"bg-blue-600 hover:bg-blue-500 text-white p-2",title:"DUZENLE",children:_.jsx(rx,{size:24})}),_.jsx("button",{onClick:()=>ee(ne.id),className:"bg-red-600 hover:bg-red-500 text-white p-2",title:"SIL / REDDET",children:_.jsx(ZE,{size:24})})]}),le=h==="pending"?p:y;return _.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"flex gap-4 border-b-2 border-white pb-2 mb-6",children:[_.jsxs("button",{onClick:()=>m("pending"),className:`text-xl font-bold px-4 py-2 ${h==="pending"?"bg-yellow-400 text-black":"text-neutral-500 hover:text-white"}`,children:["ONAY BEKLEYENLER (",p.length,")"]}),_.jsxs("button",{onClick:()=>m("approved"),className:`text-xl font-bold px-4 py-2 ${h==="approved"?"bg-green-600 text-white":"text-neutral-500 hover:text-white"}`,children:["KAYITLI ARV (",y.length,")"]}),_.jsxs("button",{onClick:()=>m("suggestions"),className:`text-xl font-bold px-4 py-2 ${h==="suggestions"?"bg-purple-600 text-white":"text-neutral-500 hover:text-white"}`,children:["NERLER (",o.length,")"]})]}),h==="suggestions"&&(o.length===0?_.jsx("div",{className:"border-4 border-white border-dashed p-12 text-center bg-neutral-900",children:_.jsx("h2",{className:"text-3xl text-neutral-500",children:"MESAJ KUTUSU BO"})}):_.jsx("div",{className:"grid gap-4",children:o.map(ne=>_.jsxs("div",{className:"border-2 border-white bg-neutral-900 p-6 relative",children:[_.jsxs("div",{className:"flex justify-between items-start mb-4 border-b border-neutral-700 pb-2",children:[_.jsxs("div",{children:[_.jsxs("h3",{className:"text-yellow-400 font-bold text-xl uppercase",children:[ne.name," ",ne.surname]}),_.jsx("span",{className:"text-neutral-500 text-sm font-mono",children:new Date(ne.createdAt).toLocaleString("tr-TR")})]}),_.jsx("button",{onClick:()=>c(ne.id),className:"bg-red-900 text-red-200 p-2 hover:bg-red-800",title:"SL",children:_.jsx(ZE,{size:20})})]}),_.jsx("p",{className:"text-white text-lg font-mono leading-relaxed whitespace-pre-wrap",children:ne.message})]},ne.id))})),h!=="suggestions"&&(le.length===0?_.jsxs("div",{className:"border-4 border-white border-dashed p-12 text-center bg-neutral-900",children:[_.jsx("h2",{className:"text-3xl text-neutral-500 mb-2",children:h==="pending"?"HER SEY YOLUNDA":"ARV BO"}),_.jsx("p",{className:"text-xl text-white",children:h==="pending"?"ONAY BEKLEYEN KAYIT YOK.":"HENZ ONAYLANMI KAYIT YOK."})]}):_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:le.map(ne=>_.jsxs("div",{className:"border-2 border-white bg-neutral-900 p-4 flex gap-4 items-start",children:[_.jsx("div",{className:"w-24 aspect-[2/3] bg-black flex-shrink-0 border border-neutral-700",children:ne.posterBase64?_.jsx("img",{src:ne.posterBase64,alt:ne.title,className:"w-full h-full object-cover"}):_.jsx("div",{className:"flex items-center justify-center h-full text-2xl",children:""})}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("h3",{className:"text-xl font-bold text-yellow-400 truncate",children:ne.title}),_.jsxs("div",{className:"text-sm text-neutral-400 font-bold mb-2",children:[ne.year,"  ",ne.director]}),_.jsx("div",{className:"text-xs text-neutral-500 mb-2 line-clamp-2",children:ne.summary}),_.jsxs("div",{className:"flex gap-2 text-xs font-bold",children:[_.jsx("span",{className:`px-2 py-1 ${ne.status==="watched"?"bg-red-900 text-red-200":"bg-green-900 text-green-200"}`,children:ne.status==="watched"?"ZLEND":"ZLENECEK"}),ne.userRating&&_.jsxs("span",{className:"bg-yellow-900 text-yellow-200 px-2 py-1",children:[" ",ne.userRating]})]})]}),$(ne)]},ne.id))})),_.jsx(fT,{isOpen:w,onClose:()=>{O(!1),A(null)},onSubmit:ie,isSubmitting:P,editMovie:b||void 0})]})},wx=({isOpen:i,onClose:e,watchedCount:n,watchlistCount:s})=>i?_.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center bg-black/90 p-4",children:_.jsxs("div",{className:"w-full max-w-3xl bg-neutral-900 border-4 border-white p-1 shadow-[10px_10px_0px_#000] overflow-y-auto max-h-[90vh]",children:[_.jsxs("div",{className:"bg-white text-black px-4 py-2 flex justify-between items-center font-bold text-lg md:text-2xl mb-1 sticky top-0 z-10",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(x1,{size:24}),_.jsx("span",{children:"HAKKINDA"})]}),_.jsx("button",{onClick:e,className:"hover:bg-black hover:text-white px-2 transition-colors",children:"[X]"})]}),_.jsxs("div",{className:"bg-black border-2 border-neutral-700 p-4 md:p-8 text-white min-h-[300px] md:min-h-[400px] flex flex-col justify-center",children:[_.jsxs("h2",{className:"text-2xl md:text-4xl text-yellow-400 font-bold mb-4 md:mb-6 leading-tight md:leading-none tracking-wide border-b-4 border-blue-600 inline-block pb-2",children:["SPEND YOUR TIME WATCHING GREAT MOVIES,",_.jsx("br",{}),"NOT SEARCHING FOR THEM."]}),_.jsxs("div",{className:"space-y-3 md:space-y-4 text-lg md:text-2xl font-medium leading-relaxed text-neutral-300",children:[_.jsxs("p",{children:["Kt bir filme harcanan iki saat, geri gelmeyecek bir zamandr.",_.jsx("span",{className:"text-white",children:" Ben bu zaman sizin yerinize harcadm!"})," Bu platform, izlediim yzlerce film arasndan szlp gelen bir neri rehberidir."]}),_.jsx("p",{children:"Puan tablolarma gz atarak hangi filmin izlemeye deer olduunu grebilir, kiisel eletirilerimle film hakknda n bilgi edinebilirsiniz."}),_.jsx("p",{className:"text-cyan-400 font-bold mt-2 md:mt-4",children:"Buras bir veritaban deil, bir filmseverin size sunduu dijital bir tavsiye kutusudur."}),_.jsxs("div",{className:"mt-6 md:mt-8 border-t-2 border-neutral-800 pt-4 md:pt-6 flex flex-wrap gap-4 md:gap-8 justify-center font-mono text-base md:text-lg",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"text-yellow-400 font-bold text-lg md:text-xl",children:"100"}),_.jsx("span",{className:"text-white",children:"ZLENEN"}),_.jsxs("span",{className:"text-yellow-400 font-bold text-xs md:text-sm bg-neutral-900 px-2 py-1 border border-neutral-700 ml-1",children:[n," FLM"]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"text-yellow-400 font-bold text-lg md:text-xl",children:"200"}),_.jsx("span",{className:"text-white",children:"ZLENECEK"}),_.jsxs("span",{className:"text-yellow-400 font-bold text-xs md:text-sm bg-neutral-900 px-2 py-1 border border-neutral-700 ml-1",children:[s," FLM"]})]})]})]})]})]})}):null,Sx=({isOpen:i,onClose:e,onSubmit:n,isSubmitting:s})=>{const[o,c]=ce.useState(""),[h,m]=ce.useState(""),[p,y]=ce.useState("");if(!i)return null;const b=async A=>{A.preventDefault();try{await n({name:o,surname:h,message:p}),c(""),m(""),y(""),alert("NERNZ LETLD / SENT"),e()}catch{alert("HATALI ILEM / ERROR")}};return _.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center bg-black/90 p-4",children:_.jsxs("div",{className:"w-full max-w-xl bg-neutral-900 border-4 border-white p-1 shadow-[10px_10px_0px_#000]",children:[_.jsxs("div",{className:"bg-white text-black px-4 py-2 flex justify-between items-center font-bold text-2xl mb-4",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(F1,{}),_.jsx("span",{children:"NER FORMU"})]}),_.jsx("button",{onClick:e,className:"hover:bg-black hover:text-white px-2 transition-colors",children:"[X]"})]}),_.jsxs("form",{onSubmit:b,className:"bg-black border-2 border-neutral-700 p-6 flex flex-col gap-4",children:[_.jsxs("div",{className:"flex gap-4",children:[_.jsxs("div",{className:"flex-1",children:[_.jsx("label",{className:"text-white font-bold block mb-2",children:"ADI"}),_.jsxs("div",{className:"relative",children:[_.jsx(Kh,{className:"absolute left-3 top-3 text-neutral-500 w-5 h-5"}),_.jsx("input",{type:"text",required:!0,value:o,onChange:A=>c(A.target.value),className:"w-full bg-neutral-900 border-2 border-neutral-700 text-white p-2 pl-10 font-mono focus:border-yellow-400 outline-none",placeholder:"JANE"})]})]}),_.jsxs("div",{className:"flex-1",children:[_.jsx("label",{className:"text-white font-bold block mb-2",children:"SOYADI"}),_.jsx("input",{type:"text",required:!0,value:h,onChange:A=>m(A.target.value),className:"w-full bg-neutral-900 border-2 border-neutral-700 text-white p-2 font-mono focus:border-yellow-400 outline-none",placeholder:"DOE"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-white font-bold block mb-2",children:"NER / KAYET"}),_.jsx("textarea",{required:!0,value:p,onChange:A=>y(A.target.value),className:"w-full h-32 bg-neutral-900 border-2 border-neutral-700 text-white p-2 font-mono focus:border-yellow-400 outline-none resize-none",placeholder:"Mesajnz..."})]}),_.jsx("button",{type:"submit",disabled:s,className:"bg-yellow-400 text-black font-bold py-3 text-xl hover:bg-white transition-colors flex justify-center items-center gap-2",children:s?"GNDERLYOR...":_.jsxs(_.Fragment,{children:[_.jsx(ex,{className:"w-5 h-5"}),"[ GNDER ]"]})})]})]})})},Ix=({movie:i,onClose:e,onDelete:n})=>(ce.useEffect(()=>{const s=o=>{o.key==="Escape"&&e()};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[e]),i?_.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",children:_.jsxs("div",{className:"relative w-full max-w-4xl bg-neutral-900 border-4 border-white shadow-[0_0_50px_rgba(255,255,255,0.1)] flex flex-col md:flex-row overflow-hidden max-h-[90vh] md:max-h-[800px]",onClick:s=>s.stopPropagation(),children:[_.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 bg-black text-white hover:text-red-500 border-2 border-white p-2 transition-colors",children:_.jsx(_r,{size:24})}),_.jsx("div",{className:"hidden md:block w-[400px] shrink-0 bg-black relative border-r-4 border-white",children:i.posterBase64?_.jsx("img",{src:i.posterBase64,alt:i.title,className:"w-full h-full object-cover contrast-125 saturate-150 pixelated"}):_.jsx("div",{className:"w-full h-full flex flex-col items-center justify-center text-6xl text-neutral-700",children:i.emoji})}),_.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-neutral-900",children:_.jsxs("div",{className:"p-4 md:p-8 flex flex-col gap-6",children:[_.jsxs("div",{className:"flex gap-4 md:hidden items-start pr-12",children:[_.jsx("div",{className:"w-1/3 shrink-0 border-2 border-white",children:i.posterBase64?_.jsx("img",{src:i.posterBase64,alt:i.title,className:"w-full h-auto object-cover aspect-[2/3] contrast-125 saturate-150 pixelated"}):_.jsx("div",{className:"w-full aspect-[2/3] bg-neutral-800 flex items-center justify-center text-4xl",children:i.emoji})}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("h2",{className:"text-3xl font-bold text-yellow-400 leading-none uppercase mb-2 text-shadow-sm break-words",children:i.title.toLocaleUpperCase("tr-TR")}),_.jsxs("div",{className:"flex flex-wrap gap-2 text-xs font-bold",children:[_.jsx("div",{className:"bg-yellow-400 text-black px-2 py-0.5 border border-transparent",children:i.year}),i.genre.slice(0,2).map(s=>_.jsx("div",{className:"bg-cyan-900 text-cyan-200 px-2 py-0.5 border border-cyan-700 uppercase",children:s},s))]})]})]}),_.jsxs("div",{className:"hidden md:block",children:[_.jsx("h2",{className:"text-5xl font-bold text-yellow-400 leading-none uppercase mb-2 text-shadow-sm",children:i.title.toLocaleUpperCase("tr-TR")}),_.jsxs("div",{className:"flex flex-wrap gap-2 text-base font-bold",children:[_.jsx("div",{className:"bg-yellow-400 text-black px-3 py-1 border-2 border-transparent",children:i.year}),i.genre.map(s=>_.jsx("div",{className:"bg-cyan-900 text-cyan-200 px-3 py-1 border-2 border-cyan-700 uppercase",children:s},s))]})]}),_.jsx("div",{className:"h-px bg-neutral-700 w-full"}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 text-base md:text-lg",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-2 text-neutral-500 mb-1 uppercase text-sm font-bold",children:[_.jsx(Kh,{size:16})," Ynetmen"]}),_.jsx("div",{className:"text-white text-lg md:text-xl",children:i.director})]}),i.userRating&&_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-2 text-neutral-500 mb-1 uppercase text-sm font-bold",children:[_.jsx(Yh,{size:16})," Puanm"]}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(_p,{rating:i.userRating,readOnly:!0,size:20}),_.jsxs("span",{className:"text-yellow-400 font-bold text-xl md:text-2xl",children:[i.userRating,"/5"]})]})]})]}),_.jsxs("div",{className:"bg-black/30 p-4 md:p-6 border-l-4 border-yellow-400",children:[_.jsxs("div",{className:"flex items-center gap-2 text-yellow-400 mb-2 md:mb-3 uppercase font-bold tracking-widest text-sm",children:[_.jsx(lT,{size:16})," zet"]}),_.jsx("p",{className:"text-lg md:text-xl leading-relaxed text-neutral-200 font-serif",children:i.summary})]}),i.userReview&&_.jsxs("div",{className:"bg-neutral-800 p-4 md:p-6 border border-neutral-700 relative group",children:[_.jsx(cT,{className:"absolute top-4 right-4 text-neutral-700 w-8 h-8 md:w-12 md:h-12 rotate-180"}),_.jsxs("div",{className:"relative z-10",children:[_.jsx("div",{className:"text-magenta-500 font-bold mb-2 uppercase text-sm",children:"ncelemem"}),_.jsxs("p",{className:"text-xl md:text-2xl text-white italic font-serif leading-relaxed",children:['"',i.userReview,'"']})]})]}),_.jsx("div",{className:"mt-4 md:mt-8 flex items-center justify-between pt-6 border-t border-neutral-700",children:i.imdbUrl&&_.jsxs("a",{href:i.imdbUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-yellow-500 hover:text-white transition-colors text-lg font-bold group",children:["IMDb ",_.jsx("span",{className:"hidden sm:inline",children:"Sayfasna Git"})," ",_.jsx(oT,{size:20,className:"group-hover:-translate-y-1 transition-transform"})]})})]})})]})}):null),xx=()=>{};var e0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Rx=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[n++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(c&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},mT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const c=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,y=p?i[o+2]:0,b=c>>2,A=(c&3)<<4|m>>4;let w=(m&15)<<2|y>>6,O=y&63;p||(O=64,h||(w=64)),s.push(n[b],n[A],n[w],n[O])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(dT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Rx(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const c=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const y=o<i.length?n[i.charAt(o)]:64;++o;const A=o<i.length?n[i.charAt(o)]:64;if(++o,c==null||m==null||y==null||A==null)throw new Nx;const w=c<<2|m>>4;if(s.push(w),y!==64){const O=m<<4&240|y>>2;if(s.push(O),A!==64){const P=y<<6&192|A;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Nx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Cx=function(i){const e=dT(i);return mT.encodeByteArray(e,!0)},Ah=function(i){return Cx(i).replace(/\./g,"")},pT=function(i){try{return mT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=()=>Ox().__FIREBASE_DEFAULTS__,Mx=()=>{if(typeof process>"u"||typeof e0>"u")return;const i=e0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},kx=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&pT(i[1]);return e&&JSON.parse(e)},Qh=()=>{try{return xx()||Dx()||Mx()||kx()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},gT=i=>{var e,n;return(n=(e=Qh())==null?void 0:e.emulatorHosts)==null?void 0:n[i]},Lx=i=>{const e=gT(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},yT=()=>{var i;return(i=Qh())==null?void 0:i.config},_T=i=>{var e;return(e=Qh())==null?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ET(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Ah(JSON.stringify(n)),Ah(JSON.stringify(h)),""].join(".")}const tc={};function Px(){const i={prod:[],emulator:[]};for(const e of Object.keys(tc))tc[e]?i.emulator.push(e):i.prod.push(e);return i}function jx(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let t0=!1;function vT(i,e){if(typeof window>"u"||typeof document>"u"||!Lo(window.location.host)||tc[i]===e||tc[i]||t0)return;tc[i]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",c=Px().prod.length>0;function h(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,O){w.setAttribute("width","24"),w.setAttribute("id",O),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{t0=!0,h()},w}function b(w,O){w.setAttribute("id",O),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function A(){const w=jx(s),O=n("text"),P=document.getElementById(O)||document.createElement("span"),Q=n("learnmore"),F=document.getElementById(Q)||document.createElement("a"),ie=n("preprendIcon"),ee=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const $=w.element;m($),b(F,Q);const le=y();p(ee,ie),$.append(ee,P,F,le),document.body.appendChild($)}c?(P.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function Bx(){var e;const i=(e=Qh())==null?void 0:e.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Hx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bT(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function Fx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Gx(){const i=sn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function qx(){return!Bx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TT(){try{return typeof indexedDB=="object"}catch{return!1}}function AT(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var c;e(((c=o.error)==null?void 0:c.message)||"")}}catch(n){e(n)}})}function Yx(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx="FirebaseError";class Ti extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Kx,Object.setPrototypeOf(this,Ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pa.prototype.create)}}class pa{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?Qx(c,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Ti(o,m,s)}}function Qx(i,e){return i.replace($x,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const $x=/\{\$([^}]+)}/g;function Xx(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function _s(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const c=i[o],h=e[o];if(n0(c)&&n0(h)){if(!_s(c,h))return!1}else if(c!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function n0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Kl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Ql(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function Jx(i,e){const n=new Zx(i,e);return n.subscribe.bind(n)}class Zx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Wx(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Tm),o.error===void 0&&(o.error=Tm),o.complete===void 0&&(o.complete=Tm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wx(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Tm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=1e3,tR=2,nR=14400*1e3,iR=.5;function i0(i,e=eR,n=tR){const s=e*Math.pow(n,i),o=Math.round(iR*s*(Math.random()-.5)*2);return Math.min(nR,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(i){return i&&i._delegate?i._delegate:i}class Ei{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Ux;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aR(e))try{this.getOrInitializeService({instanceIdentifier:ra})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=ra){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ra){return this.instances.has(e)}getOptions(e=ra){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:sR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ra){return this.component?this.component.multipleInstances?e:ra:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sR(i){return i===ra?void 0:i}function aR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ue||(Ue={}));const lR={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},cR=Ue.INFO,uR={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},hR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=uR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $h{constructor(e){this.name=e,this._logLevel=cR,this._logHandler=hR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const fR=(i,e)=>e.some(n=>i instanceof n);let r0,s0;function dR(){return r0||(r0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mR(){return s0||(s0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wT=new WeakMap,zm=new WeakMap,ST=new WeakMap,Am=new WeakMap,Ep=new WeakMap;function pR(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",h)},c=()=>{n(fs(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&wT.set(n,i)}).catch(()=>{}),Ep.set(e,i),e}function gR(i){if(zm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",h),i.removeEventListener("abort",h)},c=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",h),i.addEventListener("abort",h)});zm.set(i,e)}let Bm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return zm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||ST.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fs(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function yR(i){Bm=i(Bm)}function _R(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(wm(this),e,...n);return ST.set(s,e.sort?e.sort():[e]),fs(s)}:mR().includes(i)?function(...e){return i.apply(wm(this),e),fs(wT.get(this))}:function(...e){return fs(i.apply(wm(this),e))}}function ER(i){return typeof i=="function"?_R(i):(i instanceof IDBTransaction&&gR(i),fR(i,dR())?new Proxy(i,Bm):i)}function fs(i){if(i instanceof IDBRequest)return pR(i);if(Am.has(i))return Am.get(i);const e=ER(i);return e!==i&&(Am.set(i,e),Ep.set(e,i)),e}const wm=i=>Ep.get(i);function IT(i,e,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const h=indexedDB.open(i,e),m=fs(h);return s&&h.addEventListener("upgradeneeded",p=>{s(fs(h.result),p.oldVersion,p.newVersion,fs(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const vR=["get","getKey","getAll","getAllKeys","count"],bR=["put","add","delete","clear"],Sm=new Map;function a0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Sm.get(e))return Sm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=bR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||vR.includes(n)))return;const c=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return Sm.set(e,c),c}yR(i=>({...i,get:(e,n,s)=>a0(e,n)||i.get(e,n,s),has:(e,n)=>!!a0(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function AR(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hm="@firebase/app",o0="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=new $h("@firebase/app"),wR="@firebase/app-compat",SR="@firebase/analytics-compat",IR="@firebase/analytics",xR="@firebase/app-check-compat",RR="@firebase/app-check",NR="@firebase/auth",CR="@firebase/auth-compat",OR="@firebase/database",DR="@firebase/data-connect",MR="@firebase/database-compat",kR="@firebase/functions",LR="@firebase/functions-compat",UR="@firebase/installations",VR="@firebase/installations-compat",PR="@firebase/messaging",jR="@firebase/messaging-compat",zR="@firebase/performance",BR="@firebase/performance-compat",HR="@firebase/remote-config",FR="@firebase/remote-config-compat",GR="@firebase/storage",qR="@firebase/storage-compat",YR="@firebase/firestore",KR="@firebase/ai",QR="@firebase/firestore-compat",$R="firebase",XR="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="[DEFAULT]",JR={[Hm]:"fire-core",[wR]:"fire-core-compat",[IR]:"fire-analytics",[SR]:"fire-analytics-compat",[RR]:"fire-app-check",[xR]:"fire-app-check-compat",[NR]:"fire-auth",[CR]:"fire-auth-compat",[OR]:"fire-rtdb",[DR]:"fire-data-connect",[MR]:"fire-rtdb-compat",[kR]:"fire-fn",[LR]:"fire-fn-compat",[UR]:"fire-iid",[VR]:"fire-iid-compat",[PR]:"fire-fcm",[jR]:"fire-fcm-compat",[zR]:"fire-perf",[BR]:"fire-perf-compat",[HR]:"fire-rc",[FR]:"fire-rc-compat",[GR]:"fire-gcs",[qR]:"fire-gcs-compat",[YR]:"fire-fst",[QR]:"fire-fst-compat",[KR]:"fire-vertex","fire-js":"fire-js",[$R]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new Map,ZR=new Map,Gm=new Map;function l0(i,e){try{i.container.addComponent(e)}catch(n){br.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Ji(i){const e=i.name;if(Gm.has(e))return br.debug(`There were multiple attempts to register component ${e}.`),!1;Gm.set(e,i);for(const n of wh.values())l0(n,i);for(const n of ZR.values())l0(n,i);return!0}function ga(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function pi(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ds=new pa("app","Firebase",WR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ei("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ds.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=XR;function xT(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Fm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ds.create("bad-app-name",{appName:String(o)});if(n||(n=yT()),!n)throw ds.create("no-options");const c=wh.get(o);if(c){if(_s(n,c.options)&&_s(s,c.config))return c;throw ds.create("duplicate-app",{appName:o})}const h=new oR(o);for(const p of Gm.values())h.addComponent(p);const m=new eN(n,s,h);return wh.set(o,m),m}function vp(i=Fm){const e=wh.get(i);if(!e&&i===Fm&&yT())return xT();if(!e)throw ds.create("no-app",{appName:i});return e}function Jn(i,e,n){let s=JR[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),br.warn(h.join(" "));return}Ji(new Ei(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN="firebase-heartbeat-database",nN=1,lc="firebase-heartbeat-store";let Im=null;function RT(){return Im||(Im=IT(tN,nN,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(lc)}catch(n){console.warn(n)}}}}).catch(i=>{throw ds.create("idb-open",{originalErrorMessage:i.message})})),Im}async function iN(i){try{const n=(await RT()).transaction(lc),s=await n.objectStore(lc).get(NT(i));return await n.done,s}catch(e){if(e instanceof Ti)br.warn(e.message);else{const n=ds.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});br.warn(n.message)}}}async function c0(i,e){try{const s=(await RT()).transaction(lc,"readwrite");await s.objectStore(lc).put(e,NT(i)),await s.done}catch(n){if(n instanceof Ti)br.warn(n.message);else{const s=ds.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});br.warn(s.message)}}}function NT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=1024,sN=30;class aN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lN(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=u0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(h=>h.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>sN){const h=cN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){br.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=u0(),{heartbeatsToSend:s,unsentEntries:o}=oN(this._heartbeatsCache.heartbeats),c=Ah(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return br.warn(n),""}}}function u0(){return new Date().toISOString().substring(0,10)}function oN(i,e=rN){const n=[];let s=i.slice();for(const o of i){const c=n.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),h0(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),h0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class lN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TT()?AT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return c0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return c0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function h0(i){return Ah(JSON.stringify({version:2,heartbeats:i})).length}function cN(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(i){Ji(new Ei("platform-logger",e=>new TR(e),"PRIVATE")),Ji(new Ei("heartbeat",e=>new aN(e),"PRIVATE")),Jn(Hm,o0,i),Jn(Hm,o0,"esm2020"),Jn("fire-js","")}uN("");function CT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hN=CT,OT=new pa("auth","Firebase",CT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new $h("@firebase/auth");function fN(i,...e){Sh.logLevel<=Ue.WARN&&Sh.warn(`Auth (${Uo}): ${i}`,...e)}function dh(i,...e){Sh.logLevel<=Ue.ERROR&&Sh.error(`Auth (${Uo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(i,...e){throw bp(i,...e)}function Yi(i,...e){return bp(i,...e)}function DT(i,e,n){const s={...hN(),[e]:n};return new pa("auth","Firebase",s).create(e,{appName:i.name})}function ms(i){return DT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return OT.create(i,...e)}function ve(i,e,...n){if(!i)throw bp(e,...n)}function Er(i){const e="INTERNAL ASSERTION FAILED: "+i;throw dh(e),new Error(e)}function Tr(i,e){i||Er(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.href)||""}function dN(){return f0()==="http:"||f0()==="https:"}function f0(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dN()||bT()||"connection"in navigator)?navigator.onLine:!0}function pN(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n){this.shortDelay=e,this.longDelay=n,Tr(n>e,"Short delay should be less than long delay!"),this.isMobile=zx()||Fx()}get(){return mN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(i,e){Tr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_N=new Ec(3e4,6e4);function ya(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Ss(i,e,n,s,o={}){return kT(i,o,async()=>{let c={},h={};s&&(e==="GET"?h=s:c={body:JSON.stringify(s)});const m=_c({key:i.config.apiKey,...h}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:p,...c};return Hx()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&Lo(i.emulatorConfig.host)&&(y.credentials="include"),MT.fetch()(await LT(i,i.config.apiHost,n,m),y)})}async function kT(i,e,n){i._canInitEmulator=!1;const s={...gN,...e};try{const o=new vN(i),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw eh(i,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const m=c.ok?h.errorMessage:h.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw eh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw eh(i,"user-disabled",h);const b=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw DT(i,b,y);vi(i,b)}}catch(o){if(o instanceof Ti)throw o;vi(i,"network-request-failed",{message:String(o)})}}async function Xh(i,e,n,s,o={}){const c=await Ss(i,e,n,s,o);return"mfaPendingCredential"in c&&vi(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function LT(i,e,n,s){const o=`${e}${n}?${s}`,c=i,h=c.config.emulator?Tp(i.config,o):`${i.config.apiScheme}://${o}`;return yN.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function EN(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Yi(this.auth,"network-request-failed")),_N.get())})}}function eh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Yi(i,e,s);return o.customData._tokenResponse=n,o}function d0(i){return i!==void 0&&i.enterprise!==void 0}class bN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return EN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function TN(i,e){return Ss(i,"GET","/v2/recaptchaConfig",ya(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(i,e){return Ss(i,"POST","/v1/accounts:delete",e)}async function Ih(i,e){return Ss(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wN(i,e=!1){const n=wt(i),s=await n.getIdToken(e),o=Ap(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c==null?void 0:c.sign_in_provider;return{claims:o,token:s,authTime:nc(xm(o.auth_time)),issuedAtTime:nc(xm(o.iat)),expirationTime:nc(xm(o.exp)),signInProvider:h||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function xm(i){return Number(i)*1e3}function Ap(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return dh("JWT malformed, contained fewer than 3 sections"),null;try{const o=pT(n);return o?JSON.parse(o):(dh("Failed to decode base64 JWT payload"),null)}catch(o){return dh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function m0(i){const e=Ap(i);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ti&&SN(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function SN({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nc(this.lastLoginAt),this.creationTime=nc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xh(i){var A;const e=i.auth,n=await i.getIdToken(),s=await cc(i,Ih(e,{idToken:n}));ve(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const c=(A=o.providerUserInfo)!=null&&A.length?UT(o.providerUserInfo):[],h=RN(i.providerData,c),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!(h!=null&&h.length),y=m?p:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Ym(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(i,b)}async function xN(i){const e=wt(i);await xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RN(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function UT(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NN(i,e){const n=await kT(i,{},async()=>{const s=_c({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,h=await LT(i,o,"/v1/token",`key=${c}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Lo(i.emulatorConfig.host)&&(p.credentials="include"),MT.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function CN(i,e){return Ss(i,"POST","/v2/accounts:revokeToken",ya(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):m0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=m0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await NN(e,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,h=new _o;return s&&(ve(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(ve(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _o,this.toJSON())}_performRefresh(){return Er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(i,e){ve(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class gi{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new IN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ym(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await cc(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wN(this,e)}reload(){return xN(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new gi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await xh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pi(this.auth.app))return Promise.reject(ms(this.auth));const e=await this.getIdToken();return await cc(this,AN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:A,emailVerified:w,isAnonymous:O,providerData:P,stsTokenManager:Q}=n;ve(A&&Q,e,"internal-error");const F=_o.fromJSON(this.name,Q);ve(typeof A=="string",e,"internal-error"),ss(s,e.name),ss(o,e.name),ve(typeof w=="boolean",e,"internal-error"),ve(typeof O=="boolean",e,"internal-error"),ss(c,e.name),ss(h,e.name),ss(m,e.name),ss(p,e.name),ss(y,e.name),ss(b,e.name);const ie=new gi({uid:A,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:O,photoURL:h,phoneNumber:c,tenantId:m,stsTokenManager:F,createdAt:y,lastLoginAt:b});return P&&Array.isArray(P)&&(ie.providerData=P.map(ee=>({...ee}))),p&&(ie._redirectEventId=p),ie}static async _fromIdTokenResponse(e,n,s=!1){const o=new _o;o.updateFromServerResponse(n);const c=new gi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await xh(c),c}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?UT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),m=new _o;m.updateFromIdToken(s);const p=new gi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Ym(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=new Map;function vr(i){Tr(i instanceof Function,"Expected a class definition");let e=p0.get(i);return e?(Tr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,p0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}VT.type="NONE";const g0=VT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(i,e,n){return`firebase:${i}:${e}:${n}`}class Eo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=mh(this.userKey,o.apiKey,c),this.fullPersistenceKey=mh("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ih(this.auth,{idToken:e}).catch(()=>{});return n?gi._fromGetAccountInfoResponse(this.auth,n,e):null}return gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Eo(vr(g0),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||vr(g0);const h=mh(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const b=await y._get(h);if(b){let A;if(typeof b=="string"){const w=await Ih(e,{idToken:b}).catch(()=>{});if(!w)break;A=await gi._fromGetAccountInfoResponse(e,w,b)}else A=gi._fromJSON(e,b);y!==c&&(m=A),c=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Eo(c,e,s):(c=p[0],m&&await c._set(h,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(h)}catch{}})),new Eo(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FT(e))return"Blackberry";if(GT(e))return"Webos";if(jT(e))return"Safari";if((e.includes("chrome/")||zT(e))&&!e.includes("edge/"))return"Chrome";if(HT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function PT(i=sn()){return/firefox\//i.test(i)}function jT(i=sn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zT(i=sn()){return/crios\//i.test(i)}function BT(i=sn()){return/iemobile/i.test(i)}function HT(i=sn()){return/android/i.test(i)}function FT(i=sn()){return/blackberry/i.test(i)}function GT(i=sn()){return/webos/i.test(i)}function wp(i=sn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function ON(i=sn()){var e;return wp(i)&&!!((e=window.navigator)!=null&&e.standalone)}function DN(){return Gx()&&document.documentMode===10}function qT(i=sn()){return wp(i)||HT(i)||GT(i)||FT(i)||/windows phone/i.test(i)||BT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(i,e=[]){let n;switch(i){case"Browser":n=y0(sn());break;case"Worker":n=`${y0(sn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Uo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((h,m)=>{try{const p=e(c);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kN(i,e={}){return Ss(i,"GET","/v2/passwordPolicy",ya(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=6;class UN{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??LN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _0(this),this.idTokenSubscription=new _0(this),this.beforeStateQueue=new MN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vr(n)),this._initializationPromise=this.queue(async()=>{var s,o,c;if(!this._deleted&&(this.persistenceManager=await Eo.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ih(this,{idToken:e}),s=await gi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(pi(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(c=this.redirectUser)==null?void 0:c._redirectEventId,m=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(h){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pi(this.app))return Promise.reject(ms(this));const n=e?wt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pi(this.app)?Promise.reject(ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pi(this.app)?Promise.reject(ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kN(this),n=new UN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pa("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await CN(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vr(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await Eo.create(this,[vr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{h||c(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&fN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Vo(i){return wt(i)}class _0{constructor(e){this.auth=e,this.observer=null,this.addObserver=Jx(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PN(i){Jh=i}function KT(i){return Jh.loadJS(i)}function jN(){return Jh.recaptchaEnterpriseScript}function zN(){return Jh.gapiScript}function BN(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class HN{constructor(){this.enterprise=new FN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class FN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const GN="recaptcha-enterprise",QT="NO_RECAPTCHA";class qN{constructor(e){this.type=GN,this.auth=Vo(e)}async verify(e="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,m)=>{TN(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new bN(p);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,h(y.siteKey)}}).catch(p=>{m(p)})})}function o(c,h,m){const p=window.grecaptcha;d0(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(y=>{h(y)}).catch(()=>{h(QT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HN().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{s(this.auth).then(m=>{if(!n&&d0(window.grecaptcha))o(m,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=jN();p.length!==0&&(p+=m),KT(p).then(()=>{o(m,c,h)}).catch(y=>{h(y)})}}).catch(m=>{h(m)})})}}async function E0(i,e,n,s=!1,o=!1){const c=new qN(i);let h;if(o)h=QT;else try{h=await c.verify(n)}catch{h=await c.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function v0(i,e,n,s,o){var c;if((c=i._getRecaptchaConfig())!=null&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await E0(i,e,n,n==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await E0(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(i,e){const n=ga(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(_s(c,e??{}))return o;vi(o,"already-initialized")}return n.initialize({options:e})}function KN(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(vr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function QN(i,e,n){const s=Vo(i);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=$T(e),{host:h,port:m}=$N(e),p=m===null?"":`:${m}`,y={url:`${c}//${h}${p}/`},b=Object.freeze({host:h,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(_s(y,s.config.emulator)&&_s(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,Lo(h)?(ET(`${c}//${h}${p}`),vT("Auth",!0)):XN()}function $T(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function $N(i){const e=$T(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:b0(s.substr(c.length+1))}}else{const[c,h]=s.split(":");return{host:c,port:b0(h)}}}function b0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function XN(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Er("not implemented")}_getIdTokenResponse(e){return Er("not implemented")}_linkToIdToken(e,n){return Er("not implemented")}_getReauthenticationResolver(e){return Er("not implemented")}}async function JN(i,e){return Ss(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(i,e){return Xh(i,"POST","/v1/accounts:signInWithPassword",ya(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN(i,e){return Xh(i,"POST","/v1/accounts:signInWithEmailLink",ya(i,e))}async function eC(i,e){return Xh(i,"POST","/v1/accounts:signInWithEmailLink",ya(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends Sp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new uc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new uc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return v0(e,n,"signInWithPassword",ZN);case"emailLink":return WN(e,{email:this._email,oobCode:this._password});default:vi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return v0(e,s,"signUpPassword",JN);case"emailLink":return eC(e,{idToken:n,email:this._email,oobCode:this._password});default:vi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(i,e){return Xh(i,"POST","/v1/accounts:signInWithIdp",ya(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="http://localhost";class ua extends Sp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=n;if(!s||!o)return null;const h=new ua(s,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return vo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,vo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vo(e,n)}buildRequest(){const e={requestUri:tC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_c(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function iC(i){const e=Kl(Ql(i)).link,n=e?Kl(Ql(e)).deep_link_id:null,s=Kl(Ql(i)).deep_link_id;return(s?Kl(Ql(s)).link:null)||s||n||e||i}class Ip{constructor(e){const n=Kl(Ql(e)),s=n.apiKey??null,o=n.oobCode??null,c=nC(n.mode??null);ve(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=iC(e);try{return new Ip(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.providerId=Po.PROVIDER_ID}static credential(e,n){return uc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Ip.parseLink(n);return ve(s,"argument-error"),uc._fromEmailAndCode(e,s.code,s.tenantId)}}Po.PROVIDER_ID="password";Po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends XT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends vc{constructor(){super("facebook.com")}static credential(e){return ua._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.FACEBOOK_SIGN_IN_METHOD="facebook.com";os.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends vc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ua._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ls.credential(n,s)}catch{return null}}}ls.GOOGLE_SIGN_IN_METHOD="google.com";ls.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends vc{constructor(){super("github.com")}static credential(e){return ua._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.GITHUB_SIGN_IN_METHOD="github.com";cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends vc{constructor(){super("twitter.com")}static credential(e,n){return ua._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return us.credential(n,s)}catch{return null}}}us.TWITTER_SIGN_IN_METHOD="twitter.com";us.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const c=await gi._fromIdTokenResponse(e,s,o),h=T0(s);return new Io({user:c,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=T0(s);return new Io({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function T0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends Ti{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Rh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Rh(e,n,s,o)}}function JT(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Rh._fromErrorAndOperation(i,c,e,s):c})}async function rC(i,e,n=!1){const s=await cc(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Io._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC(i,e,n=!1){const{auth:s}=i;if(pi(s.app))return Promise.reject(ms(s));const o="reauthenticate";try{const c=await cc(i,JT(s,o,e,i),n);ve(c.idToken,s,"internal-error");const h=Ap(c.idToken);ve(h,s,"internal-error");const{sub:m}=h;return ve(i.uid===m,s,"user-mismatch"),Io._forOperation(i,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&vi(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZT(i,e,n=!1){if(pi(i.app))return Promise.reject(ms(i));const s="signIn",o=await JT(i,s,e),c=await Io._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(c.user),c}async function aC(i,e){return ZT(Vo(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oC(i){const e=Vo(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function lC(i,e,n){return pi(i.app)?Promise.reject(ms(i)):aC(wt(i),Po.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&oC(i),s})}function cC(i,e,n,s){return wt(i).onIdTokenChanged(e,n,s)}function uC(i,e,n){return wt(i).beforeAuthStateChanged(e,n)}function WT(i,e,n,s){return wt(i).onAuthStateChanged(e,n,s)}const Nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nh,"1"),this.storage.removeItem(Nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=1e3,fC=10;class tA extends eA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},c=this.storage.getItem(s);DN()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,fC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},hC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}tA.type="LOCAL";const dC=tA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA extends eA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}nA.type="SESSION";const iA=nA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Zh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:c}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async y=>y(n.origin,c)),p=await mC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((m,p)=>{const y=xp("",20);o.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(A){const w=A;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(w.data.response);break;default:clearTimeout(b),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(){return window}function gC(i){Ki().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function yC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _C(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)==null?void 0:i.controller)||null}function EC(){return rA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="firebaseLocalStorageDb",vC=1,Ch="firebaseLocalStorage",aA="fbase_key";class bc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wh(i,e){return i.transaction([Ch],e?"readwrite":"readonly").objectStore(Ch)}function bC(){const i=indexedDB.deleteDatabase(sA);return new bc(i).toPromise()}function Km(){const i=indexedDB.open(sA,vC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Ch,{keyPath:aA})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Ch)?e(s):(s.close(),await bC(),e(await Km()))})})}async function A0(i,e,n){const s=Wh(i,!0).put({[aA]:e,value:n});return new bc(s).toPromise()}async function TC(i,e){const n=Wh(i,!1).get(e),s=await new bc(n).toPromise();return s===void 0?null:s.value}function w0(i,e){const n=Wh(i,!0).delete(e);return new bc(n).toPromise()}const AC=800,wC=3;class oA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Km(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>wC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zh._getInstance(EC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await yC(),!this.activeServiceWorker)return;this.sender=new pC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_C()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Km();return await A0(e,Nh,"1"),await w0(e,Nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>A0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>TC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>w0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Wh(o,!1).getAll();return new bc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oA.type="LOCAL";const SC=oA;new Ec(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(i,e){return e?vr(e):(ve(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp extends Sp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function xC(i){return ZT(i.auth,new Rp(i),i.bypassAuthState)}function RC(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),sC(n,new Rp(i),i.bypassAuthState)}async function NC(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),rC(n,new Rp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,n,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xC;case"linkViaPopup":case"linkViaRedirect":return NC;case"reauthViaPopup":case"reauthViaRedirect":return RC;default:vi(this.auth,"internal-error")}}resolve(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=new Ec(2e3,1e4);class go extends lA{constructor(e,n,s,o,c){super(e,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,go.currentPopupAction&&go.currentPopupAction.cancel(),go.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Tr(this.filter.length===1,"Popup operations only handle one event");const e=xp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,go.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,CC.get())};e()}}go.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="pendingRedirect",ph=new Map;class DC extends lA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ph.get(this.auth._key());if(!e){try{const s=await MC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MC(i,e){const n=UC(e),s=LC(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function kC(i,e){ph.set(i._key(),e)}function LC(i){return vr(i._redirectPersistence)}function UC(i){return mh(OC,i.config.apiKey,i.name)}async function VC(i,e,n=!1){if(pi(i.app))return Promise.reject(ms(i));const s=Vo(i),o=IC(s,e),h=await new DC(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=600*1e3;class jC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!cA(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Yi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=PC&&this.cachedEventUids.clear(),this.cachedEventUids.has(S0(e))}saveEventToCache(e){this.cachedEventUids.add(S0(e)),this.lastProcessedEventTime=Date.now()}}function S0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function cA({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cA(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BC(i,e={}){return Ss(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FC=/^https?/;async function GC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await BC(i);for(const n of e)try{if(qC(n))return}catch{}vi(i,"unauthorized-domain")}function qC(i){const e=qm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!FC.test(n))return!1;if(HC.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=new Ec(3e4,6e4);function I0(){const i=Ki().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function KC(i){return new Promise((e,n)=>{var o,c,h;function s(){I0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{I0(),n(Yi(i,"network-request-failed"))},timeout:YC.get()})}if((c=(o=Ki().gapi)==null?void 0:o.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((h=Ki().gapi)!=null&&h.load)s();else{const m=BN("iframefcb");return Ki()[m]=()=>{gapi.load?s():n(Yi(i,"network-request-failed"))},KT(`${zN()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw gh=null,e})}let gh=null;function QC(i){return gh=gh||KC(i),gh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=new Ec(5e3,15e3),XC="__/auth/iframe",JC="emulator/auth/iframe",ZC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eO(i){const e=i.config;ve(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Tp(e,JC):`https://${i.config.authDomain}/${XC}`,s={apiKey:e.apiKey,appName:i.name,v:Uo},o=WC.get(i.config.apiHost);o&&(s.eid=o);const c=i._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${_c(s).slice(1)}`}async function tO(i){const e=await QC(i),n=Ki().gapi;return ve(n,i,"internal-error"),e.open({where:document.body,url:eO(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZC,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const h=Yi(i,"network-request-failed"),m=Ki().setTimeout(()=>{c(h)},$C.get());function p(){Ki().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iO=500,rO=600,sO="_blank",aO="http://localhost";class x0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oO(i,e,n,s=iO,o=rO){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...nO,width:s.toString(),height:o.toString(),top:c,left:h},y=sn().toLowerCase();n&&(m=zT(y)?sO:n),PT(y)&&(e=e||aO,p.scrollbars="yes");const b=Object.entries(p).reduce((w,[O,P])=>`${w}${O}=${P},`,"");if(ON(y)&&m!=="_self")return lO(e||"",m),new x0(null);const A=window.open(e||"",m,b);ve(A,i,"popup-blocked");try{A.focus()}catch{}return new x0(A)}function lO(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO="__/auth/handler",uO="emulator/auth/handler",hO=encodeURIComponent("fac");async function R0(i,e,n,s,o,c){ve(i.config.authDomain,i,"auth-domain-config-required"),ve(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Uo,eventId:o};if(e instanceof XT){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",Xx(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,A]of Object.entries({}))h[b]=A}if(e instanceof vc){const b=e.getScopes().filter(A=>A!=="");b.length>0&&(h.scopes=b.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const p=await i._getAppCheckToken(),y=p?`#${hO}=${encodeURIComponent(p)}`:"";return`${fO(i)}?${_c(m).slice(1)}${y}`}function fO({config:i}){return i.emulator?Tp(i,uO):`https://${i.authDomain}/${cO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="webStorageSupport";class dO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iA,this._completeRedirectFn=VC,this._overrideRedirectResult=kC}async _openPopup(e,n,s,o){var h;Tr((h=this.eventManagers[e._key()])==null?void 0:h.manager,"_initialize() not called before _openPopup()");const c=await R0(e,n,s,qm(),o);return oO(e,c,xp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const c=await R0(e,n,s,qm(),o);return gC(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Tr(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await tO(e),s=new jC(e);return n.register("authEvent",o=>(ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rm,{type:Rm},o=>{var h;const c=(h=o==null?void 0:o[0])==null?void 0:h[Rm];c!==void 0&&n(!!c),vi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=GC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qT()||jT()||wp()}}const mO=dO;var N0="@firebase/auth",C0="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yO(i){Ji(new Ei("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ve(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YT(i)},y=new VN(s,o,c,p);return KN(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ji(new Ei("auth-internal",e=>{const n=Vo(e.getProvider("auth").getImmediate());return(s=>new pO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jn(N0,C0,gO(i)),Jn(N0,C0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=300,EO=_T("authIdTokenMaxAge")||_O;let O0=null;const vO=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>EO)return;const o=n==null?void 0:n.token;O0!==o&&(O0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function bO(i=vp()){const e=ga(i,"auth");if(e.isInitialized())return e.getImmediate();const n=YN(i,{popupRedirectResolver:mO,persistence:[SC,dC,iA]}),s=_T("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const h=vO(c.toString());uC(n,h,()=>h(n.currentUser)),cC(n,m=>h(m))}}const o=gT("auth");return o&&QN(n,`http://${o}`),n}function TO(){var i;return((i=document.getElementsByTagName("head"))==null?void 0:i[0])??document}PN({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const c=Yi("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",TO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yO("Browser");var AO="firebase",wO="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jn(AO,wO,"app");const uA="@firebase/installations",Np="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=1e4,fA=`w:${Np}`,dA="FIS_v2",SO="https://firebaseinstallations.googleapis.com/v1",IO=3600*1e3,xO="installations",RO="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ha=new pa(xO,RO,NO);function mA(i){return i instanceof Ti&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA({projectId:i}){return`${SO}/projects/${i}/installations`}function gA(i){return{token:i.token,requestStatus:2,expiresIn:OO(i.expiresIn),creationTime:Date.now()}}async function yA(i,e){const s=(await e.json()).error;return ha.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function _A({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function CO(i,{refreshToken:e}){const n=_A(i);return n.append("Authorization",DO(e)),n}async function EA(i){const e=await i();return e.status>=500&&e.status<600?i():e}function OO(i){return Number(i.replace("s","000"))}function DO(i){return`${dA} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MO({appConfig:i,heartbeatServiceProvider:e},{fid:n}){const s=pA(i),o=_A(i),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const h={fid:n,authVersion:dA,appId:i.appId,sdkVersion:fA},m={method:"POST",headers:o,body:JSON.stringify(h)},p=await EA(()=>fetch(s,m));if(p.ok){const y=await p.json();return{fid:y.fid||n,registrationStatus:2,refreshToken:y.refreshToken,authToken:gA(y.authToken)}}else throw await yA("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=/^[cdef][\w-]{21}$/,Qm="";function UO(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=VO(i);return LO.test(n)?n:Qm}catch{return Qm}}function VO(i){return kO(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=new Map;function TA(i,e){const n=ef(i);AA(n,e),PO(n,e)}function AA(i,e){const n=bA.get(i);if(n)for(const s of n)s(e)}function PO(i,e){const n=jO();n&&n.postMessage({key:i,fid:e}),zO()}let aa=null;function jO(){return!aa&&"BroadcastChannel"in self&&(aa=new BroadcastChannel("[Firebase] FID Change"),aa.onmessage=i=>{AA(i.data.key,i.data.fid)}),aa}function zO(){bA.size===0&&aa&&(aa.close(),aa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO="firebase-installations-database",HO=1,fa="firebase-installations-store";let Nm=null;function Cp(){return Nm||(Nm=IT(BO,HO,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(fa)}}})),Nm}async function Oh(i,e){const n=ef(i),o=(await Cp()).transaction(fa,"readwrite"),c=o.objectStore(fa),h=await c.get(n);return await c.put(e,n),await o.done,(!h||h.fid!==e.fid)&&TA(i,e.fid),e}async function wA(i){const e=ef(i),s=(await Cp()).transaction(fa,"readwrite");await s.objectStore(fa).delete(e),await s.done}async function tf(i,e){const n=ef(i),o=(await Cp()).transaction(fa,"readwrite"),c=o.objectStore(fa),h=await c.get(n),m=e(h);return m===void 0?await c.delete(n):await c.put(m,n),await o.done,m&&(!h||h.fid!==m.fid)&&TA(i,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Op(i){let e;const n=await tf(i.appConfig,s=>{const o=FO(s),c=GO(i,o);return e=c.registrationPromise,c.installationEntry});return n.fid===Qm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function FO(i){const e=i||{fid:UO(),registrationStatus:0};return SA(e)}function GO(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ha.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=qO(i,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:YO(i)}:{installationEntry:e}}async function qO(i,e){try{const n=await MO(i,e);return Oh(i.appConfig,n)}catch(n){throw mA(n)&&n.customData.serverCode===409?await wA(i.appConfig):await Oh(i.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function YO(i){let e=await D0(i.appConfig);for(;e.registrationStatus===1;)await vA(100),e=await D0(i.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Op(i);return s||n}return e}function D0(i){return tf(i,e=>{if(!e)throw ha.create("installation-not-found");return SA(e)})}function SA(i){return KO(i)?{fid:i.fid,registrationStatus:0}:i}function KO(i){return i.registrationStatus===1&&i.registrationTime+hA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QO({appConfig:i,heartbeatServiceProvider:e},n){const s=$O(i,n),o=CO(i,n),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const h={installation:{sdkVersion:fA,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(h)},p=await EA(()=>fetch(s,m));if(p.ok){const y=await p.json();return gA(y)}else throw await yA("Generate Auth Token",p)}function $O(i,{fid:e}){return`${pA(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dp(i,e=!1){let n;const s=await tf(i.appConfig,c=>{if(!IA(c))throw ha.create("not-registered");const h=c.authToken;if(!e&&ZO(h))return c;if(h.requestStatus===1)return n=XO(i,e),c;{if(!navigator.onLine)throw ha.create("app-offline");const m=e2(c);return n=JO(i,m),m}});return n?await n:s.authToken}async function XO(i,e){let n=await M0(i.appConfig);for(;n.authToken.requestStatus===1;)await vA(100),n=await M0(i.appConfig);const s=n.authToken;return s.requestStatus===0?Dp(i,e):s}function M0(i){return tf(i,e=>{if(!IA(e))throw ha.create("not-registered");const n=e.authToken;return t2(n)?{...e,authToken:{requestStatus:0}}:e})}async function JO(i,e){try{const n=await QO(i,e),s={...e,authToken:n};return await Oh(i.appConfig,s),n}catch(n){if(mA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await wA(i.appConfig);else{const s={...e,authToken:{requestStatus:0}};await Oh(i.appConfig,s)}throw n}}function IA(i){return i!==void 0&&i.registrationStatus===2}function ZO(i){return i.requestStatus===2&&!WO(i)}function WO(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+IO}function e2(i){const e={requestStatus:1,requestTime:Date.now()};return{...i,authToken:e}}function t2(i){return i.requestStatus===1&&i.requestTime+hA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n2(i){const e=i,{installationEntry:n,registrationPromise:s}=await Op(e);return s?s.catch(console.error):Dp(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i2(i,e=!1){const n=i;return await r2(n),(await Dp(n,e)).token}async function r2(i){const{registrationPromise:e}=await Op(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(i){if(!i||!i.options)throw Cm("App Configuration");if(!i.name)throw Cm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!i.options[n])throw Cm(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Cm(i){return ha.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA="installations",a2="installations-internal",o2=i=>{const e=i.getProvider("app").getImmediate(),n=s2(e),s=ga(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},l2=i=>{const e=i.getProvider("app").getImmediate(),n=ga(e,xA).getImmediate();return{getId:()=>n2(n),getToken:o=>i2(n,o)}};function c2(){Ji(new Ei(xA,o2,"PUBLIC")),Ji(new Ei(a2,l2,"PRIVATE"))}c2();Jn(uA,Np);Jn(uA,Np,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh="analytics",u2="firebase_id",h2="origin",f2=60*1e3,d2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Mp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn=new $h("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Dn=new pa("analytics","Analytics",m2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(i){if(!i.startsWith(Mp)){const e=Dn.create("invalid-gtag-resource",{gtagURL:i});return cn.warn(e.message),""}return i}function RA(i){return Promise.all(i.map(e=>e.catch(n=>n)))}function g2(i,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,e)),n}function y2(i,e){const n=g2("firebase-js-sdk-policy",{createScriptURL:p2}),s=document.createElement("script"),o=`${Mp}?l=${i}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function _2(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function E2(i,e,n,s,o,c){const h=s[o];try{if(h)await e[h];else{const p=(await RA(n)).find(y=>y.measurementId===o);p&&await e[p.appId]}}catch(m){cn.error(m)}i("config",o,c)}async function v2(i,e,n,s,o){try{let c=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const m=await RA(n);for(const p of h){const y=m.find(A=>A.measurementId===p),b=y&&e[y.appId];if(b)c.push(b);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),i("event",s,o||{})}catch(c){cn.error(c)}}function b2(i,e,n,s){async function o(c,...h){try{if(c==="event"){const[m,p]=h;await v2(i,e,n,m,p)}else if(c==="config"){const[m,p]=h;await E2(i,e,n,s,m,p)}else if(c==="consent"){const[m,p]=h;i("consent",m,p)}else if(c==="get"){const[m,p,y]=h;i("get",m,p,y)}else if(c==="set"){const[m]=h;i("set",m)}else i(c,...h)}catch(m){cn.error(m)}}return o}function T2(i,e,n,s,o){let c=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=b2(c,i,e,n),{gtagCore:c,wrappedGtag:window[o]}}function A2(i){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Mp)&&n.src.includes(i))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=30,S2=1e3;class I2{constructor(e={},n=S2){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const NA=new I2;function x2(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function R2(i){var h;const{appId:e,apiKey:n}=i,s={method:"GET",headers:x2(n)},o=d2.replace("{app-id}",e),c=await fetch(o,s);if(c.status!==200&&c.status!==304){let m="";try{const p=await c.json();(h=p.error)!=null&&h.message&&(m=p.error.message)}catch{}throw Dn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:m})}return c.json()}async function N2(i,e=NA,n){const{appId:s,apiKey:o,measurementId:c}=i.options;if(!s)throw Dn.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:s};throw Dn.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new D2;return setTimeout(async()=>{m.abort()},f2),CA({appId:s,apiKey:o,measurementId:c},h,m,e)}async function CA(i,{throttleEndTimeMillis:e,backoffCount:n},s,o=NA){var m;const{appId:c,measurementId:h}=i;try{await C2(s,e)}catch(p){if(h)return cn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:c,measurementId:h};throw p}try{const p=await R2(i);return o.deleteThrottleMetadata(c),p}catch(p){const y=p;if(!O2(y)){if(o.deleteThrottleMetadata(c),h)return cn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:c,measurementId:h};throw p}const b=Number((m=y==null?void 0:y.customData)==null?void 0:m.httpStatus)===503?i0(n,o.intervalMillis,w2):i0(n,o.intervalMillis),A={throttleEndTimeMillis:Date.now()+b,backoffCount:n+1};return o.setThrottleMetadata(c,A),cn.debug(`Calling attemptFetch again in ${b} millis`),CA(i,A,s,o)}}function C2(i,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),c=setTimeout(n,o);i.addEventListener(()=>{clearTimeout(c),s(Dn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function O2(i){if(!(i instanceof Ti)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class D2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function M2(i,e,n,s,o){if(o&&o.global){i("event",n,s);return}else{const c=await e,h={...s,send_to:c};i("event",n,h)}}async function k2(i,e,n,s){if(s&&s.global){const o={};for(const c of Object.keys(n))o[`user_properties.${c}`]=n[c];return i("set",o),Promise.resolve()}else{const o=await e;i("config",o,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L2(){if(TT())try{await AT()}catch(i){return cn.warn(Dn.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return cn.warn(Dn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function U2(i,e,n,s,o,c,h){const m=N2(i);m.then(w=>{n[w.measurementId]=w.appId,i.options.measurementId&&w.measurementId!==i.options.measurementId&&cn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>cn.error(w)),e.push(m);const p=L2().then(w=>{if(w)return s.getId()}),[y,b]=await Promise.all([m,p]);A2(c)||y2(c,y.measurementId),o("js",new Date);const A=(h==null?void 0:h.config)??{};return A[h2]="firebase",A.update=!0,b!=null&&(A[u2]=b),o("config",y.measurementId,A),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e){this.app=e}_delete(){return delete bo[this.app.options.appId],Promise.resolve()}}let bo={},k0=[];const L0={};let Om="dataLayer",P2="gtag",U0,kp,V0=!1;function j2(){const i=[];if(bT()&&i.push("This is a browser extension environment."),Yx()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=Dn.create("invalid-analytics-context",{errorInfo:e});cn.warn(n.message)}}function z2(i,e,n){j2();const s=i.options.appId;if(!s)throw Dn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)cn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Dn.create("no-api-key");if(bo[s]!=null)throw Dn.create("already-exists",{id:s});if(!V0){_2(Om);const{wrappedGtag:c,gtagCore:h}=T2(bo,k0,L0,Om,P2);kp=c,U0=h,V0=!0}return bo[s]=U2(i,k0,L0,e,U0,Om,n),new V2(i)}function B2(i=vp()){i=wt(i);const e=ga(i,Dh);return e.isInitialized()?e.getImmediate():H2(i)}function H2(i,e={}){const n=ga(i,Dh);if(n.isInitialized()){const o=n.getImmediate();if(_s(e,n.getOptions()))return o;throw Dn.create("already-initialized")}return n.initialize({options:e})}function F2(i,e,n){i=wt(i),k2(kp,bo[i.app.options.appId],e,n).catch(s=>cn.error(s))}function G2(i,e,n,s){i=wt(i),M2(kp,bo[i.app.options.appId],e,n,s).catch(o=>cn.error(o))}const P0="@firebase/analytics",j0="0.10.19";function q2(){Ji(new Ei(Dh,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return z2(s,o,n)},"PUBLIC")),Ji(new Ei("analytics-internal",i,"PRIVATE")),Jn(P0,j0),Jn(P0,j0,"esm2020");function i(e){try{const n=e.getProvider(Dh).getImmediate();return{logEvent:(s,o,c)=>G2(n,s,o,c),setUserProperties:(s,o)=>F2(n,s,o)}}catch(n){throw Dn.create("interop-component-reg-failed",{reason:n})}}}q2();var z0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ps,OA;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,I){function x(){}x.prototype=I.prototype,R.F=I.prototype,R.prototype=new x,R.prototype.constructor=R,R.D=function(L,D,U){for(var N=Array(arguments.length-2),He=2;He<arguments.length;He++)N[He-2]=arguments[He];return I.prototype[D].apply(L,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,I,x){x||(x=0);const L=Array(16);if(typeof I=="string")for(var D=0;D<16;++D)L[D]=I.charCodeAt(x++)|I.charCodeAt(x++)<<8|I.charCodeAt(x++)<<16|I.charCodeAt(x++)<<24;else for(D=0;D<16;++D)L[D]=I[x++]|I[x++]<<8|I[x++]<<16|I[x++]<<24;I=R.g[0],x=R.g[1],D=R.g[2];let U=R.g[3],N;N=I+(U^x&(D^U))+L[0]+3614090360&4294967295,I=x+(N<<7&4294967295|N>>>25),N=U+(D^I&(x^D))+L[1]+3905402710&4294967295,U=I+(N<<12&4294967295|N>>>20),N=D+(x^U&(I^x))+L[2]+606105819&4294967295,D=U+(N<<17&4294967295|N>>>15),N=x+(I^D&(U^I))+L[3]+3250441966&4294967295,x=D+(N<<22&4294967295|N>>>10),N=I+(U^x&(D^U))+L[4]+4118548399&4294967295,I=x+(N<<7&4294967295|N>>>25),N=U+(D^I&(x^D))+L[5]+1200080426&4294967295,U=I+(N<<12&4294967295|N>>>20),N=D+(x^U&(I^x))+L[6]+2821735955&4294967295,D=U+(N<<17&4294967295|N>>>15),N=x+(I^D&(U^I))+L[7]+4249261313&4294967295,x=D+(N<<22&4294967295|N>>>10),N=I+(U^x&(D^U))+L[8]+1770035416&4294967295,I=x+(N<<7&4294967295|N>>>25),N=U+(D^I&(x^D))+L[9]+2336552879&4294967295,U=I+(N<<12&4294967295|N>>>20),N=D+(x^U&(I^x))+L[10]+4294925233&4294967295,D=U+(N<<17&4294967295|N>>>15),N=x+(I^D&(U^I))+L[11]+2304563134&4294967295,x=D+(N<<22&4294967295|N>>>10),N=I+(U^x&(D^U))+L[12]+1804603682&4294967295,I=x+(N<<7&4294967295|N>>>25),N=U+(D^I&(x^D))+L[13]+4254626195&4294967295,U=I+(N<<12&4294967295|N>>>20),N=D+(x^U&(I^x))+L[14]+2792965006&4294967295,D=U+(N<<17&4294967295|N>>>15),N=x+(I^D&(U^I))+L[15]+1236535329&4294967295,x=D+(N<<22&4294967295|N>>>10),N=I+(D^U&(x^D))+L[1]+4129170786&4294967295,I=x+(N<<5&4294967295|N>>>27),N=U+(x^D&(I^x))+L[6]+3225465664&4294967295,U=I+(N<<9&4294967295|N>>>23),N=D+(I^x&(U^I))+L[11]+643717713&4294967295,D=U+(N<<14&4294967295|N>>>18),N=x+(U^I&(D^U))+L[0]+3921069994&4294967295,x=D+(N<<20&4294967295|N>>>12),N=I+(D^U&(x^D))+L[5]+3593408605&4294967295,I=x+(N<<5&4294967295|N>>>27),N=U+(x^D&(I^x))+L[10]+38016083&4294967295,U=I+(N<<9&4294967295|N>>>23),N=D+(I^x&(U^I))+L[15]+3634488961&4294967295,D=U+(N<<14&4294967295|N>>>18),N=x+(U^I&(D^U))+L[4]+3889429448&4294967295,x=D+(N<<20&4294967295|N>>>12),N=I+(D^U&(x^D))+L[9]+568446438&4294967295,I=x+(N<<5&4294967295|N>>>27),N=U+(x^D&(I^x))+L[14]+3275163606&4294967295,U=I+(N<<9&4294967295|N>>>23),N=D+(I^x&(U^I))+L[3]+4107603335&4294967295,D=U+(N<<14&4294967295|N>>>18),N=x+(U^I&(D^U))+L[8]+1163531501&4294967295,x=D+(N<<20&4294967295|N>>>12),N=I+(D^U&(x^D))+L[13]+2850285829&4294967295,I=x+(N<<5&4294967295|N>>>27),N=U+(x^D&(I^x))+L[2]+4243563512&4294967295,U=I+(N<<9&4294967295|N>>>23),N=D+(I^x&(U^I))+L[7]+1735328473&4294967295,D=U+(N<<14&4294967295|N>>>18),N=x+(U^I&(D^U))+L[12]+2368359562&4294967295,x=D+(N<<20&4294967295|N>>>12),N=I+(x^D^U)+L[5]+4294588738&4294967295,I=x+(N<<4&4294967295|N>>>28),N=U+(I^x^D)+L[8]+2272392833&4294967295,U=I+(N<<11&4294967295|N>>>21),N=D+(U^I^x)+L[11]+1839030562&4294967295,D=U+(N<<16&4294967295|N>>>16),N=x+(D^U^I)+L[14]+4259657740&4294967295,x=D+(N<<23&4294967295|N>>>9),N=I+(x^D^U)+L[1]+2763975236&4294967295,I=x+(N<<4&4294967295|N>>>28),N=U+(I^x^D)+L[4]+1272893353&4294967295,U=I+(N<<11&4294967295|N>>>21),N=D+(U^I^x)+L[7]+4139469664&4294967295,D=U+(N<<16&4294967295|N>>>16),N=x+(D^U^I)+L[10]+3200236656&4294967295,x=D+(N<<23&4294967295|N>>>9),N=I+(x^D^U)+L[13]+681279174&4294967295,I=x+(N<<4&4294967295|N>>>28),N=U+(I^x^D)+L[0]+3936430074&4294967295,U=I+(N<<11&4294967295|N>>>21),N=D+(U^I^x)+L[3]+3572445317&4294967295,D=U+(N<<16&4294967295|N>>>16),N=x+(D^U^I)+L[6]+76029189&4294967295,x=D+(N<<23&4294967295|N>>>9),N=I+(x^D^U)+L[9]+3654602809&4294967295,I=x+(N<<4&4294967295|N>>>28),N=U+(I^x^D)+L[12]+3873151461&4294967295,U=I+(N<<11&4294967295|N>>>21),N=D+(U^I^x)+L[15]+530742520&4294967295,D=U+(N<<16&4294967295|N>>>16),N=x+(D^U^I)+L[2]+3299628645&4294967295,x=D+(N<<23&4294967295|N>>>9),N=I+(D^(x|~U))+L[0]+4096336452&4294967295,I=x+(N<<6&4294967295|N>>>26),N=U+(x^(I|~D))+L[7]+1126891415&4294967295,U=I+(N<<10&4294967295|N>>>22),N=D+(I^(U|~x))+L[14]+2878612391&4294967295,D=U+(N<<15&4294967295|N>>>17),N=x+(U^(D|~I))+L[5]+4237533241&4294967295,x=D+(N<<21&4294967295|N>>>11),N=I+(D^(x|~U))+L[12]+1700485571&4294967295,I=x+(N<<6&4294967295|N>>>26),N=U+(x^(I|~D))+L[3]+2399980690&4294967295,U=I+(N<<10&4294967295|N>>>22),N=D+(I^(U|~x))+L[10]+4293915773&4294967295,D=U+(N<<15&4294967295|N>>>17),N=x+(U^(D|~I))+L[1]+2240044497&4294967295,x=D+(N<<21&4294967295|N>>>11),N=I+(D^(x|~U))+L[8]+1873313359&4294967295,I=x+(N<<6&4294967295|N>>>26),N=U+(x^(I|~D))+L[15]+4264355552&4294967295,U=I+(N<<10&4294967295|N>>>22),N=D+(I^(U|~x))+L[6]+2734768916&4294967295,D=U+(N<<15&4294967295|N>>>17),N=x+(U^(D|~I))+L[13]+1309151649&4294967295,x=D+(N<<21&4294967295|N>>>11),N=I+(D^(x|~U))+L[4]+4149444226&4294967295,I=x+(N<<6&4294967295|N>>>26),N=U+(x^(I|~D))+L[11]+3174756917&4294967295,U=I+(N<<10&4294967295|N>>>22),N=D+(I^(U|~x))+L[2]+718787259&4294967295,D=U+(N<<15&4294967295|N>>>17),N=x+(U^(D|~I))+L[9]+3951481745&4294967295,R.g[0]=R.g[0]+I&4294967295,R.g[1]=R.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+U&4294967295}s.prototype.v=function(R,I){I===void 0&&(I=R.length);const x=I-this.blockSize,L=this.C;let D=this.h,U=0;for(;U<I;){if(D==0)for(;U<=x;)o(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<I;)if(L[D++]=R.charCodeAt(U++),D==this.blockSize){o(this,L),D=0;break}}else for(;U<I;)if(L[D++]=R[U++],D==this.blockSize){o(this,L),D=0;break}}this.h=D,this.o+=I},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var I=1;I<R.length-8;++I)R[I]=0;I=this.o*8;for(var x=R.length-8;x<R.length;++x)R[x]=I&255,I/=256;for(this.v(R),R=Array(16),I=0,x=0;x<4;++x)for(let L=0;L<32;L+=8)R[I++]=this.g[x]>>>L&255;return R};function c(R,I){var x=m;return Object.prototype.hasOwnProperty.call(x,R)?x[R]:x[R]=I(R)}function h(R,I){this.h=I;const x=[];let L=!0;for(let D=R.length-1;D>=0;D--){const U=R[D]|0;L&&U==I||(x[D]=U,L=!1)}this.g=x}var m={};function p(R){return-128<=R&&R<128?c(R,function(I){return new h([I|0],I<0?-1:0)}):new h([R|0],R<0?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return A;if(R<0)return F(y(-R));const I=[];let x=1;for(let L=0;R>=x;L++)I[L]=R/x|0,x*=4294967296;return new h(I,0)}function b(R,I){if(R.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(R.charAt(0)=="-")return F(b(R.substring(1),I));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=y(Math.pow(I,8));let L=A;for(let U=0;U<R.length;U+=8){var D=Math.min(8,R.length-U);const N=parseInt(R.substring(U,U+D),I);D<8?(D=y(Math.pow(I,D)),L=L.j(D).add(y(N))):(L=L.j(x),L=L.add(y(N)))}return L}var A=p(0),w=p(1),O=p(16777216);i=h.prototype,i.m=function(){if(Q(this))return-F(this).m();let R=0,I=1;for(let x=0;x<this.g.length;x++){const L=this.i(x);R+=(L>=0?L:4294967296+L)*I,I*=4294967296}return R},i.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(P(this))return"0";if(Q(this))return"-"+F(this).toString(R);const I=y(Math.pow(R,6));var x=this;let L="";for(;;){const D=le(x,I).g;x=ie(x,D.j(I));let U=((x.g.length>0?x.g[0]:x.h)>>>0).toString(R);if(x=D,P(x))return U+L;for(;U.length<6;)U="0"+U;L=U+L}},i.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function P(R){if(R.h!=0)return!1;for(let I=0;I<R.g.length;I++)if(R.g[I]!=0)return!1;return!0}function Q(R){return R.h==-1}i.l=function(R){return R=ie(this,R),Q(R)?-1:P(R)?0:1};function F(R){const I=R.g.length,x=[];for(let L=0;L<I;L++)x[L]=~R.g[L];return new h(x,~R.h).add(w)}i.abs=function(){return Q(this)?F(this):this},i.add=function(R){const I=Math.max(this.g.length,R.g.length),x=[];let L=0;for(let D=0;D<=I;D++){let U=L+(this.i(D)&65535)+(R.i(D)&65535),N=(U>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);L=N>>>16,U&=65535,N&=65535,x[D]=N<<16|U}return new h(x,x[x.length-1]&-2147483648?-1:0)};function ie(R,I){return R.add(F(I))}i.j=function(R){if(P(this)||P(R))return A;if(Q(this))return Q(R)?F(this).j(F(R)):F(F(this).j(R));if(Q(R))return F(this.j(F(R)));if(this.l(O)<0&&R.l(O)<0)return y(this.m()*R.m());const I=this.g.length+R.g.length,x=[];for(var L=0;L<2*I;L++)x[L]=0;for(L=0;L<this.g.length;L++)for(let D=0;D<R.g.length;D++){const U=this.i(L)>>>16,N=this.i(L)&65535,He=R.i(D)>>>16,ut=R.i(D)&65535;x[2*L+2*D]+=N*ut,ee(x,2*L+2*D),x[2*L+2*D+1]+=U*ut,ee(x,2*L+2*D+1),x[2*L+2*D+1]+=N*He,ee(x,2*L+2*D+1),x[2*L+2*D+2]+=U*He,ee(x,2*L+2*D+2)}for(R=0;R<I;R++)x[R]=x[2*R+1]<<16|x[2*R];for(R=I;R<2*I;R++)x[R]=0;return new h(x,0)};function ee(R,I){for(;(R[I]&65535)!=R[I];)R[I+1]+=R[I]>>>16,R[I]&=65535,I++}function $(R,I){this.g=R,this.h=I}function le(R,I){if(P(I))throw Error("division by zero");if(P(R))return new $(A,A);if(Q(R))return I=le(F(R),I),new $(F(I.g),F(I.h));if(Q(I))return I=le(R,F(I)),new $(F(I.g),I.h);if(R.g.length>30){if(Q(R)||Q(I))throw Error("slowDivide_ only works with positive integers.");for(var x=w,L=I;L.l(R)<=0;)x=ne(x),L=ne(L);var D=_e(x,1),U=_e(L,1);for(L=_e(L,2),x=_e(x,2);!P(L);){var N=U.add(L);N.l(R)<=0&&(D=D.add(x),U=N),L=_e(L,1),x=_e(x,1)}return I=ie(R,D.j(I)),new $(D,I)}for(D=A;R.l(I)>=0;){for(x=Math.max(1,Math.floor(R.m()/I.m())),L=Math.ceil(Math.log(x)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),U=y(x),N=U.j(I);Q(N)||N.l(R)>0;)x-=L,U=y(x),N=U.j(I);P(U)&&(U=w),D=D.add(U),R=ie(R,N)}return new $(D,R)}i.B=function(R){return le(this,R).h},i.and=function(R){const I=Math.max(this.g.length,R.g.length),x=[];for(let L=0;L<I;L++)x[L]=this.i(L)&R.i(L);return new h(x,this.h&R.h)},i.or=function(R){const I=Math.max(this.g.length,R.g.length),x=[];for(let L=0;L<I;L++)x[L]=this.i(L)|R.i(L);return new h(x,this.h|R.h)},i.xor=function(R){const I=Math.max(this.g.length,R.g.length),x=[];for(let L=0;L<I;L++)x[L]=this.i(L)^R.i(L);return new h(x,this.h^R.h)};function ne(R){const I=R.g.length+1,x=[];for(let L=0;L<I;L++)x[L]=R.i(L)<<1|R.i(L-1)>>>31;return new h(x,R.h)}function _e(R,I){const x=I>>5;I%=32;const L=R.g.length-x,D=[];for(let U=0;U<L;U++)D[U]=I>0?R.i(U+x)>>>I|R.i(U+x+1)<<32-I:R.i(U+x);return new h(D,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,OA=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=b,ps=h}).apply(typeof z0<"u"?z0:typeof self<"u"?self:typeof window<"u"?window:{});var th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DA,$l,MA,yh,$m,kA,LA,UA;(function(){var i,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof th=="object"&&th];for(var g=0;g<u.length;++g){var v=u[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(u,g){if(g)e:{var v=s;u=u.split(".");for(var S=0;S<u.length-1;S++){var j=u[S];if(!(j in v))break e;v=v[j]}u=u[u.length-1],S=v[u],g=g(S),g!=S&&g!=null&&e(v,u,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(g){var v=[],S;for(S in g)Object.prototype.hasOwnProperty.call(g,S)&&v.push([S,g[S]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function m(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function p(u,g,v){return u.call.apply(u.bind,arguments)}function y(u,g,v){return y=p,y.apply(null,arguments)}function b(u,g){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function A(u,g){function v(){}v.prototype=g.prototype,u.Z=g.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(S,j,q){for(var re=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)re[xe-2]=arguments[xe];return g.prototype[j].apply(S,re)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function O(u){const g=u.length;if(g>0){const v=Array(g);for(let S=0;S<g;S++)v[S]=u[S];return v}return[]}function P(u,g){for(let S=1;S<arguments.length;S++){const j=arguments[S];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=u.length||0;const q=j.length||0;u.length=v+q;for(let re=0;re<q;re++)u[v+re]=j[re]}else u.push(j)}}class Q{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function F(u){h.setTimeout(()=>{throw u},0)}function ie(){var u=R;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class ee{constructor(){this.h=this.g=null}add(g,v){const S=$.get();S.set(g,v),this.h?this.h.next=S:this.g=S,this.h=S}}var $=new Q(()=>new le,u=>u.reset());class le{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,_e=!1,R=new ee,I=()=>{const u=Promise.resolve(void 0);ne=()=>{u.then(x)}};function x(){for(var u;u=ie();){try{u.h.call(u.g)}catch(v){F(v)}var g=$;g.j(u),g.h<100&&(g.h++,u.next=g.g,g.g=u)}_e=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};h.addEventListener("test",v,g),h.removeEventListener("test",v,g)}catch{}return u})();function N(u){return/^[\s\xa0]*$/.test(u)}function He(u,g){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,g)}A(He,D),He.prototype.init=function(u,g){const v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget,g||(v=="mouseover"?g=u.fromElement:v=="mouseout"&&(g=u.toElement)),this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&He.Z.h.call(this)},He.prototype.h=function(){He.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ut="closure_listenable_"+(Math.random()*1e6|0),H=0;function se(u,g,v,S,j){this.listener=u,this.proxy=null,this.src=g,this.type=v,this.capture=!!S,this.ha=j,this.key=++H,this.da=this.fa=!1}function pe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ce(u,g,v){for(const S in u)g.call(v,u[S],S,u)}function Be(u,g){for(const v in u)g.call(void 0,u[v],v,u)}function k(u){const g={};for(const v in u)g[v]=u[v];return g}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(u,g){let v,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(v in S)u[v]=S[v];for(let q=0;q<J.length;q++)v=J[q],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function ue(u){this.src=u,this.g={},this.h=0}ue.prototype.add=function(u,g,v,S,j){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const re=Ae(u,g,S,j);return re>-1?(g=u[re],v||(g.fa=!1)):(g=new se(g,this.src,q,!!S,j),g.fa=v,u.push(g)),g};function Te(u,g){const v=g.type;if(v in u.g){var S=u.g[v],j=Array.prototype.indexOf.call(S,g,void 0),q;(q=j>=0)&&Array.prototype.splice.call(S,j,1),q&&(pe(g),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ae(u,g,v,S){for(let j=0;j<u.length;++j){const q=u[j];if(!q.da&&q.listener==g&&q.capture==!!v&&q.ha==S)return j}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),ht={};function it(u,g,v,S,j){if(Array.isArray(g)){for(let q=0;q<g.length;q++)it(u,g[q],v,S,j);return null}return v=Sr(v),u&&u[ut]?u.J(g,v,m(S)?!!S.capture:!1,j):Wn(u,g,v,!1,S,j)}function Wn(u,g,v,S,j,q){if(!g)throw Error("Invalid event type");const re=m(j)?!!j.capture:!!j;let xe=ei(u);if(xe||(u[Me]=xe=new ue(u)),v=xe.add(g,v,S,re,q),v.proxy)return v;if(S=Mn(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)U||(j=re),j===void 0&&(j=!1),u.addEventListener(g.toString(),S,j);else if(u.attachEvent)u.attachEvent(kn(g.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Mn(){function u(v){return g.call(u.src,u.listener,v)}const g=Rs;return u}function Ai(u,g,v,S,j){if(Array.isArray(g))for(var q=0;q<g.length;q++)Ai(u,g[q],v,S,j);else S=m(S)?!!S.capture:!!S,v=Sr(v),u&&u[ut]?(u=u.i,q=String(g).toString(),q in u.g&&(g=u.g[q],v=Ae(g,v,S,j),v>-1&&(pe(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete u.g[q],u.h--)))):u&&(u=ei(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Ae(g,v,S,j)),(v=u>-1?g[u]:null)&&vn(v))}function vn(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[ut])Te(g.i,u);else{var v=u.type,S=u.proxy;g.removeEventListener?g.removeEventListener(v,S,u.capture):g.detachEvent?g.detachEvent(kn(v),S):g.addListener&&g.removeListener&&g.removeListener(S),(v=ei(g))?(Te(v,u),v.h==0&&(v.src=null,g[Me]=null)):pe(u)}}}function kn(u){return u in ht?ht[u]:ht[u]="on"+u}function Rs(u,g){if(u.da)u=!0;else{g=new He(g,this);const v=u.listener,S=u.ha||u.src;u.fa&&vn(u),u=v.call(S,g)}return u}function ei(u){return u=u[Me],u instanceof ue?u:null}var Ln="__closure_events_fn_"+(Math.random()*1e9>>>0);function Sr(u){return typeof u=="function"?u:(u[Ln]||(u[Ln]=function(g){return u.handleEvent(g)}),u[Ln])}function ft(){L.call(this),this.i=new ue(this),this.M=this,this.G=null}A(ft,L),ft.prototype[ut]=!0,ft.prototype.removeEventListener=function(u,g,v,S){Ai(this,u,g,v,S)};function yt(u,g){var v,S=u.G;if(S)for(v=[];S;S=S.G)v.push(S);if(u=u.M,S=g.type||g,typeof g=="string")g=new D(g,u);else if(g instanceof D)g.target=g.target||u;else{var j=g;g=new D(S,u),oe(g,j)}j=!0;let q,re;if(v)for(re=v.length-1;re>=0;re--)q=g.g=v[re],j=ti(q,S,!0,g)&&j;if(q=g.g=u,j=ti(q,S,!0,g)&&j,j=ti(q,S,!1,g)&&j,v)for(re=0;re<v.length;re++)q=g.g=v[re],j=ti(q,S,!1,g)&&j}ft.prototype.N=function(){if(ft.Z.N.call(this),this.i){var u=this.i;for(const g in u.g){const v=u.g[g];for(let S=0;S<v.length;S++)pe(v[S]);delete u.g[g],u.h--}}this.G=null},ft.prototype.J=function(u,g,v,S){return this.i.add(String(u),g,!1,v,S)},ft.prototype.K=function(u,g,v,S){return this.i.add(String(u),g,!0,v,S)};function ti(u,g,v,S){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();let j=!0;for(let q=0;q<g.length;++q){const re=g[q];if(re&&!re.da&&re.capture==v){const xe=re.listener,vt=re.ha||re.src;re.fa&&Te(u.i,re),j=xe.call(vt,S)!==!1&&j}}return j&&!S.defaultPrevented}function ba(u,g){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:h.setTimeout(u,g||0)}function Ns(u){u.g=ba(()=>{u.g=null,u.i&&(u.i=!1,Ns(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Ft extends L{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Ns(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ni(u){L.call(this),this.h=u,this.g={}}A(ni,L);var Ir=[];function xr(u){Ce(u.g,function(g,v){this.g.hasOwnProperty(v)&&vn(g)},u),u.g={}}ni.prototype.N=function(){ni.Z.N.call(this),xr(this)},ni.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ae=h.JSON.stringify,_t=h.JSON.parse,Un=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Ta(){}function Rc(){}var ii={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gt(){D.call(this,"d")}A(Gt,D);function Vn(){D.call(this,"c")}A(Vn,D);var Et={},Nc=null;function Aa(){return Nc=Nc||new ft}Et.Ia="serverreachability";function Cc(u){D.call(this,Et.Ia,u)}A(Cc,D);function wi(u){const g=Aa();yt(g,new Cc(g))}Et.STAT_EVENT="statevent";function Cs(u,g){D.call(this,Et.STAT_EVENT,u),this.stat=g}A(Cs,D);function St(u){const g=Aa();yt(g,new Cs(g,u))}Et.Ja="timingevent";function Si(u,g){D.call(this,Et.Ja,u),this.size=g}A(Si,D);function Ii(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},g)}function ri(){this.g=!0}ri.prototype.ua=function(){this.g=!1};function vf(u,g,v,S,j,q){u.info(function(){if(u.g)if(q){var re="",xe=q.split("&");for(let qe=0;qe<xe.length;qe++){var vt=xe[qe].split("=");if(vt.length>1){const lt=vt[0];vt=vt[1];const Bn=lt.split("_");re=Bn.length>=2&&Bn[1]=="type"?re+(lt+"="+vt+"&"):re+(lt+"=redacted&")}}}else re=null;else re=q;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+g+`
`+v+`
`+re})}function Oc(u,g,v,S,j,q,re){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+g+`
`+v+`
`+q+" "+re})}function xi(u,g,v,S){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+bf(u,v)+(S?" "+S:"")})}function Os(u,g){u.info(function(){return"TIMEOUT: "+g})}ri.prototype.info=function(){};function bf(u,g){if(!u.g)return g;if(!g)return null;try{const q=JSON.parse(g);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var j=S[0];if(j!="noop"&&j!="stop"&&j!="close")for(let re=1;re<S.length;re++)S[re]=""}}}}return ae(q)}catch{return g}}var Ds={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Go={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},qo;function Ms(){}A(Ms,Ta),Ms.prototype.g=function(){return new XMLHttpRequest},qo=new Ms;function Wi(u){return encodeURIComponent(String(u))}function Dc(u){var g=1;u=u.split(":");const v=[];for(;g>0&&u.length;)v.push(u.shift()),g--;return u.length&&v.push(u.join(":")),v}function si(u,g,v,S){this.j=u,this.i=g,this.l=v,this.S=S||1,this.V=new ni(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ai}function ai(){this.i=null,this.g="",this.h=!1}var It={},jt={};function Ri(u,g,v){u.M=1,u.A=ks(Rt(g)),u.u=v,u.R=!0,wa(u,null)}function wa(u,g){u.F=Date.now(),Ni(u),u.B=Rt(u.A);var v=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),Ra(v.i,"t",S),u.C=0,v=u.j.L,u.h=new ai,u.g=Kc(u.j,v?g:null,!u.u),u.P>0&&(u.O=new Ft(y(u.Y,u,u.g),u.P)),g=u.V,v=u.g,S=u.ba;var j="readystatechange";Array.isArray(j)||(j&&(Ir[0]=j.toString()),j=Ir);for(let q=0;q<j.length;q++){const re=it(v,j[q],S||g.handleEvent,!1,g.h||g);if(!re)break;g.g[re.key]=re}g=u.J?k(u.J):{},u.u?(u.v||(u.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,g)):(u.v="GET",u.g.ea(u.B,u.v,null,g)),wi(),vf(u.i,u.v,u.B,u.l,u.S,u.u)}si.prototype.ba=function(u){u=u.target;const g=this.O;g&&ci(u)==3?g.j():this.Y(u)},si.prototype.Y=function(u){try{if(u==this.g)e:{const xe=ci(this.g),vt=this.g.ya(),qe=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||qt(this.g)))){this.K||xe!=4||vt==7||(vt==8||qe<=0?wi(3):wi(2)),Ci(this);var g=this.g.ca();this.X=g;var v=Tf(this);if(this.o=g==200,Oc(this.i,this.v,this.B,this.l,this.S,xe,g),this.o){if(this.U&&!this.L){t:{if(this.g){var S,j=this.g;if((S=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(S)){var q=S;break t}}q=null}if(u=q)xi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Oi(this,u);else{this.o=!1,this.m=3,St(12),bn(this),Pn(this);break e}}if(this.R){u=!0;let lt;for(;!this.K&&this.C<v.length;)if(lt=kc(this,v),lt==jt){xe==4&&(this.m=4,St(14),u=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==It){this.m=4,St(15),xi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else xi(this.i,this.l,lt,null),Oi(this,lt);if(Mc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||v.length!=0||this.h.h||(this.m=1,St(16),u=!1),this.o=this.o&&u,!u)xi(this.i,this.l,v,"[Invalid Chunked Response]"),bn(this),Pn(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),al(re),re.P=!0,St(11))}}else xi(this.i,this.l,v,null),Oi(this,v);xe==4&&bn(this),this.o&&!this.K&&(xe==4?Fc(this.j,this):(this.o=!1,Ni(this)))}else tr(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),bn(this),Pn(this)}}}catch{}finally{}};function Tf(u){if(!Mc(u))return u.g.la();const g=qt(u.g);if(g==="")return"";let v="";const S=g.length,j=ci(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return bn(u),Pn(u),"";u.h.i=new h.TextDecoder}for(let q=0;q<S;q++)u.h.h=!0,v+=u.h.i.decode(g[q],{stream:!(j&&q==S-1)});return g.length=0,u.h.g+=v,u.C=0,u.h.g}function Mc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function kc(u,g){var v=u.C,S=g.indexOf(`
`,v);return S==-1?jt:(v=Number(g.substring(v,S)),isNaN(v)?It:(S+=1,S+v>g.length?jt:(g=g.slice(S,S+v),u.C=S+v,g)))}si.prototype.cancel=function(){this.K=!0,bn(this)};function Ni(u){u.T=Date.now()+u.H,Sa(u,u.H)}function Sa(u,g){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Ii(y(u.aa,u),g)}function Ci(u){u.D&&(h.clearTimeout(u.D),u.D=null)}si.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Os(this.i,this.B),this.M!=2&&(wi(),St(17)),bn(this),this.m=2,Pn(this)):Sa(this,this.T-u)};function Pn(u){u.j.I==0||u.K||Fc(u.j,u)}function bn(u){Ci(u);var g=u.O;g&&typeof g.dispose=="function"&&g.dispose(),u.O=null,xr(u.V),u.g&&(g=u.g,u.g=null,g.abort(),g.dispose())}function Oi(u,g){try{var v=u.j;if(v.I!=0&&(v.g==u||Mi(v.h,u))){if(!u.L&&Mi(v.h,u)&&v.I==3){try{var S=v.Ba.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ma(v),Lr(v);else break e;Bs(v),St(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Ii(y(v.Va,v),6e3));Di(v.h)<=1&&v.ta&&(v.ta=void 0)}else ji(v,11)}else if((u.L||v.g==u)&&Ma(v),!N(g))for(j=v.Ba.g.parse(g),g=0;g<j.length;g++){let qe=j[g];const lt=qe[0];if(!(lt<=v.K))if(v.K=lt,qe=qe[1],v.I==2)if(qe[0]=="c"){v.M=qe[1],v.ba=qe[2];const Bn=qe[3];Bn!=null&&(v.ka=Bn,v.j.info("VER="+v.ka));const zi=qe[4];zi!=null&&(v.za=zi,v.j.info("SVER="+v.za));const ui=qe[5];ui!=null&&typeof ui=="number"&&ui>0&&(S=1.5*ui,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const hi=u.g;if(hi){const Hs=hi.g?hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hs){var q=S.h;q.g||Hs.indexOf("spdy")==-1&&Hs.indexOf("quic")==-1&&Hs.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Qo(q,q.h),q.h=null))}if(S.G){const ka=hi.g?hi.g.getResponseHeader("X-HTTP-Session-Id"):null;ka&&(S.wa=ka,Qe(S.J,S.G,ka))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var re=u;if(S.na=Yc(S,S.L?S.ba:null,S.W),re.L){$o(S.h,re);var xe=re,vt=S.O;vt&&(xe.H=vt),xe.D&&(Ci(xe),Ni(xe)),S.g=re}else Bc(S);v.i.length>0&&Pi(v)}else qe[0]!="stop"&&qe[0]!="close"||ji(v,7);else v.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?ji(v,7):rl(v):qe[0]!="noop"&&v.l&&v.l.qa(qe),v.A=0)}}wi(4)}catch{}}var xt=class{constructor(u,g){this.g=u,this.map=g}};function Yo(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ko(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Di(u){return u.h?1:u.g?u.g.size:0}function Mi(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Qo(u,g){u.g?u.g.add(g):u.h=g}function $o(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Yo.prototype.cancel=function(){if(this.i=Xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Xo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const v of u.g.values())g=g.concat(v.G);return g}return O(u.i)}var Lc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ia(u,g){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const S=u[v].indexOf("=");let j,q=null;S>=0?(j=u[v].substring(0,S),q=u[v].substring(S+1)):j=u[v],g(j,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Tn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;u instanceof Tn?(this.l=u.l,zt(this,u.j),this.o=u.o,this.g=u.g,Rr(this,u.u),this.h=u.h,Jo(this,jc(u.i)),this.m=u.m):u&&(g=String(u).match(Lc))?(this.l=!1,zt(this,g[1]||"",!0),this.o=ki(g[2]||""),this.g=ki(g[3]||"",!0),Rr(this,g[4]),this.h=ki(g[5]||"",!0),Jo(this,g[6]||"",!0),this.m=ki(g[7]||"")):(this.l=!1,this.i=new Cr(null,this.l))}Tn.prototype.toString=function(){const u=[];var g=this.j;g&&u.push(Ls(g,xa,!0),":");var v=this.g;return(v||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Ls(g,xa,!0),"@"),u.push(Wi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ls(v,v.charAt(0)=="/"?Zo:Uc,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ls(v,Vc)),u.join("")},Tn.prototype.resolve=function(u){const g=Rt(this);let v=!!u.j;v?zt(g,u.j):v=!!u.o,v?g.o=u.o:v=!!u.g,v?g.g=u.g:v=u.u!=null;var S=u.h;if(v)Rr(g,u.u);else if(v=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var j=g.h.lastIndexOf("/");j!=-1&&(S=g.h.slice(0,j+1)+S)}if(j=S,j==".."||j==".")S="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){S=j.lastIndexOf("/",0)==0,j=j.split("/");const q=[];for(let re=0;re<j.length;){const xe=j[re++];xe=="."?S&&re==j.length&&q.push(""):xe==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),S&&re==j.length&&q.push("")):(q.push(xe),S=!0)}S=q.join("/")}else S=j}return v?g.h=S:v=u.i.toString()!=="",v?Jo(g,jc(u.i)):v=!!u.m,v&&(g.m=u.m),g};function Rt(u){return new Tn(u)}function zt(u,g,v){u.j=v?ki(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Rr(u,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);u.u=g}else u.u=null}function Jo(u,g,v){g instanceof Cr?(u.i=g,Na(u.i,u.l)):(v||(g=Ls(g,Nr)),u.i=new Cr(g,u.l))}function Qe(u,g,v){u.i.set(g,v)}function ks(u){return Qe(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ki(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ls(u,g,v){return typeof u=="string"?(u=encodeURI(u).replace(g,hn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function hn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var xa=/[#\/\?@]/g,Uc=/[#\?:]/g,Zo=/[#\?]/g,Nr=/[#\?@]/g,Vc=/#/g;function Cr(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function fn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ia(u.i,function(g,v){u.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}i=Cr.prototype,i.add=function(u,g){fn(this),this.i=null,u=Or(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(g),this.h+=1,this};function Pc(u,g){fn(u),g=Or(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Wo(u,g){return fn(u),g=Or(u,g),u.g.has(g)}i.forEach=function(u,g){fn(this),this.g.forEach(function(v,S){v.forEach(function(j){u.call(g,j,S,this)},this)},this)};function el(u,g){fn(u);let v=[];if(typeof g=="string")Wo(u,g)&&(v=v.concat(u.g.get(Or(u,g))));else for(u=Array.from(u.g.values()),g=0;g<u.length;g++)v=v.concat(u[g]);return v}i.set=function(u,g){return fn(this),this.i=null,u=Or(this,u),Wo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},i.get=function(u,g){return u?(u=el(this,u),u.length>0?String(u[0]):g):g};function Ra(u,g,v){Pc(u,g),v.length>0&&(u.i=null,u.g.set(Or(u,g),O(v)),u.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(let S=0;S<g.length;S++){var v=g[S];const j=Wi(v);v=el(this,v);for(let q=0;q<v.length;q++){let re=j;v[q]!==""&&(re+="="+Wi(v[q])),u.push(re)}}return this.i=u.join("&")};function jc(u){const g=new Cr;return g.i=u.i,u.g&&(g.g=new Map(u.g),g.h=u.h),g}function Or(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function Na(u,g){g&&!u.j&&(fn(u),u.i=null,u.g.forEach(function(v,S){const j=S.toLowerCase();S!=j&&(Pc(this,S),Ra(this,j,v))},u)),u.j=g}function oi(u,g){const v=new ri;if(h.Image){const S=new Image;S.onload=b(jn,v,"TestLoadImage: loaded",!0,g,S),S.onerror=b(jn,v,"TestLoadImage: error",!1,g,S),S.onabort=b(jn,v,"TestLoadImage: abort",!1,g,S),S.ontimeout=b(jn,v,"TestLoadImage: timeout",!1,g,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else g(!1)}function tl(u,g){const v=new ri,S=new AbortController,j=setTimeout(()=>{S.abort(),jn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:S.signal}).then(q=>{clearTimeout(j),q.ok?jn(v,"TestPingServer: ok",!0,g):jn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),jn(v,"TestPingServer: error",!1,g)})}function jn(u,g,v,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(v)}catch{}}function Dr(){this.g=new Un}function Li(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Li,Ta),Li.prototype.g=function(){return new Us(this.i,this.h)};function Us(u,g){ft.call(this),this.H=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Us,ft),i=Us.prototype,i.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=g,this.readyState=1,li(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(g.body=u),(this.H||h).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Mr(this)),this.readyState=0},i.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ca(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ca(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}i.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Mr(this):li(this),this.readyState==3&&Ca(this)}},i.Oa=function(u){this.g&&(this.response=this.responseText=u,Mr(this))},i.Na=function(u){this.g&&(this.response=u,Mr(this))},i.ga=function(){this.g&&Mr(this)};function Mr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,li(u)}i.setRequestHeader=function(u,g){this.A.append(u,g)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=g.next();return u.join(`\r
`)};function li(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function zn(u){let g="";return Ce(u,function(v,S){g+=S,g+=":",g+=v,g+=`\r
`}),g}function Vs(u,g,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=zn(v),typeof u=="string"?v!=null&&Wi(v):Qe(u,g,v))}function Je(u){ft.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Je,ft);var Ui=/^https?$/i,nl=["POST","PUT"];i=Je.prototype,i.Fa=function(u){this.H=u},i.ea=function(u,g,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():qo.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(q){Ps(this,q);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)v.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())v.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),j=h.FormData&&u instanceof h.FormData,!(Array.prototype.indexOf.call(nl,g,void 0)>=0)||S||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,re]of v)this.g.setRequestHeader(q,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Ps(this,q)}};function Ps(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.o=5,il(u),er(u)}function il(u){u.A||(u.A=!0,yt(u,"complete"),yt(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,yt(this,"complete"),yt(this,"abort"),er(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),er(this,!0)),Je.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?js(this):this.Xa())},i.Xa=function(){js(this)};function js(u){if(u.h&&typeof c<"u"){if(u.v&&ci(u)==4)setTimeout(u.Ca.bind(u),0);else if(yt(u,"readystatechange"),ci(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var S;if(S=q===0){let re=String(u.D).match(Lc)[1]||null;!re&&h.self&&h.self.location&&(re=h.self.location.protocol.slice(0,-1)),S=!Ui.test(re?re.toLowerCase():"")}v=S}if(v)yt(u,"complete"),yt(u,"success");else{u.o=6;try{var j=ci(u)>2?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.ca()+"]",il(u)}}finally{er(u)}}}}function er(u,g){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,g||yt(u,"ready");try{v.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ci(u){return u.g?u.g.readyState:0}i.ca=function(){try{return ci(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),_t(g)}};function qt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function tr(u){const g={};u=(u.g&&ci(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(N(u[S]))continue;var v=Dc(u[S]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=g[j]||[];g[j]=q,q.push(v)}Be(g,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vi(u,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||g}function kr(u){this.za=0,this.i=[],this.j=new ri,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vi("baseRetryDelayMs",5e3,u),this.Za=Vi("retryDelaySeedMs",1e4,u),this.Ta=Vi("forwardChannelMaxRetries",2,u),this.va=Vi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Yo(u&&u.concurrentRequestLimit),this.Ba=new Dr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=kr.prototype,i.ka=8,i.I=1,i.connect=function(u,g,v,S){St(0),this.W=u,this.H=g||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Yc(this,null,this.W),Pi(this)};function rl(u){if(Oa(u),u.I==3){var g=u.V++,v=Rt(u.J);if(Qe(v,"SID",u.M),Qe(v,"RID",g),Qe(v,"TYPE","terminate"),zs(u,v),g=new si(u,u.j,g),g.M=2,g.A=ks(Rt(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=g.A,v=!0),v||(g.g=Kc(g.j,null),g.g.ea(g.A)),g.F=Date.now(),Ni(g)}qc(u)}function Lr(u){u.g&&(al(u),u.g.cancel(),u.g=null)}function Oa(u){Lr(u),u.v&&(h.clearTimeout(u.v),u.v=null),Ma(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&h.clearTimeout(u.m),u.m=null)}function Pi(u){if(!Ko(u.h)&&!u.m){u.m=!0;var g=u.Ea;ne||I(),_e||(ne(),_e=!0),R.add(g,u),u.D=0}}function Da(u,g){return Di(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=g.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Ii(y(u.Ea,u,g),Gc(u,u.D)),u.D++,!0)}i.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const j=new si(this,this.j,u);let q=this.o;if(this.U&&(q?(q=k(q),oe(q,this.U)):q=this.U),this.u!==null||this.R||(j.J=q,q=null),this.S)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,g>4096){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=zc(this,j,g),v=Rt(this.J),Qe(v,"RID",u),Qe(v,"CVER",22),this.G&&Qe(v,"X-HTTP-Session-Id",this.G),zs(this,v),q&&(this.R?g="headers="+Wi(zn(q))+"&"+g:this.u&&Vs(v,this.u,q)),Qo(this.h,j),this.Ra&&Qe(v,"TYPE","init"),this.S?(Qe(v,"$req",g),Qe(v,"SID","null"),j.U=!0,Ri(j,v,null)):Ri(j,v,g),this.I=2}}else this.I==3&&(u?sl(this,u):this.i.length==0||Ko(this.h)||sl(this))};function sl(u,g){var v;g?v=g.l:v=u.V++;const S=Rt(u.J);Qe(S,"SID",u.M),Qe(S,"RID",v),Qe(S,"AID",u.K),zs(u,S),u.u&&u.o&&Vs(S,u.u,u.o),v=new si(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),g&&(u.i=g.G.concat(u.i)),g=zc(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Qo(u.h,v),Ri(v,S,g)}function zs(u,g){u.H&&Ce(u.H,function(v,S){Qe(g,S,v)}),u.l&&Ce({},function(v,S){Qe(g,S,v)})}function zc(u,g,v){v=Math.min(u.i.length,v);const S=u.l?y(u.l.Ka,u.l,u):null;e:{var j=u.i;let xe=-1;for(;;){const vt=["count="+v];xe==-1?v>0?(xe=j[0].g,vt.push("ofs="+xe)):xe=0:vt.push("ofs="+xe);let qe=!0;for(let lt=0;lt<v;lt++){var q=j[lt].g;const Bn=j[lt].map;if(q-=xe,q<0)xe=Math.max(0,j[lt].g-100),qe=!1;else try{q="req"+q+"_"||"";try{var re=Bn instanceof Map?Bn:Object.entries(Bn);for(const[zi,ui]of re){let hi=ui;m(ui)&&(hi=ae(ui)),vt.push(q+zi+"="+encodeURIComponent(hi))}}catch(zi){throw vt.push(q+"type="+encodeURIComponent("_badmap")),zi}}catch{S&&S(Bn)}}if(qe){re=vt.join("&");break e}}re=void 0}return u=u.i.splice(0,v),g.G=u,re}function Bc(u){if(!u.g&&!u.v){u.Y=1;var g=u.Da;ne||I(),_e||(ne(),_e=!0),R.add(g,u),u.A=0}}function Bs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Ii(y(u.Da,u),Gc(u,u.A)),u.A++,!0)}i.Da=function(){if(this.v=null,Hc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Ii(y(this.Wa,this),u)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),Lr(this),Hc(this))};function al(u){u.B!=null&&(h.clearTimeout(u.B),u.B=null)}function Hc(u){u.g=new si(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var g=Rt(u.na);Qe(g,"RID","rpc"),Qe(g,"SID",u.M),Qe(g,"AID",u.K),Qe(g,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qe(g,"TO",u.ia),Qe(g,"TYPE","xmlhttp"),zs(u,g),u.u&&u.o&&Vs(g,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=ks(Rt(g)),v.u=null,v.R=!0,wa(v,u)}i.Va=function(){this.C!=null&&(this.C=null,Lr(this),Bs(this),St(19))};function Ma(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function Fc(u,g){var v=null;if(u.g==g){Ma(u),al(u),u.g=null;var S=2}else if(Mi(u.h,g))v=g.G,$o(u.h,g),S=1;else return;if(u.I!=0){if(g.o)if(S==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var j=u.D;S=Aa(),yt(S,new Si(S,v)),Pi(u)}else Bc(u);else if(j=g.m,j==3||j==0&&g.X>0||!(S==1&&Da(u,g)||S==2&&Bs(u)))switch(v&&v.length>0&&(g=u.h,g.i=g.i.concat(v)),j){case 1:ji(u,5);break;case 4:ji(u,10);break;case 3:ji(u,6);break;default:ji(u,2)}}}function Gc(u,g){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*g}function ji(u,g){if(u.j.info("Error code "+g),g==2){var v=y(u.bb,u),S=u.Ua;const j=!S;S=new Tn(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||zt(S,"https"),ks(S),j?oi(S.toString(),v):tl(S.toString(),v)}else St(2);u.I=0,u.l&&u.l.pa(g),qc(u),Oa(u)}i.bb=function(u){u?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function qc(u){if(u.I=0,u.ja=[],u.l){const g=Xo(u.h);(g.length!=0||u.i.length!=0)&&(P(u.ja,g),P(u.ja,u.i),u.h.i.length=0,O(u.i),u.i.length=0),u.l.oa()}}function Yc(u,g,v){var S=v instanceof Tn?Rt(v):new Tn(v);if(S.g!="")g&&(S.g=g+"."+S.g),Rr(S,S.u);else{var j=h.location;S=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;const q=new Tn(null);S&&zt(q,S),g&&(q.g=g),j&&Rr(q,j),v&&(q.h=v),S=q}return v=u.G,g=u.wa,v&&g&&Qe(S,v,g),Qe(S,"VER",u.ka),zs(u,S),S}function Kc(u,g,v){if(g&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Aa&&!u.ma?new Je(new Li({ab:v})):new Je(u.ma),g.Fa(u.L),g}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qc(){}i=Qc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Ur(){}Ur.prototype.g=function(u,g){return new an(u,g)};function an(u,g){ft.call(this),this.g=new kr(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(u?u["X-WebChannel-Client-Profile"]=g.sa:u={"X-WebChannel-Client-Profile":g.sa}),this.g.U=u,(u=g&&g.Qb)&&!N(u)&&(this.g.u=u),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!N(g)&&(this.g.G=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new nr(this)}A(an,ft),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){rl(this.g)},an.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ae(u),u=v);g.i.push(new xt(g.Ya++,u)),g.I==3&&Pi(g)},an.prototype.N=function(){this.g.l=null,delete this.j,rl(this.g),delete this.g,an.Z.N.call(this)};function $c(u){Gt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const v in g){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}A($c,Gt);function Xc(){Vn.call(this),this.status=1}A(Xc,Vn);function nr(u){this.g=u}A(nr,Qc),nr.prototype.ra=function(){yt(this.g,"a")},nr.prototype.qa=function(u){yt(this.g,new $c(u))},nr.prototype.pa=function(u){yt(this.g,new Xc)},nr.prototype.oa=function(){yt(this.g,"b")},Ur.prototype.createWebChannel=Ur.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,UA=function(){return new Ur},LA=function(){return Aa()},kA=Et,$m={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ds.NO_ERROR=0,Ds.TIMEOUT=8,Ds.HTTP_ERROR=6,yh=Ds,Go.COMPLETE="complete",MA=Go,Rc.EventType=ii,ii.OPEN="a",ii.CLOSE="b",ii.ERROR="c",ii.MESSAGE="d",ft.prototype.listen=ft.prototype.J,$l=Rc,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,DA=Je}).apply(typeof th<"u"?th:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jo="12.8.0";function Y2(i){jo=i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=new $h("@firebase/firestore");function uo(){return da.logLevel}function fe(i,...e){if(da.logLevel<=Ue.DEBUG){const n=e.map(Lp);da.debug(`Firestore (${jo}): ${i}`,...n)}}function Ar(i,...e){if(da.logLevel<=Ue.ERROR){const n=e.map(Lp);da.error(`Firestore (${jo}): ${i}`,...n)}}function xo(i,...e){if(da.logLevel<=Ue.WARN){const n=e.map(Lp);da.warn(`Firestore (${jo}): ${i}`,...n)}}function Lp(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,VA(i,s,n)}function VA(i,e,n){let s=`FIRESTORE (${jo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ar(s),new Error(s)}function Ke(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||VA(e,o,s)}function Ie(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ti{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class K2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(nn.UNAUTHENTICATED)))}shutdown(){}}class Q2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class $2{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new la;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new la,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new la)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new PA(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class X2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class J2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new X2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class B0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Z2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const s=c=>{c.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,fe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new B0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new B0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=W2(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=e.charAt(o[c]%62))}return s}}function Ve(i,e){return i<e?-1:i>e?1:0}function Xm(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),c=e.charAt(s);if(o!==c)return Dm(o)===Dm(c)?Ve(o,c):Dm(o)?1:-1}return Ve(i.length,e.length)}const eD=55296,tD=57343;function Dm(i){const e=i.charCodeAt(0);return e>=eD&&e<=tD}function Ro(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="__name__";class qi{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&be(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return qi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const c=qi.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Ve(e.length,n.length)}static compareSegments(e,n){const s=qi.isNumericId(e),o=qi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?qi.extractNumericId(e).compare(qi.extractNumericId(n)):Xm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ps.fromString(e.substring(4,e.length-2))}}class rt extends qi{construct(e,n,s){return new rt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const nD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends qi{construct(e,n,s){return new Jt(e,n,s)}static isValidIdentifier(e){return nD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===H0}static keyField(){return new Jt([H0])}static fromServerFormat(e){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new he(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(c(),o++)}if(c(),h)throw new he(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(rt.fromString(e))}static fromName(e){return new ye(rt.fromString(e).popFirst(5))}static empty(){return new ye(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(i,e,n){if(!n)throw new he(W.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function iD(i,e,n,s){if(e===!0&&s===!0)throw new he(W.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function F0(i){if(!ye.isDocumentKey(i))throw new he(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function G0(i){if(ye.isDocumentKey(i))throw new he(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function zA(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function nf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":be(12329,{type:typeof i})}function gs(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nf(i);throw new he(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Tc(i,e){if(!zA(i))throw new he(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&h!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new he(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=-62135596800,Y0=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Y0);return new ot(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<q0)throw new he(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Y0}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tc(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-q0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Lt("string",ot._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new ot(0,0))}static max(){return new we(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=-1;function rD(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new ot(n+1,0):new ot(n,s));return new Es(o,ye.empty(),e)}function sD(i){return new Es(i.readTime,i.key,hc)}class Es{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Es(we.min(),ye.empty(),hc)}static max(){return new Es(we.max(),ye.empty(),hc)}}function aD(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(i.documentKey,e.documentKey),n!==0?n:Ve(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(i){if(i.code!==W.FAILED_PRECONDITION||i.message!==oD)throw i;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,s)=>{n(e)}))}static reject(e){return new te(((n,s)=>{s(e)}))}static waitFor(e){return new te(((n,s)=>{let o=0,c=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++c,h&&c===o&&n()}),(p=>s(p)))})),h=!0,c===o&&n()}))}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next((o=>o?te.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,c)=>{s.push(n.call(this,o,c))})),this.waitFor(s)}static mapArray(e,n){return new te(((s,o)=>{const c=e.length,h=new Array(c);let m=0;for(let p=0;p<c;p++){const y=p;n(e[y]).next((b=>{h[y]=b,++m,m===c&&s(h)}),(b=>o(b)))}}))}static doWhile(e,n){return new te(((s,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):s()};c()}))}}function cD(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Bo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}rf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp=-1;function sf(i){return i==null}function Mh(i){return i===0&&1/i==-1/0}function uD(i){return typeof i=="number"&&Number.isInteger(i)&&!Mh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="";function hD(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=K0(e)),e=fD(i.get(n),e);return K0(e)}function fD(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const c=i.charAt(o);switch(c){case"\0":n+="";break;case BA:n+="";break;default:n+=c}}return n}function K0(i){return i+BA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Is(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function HA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){this.comparator=e,this.root=n||Xt.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nh(this.root,e,this.comparator,!0)}}class nh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,n,s,o,c){this.key=e,this.value=n,this.color=s??Xt.RED,this.left=o??Xt.EMPTY,this.right=c??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,c){return new Xt(e??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Xt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,s,o,c){return this}insert(e,n,s){return new Xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $0(this.data.getIterator())}getIteratorFrom(e){return new $0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class $0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new On([])}unionWith(e){let n=new Pt(Jt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new On(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ro(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new FA("Invalid base64 string: "+c):c}})(e);return new Zt(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c})(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const dD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vs(i){if(Ke(!!i,39018),typeof i=="string"){let e=0;const n=dD.exec(i);if(Ke(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:At(i.seconds),nanos:At(i.nanos)}}function At(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function bs(i){return typeof i=="string"?Zt.fromBase64String(i):Zt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="server_timestamp",qA="__type__",YA="__previous_value__",KA="__local_write_time__";function Pp(i){var n,s;return((s=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[qA])==null?void 0:s.stringValue)===GA}function af(i){const e=i.mapValue.fields[YA];return Pp(e)?af(e):e}function fc(i){const e=vs(i.mapValue.fields[KA].timestampValue);return new ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,n,s,o,c,h,m,p,y,b,A){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=b,this.apiKey=A}}const kh="(default)";class dc{constructor(e,n){this.projectId=e,this.database=n||kh}static empty(){return new dc("","")}get isDefaultDatabase(){return this.database===kh}isEqual(e){return e instanceof dc&&e.projectId===this.projectId&&e.database===this.database}}function pD(i,e){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new he(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dc(i.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="__type__",gD="__max__",ih={mapValue:{}},$A="__vector__",Lh="value";function Ts(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Pp(i)?4:_D(i)?9007199254740991:yD(i)?10:11:be(28295,{value:i})}function Zi(i,e){if(i===e)return!0;const n=Ts(i);if(n!==Ts(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return fc(i).isEqual(fc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=vs(o.timestampValue),m=vs(c.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,c){return bs(o.bytesValue).isEqual(bs(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,c){return At(o.geoPointValue.latitude)===At(c.geoPointValue.latitude)&&At(o.geoPointValue.longitude)===At(c.geoPointValue.longitude)})(i,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return At(o.integerValue)===At(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=At(o.doubleValue),m=At(c.doubleValue);return h===m?Mh(h)===Mh(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return Ro(i.arrayValue.values||[],e.arrayValue.values||[],Zi);case 10:case 11:return(function(o,c){const h=o.mapValue.fields||{},m=c.mapValue.fields||{};if(Q0(h)!==Q0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Zi(h[p],m[p])))return!1;return!0})(i,e);default:return be(52216,{left:i})}}function mc(i,e){return(i.values||[]).find((n=>Zi(n,e)))!==void 0}function No(i,e){if(i===e)return 0;const n=Ts(i),s=Ts(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(i.booleanValue,e.booleanValue);case 2:return(function(c,h){const m=At(c.integerValue||c.doubleValue),p=At(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return X0(i.timestampValue,e.timestampValue);case 4:return X0(fc(i),fc(e));case 5:return Xm(i.stringValue,e.stringValue);case 6:return(function(c,h){const m=bs(c),p=bs(h);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(c,h){const m=c.split("/"),p=h.split("/");for(let y=0;y<m.length&&y<p.length;y++){const b=Ve(m[y],p[y]);if(b!==0)return b}return Ve(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,h){const m=Ve(At(c.latitude),At(h.latitude));return m!==0?m:Ve(At(c.longitude),At(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return J0(i.arrayValue,e.arrayValue);case 10:return(function(c,h){var w,O,P,Q;const m=c.fields||{},p=h.fields||{},y=(w=m[Lh])==null?void 0:w.arrayValue,b=(O=p[Lh])==null?void 0:O.arrayValue,A=Ve(((P=y==null?void 0:y.values)==null?void 0:P.length)||0,((Q=b==null?void 0:b.values)==null?void 0:Q.length)||0);return A!==0?A:J0(y,b)})(i.mapValue,e.mapValue);case 11:return(function(c,h){if(c===ih.mapValue&&h===ih.mapValue)return 0;if(c===ih.mapValue)return 1;if(h===ih.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),y=h.fields||{},b=Object.keys(y);p.sort(),b.sort();for(let A=0;A<p.length&&A<b.length;++A){const w=Xm(p[A],b[A]);if(w!==0)return w;const O=No(m[p[A]],y[b[A]]);if(O!==0)return O}return Ve(p.length,b.length)})(i.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function X0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ve(i,e);const n=vs(i),s=vs(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function J0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=No(n[o],s[o]);if(c)return c}return Ve(n.length,s.length)}function Co(i){return Jm(i)}function Jm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=vs(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return bs(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return ye.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=Jm(c);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const h of s)c?c=!1:o+=",",o+=`${h}:${Jm(n.fields[h])}`;return o+"}"})(i.mapValue):be(61005,{value:i})}function _h(i){switch(Ts(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=af(i);return e?16+_h(e):16;case 5:return 2*i.stringValue.length;case 6:return bs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+_h(c)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Is(s.fields,((c,h)=>{o+=c.length+_h(h)})),o})(i.mapValue);default:throw be(13486,{value:i})}}function Z0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Zm(i){return!!i&&"integerValue"in i}function jp(i){return!!i&&"arrayValue"in i}function W0(i){return!!i&&"nullValue"in i}function ev(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Eh(i){return!!i&&"mapValue"in i}function yD(i){var n,s;return((s=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[QA])==null?void 0:s.stringValue)===$A}function ic(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Is(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=ic(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ic(i.arrayValue.values[n]);return e}return{...i}}function _D(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===gD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Eh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ic(n)}setAll(e){let n=Jt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=ic(h):o.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(e){const n=this.field(e.popLast());Eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Eh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Is(n,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new En(ic(this.value))}}function XA(i){const e=[];return Is(i.fields,((n,s)=>{const o=new Jt([n]);if(Eh(s)){const c=XA(s.mapValue).fields;if(c.length===0)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)})),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n,s,o,c,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=h,this.documentState=m}static newInvalidDocument(e){return new rn(e,0,we.min(),we.min(),we.min(),En.empty(),0)}static newFoundDocument(e,n,s,o){return new rn(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new rn(e,2,n,we.min(),we.min(),En.empty(),0)}static newUnknownDocument(e,n){return new rn(e,3,n,we.min(),we.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n){this.position=e,this.inclusive=n}}function tv(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const c=e[o],h=i.position[o];if(c.field.isKeyField()?s=ye.comparator(ye.fromName(h.referenceValue),n.key):s=No(h,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function nv(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Zi(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n="asc"){this.field=e,this.dir=n}}function ED(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{}class kt extends JA{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new bD(e,n,s):n==="array-contains"?new wD(e,s):n==="in"?new SD(e,s):n==="not-in"?new ID(e,s):n==="array-contains-any"?new xD(e,s):new kt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new TD(e,s):new AD(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(No(n,this.value)):n!==null&&Ts(this.value)===Ts(n)&&this.matchesComparison(No(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bi extends JA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new bi(e,n)}matches(e){return ZA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ZA(i){return i.op==="and"}function WA(i){return vD(i)&&ZA(i)}function vD(i){for(const e of i.filters)if(e instanceof bi)return!1;return!0}function Wm(i){if(i instanceof kt)return i.field.canonicalString()+i.op.toString()+Co(i.value);if(WA(i))return i.filters.map((e=>Wm(e))).join(",");{const e=i.filters.map((n=>Wm(n))).join(",");return`${i.op}(${e})`}}function ew(i,e){return i instanceof kt?(function(s,o){return o instanceof kt&&s.op===o.op&&s.field.isEqual(o.field)&&Zi(s.value,o.value)})(i,e):i instanceof bi?(function(s,o){return o instanceof bi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,h,m)=>c&&ew(h,o.filters[m])),!0):!1})(i,e):void be(19439)}function tw(i){return i instanceof kt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Co(n.value)}`})(i):i instanceof bi?(function(n){return n.op.toString()+" {"+n.getFilters().map(tw).join(" ,")+"}"})(i):"Filter"}class bD extends kt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class TD extends kt{constructor(e,n){super(e,"in",n),this.keys=nw("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class AD extends kt{constructor(e,n){super(e,"not-in",n),this.keys=nw("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function nw(i,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>ye.fromName(s.referenceValue)))}class wD extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jp(n)&&mc(n.arrayValue,this.value)}}class SD extends kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mc(this.value.arrayValue,n)}}class ID extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mc(this.value.arrayValue,n)}}class xD extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>mc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n=null,s=[],o=[],c=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=h,this.endAt=m,this.Te=null}}function iv(i,e=null,n=[],s=[],o=null,c=null,h=null){return new RD(i,e,n,s,o,c,h)}function zp(i){const e=Ie(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Wm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),sf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Co(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Co(s))).join(",")),e.Te=n}return e.Te}function Bp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!ED(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!ew(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!nv(i.startAt,e.startAt)&&nv(i.endAt,e.endAt)}function ep(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,n=null,s=[],o=[],c=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function ND(i,e,n,s,o,c,h,m){return new Ho(i,e,n,s,o,c,h,m)}function Hp(i){return new Ho(i)}function rv(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function CD(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function iw(i){return i.collectionGroup!==null}function rc(i){const e=Ie(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Pt(Jt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new pc(c,s))})),n.has(Jt.keyField().canonicalString())||e.Ie.push(new pc(Jt.keyField(),s))}return e.Ie}function Qi(i){const e=Ie(i);return e.Ee||(e.Ee=OD(e,rc(i))),e.Ee}function OD(i,e){if(i.limitType==="F")return iv(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new pc(o.field,c)}));const n=i.endAt?new Uh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Uh(i.startAt.position,i.startAt.inclusive):null;return iv(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function tp(i,e){const n=i.filters.concat([e]);return new Ho(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function DD(i,e){const n=i.explicitOrderBy.concat([e]);return new Ho(i.path,i.collectionGroup,n,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}function np(i,e,n){return new Ho(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function of(i,e){return Bp(Qi(i),Qi(e))&&i.limitType===e.limitType}function rw(i){return`${zp(Qi(i))}|lt:${i.limitType}`}function ho(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>tw(o))).join(", ")}]`),sf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Co(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Co(o))).join(",")),`Target(${s})`})(Qi(i))}; limitType=${i.limitType})`}function lf(i,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ye.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(i,e)&&(function(s,o){for(const c of rc(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const y=tv(h,m,p);return h.inclusive?y<=0:y<0})(s.startAt,rc(s),o)||s.endAt&&!(function(h,m,p){const y=tv(h,m,p);return h.inclusive?y>=0:y>0})(s.endAt,rc(s),o))})(i,e)}function MD(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function sw(i){return(e,n)=>{let s=!1;for(const o of rc(i)){const c=kD(o,e,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function kD(i,e,n){const s=i.field.isKeyField()?ye.comparator(e.key,n.key):(function(c,h,m){const p=h.data.field(c),y=m.data.field(c);return p!==null&&y!==null?No(p,y):be(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Is(this.inner,((n,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return HA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=new mt(ye.comparator);function wr(){return LD}const aw=new mt(ye.comparator);function Xl(...i){let e=aw;for(const n of i)e=e.insert(n.key,n);return e}function ow(i){let e=aw;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function oa(){return sc()}function lw(){return sc()}function sc(){return new _a((i=>i.toString()),((i,e)=>i.isEqual(e)))}const UD=new mt(ye.comparator),VD=new Pt(ye.comparator);function Pe(...i){let e=VD;for(const n of i)e=e.add(n);return e}const PD=new Pt(Ve);function jD(){return PD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mh(e)?"-0":e}}function cw(i){return{integerValue:""+i}}function zD(i,e){return uD(e)?cw(e):Fp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(){this._=void 0}}function BD(i,e,n){return i instanceof Vh?(function(o,c){const h={fields:{[qA]:{stringValue:GA},[KA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Pp(c)&&(c=af(c)),c&&(h.fields[YA]=c),{mapValue:h}})(n,e):i instanceof gc?hw(i,e):i instanceof yc?fw(i,e):(function(o,c){const h=uw(o,c),m=sv(h)+sv(o.Ae);return Zm(h)&&Zm(o.Ae)?cw(m):Fp(o.serializer,m)})(i,e)}function HD(i,e,n){return i instanceof gc?hw(i,e):i instanceof yc?fw(i,e):n}function uw(i,e){return i instanceof Ph?(function(s){return Zm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Vh extends cf{}class gc extends cf{constructor(e){super(),this.elements=e}}function hw(i,e){const n=dw(e);for(const s of i.elements)n.some((o=>Zi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class yc extends cf{constructor(e){super(),this.elements=e}}function fw(i,e){let n=dw(e);for(const s of i.elements)n=n.filter((o=>!Zi(o,s)));return{arrayValue:{values:n}}}class Ph extends cf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function sv(i){return At(i.integerValue||i.doubleValue)}function dw(i){return jp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function FD(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof gc&&o instanceof gc||s instanceof yc&&o instanceof yc?Ro(s.elements,o.elements,Zi):s instanceof Ph&&o instanceof Ph?Zi(s.Ae,o.Ae):s instanceof Vh&&o instanceof Vh})(i.transform,e.transform)}class GD{constructor(e,n){this.version=e,this.transformResults=n}}class yi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yi}static exists(e){return new yi(void 0,e)}static updateTime(e){return new yi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class uf{}function mw(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Gp(i.key,yi.none()):new Ac(i.key,i.data,yi.none());{const n=i.data,s=En.empty();let o=new Pt(Jt.comparator);for(let c of e.fields)if(!o.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?s.delete(c):s.set(c,h),o=o.add(c)}return new xs(i.key,s,new On(o.toArray()),yi.none())}}function qD(i,e,n){i instanceof Ac?(function(o,c,h){const m=o.value.clone(),p=ov(o.fieldTransforms,c,h.transformResults);m.setAll(p),c.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):i instanceof xs?(function(o,c,h){if(!vh(o.precondition,c))return void c.convertToUnknownDocument(h.version);const m=ov(o.fieldTransforms,c,h.transformResults),p=c.data;p.setAll(pw(o)),p.setAll(m),c.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,n):(function(o,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function ac(i,e,n,s){return i instanceof Ac?(function(c,h,m,p){if(!vh(c.precondition,h))return m;const y=c.value.clone(),b=lv(c.fieldTransforms,p,h);return y.setAll(b),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(i,e,n,s):i instanceof xs?(function(c,h,m,p){if(!vh(c.precondition,h))return m;const y=lv(c.fieldTransforms,p,h),b=h.data;return b.setAll(pw(c)),b.setAll(y),h.convertToFoundDocument(h.version,b).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(i,e,n,s):(function(c,h,m){return vh(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,n)}function YD(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),c=uw(s.transform,o||null);c!=null&&(n===null&&(n=En.empty()),n.set(s.field,c))}return n||null}function av(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ro(s,o,((c,h)=>FD(c,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Ac extends uf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class xs extends uf{constructor(e,n,s,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function pw(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function ov(i,e,n){const s=new Map;Ke(i.length===n.length,32656,{Ve:n.length,de:i.length});for(let o=0;o<n.length;o++){const c=i[o],h=c.transform,m=e.data.field(c.field);s.set(c.field,HD(h,m,n[o]))}return s}function lv(i,e,n){const s=new Map;for(const o of i){const c=o.transform,h=n.data.field(o.field);s.set(o.field,BD(c,h,e))}return s}class Gp extends uf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KD extends uf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&qD(c,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ac(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ac(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=lw();return this.mutations.forEach((o=>{const c=e.get(o.key),h=c.overlayedDocument;let m=this.applyToLocalView(h,c.mutatedFields);m=n.has(o.key)?null:m;const p=mw(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&Ro(this.mutations,e.mutations,((n,s)=>av(n,s)))&&Ro(this.baseMutations,e.baseMutations,((n,s)=>av(n,s)))}}class qp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ke(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return UD})();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,s[h].version);return new qp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,ze;function JD(i){switch(i){case W.OK:return be(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return be(15467,{code:i})}}function gw(i){if(i===void 0)return Ar("GRPC error has no .code"),W.UNKNOWN;switch(i){case Mt.OK:return W.OK;case Mt.CANCELLED:return W.CANCELLED;case Mt.UNKNOWN:return W.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return W.INTERNAL;case Mt.UNAVAILABLE:return W.UNAVAILABLE;case Mt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Mt.NOT_FOUND:return W.NOT_FOUND;case Mt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Mt.ABORTED:return W.ABORTED;case Mt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Mt.DATA_LOSS:return W.DATA_LOSS;default:return be(39323,{code:i})}}(ze=Mt||(Mt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=new ps([4294967295,4294967295],0);function cv(i){const e=ZD().encode(i),n=new OA;return n.update(e),new Uint8Array(n.digest())}function uv(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ps([n,s],0),new ps([o,c],0)]}class Yp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Jl(`Invalid padding: ${n}`);if(s<0)throw new Jl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ps.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ps.fromNumber(s)));return o.compare(WD)===1&&(o=new ps([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=cv(e),[s,o]=uv(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,o,c);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new Yp(c,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=cv(e),[s,o]=uv(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,o,c);this.be(h)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n,s,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,wc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new hf(we.min(),o,new mt(Ve),wr(),Pe())}}class wc{constructor(e,n,s,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new wc(s,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class yw{constructor(e,n){this.targetId=e,this.Ce=n}}class _w{constructor(e,n,s=Zt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class hv{constructor(){this.ve=0,this.Fe=fv(),this.Me=Zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:be(38017,{changeType:c})}})),new wc(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=fv()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class eM{constructor(e){this.Ge=e,this.ze=new Map,this.je=wr(),this.He=rh(),this.Je=rh(),this.Ze=new mt(Ve)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(ep(c))if(s===0){const h=new ye(c.path);this.et(n,h,rn.newNoDocument(h,we.min()))}else Ke(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let h,m;try{h=bs(s).toUint8Array()}catch(p){if(p instanceof FA)return xo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Yp(h,o,c)}catch(p){return xo(p instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((c=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,h)=>{const m=this.ot(h);if(m){if(c.current&&ep(m.target)){const p=new ye(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,rn.newNoDocument(p,e))}c.Be&&(n.set(h,c.ke()),c.Ke())}}));let s=Pe();this.Je.forEach(((c,h)=>{let m=!0;h.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const o=new hf(e,n,this.Ze,this.je,s);return this.je=wr(),this.He=rh(),this.Je=rh(),this.Ze=new mt(Ve),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new hv,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Pt(Ve),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Pt(Ve),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new hv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function rh(){return new mt(ye.comparator)}function fv(){return new mt(ye.comparator)}const tM={asc:"ASCENDING",desc:"DESCENDING"},nM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iM={and:"AND",or:"OR"};class rM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ip(i,e){return i.useProto3Json||sf(e)?e:{value:e}}function jh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ew(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function sM(i,e){return jh(i,e.toTimestamp())}function $i(i){return Ke(!!i,49232),we.fromTimestamp((function(n){const s=vs(n);return new ot(s.seconds,s.nanos)})(i))}function Kp(i,e){return rp(i,e).canonicalString()}function rp(i,e){const n=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function vw(i){const e=rt.fromString(i);return Ke(Sw(e),10190,{key:e.toString()}),e}function sp(i,e){return Kp(i.databaseId,e.path)}function Mm(i,e){const n=vw(e);if(n.get(1)!==i.databaseId.projectId)throw new he(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new he(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ye(Tw(n))}function bw(i,e){return Kp(i.databaseId,e)}function aM(i){const e=vw(i);return e.length===4?rt.emptyPath():Tw(e)}function ap(i){return new rt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Tw(i){return Ke(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function dv(i,e,n){return{name:sp(i,e),fields:n.value.mapValue.fields}}function oM(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:be(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(Ke(b===void 0||typeof b=="string",58123),Zt.fromBase64String(b||"")):(Ke(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Zt.fromUint8Array(b||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(y){const b=y.code===void 0?W.UNKNOWN:gw(y.code);return new he(b,y.message||"")})(h);n=new _w(s,o,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Mm(i,s.document.name),c=$i(s.document.updateTime),h=s.document.createTime?$i(s.document.createTime):we.min(),m=new En({mapValue:{fields:s.document.fields}}),p=rn.newFoundDocument(o,c,h,m),y=s.targetIds||[],b=s.removedTargetIds||[];n=new bh(y,b,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Mm(i,s.document),c=s.readTime?$i(s.readTime):we.min(),h=rn.newNoDocument(o,c),m=s.removedTargetIds||[];n=new bh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Mm(i,s.document),c=s.removedTargetIds||[];n=new bh([],c,o,null)}else{if(!("filter"in e))return be(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,h=new XD(o,c),m=s.targetId;n=new yw(m,h)}}return n}function lM(i,e){let n;if(e instanceof Ac)n={update:dv(i,e.key,e.value)};else if(e instanceof Gp)n={delete:sp(i,e.key)};else if(e instanceof xs)n={update:dv(i,e.key,e.data),updateMask:yM(e.fieldMask)};else{if(!(e instanceof KD))return be(16599,{dt:e.type});n={verify:sp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,h){const m=h.transform;if(m instanceof Vh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof gc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof yc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ph)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw be(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:sM(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:be(27497)})(i,e.precondition)),n}function cM(i,e){return i&&i.length>0?(Ke(e!==void 0,14353),i.map((n=>(function(o,c){let h=o.updateTime?$i(o.updateTime):$i(c);return h.isEqual(we.min())&&(h=$i(c)),new GD(h,o.transformResults||[])})(n,e)))):[]}function uM(i,e){return{documents:[bw(i,e.path)]}}function hM(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=bw(i,o);const c=(function(y){if(y.length!==0)return ww(bi.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const h=(function(y){if(y.length!==0)return y.map((b=>(function(w){return{field:fo(w.field),direction:mM(w.dir)}})(b)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=ip(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function fM(i){let e=aM(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ke(s===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let c=[];n.where&&(c=(function(A){const w=Aw(A);return w instanceof bi&&WA(w)?w.getFilters():[w]})(n.where));let h=[];n.orderBy&&(h=(function(A){return A.map((w=>(function(P){return new pc(mo(P.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(A){let w;return w=typeof A=="object"?A.value:A,sf(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(A){const w=!!A.before,O=A.values||[];return new Uh(O,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(A){const w=!A.before,O=A.values||[];return new Uh(O,w)})(n.endAt)),ND(e,o,h,c,m,"F",p,y)}function dM(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Aw(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=mo(n.unaryFilter.field);return kt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=mo(n.unaryFilter.field);return kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=mo(n.unaryFilter.field);return kt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=mo(n.unaryFilter.field);return kt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(i):i.fieldFilter!==void 0?(function(n){return kt.create(mo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return bi.create(n.compositeFilter.filters.map((s=>Aw(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(n.compositeFilter.op))})(i):be(30097,{filter:i})}function mM(i){return tM[i]}function pM(i){return nM[i]}function gM(i){return iM[i]}function fo(i){return{fieldPath:i.canonicalString()}}function mo(i){return Jt.fromServerFormat(i.fieldPath)}function ww(i){return i instanceof kt?(function(n){if(n.op==="=="){if(ev(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NAN"}};if(W0(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ev(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NAN"}};if(W0(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fo(n.field),op:pM(n.op),value:n.value}}})(i):i instanceof bi?(function(n){const s=n.getFilters().map((o=>ww(o)));return s.length===1?s[0]:{compositeFilter:{op:gM(n.op),filters:s}}})(i):be(54877,{filter:i})}function yM(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Sw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function Iw(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n,s,o,c=we.min(),h=we.min(),m=Zt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e){this.yt=e}}function EM(i){const e=fM({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?np(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(){this.Sn=new bM}addToCollectionParentIndex(e,n){return this.Sn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Es.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Es.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class bM{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Pt(rt.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Pt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xw=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(xw,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Oo(0)}static ar(){return new Oo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="LruGarbageCollector",TM=1048576;function gv([i,e],[n,s]){const o=Ve(i,n);return o===0?Ve(e,s):o}class AM{constructor(e){this.Pr=e,this.buffer=new Pt(gv),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();gv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class wM{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){fe(pv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Bo(n)?fe(pv,"Ignoring IndexedDB error during garbage collection: ",n):await zo(n)}await this.Ar(3e5)}))}}class SM{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(rf.ce);const s=new AM(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(mv)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mv):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,c,h,m,p,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,h=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(s=A,m=Date.now(),this.removeTargets(e,s,n)))).next((A=>(c=A,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((A=>(y=Date.now(),uo()<=Ue.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-b}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(y-p)+`ms
Total Duration: ${y-b}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function IM(i,e){return new SM(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this.changes=new _a((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&ac(s.mutation,o,On.empty(),ot.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Pe()){const o=oa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((c=>{let h=Xl();return c.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=oa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Pe())))}populateOverlays(e,n,s){const o=[];return s.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let c=wr();const h=sc(),m=(function(){return sc()})();return n.forEach(((p,y)=>{const b=s.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof xs)?c=c.insert(y.key,y):b!==void 0?(h.set(y.key,b.mutation.getFieldMask()),ac(b.mutation,y,b.mutation.getFieldMask(),ot.now())):h.set(y.key,On.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((y,b)=>h.set(y,b))),n.forEach(((y,b)=>m.set(y,new RM(b,h.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=sc();let o=new mt(((h,m)=>h-m)),c=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let b=s.get(p)||On.empty();b=m.applyToLocalView(y,b),s.set(p,b);const A=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,A)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,b=p.value,A=lw();b.forEach((w=>{if(!c.has(w)){const O=mw(n.get(w),s.get(w));O!==null&&A.set(w,O),c=c.add(w)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,A))}return te.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return CD(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-c.size):te.resolve(oa());let m=hc,p=c;return h.next((y=>te.forEach(y,((b,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),c.get(b)?te.resolve():this.remoteDocumentCache.getEntry(e,b).next((w=>{p=p.insert(b,w)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,p,y,Pe()))).next((b=>({batchId:m,changes:ow(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let o=Xl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const c=n.collectionGroup;let h=Xl();return this.indexManager.getCollectionParents(e,c).next((m=>te.forEach(m,(p=>{const y=(function(A,w){return new Ho(w,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((b=>{b.forEach(((A,w)=>{h=h.insert(A,w)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,o)))).next((h=>{c.forEach(((p,y)=>{const b=y.getKey();h.get(b)===null&&(h=h.insert(b,rn.newInvalidDocument(b)))}));let m=Xl();return h.forEach(((p,y)=>{const b=c.get(p);b!==void 0&&ac(b.mutation,y,On.empty(),ot.now()),lf(n,y)&&(m=m.insert(p,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return te.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:$i(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:EM(o.bundledQuery),readTime:$i(o.readTime)}})(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(){this.overlays=new mt(ye.comparator),this.Lr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=oa();return te.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,c)=>{this.bt(e,n,c)})),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=oa(),c=n.length+1,h=new ye(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let c=new mt(((y,b)=>y-b));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let b=c.get(y.largestBatchId);b===null&&(b=oa(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const m=oa(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,b)=>m.set(y,b))),!(m.size()>=o)););return te.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new $D(n,s));let c=this.Lr.get(n);c===void 0&&(c=Pe(),this.Lr.set(n,c)),this.Lr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(){this.kr=new Pt(Ht.Kr),this.qr=new Pt(Ht.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Ht(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Ht(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new ye(new rt([])),s=new Ht(n,e),o=new Ht(n,e+1),c=[];return this.qr.forEachInRange([s,o],(h=>{this.Wr(h),c.push(h.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ye(new rt([])),s=new Ht(n,e),o=new Ht(n,e+1);let c=Pe();return this.qr.forEachInRange([s,o],(h=>{c=c.add(h.key)})),c}containsKey(e){const n=new Ht(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ht{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ye.comparator(e.key,n.key)||Ve(e.Hr,n.Hr)}static Ur(e,n){return Ve(e.Hr,n.Hr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Pt(Ht.Kr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new QD(c,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Jr=this.Jr.add(new Ht(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,n){return te.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),c=o<0?0:o;return te.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Vp:this.Yn-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ht(n,0),o=new Ht(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,o],(h=>{const m=this.Zr(h.Hr);c.push(m)})),te.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Pt(Ve);return n.forEach((o=>{const c=new Ht(o,0),h=new Ht(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,h],(m=>{s=s.add(m.Hr)}))})),te.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let c=s;ye.isDocumentKey(c)||(c=c.child(""));const h=new Ht(new ye(c),0);let m=new Pt(Ve);return this.Jr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Hr)),!0)}),h),te.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ke(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return te.forEach(n.mutations,(o=>{const c=new Ht(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Ht(n,0),o=this.Jr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e){this.ti=e,this.docs=(function(){return new mt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(e,n){let s=wr();return n.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():rn.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let c=wr();const h=n.path,m=new ye(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:b}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||aD(sD(b),s)<=0||(o.has(b.key)||lf(n,b))&&(c=c.insert(b.key,b.mutableCopy()))}return te.resolve(c)}getAllFromCollectionGroup(e,n,s,o){be(9500)}ni(e,n){return te.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new LM(this)}getSize(e){return te.resolve(this.size)}}class LM extends xM{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),te.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.persistence=e,this.ri=new _a((n=>zp(n)),Bp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.ii=0,this.si=new Qp,this.targetCount=0,this.oi=Oo._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),te.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Oo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.lr(n),te.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const c=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(h),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),te.waitFor(c).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),te.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((h=>{c.push(o.markPotentiallyOrphaned(e,h))})),te.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,n){this._i={},this.overlays={},this.ai=new rf(0),this.ui=!1,this.ui=!0,this.ci=new DM,this.referenceDelegate=e(this),this.li=new UM(this),this.indexManager=new vM,this.remoteDocumentCache=(function(o){return new kM(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new _M(n),this.Pi=new CM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new OM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new MM(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const o=new VM(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,n){return te.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class VM extends lD{constructor(e){super(),this.currentSequenceNumber=e}}class $p{constructor(e){this.persistence=e,this.Ri=new Qp,this.Ai=null}static Vi(e){return new $p(e)}get di(){if(this.Ai)return this.Ai;throw be(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.di,(s=>{const o=ye.fromPath(s);return this.mi(e,o).next((c=>{c||n.removeEntry(o,we.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class zh{constructor(e,n){this.persistence=e,this.fi=new _a((s=>hD(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=IM(this,n)}static Vi(e,n){return new zh(e,n)}Ti(){}Ii(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return te.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((c=>c?te.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((m=>{m||(s++,c.removeEntry(h,we.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),te.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=_h(e.data.value)),n}wr(e,n,s){return te.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=Pe(),o=Pe();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Xp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return qx()?8:cD(sn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const c={result:null};return this.gs(e,n).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ps(e,n,o,s).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new PM;return this.ys(e,n,h).next((m=>{if(c.result=m,this.As)return this.ws(e,n,h,m.size)}))})).next((()=>c.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(uo()<=Ue.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),te.resolve()):(uo()<=Ue.DEBUG&&fe("QueryEngine","Query:",ho(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(uo()<=Ue.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qi(n))):te.resolve())}gs(e,n){if(rv(n))return te.resolve(null);let s=Qi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=np(n,null,"F"),s=Qi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const h=Pe(...c);return this.fs.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.bs(n,m);return this.Ss(n,y,h,p.readTime)?this.gs(e,np(n,null,"F")):this.Ds(e,y,n,p)}))))})))))}ps(e,n,s,o){return rv(n)||o.isEqual(we.min())?te.resolve(null):this.fs.getDocuments(e,s).next((c=>{const h=this.bs(n,c);return this.Ss(n,h,s,o)?te.resolve(null):(uo()<=Ue.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ho(n)),this.Ds(e,h,n,rD(o,hc)).next((m=>m)))}))}bs(e,n){let s=new Pt(sw(e));return n.forEach(((o,c)=>{lf(e,c)&&(s=s.add(c))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,n,s){return uo()<=Ue.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",ho(n)),this.fs.getDocumentsMatchingQuery(e,n,Es.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((c=>(n.forEach((h=>{c=c.insert(h.key,h)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="LocalStore",zM=3e8;class BM{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new mt(Ve),this.Fs=new _a((c=>zp(c)),Bp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NM(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function HM(i,e,n,s){return new BM(i,e,n,s)}async function Nw(i,e){const n=Ie(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const h=[],m=[];let p=Pe();for(const y of o){h.push(y.batchId);for(const b of y.mutations)p=p.add(b.key)}for(const y of c){m.push(y.batchId);for(const b of y.mutations)p=p.add(b.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ns:y,removedBatchIds:h,addedBatchIds:m})))}))}))}function FM(i,e){const n=Ie(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,b){const A=y.batch,w=A.keys();let O=te.resolve();return w.forEach((P=>{O=O.next((()=>b.getEntry(p,P))).next((Q=>{const F=y.docVersions.get(P);Ke(F!==null,48541),Q.version.compareTo(F)<0&&(A.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),b.addEntry(Q)))}))})),O.next((()=>m.mutationQueue.removeMutationBatch(p,A)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Pe();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Cw(i){const e=Ie(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function GM(i,e){const n=Ie(i),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((b,A)=>{const w=o.get(A);if(!w)return;m.push(n.li.removeMatchingKeys(c,b.removedDocuments,A).next((()=>n.li.addMatchingKeys(c,b.addedDocuments,A))));let O=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?O=O.withResumeToken(Zt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):b.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(b.resumeToken,s)),o=o.insert(A,O),(function(Q,F,ie){return Q.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=zM?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0})(w,O,b)&&m.push(n.li.updateTargetData(c,O))}));let p=wr(),y=Pe();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,b))})),m.push(qM(c,h,e.documentUpdates).next((b=>{p=b.Bs,y=b.Ls}))),!s.isEqual(we.min())){const b=n.li.getLastRemoteSnapshotVersion(c).next((A=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));m.push(b)}return te.waitFor(m).next((()=>h.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,p,y))).next((()=>p))})).then((c=>(n.vs=o,c)))}function qM(i,e,n){let s=Pe(),o=Pe();return n.forEach((c=>s=s.add(c))),e.getEntries(i,s).next((c=>{let h=wr();return n.forEach(((m,p)=>{const y=c.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):fe(Jp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{Bs:h,Ls:o}}))}function YM(i,e){const n=Ie(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Vp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function KM(i,e){const n=Ie(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((c=>c?(o=c,te.resolve(o)):n.li.allocateTargetId(s).next((h=>(o=new hs(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function op(i,e,n){const s=Ie(i),o=s.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Bo(h))throw h;fe(Jp,`Failed to update sequence numbers for target ${e}: ${h}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function yv(i,e,n){const s=Ie(i);let o=we.min(),c=Pe();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,y,b){const A=Ie(p),w=A.Fs.get(b);return w!==void 0?te.resolve(A.vs.get(w)):A.li.getTargetData(y,b)})(s,h,Qi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,m.targetId).next((p=>{c=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,n?o:we.min(),n?c:Pe()))).next((m=>(QM(s,MD(e),m),{documents:m,ks:c})))))}function QM(i,e,n){let s=i.Ms.get(e)||we.min();n.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),i.Ms.set(e,s)}class _v{constructor(){this.activeTargetIds=jD()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $M{constructor(){this.vo=new _v,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new _v,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="ConnectivityMonitor";class vv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){fe(Ev,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){fe(Ev,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sh=null;function lp(){return sh===null?sh=(function(){return 268435456+Math.round(2147483648*Math.random())})():sh++,"0x"+sh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="RestConnection",JM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class ZM{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===kh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,c){const h=lp(),m=this.Qo(e,n.toUriEncodedString());fe(km,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,c);const{host:y}=new URL(m),b=Lo(y);return this.zo(e,m,p,s,b).then((A=>(fe(km,`Received RPC '${e}' ${h}: `,A),A)),(A=>{throw xo(km,`RPC '${e}' ${h} failed with error: `,A,"url: ",m,"request:",s),A}))}jo(e,n,s,o,c,h){return this.Wo(e,n,s,o,c)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}Qo(e,n){const s=JM[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection",ql=(i,e,n)=>{i.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class To extends ZM{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!To.c_){const e=LA();ql(e,kA.STAT_EVENT,(n=>{n.stat===$m.PROXY?fe(tn,"STAT_EVENT: detected buffering proxy"):n.stat===$m.NOPROXY&&fe(tn,"STAT_EVENT: detected no buffering proxy")})),To.c_=!0}}zo(e,n,s,o,c){const h=lp();return new Promise(((m,p)=>{const y=new DA;y.setWithCredentials(!0),y.listenOnce(MA.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case yh.NO_ERROR:const A=y.getResponseJson();fe(tn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(A)),m(A);break;case yh.TIMEOUT:fe(tn,`RPC '${e}' ${h} timed out`),p(new he(W.DEADLINE_EXCEEDED,"Request time out"));break;case yh.HTTP_ERROR:const w=y.getStatus();if(fe(tn,`RPC '${e}' ${h} failed with status:`,w,"response text:",y.getResponseText()),w>0){let O=y.getResponseJson();Array.isArray(O)&&(O=O[0]);const P=O==null?void 0:O.error;if(P&&P.status&&P.message){const Q=(function(ie){const ee=ie.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(ee)>=0?ee:W.UNKNOWN})(P.status);p(new he(Q,P.message))}else p(new he(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new he(W.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{fe(tn,`RPC '${e}' ${h} completed.`)}}));const b=JSON.stringify(o);fe(tn,`RPC '${e}' ${h} sending request:`,o),y.send(n,"POST",b,s,15)}))}T_(e,n,s){const o=lp(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=c.join("");fe(tn,`Creating RPC '${e}' stream ${o}: ${y}`,m);const b=h.createWebChannel(y,m);this.I_(b);let A=!1,w=!1;const O=new WM({Ho:P=>{w?fe(tn,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(A||(fe(tn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),A=!0),fe(tn,`RPC '${e}' stream ${o} sending:`,P),b.send(P))},Jo:()=>b.close()});return ql(b,$l.EventType.OPEN,(()=>{w||(fe(tn,`RPC '${e}' stream ${o} transport opened.`),O.i_())})),ql(b,$l.EventType.CLOSE,(()=>{w||(w=!0,fe(tn,`RPC '${e}' stream ${o} transport closed`),O.o_(),this.E_(b))})),ql(b,$l.EventType.ERROR,(P=>{w||(w=!0,xo(tn,`RPC '${e}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),O.o_(new he(W.UNAVAILABLE,"The operation could not be completed")))})),ql(b,$l.EventType.MESSAGE,(P=>{var Q;if(!w){const F=P.data[0];Ke(!!F,16349);const ie=F,ee=(ie==null?void 0:ie.error)||((Q=ie[0])==null?void 0:Q.error);if(ee){fe(tn,`RPC '${e}' stream ${o} received error:`,ee);const $=ee.status;let le=(function(R){const I=Mt[R];if(I!==void 0)return gw(I)})($),ne=ee.message;le===void 0&&(le=W.INTERNAL,ne="Unknown error status: "+$+" with message "+ee.message),w=!0,O.o_(new he(le,ne)),b.close()}else fe(tn,`RPC '${e}' stream ${o} received:`,F),O.__(F)}})),To.u_(),setTimeout((()=>{O.s_()}),0),O}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return UA()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(i){return new To(i)}function Lm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(i){return new rM(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */To.c_=!1;class Ow{constructor(e,n,s=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="PersistentStream";class Dw{constructor(e,n,s,o,c,h,m,p){this.Ci=e,this.b_=s,this.S_=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ow(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Ar(n.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new he(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(bv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(fe(bv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class t4 extends Dw{constructor(e,n,s,o,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=oM(this.serializer,e),s=(function(c){if(!("targetChange"in c))return we.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?$i(h.readTime):we.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=ap(this.serializer),n.addTarget=(function(c,h){let m;const p=h.target;if(m=ep(p)?{documents:uM(c,p)}:{query:hM(c,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Ew(c,h.resumeToken);const y=ip(c,h.expectedCount);y!==null&&(m.expectedCount=y)}else if(h.snapshotVersion.compareTo(we.min())>0){m.readTime=jh(c,h.snapshotVersion.toTimestamp());const y=ip(c,h.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=dM(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=ap(this.serializer),n.removeTarget=e,this.K_(n)}}class n4 extends Dw{constructor(e,n,s,o,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=cM(e.writeResults,e.commitTime),s=$i(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=ap(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>lM(this.serializer,s)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{}class r4 extends i4{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(W.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Wo(e,rp(n,s),o,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(W.UNKNOWN,c.toString())}))}jo(e,n,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(e,rp(n,s),o,h,m,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new he(W.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function s4(i,e,n,s){return new r4(i,e,n,s)}class a4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ar(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="RemoteStore";class o4{constructor(e,n,s,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((h=>{s.enqueueAndForget((async()=>{Ea(this)&&(fe(ma,"Restarting streams for network reachability change."),await(async function(p){const y=Ie(p);y.Ea.add(4),await Sc(y),y.Va.set("Unknown"),y.Ea.delete(4),await df(y)})(this))}))})),this.Va=new a4(s,o)}}async function df(i){if(Ea(i))for(const e of i.Ra)await e(!0)}async function Sc(i){for(const e of i.Ra)await e(!1)}function Mw(i,e){const n=Ie(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),tg(n)?eg(n):Fo(n).O_()&&Wp(n,e))}function Zp(i,e){const n=Ie(i),s=Fo(n);n.Ia.delete(e),s.O_()&&kw(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ea(n)&&n.Va.set("Unknown"))}function Wp(i,e){if(i.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fo(i).Z_(e)}function kw(i,e){i.da.$e(e),Fo(i).X_(e)}function eg(i){i.da=new eM({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Fo(i).start(),i.Va.ua()}function tg(i){return Ea(i)&&!Fo(i).x_()&&i.Ia.size>0}function Ea(i){return Ie(i).Ea.size===0}function Lw(i){i.da=void 0}async function l4(i){i.Va.set("Online")}async function c4(i){i.Ia.forEach(((e,n)=>{Wp(i,e)}))}async function u4(i,e){Lw(i),tg(i)?(i.Va.ha(e),eg(i)):i.Va.set("Unknown")}async function h4(i,e,n){if(i.Va.set("Online"),e instanceof _w&&e.state===2&&e.cause)try{await(async function(o,c){const h=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.da.removeTarget(m))})(i,e)}catch(s){fe(ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Bh(i,s)}else if(e instanceof bh?i.da.Xe(e):e instanceof yw?i.da.st(e):i.da.tt(e),!n.isEqual(we.min()))try{const s=await Cw(i.localStore);n.compareTo(s)>=0&&await(function(c,h){const m=c.da.Tt(h);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,y)=>{const b=c.Ia.get(p);if(!b)return;c.Ia.set(p,b.withResumeToken(Zt.EMPTY_BYTE_STRING,b.snapshotVersion)),kw(c,p);const A=new hs(b.target,p,y,b.sequenceNumber);Wp(c,A)})),c.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){fe(ma,"Failed to raise snapshot:",s),await Bh(i,s)}}async function Bh(i,e,n){if(!Bo(e))throw e;i.Ea.add(1),await Sc(i),i.Va.set("Offline"),n||(n=()=>Cw(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{fe(ma,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await df(i)}))}function Uw(i,e){return e().catch((n=>Bh(i,n,e)))}async function mf(i){const e=Ie(i),n=As(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Vp;for(;f4(e);)try{const o=await YM(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,d4(e,o)}catch(o){await Bh(e,o)}Vw(e)&&Pw(e)}function f4(i){return Ea(i)&&i.Ta.length<10}function d4(i,e){i.Ta.push(e);const n=As(i);n.O_()&&n.Y_&&n.ea(e.mutations)}function Vw(i){return Ea(i)&&!As(i).x_()&&i.Ta.length>0}function Pw(i){As(i).start()}async function m4(i){As(i).ra()}async function p4(i){const e=As(i);for(const n of i.Ta)e.ea(n.mutations)}async function g4(i,e,n){const s=i.Ta.shift(),o=qp.from(s,e,n);await Uw(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await mf(i)}async function y4(i,e){e&&As(i).Y_&&await(async function(s,o){if((function(h){return JD(h)&&h!==W.ABORTED})(o.code)){const c=s.Ta.shift();As(s).B_(),await Uw(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await mf(s)}})(i,e),Vw(i)&&Pw(i)}async function Tv(i,e){const n=Ie(i);n.asyncQueue.verifyOperationInProgress(),fe(ma,"RemoteStore received new credentials");const s=Ea(n);n.Ea.add(3),await Sc(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await df(n)}async function _4(i,e){const n=Ie(i);e?(n.Ea.delete(2),await df(n)):e||(n.Ea.add(2),await Sc(n),n.Va.set("Unknown"))}function Fo(i){return i.ma||(i.ma=(function(n,s,o){const c=Ie(n);return c.sa(),new t4(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Zo:l4.bind(null,i),Yo:c4.bind(null,i),t_:u4.bind(null,i),J_:h4.bind(null,i)}),i.Ra.push((async e=>{e?(i.ma.B_(),tg(i)?eg(i):i.Va.set("Unknown")):(await i.ma.stop(),Lw(i))}))),i.ma}function As(i){return i.fa||(i.fa=(function(n,s,o){const c=Ie(n);return c.sa(),new n4(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:m4.bind(null,i),t_:y4.bind(null,i),ta:p4.bind(null,i),na:g4.bind(null,i)}),i.Ra.push((async e=>{e?(i.fa.B_(),await mf(i)):(await i.fa.stop(),i.Ta.length>0&&(fe(ma,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n,s,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new la,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,c){const h=Date.now()+s,m=new ng(e,n,h,o,c);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ig(i,e){if(Ar("AsyncQueue",`${e}: ${i}`),Bo(i))return new he(W.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{static emptySet(e){return new Ao(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Xl(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ao)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ao;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(){this.ga=new mt(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Do{constructor(e,n,s,o,c,h,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,c){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Do(e,n,Ao.emptySet(n),h,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class v4{constructor(){this.queries=wv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ie(n),c=o.queries;o.queries=wv(),c.forEach(((h,m)=>{for(const p of m.ba)p.onError(s)}))})(this,new he(W.ABORTED,"Firestore shutting down"))}}function wv(){return new _a((i=>rw(i)),of)}async function b4(i,e){const n=Ie(i);let s=3;const o=e.query;let c=n.queries.get(o);c?!c.Sa()&&e.Da()&&(s=2):(c=new E4,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=ig(h,`Initialization of query '${ho(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&rg(n)}async function T4(i,e){const n=Ie(i),s=e.query;let o=3;const c=n.queries.get(s);if(c){const h=c.ba.indexOf(e);h>=0&&(c.ba.splice(h,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function A4(i,e){const n=Ie(i);let s=!1;for(const o of e){const c=o.query,h=n.queries.get(c);if(h){for(const m of h.ba)m.Fa(o)&&(s=!0);h.wa=o}}s&&rg(n)}function w4(i,e,n){const s=Ie(i),o=s.queries.get(e);if(o)for(const c of o.ba)c.onError(n);s.queries.delete(e)}function rg(i){i.Ca.forEach((e=>{e.next()}))}var cp,Sv;(Sv=cp||(cp={})).Ma="default",Sv.Cache="cache";class S4{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Do(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Do.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e){this.key=e}}class zw{constructor(e){this.key=e}}class I4{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pe(),this.mutatedKeys=Pe(),this.eu=sw(e),this.tu=new Ao(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new Av,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,A)=>{const w=o.get(b),O=lf(this.query,A)?A:null,P=!!w&&this.mutatedKeys.has(w.key),Q=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let F=!1;w&&O?w.data.isEqual(O.data)?P!==Q&&(s.track({type:3,doc:O}),F=!0):this.su(w,O)||(s.track({type:2,doc:O}),F=!0,(p&&this.eu(O,p)>0||y&&this.eu(O,y)<0)&&(m=!0)):!w&&O?(s.track({type:0,doc:O}),F=!0):w&&!O&&(s.track({type:1,doc:w}),F=!0,(p||y)&&(m=!0)),F&&(O?(h=h.add(O),c=Q?c.add(b):c.delete(b)):(h=h.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const b=this.query.limitType==="F"?h.last():h.first();h=h.delete(b.key),c=c.delete(b.key),s.track({type:1,doc:b})}return{tu:h,iu:s,Ss:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((b,A)=>(function(O,P){const Q=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Vt:F})}};return Q(O)-Q(P)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,y=p!==this.Xa;return this.Xa=p,h.length!==0||y?{snapshot:new Do(this.query,e.tu,c,h,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Av,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new zw(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new jw(s))})),n}cu(e){this.Za=e.ks,this.Ya=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Do.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const sg="SyncEngine";class x4{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class R4{constructor(e){this.key=e,this.hu=!1}}class N4{constructor(e,n,s,o,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new _a((m=>rw(m)),of),this.Iu=new Map,this.Eu=new Set,this.Ru=new mt(ye.comparator),this.Au=new Map,this.Vu=new Qp,this.du={},this.mu=new Map,this.fu=Oo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function C4(i,e,n=!0){const s=Yw(i);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await Bw(s,e,n,!0),o}async function O4(i,e){const n=Yw(i);await Bw(n,e,!0,!1)}async function Bw(i,e,n,s){const o=await KM(i.localStore,Qi(e)),c=o.targetId,h=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await D4(i,e,c,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&Mw(i.remoteStore,o),m}async function D4(i,e,n,s,o){i.pu=(A,w,O)=>(async function(Q,F,ie,ee){let $=F.view.ru(ie);$.Ss&&($=await yv(Q.localStore,F.query,!1).then((({documents:R})=>F.view.ru(R,$))));const le=ee&&ee.targetChanges.get(F.targetId),ne=ee&&ee.targetMismatches.get(F.targetId)!=null,_e=F.view.applyChanges($,Q.isPrimaryClient,le,ne);return xv(Q,F.targetId,_e.au),_e.snapshot})(i,A,w,O);const c=await yv(i.localStore,e,!0),h=new I4(e,c.ks),m=h.ru(c.documents),p=wc.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),y=h.applyChanges(m,i.isPrimaryClient,p);xv(i,n,y.au);const b=new x4(e,n,h);return i.Tu.set(e,b),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),y.snapshot}async function M4(i,e,n){const s=Ie(i),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((h=>!of(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await op(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Zp(s.remoteStore,o.targetId),up(s,o.targetId)})).catch(zo)):(up(s,o.targetId),await op(s.localStore,o.targetId,!0))}async function k4(i,e){const n=Ie(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Zp(n.remoteStore,s.targetId))}async function L4(i,e,n){const s=H4(i);try{const o=await(function(h,m){const p=Ie(h),y=ot.now(),b=m.reduce(((O,P)=>O.add(P.key)),Pe());let A,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let P=wr(),Q=Pe();return p.xs.getEntries(O,b).next((F=>{P=F,P.forEach(((ie,ee)=>{ee.isValidDocument()||(Q=Q.add(ie))}))})).next((()=>p.localDocuments.getOverlayedDocuments(O,P))).next((F=>{A=F;const ie=[];for(const ee of m){const $=YD(ee,A.get(ee.key).overlayedDocument);$!=null&&ie.push(new xs(ee.key,$,XA($.value.mapValue),yi.exists(!0)))}return p.mutationQueue.addMutationBatch(O,y,ie,m)})).next((F=>{w=F;const ie=F.applyToLocalDocumentSet(A,Q);return p.documentOverlayCache.saveOverlays(O,F.batchId,ie)}))})).then((()=>({batchId:w.batchId,changes:ow(A)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let y=h.du[h.currentUser.toKey()];y||(y=new mt(Ve)),y=y.insert(m,p),h.du[h.currentUser.toKey()]=y})(s,o.batchId,n),await Ic(s,o.changes),await mf(s.remoteStore)}catch(o){const c=ig(o,"Failed to persist write");n.reject(c)}}async function Hw(i,e){const n=Ie(i);try{const s=await GM(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const h=n.Au.get(c);h&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ke(h.hu,14607):o.removedDocuments.size>0&&(Ke(h.hu,42227),h.hu=!1))})),await Ic(n,s,e)}catch(s){await zo(s)}}function Iv(i,e,n){const s=Ie(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((c,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=Ie(h);p.onlineState=m;let y=!1;p.queries.forEach(((b,A)=>{for(const w of A.ba)w.va(m)&&(y=!0)})),y&&rg(p)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function U4(i,e,n){const s=Ie(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),c=o&&o.key;if(c){let h=new mt(ye.comparator);h=h.insert(c,rn.newNoDocument(c,we.min()));const m=Pe().add(c),p=new hf(we.min(),new Map,new mt(Ve),h,m);await Hw(s,p),s.Ru=s.Ru.remove(c),s.Au.delete(e),ag(s)}else await op(s.localStore,e,!1).then((()=>up(s,e,n))).catch(zo)}async function V4(i,e){const n=Ie(i),s=e.batch.batchId;try{const o=await FM(n.localStore,e);Gw(n,s,null),Fw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ic(n,o)}catch(o){await zo(o)}}async function P4(i,e,n){const s=Ie(i);try{const o=await(function(h,m){const p=Ie(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return p.mutationQueue.lookupMutationBatch(y,m).next((A=>(Ke(A!==null,37113),b=A.keys(),p.mutationQueue.removeMutationBatch(y,A)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,b,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>p.localDocuments.getDocuments(y,b)))}))})(s.localStore,e);Gw(s,e,n),Fw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ic(s,o)}catch(o){await zo(o)}}function Fw(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function Gw(i,e,n){const s=Ie(i);let o=s.du[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function up(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Vu.Gr(e).forEach((s=>{i.Vu.containsKey(s)||qw(i,s)}))}function qw(i,e){i.Eu.delete(e.path.canonicalString());const n=i.Ru.get(e);n!==null&&(Zp(i.remoteStore,n),i.Ru=i.Ru.remove(e),i.Au.delete(n),ag(i))}function xv(i,e,n){for(const s of n)s instanceof jw?(i.Vu.addReference(s.key,e),j4(i,s)):s instanceof zw?(fe(sg,"Document no longer in limbo: "+s.key),i.Vu.removeReference(s.key,e),i.Vu.containsKey(s.key)||qw(i,s.key)):be(19791,{wu:s})}function j4(i,e){const n=e.key,s=n.path.canonicalString();i.Ru.get(n)||i.Eu.has(s)||(fe(sg,"New document in limbo: "+n),i.Eu.add(s),ag(i))}function ag(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ye(rt.fromString(e)),s=i.fu.next();i.Au.set(s,new R4(n)),i.Ru=i.Ru.insert(n,s),Mw(i.remoteStore,new hs(Qi(Hp(n.path)),s,"TargetPurposeLimboResolution",rf.ce))}}async function Ic(i,e,n){const s=Ie(i),o=[],c=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((y=>{var b;if((y||n)&&s.isPrimaryClient){const A=y?!y.fromCache:(b=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:b.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(y){o.push(y);const A=Xp.Es(p.targetId,y);c.push(A)}})))})),await Promise.all(h),s.Pu.J_(o),await(async function(p,y){const b=Ie(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>te.forEach(y,(w=>te.forEach(w.Ts,(O=>b.persistence.referenceDelegate.addReference(A,w.targetId,O))).next((()=>te.forEach(w.Is,(O=>b.persistence.referenceDelegate.removeReference(A,w.targetId,O)))))))))}catch(A){if(!Bo(A))throw A;fe(Jp,"Failed to update sequence numbers: "+A)}for(const A of y){const w=A.targetId;if(!A.fromCache){const O=b.vs.get(w),P=O.snapshotVersion,Q=O.withLastLimboFreeSnapshotVersion(P);b.vs=b.vs.insert(w,Q)}}})(s.localStore,c))}async function z4(i,e){const n=Ie(i);if(!n.currentUser.isEqual(e)){fe(sg,"User change. New user:",e.toKey());const s=await Nw(n.localStore,e);n.currentUser=e,(function(c,h){c.mu.forEach((m=>{m.forEach((p=>{p.reject(new he(W.CANCELLED,h))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ic(n,s.Ns)}}function B4(i,e){const n=Ie(i),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const c=n.Iu.get(e);if(!c)return o;for(const h of c){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function Yw(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Hw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=U4.bind(null,e),e.Pu.J_=A4.bind(null,e.eventManager),e.Pu.yu=w4.bind(null,e.eventManager),e}function H4(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=V4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=P4.bind(null,e),e}class Hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ff(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return HM(this.persistence,new jM,e.initialUser,this.serializer)}Cu(e){return new Rw($p.Vi,this.serializer)}Du(e){return new $M}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hh.provider={build:()=>new Hh};class F4 extends Hh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof zh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new wM(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new Rw((s=>zh.Vi(s,n)),this.serializer)}}class hp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Iv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=z4.bind(null,this.syncEngine),await _4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new v4})()}createDatastore(e){const n=ff(e.databaseInfo.databaseId),s=e4(e.databaseInfo);return s4(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,c,h,m){return new o4(s,o,c,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>Iv(this.syncEngine,n,0)),(function(){return vv.v()?new vv:new XM})())}createSyncEngine(e,n){return(function(o,c,h,m,p,y,b){const A=new N4(o,c,h,m,p,y);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const c=Ie(o);fe(ma,"RemoteStore shutting down."),c.Ea.add(5),await Sc(c),c.Aa.shutdown(),c.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}hp.provider={build:()=>new hp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ar("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="FirestoreClient";class q4{constructor(e,n,s,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=Up.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async h=>{fe(ws,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(fe(ws,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new la;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ig(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Um(i,e){i.asyncQueue.verifyOperationInProgress(),fe(ws,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Nw(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function Rv(i,e){i.asyncQueue.verifyOperationInProgress();const n=await Y4(i);fe(ws,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>Tv(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>Tv(e.remoteStore,o))),i._onlineComponents=e}async function Y4(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){fe(ws,"Using user provided OfflineComponentProvider");try{await Um(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;xo("Error using user provided cache. Falling back to memory cache: "+n),await Um(i,new Hh)}}else fe(ws,"Using default OfflineComponentProvider"),await Um(i,new F4(void 0));return i._offlineComponents}async function Kw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(fe(ws,"Using user provided OnlineComponentProvider"),await Rv(i,i._uninitializedComponentsProvider._online)):(fe(ws,"Using default OnlineComponentProvider"),await Rv(i,new hp))),i._onlineComponents}function K4(i){return Kw(i).then((e=>e.syncEngine))}async function Nv(i){const e=await Kw(i),n=e.eventManager;return n.onListen=C4.bind(null,e.syncEngine),n.onUnlisten=M4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=O4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=k4.bind(null,e.syncEngine),n}function Q4(i,e,n,s){const o=new G4(s),c=new S4(e,o,n);return i.asyncQueue.enqueueAndForget((async()=>b4(await Nv(i),c))),()=>{o.Nu(),i.asyncQueue.enqueueAndForget((async()=>T4(await Nv(i),c)))}}function $4(i,e){const n=new la;return i.asyncQueue.enqueueAndForget((async()=>L4(await K4(i),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4="ComponentProvider",Cv=new Map;function J4(i,e,n,s,o){return new mD(i,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,Qw(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="firestore.googleapis.com",Ov=!0;class Dv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$w,this.ssl=Ov}else this.host=e.host,this.ssl=e.ssl??Ov;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<TM)throw new he(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qw(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new K2;switch(s.type){case"firstParty":return new J2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Cv.get(n);s&&(fe(X4,"Removing Datastore"),Cv.delete(n),s.terminate())})(this),Promise.resolve()}}function Z4(i,e,n,s={}){var y;i=gs(i,pf);const o=Lo(e),c=i._getSettings(),h={...c,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(ET(`https://${m}`),vT("Firestore",!0)),c.host!==$w&&c.host!==m&&xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:m,ssl:o,emulatorOptions:s};if(!_s(p,h)&&(i._setSettings(p),s.mockUserToken)){let b,A;if(typeof s.mockUserToken=="string")b=s.mockUserToken,A=nn.MOCK_USER;else{b=Vx(s.mockUserToken,(y=i._app)==null?void 0:y.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new he(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new nn(w)}i._authCredentials=new Q2(new PA(b,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new va(this.firestore,e,this._query)}}class Ut{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Tc(n,Ut._jsonSchema))return new Ut(e,s||null,new ye(rt.fromString(n.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:Lt("string",Ut._jsonSchemaVersion),referencePath:Lt("string")};class ys extends va{constructor(e,n,s){super(e,n,Hp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new ye(e))}withConverter(e){return new ys(this.firestore,e,this._path)}}function ah(i,e,...n){if(i=wt(i),jA("collection","path",e),i instanceof pf){const s=rt.fromString(e,...n);return G0(s),new ys(i,null,s)}{if(!(i instanceof Ut||i instanceof ys))throw new he(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(rt.fromString(e,...n));return G0(s),new ys(i.firestore,null,s)}}function Zl(i,e,...n){if(i=wt(i),arguments.length===1&&(e=Up.newId()),jA("doc","path",e),i instanceof pf){const s=rt.fromString(e,...n);return F0(s),new Ut(i,null,new ye(s))}{if(!(i instanceof Ut||i instanceof ys))throw new he(W.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(rt.fromString(e,...n));return F0(s),new Ut(i.firestore,i instanceof ys?i.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="AsyncQueue";class kv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ow(this,"async_queue_retry"),this._c=()=>{const s=Lm();s&&fe(Mv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Lm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Lm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new la;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Bo(e))throw e;fe(Mv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ar("INTERNAL UNHANDLED ERROR: ",Lv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=ng.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:Lv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Lv(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Mo extends pf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new kv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kv(e),this._firestoreClient=void 0,await e}}}function W4(i,e){const n=typeof i=="object"?i:vp(),s=typeof i=="string"?i:kh,o=ga(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=Lx("firestore");c&&Z4(o,...c)}return o}function Xw(i){if(i._terminated)throw new he(W.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||ek(i),i._firestoreClient}function ek(i){var s,o,c,h;const e=i._freezeSettings(),n=J4(i._databaseId,((s=i._app)==null?void 0:s.options.appId)||"",i._persistenceKey,(o=i._app)==null?void 0:o.options.apiKey,e);i._componentsProvider||(c=e.localCache)!=null&&c._offlineComponentProvider&&((h=e.localCache)!=null&&h._onlineComponentProvider)&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new q4(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(p){const y=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(y),_online:y}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(Zt.fromBase64String(e))}catch(n){throw new he(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xn(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tc(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:Lt("string",Xn._jsonSchemaVersion),bytes:Lt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(e){if(Tc(e,Xi._jsonSchema))return new Xi(e.latitude,e.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:Lt("string",Xi._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:_i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tc(e,_i._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new _i(e.vectorValues);throw new he(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_i._jsonSchemaVersion="firestore/vectorValue/1.0",_i._jsonSchema={type:Lt("string",_i._jsonSchemaVersion),vectorValues:Lt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=/^__.*__$/;class nk{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new xs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ac(e,this.data,n,this.fieldTransforms)}}class Jw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new xs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Zw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{dataSource:i})}}class cg{constructor(e,n,s,o,c,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new cg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Fh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Zw(this.dataSource)&&tk.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class ik{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ff(e)}createContext(e,n,s,o=!1){return new cg({dataSource:e,methodName:n,targetDoc:s,path:Jt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ug(i){const e=i._freezeSettings(),n=ff(i._databaseId);return new ik(i._databaseId,!!e.ignoreUndefinedProperties,n)}function rk(i,e,n,s,o,c={}){const h=i.createContext(c.merge||c.mergeFields?2:0,e,n,o);hg("Data must be an object, but it was:",h,s);const m=Ww(s,h);let p,y;if(c.merge)p=new On(h.fieldMask),y=h.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const w=ko(e,A,n);if(!h.contains(w))throw new he(W.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);nS(b,w)||b.push(w)}p=new On(b),y=h.fieldTransforms.filter((A=>p.covers(A.field)))}else p=null,y=h.fieldTransforms;return new nk(new En(m),p,y)}class gf extends lg{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gf}}function sk(i,e,n,s){const o=i.createContext(1,e,n);hg("Data must be an object, but it was:",o,s);const c=[],h=En.empty();Is(s,((p,y)=>{const b=tS(e,p,n);y=wt(y);const A=o.childContextForFieldPath(b);if(y instanceof gf)c.push(b);else{const w=xc(y,A);w!=null&&(c.push(b),h.set(b,w))}}));const m=new On(c);return new Jw(h,m,o.fieldTransforms)}function ak(i,e,n,s,o,c){const h=i.createContext(1,e,n),m=[ko(e,s,n)],p=[o];if(c.length%2!=0)throw new he(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)m.push(ko(e,c[w])),p.push(c[w+1]);const y=[],b=En.empty();for(let w=m.length-1;w>=0;--w)if(!nS(y,m[w])){const O=m[w];let P=p[w];P=wt(P);const Q=h.childContextForFieldPath(O);if(P instanceof gf)y.push(O);else{const F=xc(P,Q);F!=null&&(y.push(O),b.set(O,F))}}const A=new On(y);return new Jw(b,A,h.fieldTransforms)}function ok(i,e,n,s=!1){return xc(n,i.createContext(s?4:3,e))}function xc(i,e){if(eS(i=wt(i)))return hg("Unsupported field value:",e,i),Ww(i,e);if(i instanceof lg)return(function(s,o){if(!Zw(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const c=[];let h=0;for(const m of s){let p=xc(m,o.childContextForArray(h));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),h++}return{arrayValue:{values:c}}})(i,e)}return(function(s,o){if((s=wt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return zD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ot.fromDate(s);return{timestampValue:jh(o.serializer,c)}}if(s instanceof ot){const c=new ot(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:jh(o.serializer,c)}}if(s instanceof Xi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Xn)return{bytesValue:Ew(o.serializer,s._byteString)};if(s instanceof Ut){const c=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(c))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Kp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof _i)return(function(h,m){const p=h instanceof _i?h.toArray():h;return{mapValue:{fields:{[QA]:{stringValue:$A},[Lh]:{arrayValue:{values:p.map((b=>{if(typeof b!="number")throw m.createError("VectorValues must only contain numeric values.");return Fp(m.serializer,b)}))}}}}}})(s,o);if(Iw(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${nf(s)}`)})(i,e)}function Ww(i,e){const n={};return HA(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Is(i,((s,o)=>{const c=xc(o,e.childContextForField(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function eS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ot||i instanceof Xi||i instanceof Xn||i instanceof Ut||i instanceof lg||i instanceof _i||Iw(i))}function hg(i,e,n){if(!eS(n)||!zA(n)){const s=nf(n);throw s==="an object"?e.createError(i+" a custom object"):e.createError(i+" "+s)}}function ko(i,e,n){if((e=wt(e))instanceof og)return e._internalPath;if(typeof e=="string")return tS(i,e);throw Fh("Field path arguments must be of type string or ",i,!1,void 0,n)}const lk=new RegExp("[~\\*/\\[\\]]");function tS(i,e,n){if(e.search(lk)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new og(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Fh(i,e,n,s,o){const c=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||h)&&(p+=" (found",c&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new he(W.INVALID_ARGUMENT,m+i+p)}function nS(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{convertValue(e,n="none"){switch(Ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Is(e,((o,c)=>{s[o]=this.convertValue(c,n)})),s}convertVectorValue(e){var s,o,c;const n=(c=(o=(s=e.fields)==null?void 0:s[Lh].arrayValue)==null?void 0:o.values)==null?void 0:c.map((h=>At(h.doubleValue)));return new _i(n)}convertGeoPoint(e){return new Xi(At(e.latitude),At(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=af(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(fc(e));default:return null}}convertTimestamp(e){const n=vs(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=rt.fromString(e);Ke(Sw(s),9688,{name:e});const o=new dc(s.get(1),s.get(3)),c=new ye(s.popFirst(5));return o.isEqual(n)||Ar(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS extends ck{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,n)}}const Uv="@firebase/firestore",Vv="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(i,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,n,s,o,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(ko("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uk extends rS{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fg{}class sS extends fg{}function jv(i,e,...n){let s=[];e instanceof fg&&s.push(e),s=s.concat(n),(function(c){const h=c.filter((p=>p instanceof mg)).length,m=c.filter((p=>p instanceof dg)).length;if(h>1||h>0&&m>0)throw new he(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class dg extends sS{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new dg(e,n,s)}_apply(e){const n=this._parse(e);return aS(e._query,n),new va(e.firestore,e.converter,tp(e._query,n))}_parse(e){const n=ug(e.firestore);return(function(c,h,m,p,y,b,A){let w;if(y.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new he(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){Hv(A,b);const P=[];for(const Q of A)P.push(Bv(p,c,Q));w={arrayValue:{values:P}}}else w=Bv(p,c,A)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||Hv(A,b),w=ok(m,h,A,b==="in"||b==="not-in");return kt.create(y,b,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class mg extends fg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new mg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:bi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let h=o;const m=c.getFlattenedFilters();for(const p of m)aS(h,p),h=tp(h,p)})(e._query,n),new va(e.firestore,e.converter,tp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class pg extends sS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new pg(e,n)}_apply(e){const n=(function(o,c,h){if(o.startAt!==null)throw new he(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pc(c,h)})(e._query,this._field,this._direction);return new va(e.firestore,e.converter,DD(e._query,n))}}function zv(i,e="asc"){const n=e,s=ko("orderBy",i);return pg._create(s,n)}function Bv(i,e,n){if(typeof(n=wt(n))=="string"){if(n==="")throw new he(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iw(e)&&n.indexOf("/")!==-1)throw new he(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(rt.fromString(n));if(!ye.isDocumentKey(s))throw new he(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Z0(i,new ye(s))}if(n instanceof Ut)return Z0(i,n._key);throw new he(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nf(n)}.`)}function Hv(i,e){if(!Array.isArray(i)||i.length===0)throw new he(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aS(i,e){const n=(function(o,c){for(const h of o)for(const m of h.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function fk(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class Wl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ca extends rS{constructor(e,n,s,o,c,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ko("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ca._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",ca._jsonSchema={type:Lt("string",ca._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class Th extends ca{data(e={}){return super.data(e)}}class wo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Wl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Th(this._firestore,this._userDataWriter,s.key,s,new Wl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Wl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const p=new Th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Wl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return m.type!==0&&(y=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),b=h.indexOf(m.doc.key)),{type:dk(m.type),doc:p,oldIndex:y,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Up.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dk(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:i})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wo._jsonSchemaVersion="firestore/querySnapshot/1.0",wo._jsonSchema={type:Lt("string",wo._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};function Fv(i,e,n,...s){i=gs(i,Ut);const o=gs(i.firestore,Mo),c=ug(o);let h;return h=typeof(e=wt(e))=="string"||e instanceof og?ak(c,"updateDoc",i._key,e,n,s):sk(c,"updateDoc",i._key,e),gg(o,[h.toMutation(i._key,yi.exists(!0))])}function Gv(i){return gg(gs(i.firestore,Mo),[new Gp(i._key,yi.none())])}function qv(i,e){const n=gs(i.firestore,Mo),s=Zl(i),o=fk(i.converter,e),c=ug(i.firestore);return gg(n,[rk(c,"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,yi.exists(!1))]).then((()=>s))}function Yv(i,...e){var y,b,A;i=wt(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Pv(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Pv(e[s])){const w=e[s];e[s]=(y=w.next)==null?void 0:y.bind(w),e[s+1]=(b=w.error)==null?void 0:b.bind(w),e[s+2]=(A=w.complete)==null?void 0:A.bind(w)}let c,h,m;if(i instanceof Ut)h=gs(i.firestore,Mo),m=Hp(i._key.path),c={next:w=>{e[s]&&e[s](mk(h,i,w))},error:e[s+1],complete:e[s+2]};else{const w=gs(i,va);h=gs(w.firestore,Mo),m=w._query;const O=new iS(h);c={next:P=>{e[s]&&e[s](new wo(h,O,w,P))},error:e[s+1],complete:e[s+2]},hk(i._query)}const p=Xw(h);return Q4(p,m,o,c)}function gg(i,e){const n=Xw(i);return $4(n,e)}function mk(i,e,n){const s=n.docs.get(e._key),o=new iS(i);return new ca(i,o,e._key,s,new Wl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){Y2(Uo),Ji(new Ei("firestore",((s,{instanceIdentifier:o,options:c})=>{const h=s.getProvider("app").getImmediate(),m=new Mo(new $2(s.getProvider("auth-internal")),new Z2(h,s.getProvider("app-check-internal")),pD(h,o),h);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),Jn(Uv,Vv,e),Jn(Uv,Vv,"esm2020")})();const pk={apiKey:"AIzaSyAPC-PciJOrOYTMt9fFLQup1SQ7n31QCro",authDomain:"benim-televizyonum-6791f.firebaseapp.com",projectId:"benim-televizyonum-6791f",storageBucket:"benim-televizyonum-6791f.firebasestorage.app",messagingSenderId:"360775517129",appId:"1:360775517129:web:a9db393cc0bca6058c5e18",measurementId:"G-4XP0D3C927"},yg=xT(pk);B2(yg);const as=W4(yg),_g=bO(yg),gk=({isOpen:i,onClose:e,onLoginSuccess:n})=>{const[s,o]=ce.useState(""),[c,h]=ce.useState(""),[m,p]=ce.useState(""),[y,b]=ce.useState(!1);if(!i)return null;const A=async w=>{w.preventDefault(),b(!0),p("");try{await lC(_g,s,c),n(),e()}catch(O){console.error("Login Error:",O),p("Giri baarsz. Bilgilerinizi kontrol edin.")}finally{b(!1)}};return _.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/90 p-4",children:_.jsxs("div",{className:"w-full max-w-md bg-neutral-900 border-2 border-white p-8 relative shadow-[0_0_20px_rgba(255,255,255,0.2)]",children:[_.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-neutral-500 hover:text-white",children:_.jsx(_r,{size:24})}),_.jsxs("div",{className:"flex flex-col items-center mb-6",children:[_.jsx("div",{className:"bg-neutral-800 p-4 rounded-full mb-4",children:_.jsx(B1,{size:32,className:"text-yellow-400"})}),_.jsx("h2",{className:"text-2xl font-bold text-white uppercase tracking-widest",children:"Ynetici Girii"})]}),m&&_.jsx("div",{className:"bg-red-900/50 border border-red-500 text-red-200 p-3 mb-4 text-center text-sm font-bold",children:m}),_.jsxs("form",{onSubmit:A,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-neutral-400 text-sm font-bold mb-2",children:"E-POSTA"}),_.jsx("input",{type:"email",value:s,onChange:w=>o(w.target.value),className:"w-full bg-black border border-neutral-700 text-white p-3 focus:border-yellow-400 focus:outline-none transition-colors",placeholder:"yonetici@benimtv.com",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-neutral-400 text-sm font-bold mb-2",children:"FRE"}),_.jsx("input",{type:"password",value:c,onChange:w=>h(w.target.value),className:"w-full bg-black border border-neutral-700 text-white p-3 focus:border-yellow-400 focus:outline-none transition-colors",placeholder:"",required:!0})]}),_.jsx("button",{type:"submit",disabled:y,className:"w-full bg-white text-black font-bold py-3 mt-4 hover:bg-yellow-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:y?"GR YAPILIYOR...":"GR YAP"})]})]})})},yk=({post:i,onClick:e})=>_.jsxs("div",{onClick:()=>e(i),className:"group relative bg-neutral-900 border-2 border-white hover:border-yellow-400 transition-all cursor-pointer overflow-hidden flex flex-col h-full",children:[_.jsx("div",{className:"bg-neutral-800 h-2 w-full border-b border-white group-hover:bg-yellow-400 transition-colors"}),_.jsxs("div",{className:"p-6 flex flex-col flex-1",children:[_.jsxs("div",{className:"flex items-center gap-2 text-xs text-neutral-500 font-mono mb-3",children:[_.jsx(jm,{size:14}),_.jsx("span",{children:i.date})]}),_.jsx("h3",{className:"text-xl font-bold text-white mb-3 group-hover:text-yellow-400 transition-colors line-clamp-3 leading-snug",children:i.title}),_.jsx("p",{className:"text-neutral-400 text-sm line-clamp-4 leading-relaxed mb-6 flex-1 font-inter font-normal",children:i.summary}),_.jsxs("div",{className:"flex items-center justify-between mt-auto pt-4 border-t border-neutral-800",children:[_.jsx("span",{className:"text-xs text-neutral-600 font-mono uppercase tracking-widest",children:i.author}),_.jsxs("button",{className:"flex items-center gap-1 text-sm font-bold text-white group-hover:text-yellow-400 transition-colors",children:["OKU ",_.jsx(S1,{size:16})]})]})]}),_.jsx("div",{className:"absolute inset-0 bg-yellow-400/5 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"})]}),_k=({post:i,onClose:e})=>i?_.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center bg-black/95 p-4 overflow-y-auto",children:_.jsxs("div",{className:"relative w-full max-w-3xl bg-neutral-900 border-x-4 border-white shadow-[0_0_30px_rgba(255,255,255,0.1)] my-8",children:[_.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 bg-black text-white p-2 border border-white hover:bg-white hover:text-black transition-colors rounded-full",children:_.jsx(_r,{size:24})}),_.jsxs("div",{className:"bg-neutral-100 text-black p-8 md:p-12 pb-8 border-b-4 border-black",children:[_.jsxs("div",{className:"flex flex-wrap gap-4 text-sm font-bold opacity-60 mb-4 font-mono uppercase",children:[_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(b1,{size:14})," ",i.date]}),_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(Kh,{size:14})," ",i.author]})]}),_.jsx("h1",{className:"text-3xl md:text-5xl font-black leading-tight mb-4 tracking-normal",children:i.title})]}),_.jsxs("div",{className:"p-8 md:p-12 bg-neutral-900 text-neutral-300 text-lg md:text-xl leading-relaxed font-inter font-normal",children:[_.jsx("div",{className:`prose prose-invert prose-lg md:prose-xl max-w-none 
                        prose-headings:font-sans prose-headings:font-bold prose-headings:text-yellow-400
                        prose-p:mb-8 prose-p:leading-loose
                        prose-strong:text-white`,dangerouslySetInnerHTML:{__html:i.content}}),_.jsx("div",{className:"mt-12 pt-8 border-t border-neutral-700 text-center",children:_.jsx("span",{className:"text-4xl text-neutral-600",children:"***"})})]})]})}):null,Kv=[{id:"1",title:"Kt Film zlemek in Hayat ok Ksa Diye Dnenlerin Kesinlikle Karmas Gereken 10 aheser",summary:"Yapay zekann hayatmza koar adm girmesini takiben artk gerek iyiyi de gerek kty de bulmak olduka zorlayor.",content:`
            <p class="mb-4">Yapay zekann hayatmza koar adm girmesini takiben artk gerek iyiyi de gerek kty de bulmak olduka zorlayor. Anlalan o ki, netflixi mumla arayacamz gnler ok yaknmzda sevgili dostlarm.</p>
            
            <p class="mb-4">Her gn nmze tonlarca yapmn dt, tketim lgnl andan tketememe lgnl ana gei yapmamza ramak kalan u gnlerde insan eliyle yaplm kt filmlerden bir derleme yapaym istedim sizlere.</p>

            <p class="mb-6 font-bold text-yellow-400">LSTE HAZIRLANIYOR... (Yaknda eklenecek)</p>
        `,author:"BOLVITAMIN",date:"5 KASIM 2025",readTime:"3 dk"},{id:"2",title:"2015ten 2024e; Annecy Cristal for a Feature Film",summary:"Animasyon dnyasnn en prestijli dllerinden biri olan Annecy Cristal dl kazanan filmlere bir bak.",content:`
            <p class="mb-4">Bundan 1718 sene evvel animasyon konusunda olduka istekli ve itahlydm. O dnem Animasyon Enstits amak iin bir proje yazdm. Grmeler ayarlayp stanbul, zmir ve birka ehrimizin daha belediyelerine ve niversitelerine sunumlar yaptm. Hibirinden hibir ey kmad. Sanrm tek kazancm dnemin dnyaca nl animasyon film ynetmenleri ve emekileri ile yazmak, tanmak ve ileriye dnk szler almak oldu. Neden sonra bilmiyorum bir sre ticari olarak animasyon ile ilgilendikten sonra zerine dnmeyi kestim.</p>
            
            <p class="mb-4">Hatrlyorum, her eyden uzaklap haftalarca kapanp oturup uzun metraj stop motion animasyon film yapmak istei korkun basknd o yllar. Bu fikir ve istek gereklemesi zor olsa da beni hep mutlu etmitir.</p>

            <p class="mb-6">Her neyse, bu uzun girizgahn ardndan esas konumuza dnelim;</p>

            <p class="mb-6 font-bold text-yellow-400">DEVAMI GELECEK...</p>
        `,author:"BOLVITAMIN",date:"31 OCAK 2025",readTime:"2 dk"},{id:"3",title:"zlemenize Lzum Olmayan 17 Film",summary:"anakkalenin plaka kodu 17 olduu iin burada her eyin adnda bir ekilde 17'yi grmek mmkn.",content:`
            <p class="mb-4">Neden mi 17? anakkalenin plaka kodu 17 olduu iin burada her eyin adnda bir ekilde 17'yi grmek mmkn. Yer yer On Yedi, zaman zaman On7, bazen dmdz 17, bazense 10 Yedi eklinde.</p>
            
            <p class="mb-4">Kalelilikte 5. yla girerken orbada tuzum bulunsun istedim ve izlemenize hi gerek olmayan tam 17 filmi listeledim.</p>

            <p class="mb-6 font-bold text-yellow-400">DEVAMI GELECEK...</p>
        `,author:"BOLVITAMIN",date:"16 ARALIK 2024",readTime:"4 dk"},{id:"4",title:"Kann Gvdeyi Gtrd Filmler",summary:"Kan gvdeyi gtryor diye bir deyim var. Kann bolca aktn anlatmakta kullanlyor.",content:`
            <p class="mb-4">Kan gvdeyi gtryor diye bir deyim var. Kann bolca aktn anlatmakta kullanlyor. Anlam bir yana cmleyi kafanzda canlandrdnzda dehet verici bir grnt ile karlayorsunuz.</p>
            
            <p class="mb-4">Kan ylesine ok akyor ki bedenleri bir dere misali alp gtryor. Gerekten manyaka bir yaklam.</p>
            
            <p class="mb-4">Trkiyede yaayanlarn korku - gerilim trnde aradn bulmas, tatmin olmas pek de kolay deil takdir edersiniz ki. Ben yine de son dnemde kann gvdeyi gtrd filmlerden bir demet sunmak istedim sizlere.</p>

            <p class="mb-4">Adam taksici kadnlar karp ikence ediyor. Ihh, grdk, ge. Psikopat bir katil random insan doruyor. Pff, bizde her gn oluyor, skc.</p>

            <p class="mb-4">Ya, alakasz imdi ama yeni bir ey rendim. Jaluzi var ya jaluzi, bildiin ingilizce jealousyden (kskanlk) geliyormu. Yani ben bunu duydum bir yerden -iin dorusu aratrmadm da- ama bana gayet mantkl geldi. Size gelmedi mi?</p>

            <p class="mb-4">Her neyse, konumuza geri dnelim. Son dnemde korku filmi piyasasndaki kpran gznze arpmtr. Benim arpt, oturup pek ounu da izledim.</p>
            
            <p class="mb-4">Bugn pazara giderken ky yolunda en az iki yz kilo bir domuzu ldrp yolun kenarna attklarn grdm. zerinde de bir kartal duruyordu. Bana kalrsa, mslmanlarn israf kampanyalar klliyen hikaye. Ekmeinizi atmayn, israf etmeyin cart curt. 200 kilo et haram diye yol kenarnda rmeyi bekliyor yahu. Neyin israf?</p>

            <p class="mb-4">Arkada, u hayvan vuruyorsunuz bari yiyin yahu yiyin. karn yeni-gncel bir fetva, ecnebiden ithal edilen et daha da gnah, o nedenle domuz artk yenebilir deyin.</p>

            <p class="mb-6">Yazk, gnah ama yine siz bilirsiniz tabii.</p>

            <p class="mb-6 font-bold text-yellow-400">DEVAMI GELECEK...</p>
        `,author:"BOLVITAMIN",date:"9 KASIM 2024",readTime:"5 dk"},{id:"5",title:"zlemediinizde Hibir ey Kaybetmeyeceiniz 10 Film",summary:"Bir eyler izleyeyim, sonunda izlemesem de olurmu diye dneyim diyorsanz ite tam sizlik bir liste.",content:`
            <p class="mb-4">Bir eyler izleyeyim, sonunda izlemesem de olurmu diye dneyim diyorsanz ite tam sizlik bir liste.</p>
            
            <p class="mb-4">Sklmak imdi sizin elinizde!</p>
            
            <p class="mb-4">Uyaryorum, yaz ok youn spoiler ierir. Hatta spoilerdan ziyade direkt filmlerin sonlarn syleyeceim. Spoilern Trke karl datc-bozucu imi. Datacaz yani ortal deerli medyumdalarm.</p>

            <p class="mb-4">Biri u Tdkya doru dzgn bir web sitesi yapsn, Allah rzas in.</p>

            <p class="mb-6 font-bold text-yellow-400">DEVAMI GELECEK...</p>
        `,author:"BOLVITAMIN",date:"25 EKM 2024",readTime:"3 dk"}];var Ek={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Qv;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Qv||(Qv={}));var $v;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})($v||($v={}));var Xv;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(Xv||(Xv={}));var Cn;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(Cn||(Cn={}));var Jv;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Jv||(Jv={}));var Zv;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(Zv||(Zv={}));var Wv;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Wv||(Wv={}));var eb;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(eb||(eb={}));var tb;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(tb||(tb={}));var nb;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(nb||(nb={}));var ib;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(ib||(ib={}));var rb;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(rb||(rb={}));var sb;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(sb||(sb={}));var ab;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(ab||(ab={}));var ob;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(ob||(ob={}));var lb;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(lb||(lb={}));var cb;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(cb||(cb={}));var ub;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ub||(ub={}));var hb;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(hb||(hb={}));var fb;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(fb||(fb={}));var db;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(db||(db={}));var mb;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(mb||(mb={}));var pb;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(pb||(pb={}));var gb;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(gb||(gb={}));var yb;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(yb||(yb={}));var _b;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(_b||(_b={}));var Eb;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Eb||(Eb={}));var vb;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(vb||(vb={}));var bb;(function(i){i.COLLECTION="COLLECTION"})(bb||(bb={}));var Tb;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Tb||(Tb={}));var Ab;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Ab||(Ab={}));var wb;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(wb||(wb={}));var Sb;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Sb||(Sb={}));var Ib;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(Ib||(Ib={}));var xb;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(xb||(xb={}));var Rb;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Rb||(Rb={}));var Nb;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Nb||(Nb={}));var Cb;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Cb||(Cb={}));var Ob;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Ob||(Ob={}));var Db;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Db||(Db={}));var Mb;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Mb||(Mb={}));var kb;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(kb||(kb={}));var Lb;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Lb||(Lb={}));var Ub;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Ub||(Ub={}));var Vb;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Vb||(Vb={}));var Pb;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(Pb||(Pb={}));var jb;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(jb||(jb={}));var zb;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(zb||(zb={}));var Bb;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Bb||(Bb={}));var Hb;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.ACTIVITY_START="ACTIVITY_START",i.ACTIVITY_END="ACTIVITY_END"})(Hb||(Hb={}));var Fb;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Fb||(Fb={}));var Gb;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Gb||(Gb={}));var qb;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(qb||(qb={}));var Yb;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Yb||(Yb={}));var Kb;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Kb||(Kb={}));var Qb;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Qb||(Qb={}));var $b;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})($b||($b={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Xb;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(Xb||(Xb={}));function Gh(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function Jb(i){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&i[e],s=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function dt(i){return this instanceof dt?(this.v=i,this):new dt(i)}function oc(i,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(i,e||[]),o,c=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",h),o[Symbol.asyncIterator]=function(){return this},o;function h(O){return function(P){return Promise.resolve(P).then(O,A)}}function m(O,P){s[O]&&(o[O]=function(Q){return new Promise(function(F,ie){c.push([O,Q,F,ie])>1||p(O,Q)})},P&&(o[O]=P(o[O])))}function p(O,P){try{y(s[O](P))}catch(Q){w(c[0][3],Q)}}function y(O){O.value instanceof dt?Promise.resolve(O.value.v).then(b,A):w(c[0][2],O)}function b(O){p("next",O)}function A(O){p("throw",O)}function w(O,P){O(P),c.shift(),c.length&&p(c[0][0],c[0][1])}}function So(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],n;return e?e.call(i):(i=typeof Jb=="function"?Jb(i):i[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(c){n[c]=i[c]&&function(h){return new Promise(function(m,p){h=i[c](h),o(m,p,h.done,h.value)})}}function o(c,h,m,p){Promise.resolve(p).then(function(y){c({value:y,done:m})},h)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let oS=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return oS=i.randomUUID.bind(i),i.randomUUID();const e=new Uint8Array(1),n=i?()=>i.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^n()&15>>+s/4).toString(16))};const vk=()=>oS();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fp(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const dp=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const e=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(e.stack=i.stack),i.cause&&!e.cause&&(e.cause=i.cause),i.name&&(e.name=i.name),e}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zn extends Error{}class un extends Zn{constructor(e,n,s,o){super(`${un.makeMessage(e,n,s)}`),this.status=e,this.headers=o,this.error=n}static makeMessage(e,n,s){const o=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):s;return e&&o?`${e} ${o}`:e?`${e} status code (no body)`:o||"(no status code or body)"}static generate(e,n,s,o){if(!e||!o)return new yf({message:s,cause:dp(n)});const c=n;return e===400?new cS(e,c,s,o):e===401?new uS(e,c,s,o):e===403?new hS(e,c,s,o):e===404?new fS(e,c,s,o):e===409?new dS(e,c,s,o):e===422?new mS(e,c,s,o):e===429?new pS(e,c,s,o):e>=500?new gS(e,c,s,o):new un(e,c,s,o)}}class mp extends un{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class yf extends un{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class lS extends yf{constructor({message:e}={}){super({message:e??"Request timed out."})}}class cS extends un{}class uS extends un{}class hS extends un{}class fS extends un{}class dS extends un{}class mS extends un{}class pS extends un{}class gS extends un{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bk=/^[a-z][a-z0-9+.-]*:/i,Tk=i=>bk.test(i);let pp=i=>(pp=Array.isArray,pp(i));const Ak=pp;let wk=Ak;const Zb=wk;function Sk(i){if(!i)return!0;for(const e in i)return!1;return!0}function Ik(i,e){return Object.prototype.hasOwnProperty.call(i,e)}const xk=(i,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Zn(`${i} must be an integer`);if(e<0)throw new Zn(`${i} must be a positive integer`);return e},Rk=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Nk=i=>new Promise(e=>setTimeout(e,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const po="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ck(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Ok=()=>{var i,e,n,s,o;const c=Ck();if(c==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":po,"X-Stainless-OS":eT(Deno.build.os),"X-Stainless-Arch":Wb(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":po,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(c==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":po,"X-Stainless-OS":eT((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Wb((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};const h=Dk();return h?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":po,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${h.browser}`,"X-Stainless-Runtime-Version":h.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":po,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Dk(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of i){const s=n.exec(navigator.userAgent);if(s){const o=s[1]||0,c=s[2]||0,h=s[3]||0;return{browser:e,version:`${o}.${c}.${h}`}}}return null}const Wb=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",eT=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let oh;const Mk=()=>oh??(oh=Ok());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kk(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function yS(...i){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...i)}function Lk(i){let e=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return yS({start(){},async pull(n){const{done:s,value:o}=await e.next();s?n.close():n.enqueue(o)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function _S(i){if(i[Symbol.asyncIterator])return i;const e=i.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Uk(i){var e,n;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((n=(e=i[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const s=i.getReader(),o=s.cancel();s.releaseLock(),await o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vk=({headers:i,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ES=()=>{var i;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((i=e==null?void 0:e.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Vm(i,e,n){return ES(),new File(i,e??"unknown_file",n)}function Pk(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const jk=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vS=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",zk=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&vS(i),Bk=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function Hk(i,e,n){if(ES(),i=await i,zk(i))return i instanceof File?i:Vm([await i.arrayBuffer()],i.name);if(Bk(i)){const o=await i.blob();return e||(e=new URL(i.url).pathname.split(/[\\/]/).pop()),Vm(await gp(o),e,n)}const s=await gp(i);if(e||(e=Pk(i)),!(n!=null&&n.type)){const o=s.find(c=>typeof c=="object"&&"type"in c&&c.type);typeof o=="string"&&(n=Object.assign(Object.assign({},n),{type:o}))}return Vm(s,e,n)}async function gp(i){var e,n,s,o,c;let h=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)h.push(i);else if(vS(i))h.push(i instanceof Blob?i:await i.arrayBuffer());else if(jk(i))try{for(var m=!0,p=So(i),y;y=await p.next(),e=y.done,!e;m=!0){o=y.value,m=!1;const b=o;h.push(...await gp(b))}}catch(b){n={error:b}}finally{try{!m&&!e&&(s=p.return)&&await s.call(p)}finally{if(n)throw n.error}}else{const b=(c=i==null?void 0:i.constructor)===null||c===void 0?void 0:c.name;throw new Error(`Unexpected data type: ${typeof i}${b?`; constructor: ${b}`:""}${Fk(i)}`)}return h}function Fk(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bS{constructor(e){this._client=e}}bS._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TS(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const tT=Object.freeze(Object.create(null)),Gk=(i=TS)=>(function(n,...s){if(n.length===1)return n[0];let o=!1;const c=[],h=n.reduce((b,A,w)=>{var O,P,Q;/[?#]/.test(A)&&(o=!0);const F=s[w];let ie=(o?encodeURIComponent:i)(""+F);return w!==s.length&&(F==null||typeof F=="object"&&F.toString===((Q=Object.getPrototypeOf((P=Object.getPrototypeOf((O=F.hasOwnProperty)!==null&&O!==void 0?O:tT))!==null&&P!==void 0?P:tT))===null||Q===void 0?void 0:Q.toString))&&(ie=F+"",c.push({start:b.length+A.length,length:ie.length,error:`Value of type ${Object.prototype.toString.call(F).slice(8,-1)} is not a valid path parameter`})),b+A+(w===s.length?"":ie)},""),m=h.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let y;for(;(y=p.exec(m))!==null;)c.push({start:y.index,length:y[0].length,error:`Value "${y[0]}" can't be safely passed as a path parameter`});if(c.sort((b,A)=>b.start-A.start),c.length>0){let b=0;const A=c.reduce((w,O)=>{const P=" ".repeat(O.start-b),Q="^".repeat(O.length);return b=O.start+O.length,w+P+Q},"");throw new Zn(`Path parameters result in path with invalid segments:
${c.map(w=>w.error).join(`
`)}
${h}
${A}`)}return h}),lh=Gk(TS);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AS extends bS{create(e,n){var s;const{api_version:o=this._client.apiVersion}=e,c=Gh(e,["api_version"]);if("model"in c&&"agent_config"in c)throw new Zn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in c&&"generation_config"in c)throw new Zn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(lh`/${o}/interactions`,Object.assign(Object.assign({body:c},n),{stream:(s=e.stream)!==null&&s!==void 0?s:!1}))}delete(e,n={},s){const{api_version:o=this._client.apiVersion}=n??{};return this._client.delete(lh`/${o}/interactions/${e}`,s)}cancel(e,n={},s){const{api_version:o=this._client.apiVersion}=n??{};return this._client.post(lh`/${o}/interactions/${e}/cancel`,s)}get(e,n={},s){var o;const c=n??{},{api_version:h=this._client.apiVersion}=c,m=Gh(c,["api_version"]);return this._client.get(lh`/${h}/interactions/${e}`,Object.assign(Object.assign({query:m},s),{stream:(o=n==null?void 0:n.stream)!==null&&o!==void 0?o:!1}))}}AS._key=Object.freeze(["interactions"]);class wS extends AS{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qk(i){let e=0;for(const o of i)e+=o.length;const n=new Uint8Array(e);let s=0;for(const o of i)n.set(o,s),s+=o.length;return n}let ch;function Eg(i){let e;return(ch??(e=new globalThis.TextEncoder,ch=e.encode.bind(e)))(i)}let uh;function nT(i){let e;return(uh??(e=new globalThis.TextDecoder,uh=e.decode.bind(e)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _f{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Eg(e):e;this.buffer=qk([this.buffer,n]);const s=[];let o;for(;(o=Yk(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){s.push(nT(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const c=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,h=nT(this.buffer.subarray(0,c));s.push(h),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}_f.NEWLINE_CHARS=new Set([`
`,"\r"]);_f.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Yk(i,e){for(let o=e??0;o<i.length;o++){if(i[o]===10)return{preceding:o,index:o+1,carriage:!1};if(i[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function Kk(i){for(let s=0;s<i.length-1;s++){if(i[s]===10&&i[s+1]===10||i[s]===13&&i[s+1]===13)return s+2;if(i[s]===13&&i[s+1]===10&&s+3<i.length&&i[s+2]===13&&i[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qh={off:0,error:200,warn:300,info:400,debug:500},iT=(i,e,n)=>{if(i){if(Ik(qh,i))return i;ln(n).warn(`${e} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(qh))}`)}};function ec(){}function hh(i,e,n){return!e||qh[i]>qh[n]?ec:e[i].bind(e)}const Qk={error:ec,warn:ec,info:ec,debug:ec};let rT=new WeakMap;function ln(i){var e;const n=i.logger,s=(e=i.logLevel)!==null&&e!==void 0?e:"off";if(!n)return Qk;const o=rT.get(n);if(o&&o[0]===s)return o[1];const c={error:hh("error",n,s),warn:hh("warn",n,s),info:hh("info",n,s),debug:hh("debug",n,s)};return rT.set(n,[s,c]),c}const sa=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yo{constructor(e,n,s){this.iterator=e,this.controller=n,this.client=s}static fromSSEResponse(e,n,s){let o=!1;const c=s?ln(s):console;function h(){return oc(this,arguments,function*(){var p,y,b,A;if(o)throw new Zn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let w=!1;try{try{for(var O=!0,P=So($k(e,n)),Q;Q=yield dt(P.next()),p=Q.done,!p;O=!0){A=Q.value,O=!1;const F=A;if(!w)if(F.data.startsWith("[DONE]")){w=!0;continue}else try{yield yield dt(JSON.parse(F.data))}catch(ie){throw c.error("Could not parse message into JSON:",F.data),c.error("From chunk:",F.raw),ie}}}catch(F){y={error:F}}finally{try{!O&&!p&&(b=P.return)&&(yield dt(b.call(P)))}finally{if(y)throw y.error}}w=!0}catch(F){if(fp(F))return yield dt(void 0);throw F}finally{w||n.abort()}})}return new yo(h,n,s)}static fromReadableStream(e,n,s){let o=!1;function c(){return oc(this,arguments,function*(){var p,y,b,A;const w=new _f,O=_S(e);try{for(var P=!0,Q=So(O),F;F=yield dt(Q.next()),p=F.done,!p;P=!0){A=F.value,P=!1;const ie=A;for(const ee of w.decode(ie))yield yield dt(ee)}}catch(ie){y={error:ie}}finally{try{!P&&!p&&(b=Q.return)&&(yield dt(b.call(Q)))}finally{if(y)throw y.error}}for(const ie of w.flush())yield yield dt(ie)})}function h(){return oc(this,arguments,function*(){var p,y,b,A;if(o)throw new Zn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let w=!1;try{try{for(var O=!0,P=So(c()),Q;Q=yield dt(P.next()),p=Q.done,!p;O=!0){A=Q.value,O=!1;const F=A;w||F&&(yield yield dt(JSON.parse(F)))}}catch(F){y={error:F}}finally{try{!O&&!p&&(b=P.return)&&(yield dt(b.call(P)))}finally{if(y)throw y.error}}w=!0}catch(F){if(fp(F))return yield dt(void 0);throw F}finally{w||n.abort()}})}return new yo(h,n,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],s=this.iterator(),o=c=>({next:()=>{if(c.length===0){const h=s.next();e.push(h),n.push(h)}return c.shift()}});return[new yo(()=>o(e),this.controller,this.client),new yo(()=>o(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return yS({async start(){n=e[Symbol.asyncIterator]()},async pull(s){try{const{value:o,done:c}=await n.next();if(c)return s.close();const h=Eg(JSON.stringify(o)+`
`);s.enqueue(h)}catch(o){s.error(o)}},async cancel(){var s;await((s=n.return)===null||s===void 0?void 0:s.call(n))}})}}function $k(i,e){return oc(this,arguments,function*(){var s,o,c,h;if(!i.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Zn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Zn("Attempted to iterate over a response with no body");const m=new Jk,p=new _f,y=_S(i.body);try{for(var b=!0,A=So(Xk(y)),w;w=yield dt(A.next()),s=w.done,!s;b=!0){h=w.value,b=!1;const O=h;for(const P of p.decode(O)){const Q=m.decode(P);Q&&(yield yield dt(Q))}}}catch(O){o={error:O}}finally{try{!b&&!s&&(c=A.return)&&(yield dt(c.call(A)))}finally{if(o)throw o.error}}for(const O of p.flush()){const P=m.decode(O);P&&(yield yield dt(P))}})}function Xk(i){return oc(this,arguments,function*(){var n,s,o,c;let h=new Uint8Array;try{for(var m=!0,p=So(i),y;y=yield dt(p.next()),n=y.done,!n;m=!0){c=y.value,m=!1;const b=c;if(b==null)continue;const A=b instanceof ArrayBuffer?new Uint8Array(b):typeof b=="string"?Eg(b):b;let w=new Uint8Array(h.length+A.length);w.set(h),w.set(A,h.length),h=w;let O;for(;(O=Kk(h))!==-1;)yield yield dt(h.slice(0,O)),h=h.slice(O)}}catch(b){s={error:b}}finally{try{!m&&!n&&(o=p.return)&&(yield dt(o.call(p)))}finally{if(s)throw s.error}}h.length>0&&(yield yield dt(h))})}class Jk{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const c={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],c}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,s,o]=Zk(e,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}}function Zk(i,e){const n=i.indexOf(e);return n!==-1?[i.substring(0,n),e,i.substring(n+e.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Wk(i,e){const{response:n,requestLogID:s,retryOfRequestLogID:o,startTime:c}=e,h=await(async()=>{var m;if(e.options.stream)return ln(i).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,i):yo.fromSSEResponse(n,e.controller,i);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const p=n.headers.get("content-type"),y=(m=p==null?void 0:p.split(";")[0])===null||m===void 0?void 0:m.trim();return(y==null?void 0:y.includes("application/json"))||(y==null?void 0:y.endsWith("+json"))?await n.json():await n.text()})();return ln(i).debug(`[${s}] response parsed`,sa({retryOfRequestLogID:o,url:n.url,status:n.status,body:h,durationMs:Date.now()-c})),h}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vg extends Promise{constructor(e,n,s=Wk){super(o=>{o(null)}),this.responsePromise=n,this.parseResponse=s,this.client=e}_thenUnwrap(e){return new vg(this.client,this.responsePromise,async(n,s)=>e(await this.parseResponse(n,s),s))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SS=Symbol("brand.privateNullableHeaders");function*eL(i){if(!i)return;if(SS in i){const{values:s,nulls:o}=i;yield*s.entries();for(const c of o)yield[c,null];return}let e=!1,n;i instanceof Headers?n=i.entries():Zb(i)?n=i:(e=!0,n=Object.entries(i??{}));for(let s of n){const o=s[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const c=Zb(s[1])?s[1]:[s[1]];let h=!1;for(const m of c)m!==void 0&&(e&&!h&&(h=!0,yield[o,null]),yield[o,m])}}const Yl=i=>{const e=new Headers,n=new Set;for(const s of i){const o=new Set;for(const[c,h]of eL(s)){const m=c.toLowerCase();o.has(m)||(e.delete(c),o.add(m)),h===null?(e.delete(c),n.add(m)):(e.append(c,h),n.delete(m))}}return{[SS]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pm=i=>{var e,n,s,o,c,h;if(typeof globalThis.process<"u")return(s=(n=(e=Ek)===null||e===void 0?void 0:e[i])===null||n===void 0?void 0:n.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(h=(c=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||c===void 0?void 0:c.call(o,i))===null||h===void 0?void 0:h.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var IS;class Ef{constructor(e){var n,s,o,c,h,m,p,{baseURL:y=Pm("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:b=(n=Pm("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:A="v1beta"}=e,w=Gh(e,["baseURL","apiKey","apiVersion"]);const O=Object.assign(Object.assign({apiKey:b,apiVersion:A},w),{baseURL:y||"https://generativelanguage.googleapis.com"});this.baseURL=O.baseURL,this.timeout=(s=O.timeout)!==null&&s!==void 0?s:Ef.DEFAULT_TIMEOUT,this.logger=(o=O.logger)!==null&&o!==void 0?o:console;const P="warn";this.logLevel=P,this.logLevel=(h=(c=iT(O.logLevel,"ClientOptions.logLevel",this))!==null&&c!==void 0?c:iT(Pm("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&h!==void 0?h:P,this.fetchOptions=O.fetchOptions,this.maxRetries=(m=O.maxRetries)!==null&&m!==void 0?m:2,this.fetch=(p=O.fetch)!==null&&p!==void 0?p:kk(),this.encoder=Vk,this._options=O,this.apiKey=b,this.apiVersion=A,this.clientAdapter=O.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Yl([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Yl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Yl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,s])=>typeof s<"u").map(([n,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(n)}=`;throw new Zn(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${po}`}defaultIdempotencyKey(){return`stainless-node-retry-${vk()}`}makeStatusError(e,n,s,o){return un.generate(e,n,s,o)}buildURL(e,n,s){const o=!this.baseURLOverridden()&&s||this.baseURL,c=Tk(e)?new URL(e):new URL(o+(o.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),h=this.defaultQuery();return Sk(h)||(n=Object.assign(Object.assign({},h),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(c.search=this.stringifyQuery(n)),c.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:s}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,s){return this.request(Promise.resolve(s).then(o=>Object.assign({method:e,path:n},o)))}request(e,n=null){return new vg(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,s){var o,c,h;const m=await e,p=(o=m.maxRetries)!==null&&o!==void 0?o:this.maxRetries;n==null&&(n=p),await this.prepareOptions(m);const{req:y,url:b,timeout:A}=await this.buildRequest(m,{retryCount:p-n});await this.prepareRequest(y,{url:b,options:m});const w="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),O=s===void 0?"":`, retryOf: ${s}`,P=Date.now();if(ln(this).debug(`[${w}] sending request`,sa({retryOfRequestLogID:s,method:m.method,url:b,options:m,headers:y.headers})),!((c=m.signal)===null||c===void 0)&&c.aborted)throw new mp;const Q=new AbortController,F=await this.fetchWithTimeout(b,y,A,Q).catch(dp),ie=Date.now();if(F instanceof globalThis.Error){const $=`retrying, ${n} attempts remaining`;if(!((h=m.signal)===null||h===void 0)&&h.aborted)throw new mp;const le=fp(F)||/timed? ?out/i.test(String(F)+("cause"in F?String(F.cause):""));if(n)return ln(this).info(`[${w}] connection ${le?"timed out":"failed"} - ${$}`),ln(this).debug(`[${w}] connection ${le?"timed out":"failed"} (${$})`,sa({retryOfRequestLogID:s,url:b,durationMs:ie-P,message:F.message})),this.retryRequest(m,n,s??w);throw ln(this).info(`[${w}] connection ${le?"timed out":"failed"} - error; no more retries left`),ln(this).debug(`[${w}] connection ${le?"timed out":"failed"} (error; no more retries left)`,sa({retryOfRequestLogID:s,url:b,durationMs:ie-P,message:F.message})),le?new lS:new yf({cause:F})}const ee=`[${w}${O}] ${y.method} ${b} ${F.ok?"succeeded":"failed"} with status ${F.status} in ${ie-P}ms`;if(!F.ok){const $=await this.shouldRetry(F);if(n&&$){const x=`retrying, ${n} attempts remaining`;return await Uk(F.body),ln(this).info(`${ee} - ${x}`),ln(this).debug(`[${w}] response error (${x})`,sa({retryOfRequestLogID:s,url:F.url,status:F.status,headers:F.headers,durationMs:ie-P})),this.retryRequest(m,n,s??w,F.headers)}const le=$?"error; no more retries left":"error; not retryable";ln(this).info(`${ee} - ${le}`);const ne=await F.text().catch(x=>dp(x).message),_e=Rk(ne),R=_e?void 0:ne;throw ln(this).debug(`[${w}] response error (${le})`,sa({retryOfRequestLogID:s,url:F.url,status:F.status,headers:F.headers,message:R,durationMs:Date.now()-P})),this.makeStatusError(F.status,_e,R,F.headers)}return ln(this).info(ee),ln(this).debug(`[${w}] response start`,sa({retryOfRequestLogID:s,url:F.url,status:F.status,headers:F.headers,durationMs:ie-P})),{response:F,options:m,controller:Q,requestLogID:w,retryOfRequestLogID:s,startTime:P}}async fetchWithTimeout(e,n,s,o){const c=n||{},{signal:h,method:m}=c,p=Gh(c,["signal","method"]);h&&h.addEventListener("abort",()=>o.abort());const y=setTimeout(()=>o.abort(),s),b=globalThis.ReadableStream&&p.body instanceof globalThis.ReadableStream||typeof p.body=="object"&&p.body!==null&&Symbol.asyncIterator in p.body,A=Object.assign(Object.assign(Object.assign({signal:o.signal},b?{duplex:"half"}:{}),{method:"GET"}),p);m&&(A.method=m.toUpperCase());try{return await this.fetch.call(void 0,e,A)}finally{clearTimeout(y)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,s,o){var c;let h;const m=o==null?void 0:o.get("retry-after-ms");if(m){const y=parseFloat(m);Number.isNaN(y)||(h=y)}const p=o==null?void 0:o.get("retry-after");if(p&&!h){const y=parseFloat(p);Number.isNaN(y)?h=Date.parse(p)-Date.now():h=y*1e3}if(!(h&&0<=h&&h<60*1e3)){const y=(c=e.maxRetries)!==null&&c!==void 0?c:this.maxRetries;h=this.calculateDefaultRetryTimeoutMillis(n,y)}return await Nk(h),this.makeRequest(e,n-1,s)}calculateDefaultRetryTimeoutMillis(e,n){const c=n-e,h=Math.min(.5*Math.pow(2,c),8),m=1-Math.random()*.25;return h*m*1e3}async buildRequest(e,{retryCount:n=0}={}){var s,o,c;const h=Object.assign({},e),{method:m,path:p,query:y,defaultBaseURL:b}=h,A=this.buildURL(p,y,b);"timeout"in h&&xk("timeout",h.timeout),h.timeout=(s=h.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:w,body:O}=this.buildBody({options:h}),P=await this.buildHeaders({options:e,method:m,bodyHeaders:w,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:m,headers:P},h.signal&&{signal:h.signal}),globalThis.ReadableStream&&O instanceof globalThis.ReadableStream&&{duplex:"half"}),O&&{body:O}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(c=h.fetchOptions)!==null&&c!==void 0?c:{}),url:A,timeout:h.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:s,retryCount:o}){let c={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),c[this.idempotencyHeader]=e.idempotencyKey);const h=await this.authHeaders(e);let m=Yl([c,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),Mk()),this._options.defaultHeaders,s,e.headers,h]);return this.validateHeaders(m),m.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const s=Yl([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&s.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:Lk(e)}:this.encoder({body:e,headers:s})}}Ef.DEFAULT_TIMEOUT=6e4;class Wt extends Ef{constructor(){super(...arguments),this.interactions=new wS(this)}}IS=Wt;Wt.GeminiNextGenAPIClient=IS;Wt.GeminiNextGenAPIClientError=Zn;Wt.APIError=un;Wt.APIConnectionError=yf;Wt.APIConnectionTimeoutError=lS;Wt.APIUserAbortError=mp;Wt.NotFoundError=fS;Wt.ConflictError=dS;Wt.RateLimitError=pS;Wt.BadRequestError=cS;Wt.AuthenticationError=uS;Wt.InternalServerError=gS;Wt.PermissionDeniedError=hS;Wt.UnprocessableEntityError=mS;Wt.toFile=Hk;Wt.Interactions=wS;const tL=()=>(console.warn("GEMINI_API_KEY is missing. AI features will be disabled."),null),nL=async(i,e=!1)=>{const n=tL();let s={title:i,originalTitle:i,year:"???",genre:["Bilinmiyor"],director:"Bilinmiyor",summary:"Film detaylar alnamad (API Anahtar eksik).",emoji:"",themeColor:"#64748b",imdbUrl:`https://www.imdb.com/find?q=${encodeURIComponent(i)}`};if(!n)return s;try{const o=n.models.generateContent({model:"gemini-2.0-flash",contents:`Find details for the movie "${i}". Return the summary in Turkish. Provide the official IMDb URL.`,config:{responseMimeType:"application/json",responseSchema:{type:Cn.OBJECT,properties:{title:{type:Cn.STRING,description:"Official Turkish title of the movie"},originalTitle:{type:Cn.STRING,description:"Original title of the movie"},year:{type:Cn.STRING,description:"Release year"},genre:{type:Cn.ARRAY,items:{type:Cn.STRING},description:"List of genres (in Turkish)"},director:{type:Cn.STRING,description:"Director name"},summary:{type:Cn.STRING,description:"Short plot summary in Turkish (max 30 words)"},emoji:{type:Cn.STRING,description:"A single emoji best describing the movie"},themeColor:{type:Cn.STRING,description:"A hex color code matching the movie poster mood"},imdbUrl:{type:Cn.STRING,description:"Full URL to the movie's IMDb page"}},required:["title","originalTitle","year","genre","director","summary","emoji","themeColor","imdbUrl"]}}});let c=null;e||(c=n.models.generateContent({model:"gemini-2.0-flash",contents:{parts:[{text:`A high quality, cinematic movie poster for the movie "${i}". The title "${i}" should be prominently displayed and integrated into the poster design. Minimalist, official style, vertical.`}]}}));let h,m=null;if(c){const p=await Promise.allSettled([o,c]);h=p[0],m=p[1]}else h=(await Promise.allSettled([o]))[0];if(h.status==="fulfilled"&&h.value.text)try{s={...s,...JSON.parse(h.value.text)}}catch(p){console.error("Failed to parse metadata JSON",p)}return s}catch(o){return console.error("AI Error:",o),s}},iL=()=>{const[i,e]=ce.useState([]),[n,s]=ce.useState("watched"),[o,c]=ce.useState(!1),[h,m]=ce.useState(!0);ce.useEffect(()=>{const ee=jv(ah(as,"movies"),zv("watchedDate","desc")),$=Yv(ee,le=>{const ne=le.docs.map(_e=>({id:_e.id,..._e.data()}));e(ne),m(!1)});return()=>$()},[]);const[p,y]=ce.useState([]),[b,A]=ce.useState(!1);return ce.useEffect(()=>{const ee=WT(_g,$=>{A(!!$)});return()=>ee()},[]),ce.useEffect(()=>{if(!b){y([]);return}const ee=jv(ah(as,"suggestions"),zv("createdAt","desc")),$=Yv(ee,le=>{const ne=le.docs.map(_e=>({id:_e.id,..._e.data()}));y(ne)},le=>{console.error("Suggestion fetch error (likely permission):",le)});return()=>$()},[b]),{movies:i,activeTab:n,setActiveTab:s,addMovie:async ee=>{c(!0);try{const $=!!ee.manualPosterBase64,le=!!(ee.manualYear&&ee.manualSummary);let ne;ne=await nL(ee.rawTitle,$);const _e={title:ee.rawTitle,originalTitle:ne.originalTitle||ee.rawTitle,year:ee.manualYear||ne.year||"???",genre:ee.manualGenres||ne.genre||["Bilinmiyor"],director:ee.manualDirector||ne.director||"Bilinmiyor",summary:ee.manualSummary||ne.summary||"zet bulunamad.",emoji:ne.emoji||"",themeColor:ne.themeColor||"#64748b",imdbUrl:ee.imdbUrl?ee.imdbUrl:ne.imdbUrl||"",posterBase64:ee.manualPosterBase64||ne.posterBase64||null,status:ee.status,userRating:ee.userRating||null,userReview:ee.userReview||null,watchedDate:ee.status==="watched"?new Date().toISOString():null,createdAt:new Date().toISOString(),isApproved:!1},R=JSON.parse(JSON.stringify(_e));await qv(ah(as,"movies"),R)}catch($){throw console.error("Error adding movie:",$),$}finally{c(!1)}},updateMovieStatus:async(ee,$,le={})=>{try{const ne=Zl(as,"movies",ee),_e=Object.entries(le).reduce((R,[I,x])=>(x!==void 0&&(R[I]=x),R),{});await Fv(ne,{status:$,..._e})}catch(ne){console.error("Error updating movie:",ne)}},approveMovie:async ee=>{try{const $=Zl(as,"movies",ee);await Fv($,{isApproved:!0})}catch($){console.error("Error approving movie:",$)}},deleteMovie:async ee=>{try{await Gv(Zl(as,"movies",ee))}catch($){console.error("Error deleting movie:",$)}},isSubmitting:o,suggestions:p,addSuggestion:async ee=>{c(!0);try{await qv(ah(as,"suggestions"),{...ee,createdAt:new Date().toISOString()})}catch($){throw console.error("Error adding suggestion:",$),$}finally{c(!1)}},deleteSuggestion:async ee=>{try{await Gv(Zl(as,"suggestions",ee))}catch($){console.error("Error deleting suggestion:",$)}},isLoading:h}},rL=i=>{const[e,n]=ce.useState({searchTerm:"",genre:"",year:"",rating:"",director:""}),[s,o]=ce.useState(1),c=30,[h,m]=ce.useState("date_desc"),p=(ee,$)=>{n(le=>({...le,[ee]:$}))},y=()=>{n({searchTerm:"",genre:"",year:"",rating:"",director:""}),m("date_desc")};ce.useEffect(()=>{o(1)},[e,h]);const b=ce.useMemo(()=>{const ee=new Set;return i.forEach($=>$.genre.forEach(le=>ee.add(le))),Array.from(ee).sort()},[i]),A=ce.useMemo(()=>{const ee=new Set;return i.forEach($=>ee.add($.year)),Array.from(ee).sort().reverse()},[i]),w=ce.useMemo(()=>{const ee=new Set;return i.forEach($=>{$.director&&$.director!=="Bilinmiyor"&&$.director.split(",").map(le=>le.trim()).forEach(le=>{le&&ee.add(le)})}),Array.from(ee).sort()},[i]),O=ce.useMemo(()=>i.filter($=>{const le=$.title.toLowerCase().includes(e.searchTerm.toLowerCase())||$.originalTitle.toLowerCase().includes(e.searchTerm.toLowerCase())||$.director.toLowerCase().includes(e.searchTerm.toLowerCase()),ne=e.genre?$.genre.includes(e.genre):!0,_e=e.year?$.year===e.year:!0,R=e.rating!==""?$.userRating===Number(e.rating):!0,I=$.director?$.director.split(",").map(L=>L.trim()):[],x=e.director?I.includes(e.director):!0;return le&&ne&&_e&&R&&x}).sort(($,le)=>{switch(h){case"year_asc":return $.year.localeCompare(le.year);case"year_desc":return le.year.localeCompare($.year);case"title_asc":return $.title.localeCompare(le.title);case"title_desc":return le.title.localeCompare($.title);case"date_asc":return($.createdAt||"").localeCompare(le.createdAt||"");case"date_desc":return(le.createdAt||"").localeCompare($.createdAt||"");default:return 0}}),[i,e,h]),P=Math.ceil(O.length/c),Q=ce.useMemo(()=>{const ee=(s-1)*c;return O.slice(ee,ee+c)},[O,s]);return{filters:e,setFilter:p,resetFilters:y,sortOption:h,setSortOption:m,filteredMovies:O,paginatedMovies:Q,availableGenres:b,availableYears:A,availableDirectors:w,pagination:{currentPage:s,totalPages:P,goToNextPage:()=>o(ee=>Math.min(ee+1,P)),goToPrevPage:()=>o(ee=>Math.max(ee-1,1)),setCurrentPage:o}}};function sL(){const{movies:i,activeTab:e,setActiveTab:n,addMovie:s,isSubmitting:o,deleteMovie:c,updateMovieStatus:h,approveMovie:m,addSuggestion:p,suggestions:y,deleteSuggestion:b,isLoading:A}=iL(),[w,O]=ce.useState("watched"),P=i.filter(ae=>ae.isApproved!==!1),Q=P.filter(ae=>ae.status===e),{filters:F,setFilter:ie,resetFilters:ee,paginatedMovies:$,filteredMovies:le,availableGenres:ne,availableYears:_e,availableDirectors:R,pagination:I,sortOption:x,setSortOption:L}=rL(Q),[D,U]=ce.useState(!1),[N,He]=ce.useState(!1),[ut,H]=ce.useState(!1),[se,pe]=ce.useState(!1),[Ce,Be]=ce.useState(!1),[k,J]=ce.useState(!1),[oe,ue]=ce.useState(null),[Te,Ae]=ce.useState(!1),[Me,ht]=ce.useState(!1),[it,Wn]=ce.useState(null),[Mn,Ai]=ce.useState(null),[vn,kn]=ce.useState(!1),[Rs,ei]=ce.useState(!1);fh.useEffect(()=>{const ae=WT(_g,_t=>{kn(!!_t)});return()=>ae()},[]),fh.useEffect(()=>{const _t=new URLSearchParams(window.location.search).get("blogId");if(_t){const Un=Kv.find(Ta=>Ta.id===_t);Un&&(O("blog"),Ai(Un))}},[]),fh.useEffect(()=>{const ae=new URLSearchParams(window.location.search);if(Mn){if(ae.get("blogId")!==Mn.id){ae.set("blogId",Mn.id);const _t=`${window.location.pathname}?${ae.toString()}`;window.history.pushState({path:_t},"",_t)}}else if(ae.has("blogId")){ae.delete("blogId");const _t=ae.toString()?`${window.location.pathname}?${ae.toString()}`:window.location.pathname;window.history.pushState({path:_t},"",_t)}},[Mn]);const Ln=ae=>{O(ae),ae!=="admin"&&n(ae)},[Sr,ft]=ce.useState(null),[yt,ti]=ce.useState(""),ba=ae=>{ft(ae.id),ti(ae.title),He(!0)},Ns=()=>{o||(He(!1),ft(null),ti(""))},Ft=async ae=>{try{Sr?h(Sr,"watched",{userRating:ae.userRating,userReview:ae.userReview,watchedDate:new Date().toISOString()}):(await s(ae),alert("ISLEM BASARILI. YENI KAYIT ONAY SURECINE ALINDI.")),Ns()}catch{alert("Islem sirasinda bir hata telegrafi olustu.")}},ni=ae=>{const Un=e==="watchlist"?"BU FILMI SILMEK ISTEDIGINIZE EMIN MISINIZ?":"BU KAYDI SILMEK ISTEDIGINIZE EMIN MISINIZ?";window.confirm(Un)&&c(ae)},Ir=()=>{const ae=P.filter(Un=>Un.status==="watched"&&(Un.userRating||0)>=4);if(ae.length===0){alert("ANSINIZ YOKMU! KOLEKSIYONDA 4 VEYA 5 YILDIZLI FILM BULUNAMADI.");return}const _t=Math.floor(Math.random()*ae.length);ue(ae[_t])},xr=ae=>{w==="watched"&&F.director===ae?ie("director",""):(Ln("watched"),ie("searchTerm",""),ie("genre",""),ie("year",""),ie("rating",""),ie("director",ae))};return _.jsxs("div",{className:"min-h-screen pb-24 bg-black text-white font-mono selection:bg-yellow-400 selection:text-black",children:[_.jsx(vx,{activeTab:w,setActiveTab:Ln,onSurpriseMe:Ir,isSearchVisible:D,toggleSearch:()=>U(!D),searchTerm:F.searchTerm,onSearchChange:ae=>ie("searchTerm",ae),onHoroscopeClick:()=>H(!0),onBlogClick:()=>Ln("blog"),onMusicClick:()=>J(!0),onPatreonClick:()=>Be(!0),onAddMovieClick:()=>He(!0),onLoginClick:()=>{vn?Ln(w==="admin"?"watched":"admin"):ei(!0)},onSuggestionClick:()=>ht(!0),onAboutClick:()=>Ae(!0),isAdminLoggedIn:vn}),_.jsx("main",{className:"max-w-[1800px] mx-auto px-4 py-6",children:w==="admin"&&vn?_.jsx(Ax,{movies:i,onApprove:async ae=>await m(ae),onDelete:async ae=>await c(ae),onUpdate:async(ae,_t)=>await h(ae,_t.status,_t),suggestions:y,onDeleteSuggestion:b}):w==="blog"?_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Kv.map(ae=>_.jsx(yk,{post:ae,onClick:Ai},ae.id))}):A?_.jsxs("div",{className:"flex flex-col items-center justify-center h-[50vh] text-center",children:[_.jsx(j1,{className:"w-16 h-16 text-yellow-400 animate-spin mb-4"}),_.jsx("h2",{className:"text-3xl text-white animate-pulse teletext-shadow",children:"BULUT BALANTISI KURULUYOR..."}),_.jsx("p",{className:"text-neutral-500 mt-2 font-mono text-sm tracking-widest",children:"SNYAL ARANIYOR"})]}):_.jsxs(_.Fragment,{children:[Q.length>0&&_.jsx(bx,{activeTab:w,selectedGenre:F.genre,setSelectedGenre:ae=>ie("genre",ae),selectedDirector:F.director,setSelectedDirector:ae=>ie("director",ae),selectedYear:F.year,setSelectedYear:ae=>ie("year",ae),selectedRating:F.rating,setSelectedRating:ae=>ie("rating",ae),availableGenres:ne,availableDirectors:R,availableYears:_e,sortOption:x,setSortOption:L}),Q.length===0?_.jsxs("div",{className:"border-4 border-white border-dashed p-12 text-center bg-neutral-900",children:[_.jsx(cx,{size:64,className:"mx-auto text-neutral-600 mb-4"}),_.jsx("h2",{className:"text-3xl text-yellow-400 mb-2",children:"SINYAL YOK"}),_.jsx("p",{className:"text-xl text-white",children:"LTFEN YEN KAYIT EKLEYNZ..."}),_.jsx("button",{onClick:()=>He(!0),className:"mt-6 bg-yellow-400 text-black px-6 py-2 text-xl font-bold hover:bg-white",children:"[ KAYIT EKLE ]"})]}):le.length===0?_.jsxs("div",{className:"bg-red-900/50 border-2 border-red-600 p-8 text-center",children:[_.jsx("p",{className:"text-2xl text-red-400 blink",children:"ARAMA SONUCU BULUNAMADI"}),_.jsx("button",{onClick:ee,className:"mt-4 text-white underline decoration-2 underline-offset-4 hover:text-yellow-400",children:"FILTRELERI SIFIRLA"})]}):_.jsxs(_.Fragment,{children:[w==="watchlist"?_.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-6",children:$.map(ae=>_.jsx(mx,{movie:ae},ae.id))}):_.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-6",children:$.map(ae=>_.jsx(dx,{movie:ae,onDelete:ni,onMoveToWatched:ba,onDirectorClick:xr,onClick:Wn,className:"h-full"},ae.id))}),I.totalPages>1&&_.jsxs("div",{className:"flex justify-between items-center bg-neutral-900 border-2 border-white p-4 mt-8 font-bold text-xl select-none",children:[_.jsx("button",{onClick:I.goToPrevPage,disabled:I.currentPage===1,className:`transition-colors ${I.currentPage===1?"text-neutral-700 cursor-not-allowed":"text-white hover:text-yellow-400 hover:bg-neutral-800 px-4"}`,children:"< NCEK"}),_.jsxs("div",{className:"text-yellow-400 font-mono text-2xl",children:["SAYFA [ 100-",I.currentPage.toString().padStart(2,"0")," ]"]}),_.jsx("button",{onClick:I.goToNextPage,disabled:I.currentPage===I.totalPages,className:`transition-colors ${I.currentPage===I.totalPages?"text-neutral-700 cursor-not-allowed":"text-white hover:text-yellow-400 hover:bg-neutral-800 px-4"}`,children:"SONRAK >"})]})]})]})}),D&&_.jsxs("div",{className:"fixed bottom-[73px] sm:bottom-[77px] left-0 w-full bg-blue-800 p-2 border-y-2 border-white flex items-center gap-2 z-50 animate-in slide-in-from-bottom duration-200 shadow-[0_-10px_40px_rgba(0,0,0,0.8)]",children:[_.jsx("span",{className:"text-white font-bold whitespace-nowrap px-2",children:"ARAMA >"}),_.jsx("input",{autoFocus:!0,type:"text",value:F.searchTerm,onChange:ae=>ie("searchTerm",ae.target.value.toUpperCase()),placeholder:"FLM VEYA YNETMEN ARA...",className:"w-full bg-black text-yellow-400 p-2 text-xl font-bold border-none outline-none placeholder-neutral-700"}),_.jsx("button",{onClick:()=>U(!1),className:"bg-red-600 text-white px-3 py-1 font-bold hover:bg-red-500 whitespace-nowrap",children:"KAPAT"})]}),_.jsxs("footer",{className:"fixed bottom-0 left-0 w-full bg-black border-t-2 border-white p-2 z-40 hidden md:grid grid-cols-2 gap-2",children:[_.jsxs("button",{onClick:()=>Be(!0),className:"w-full bg-cyan-400 text-black font-bold text-lg sm:text-2xl py-3 border-2 border-transparent hover:border-white hover:bg-cyan-300 transition-colors flex items-center justify-center gap-2",children:[_.jsx(hT,{className:"w-6 h-6 sm:w-8 sm:h-8"}),_.jsx("span",{children:"[ BR FLM ISMARLA ]"})]}),_.jsxs("div",{className:"flex gap-2 w-full",children:[_.jsx("button",{onClick:()=>He(!0),className:"flex-1 bg-yellow-400 text-black font-bold text-lg sm:text-2xl py-3 border-2 border-transparent hover:border-white hover:bg-yellow-300 transition-colors",children:"[ + YEN KAYIT ]"}),_.jsx("button",{onClick:()=>U(!D),className:"bg-neutral-800 text-neutral-500 font-bold text-lg px-4 border-2 border-transparent hover:border-white hover:text-white transition-colors flex items-center justify-center",title:"ARAMA",children:_.jsx(Z1,{className:"w-6 h-6"})}),_.jsx("button",{onClick:()=>{vn?Ln(w==="admin"?"watched":"admin"):ei(!0)},className:`bg-neutral-800 text-neutral-500 font-bold text-lg px-4 border-2 border-transparent hover:border-white hover:text-white transition-colors flex items-center justify-center ${w==="admin"?"bg-red-900/50 text-white border-red-500":""}`,title:vn?"YONETIM PANELI (AKTIF)":"YONETICI GIRISI",children:vn?w==="admin"?"IKI":"ADMN":"GR"}),_.jsx("button",{onClick:()=>Ae(!0),className:"bg-neutral-800 text-neutral-500 font-bold text-lg px-4 border-2 border-transparent hover:border-white hover:text-white transition-colors flex items-center justify-center",children:"?"}),_.jsx("button",{onClick:()=>ht(!0),className:"bg-neutral-800 text-neutral-500 font-bold text-lg px-4 border-2 border-transparent hover:border-white hover:text-white transition-colors flex items-center justify-center",title:"ONERI FORMU",children:"F"})]})]}),_.jsx(fT,{isOpen:N,onClose:Ns,onSubmit:Ft,isSubmitting:o,initialTitle:yt}),_.jsx(gx,{isOpen:ut,onClose:()=>H(!1),movies:P.filter(ae=>ae.status==="watched"&&(ae.userRating||0)>=4)}),_.jsx(yx,{isOpen:se,onClose:()=>pe(!1)}),_.jsx(_x,{isOpen:Ce,onClose:()=>Be(!1)}),_.jsx(Ex,{isOpen:k,onClose:()=>J(!1)}),_.jsx(Tx,{movie:oe,onClose:()=>ue(null),onTryAgain:Ir,onDelete:ni,onMoveToWatched:ba,onDirectorClick:xr}),_.jsx(wx,{isOpen:Te,onClose:()=>Ae(!1),watchedCount:P.filter(ae=>ae.status==="watched").length,watchlistCount:P.filter(ae=>ae.status==="watchlist").length}),_.jsx(Sx,{isOpen:Me,onClose:()=>ht(!1),onSubmit:p,isSubmitting:o}),_.jsx(Ix,{movie:it,onClose:()=>Wn(null),onDelete:ae=>{ni(ae),Wn(null)}}),_.jsx(gk,{isOpen:Rs,onClose:()=>ei(!1),onLoginSuccess:()=>Ln("admin")}),_.jsx(_k,{post:Mn,onClose:()=>Ai(null)})]})}const xS=document.getElementById("root");if(!xS)throw new Error("Could not find root element to mount to");const aL=m1.createRoot(xS);aL.render(_.jsx(fh.StrictMode,{children:_.jsx(sL,{})}));
